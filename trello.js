/*

 Sizzle CSS Selector Engine v1.10.16
 http://sizzlejs.com/

 Copyright 2013 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2014-01-13

 jQuery JavaScript Library v2.1.0
 http://jquery.com/

 Includes Sizzle.js
 http://sizzlejs.com/

 Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2014-01-23T21:10Z

 jQuery UI Core 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/category/ui-core/

 jQuery UI Widget 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/jQuery.widget/

 jQuery UI Mouse 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/mouse/

 Depends:
 jquery.ui.widget.js

 jQuery UI Position 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/

 jQuery UI Draggable 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/draggable/

 Depends:
 jquery.ui.core.js
 jquery.ui.mouse.js
 jquery.ui.widget.js

 jQuery UI Droppable 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/droppable/

 Depends:
 jquery.ui.core.js
 jquery.ui.widget.js
 jquery.ui.mouse.js
 jquery.ui.draggable.js

 jQuery UI Sortable 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/sortable/

 Depends:
 jquery.ui.core.js
 jquery.ui.mouse.js
 jquery.ui.widget.js

 jQuery UI Datepicker 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/datepicker/

 Depends:
 jquery.ui.core.js
 Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 Licensed under the MIT License (LICENSE.txt).

 Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 Thanks to: Seamus Leahy for adding deltaX and deltaY

 Version: 3.0.6

 Requires: 1.2.2+
: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 @website: http://www.datejs.com/

  Copyright 2011 Twitter, Inc.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Trello modification note: we have modified this version of the Hogan library
  to treat the empty string as False for the purposes of section rendering.
  See https://github.com/twitter/hogan.js/issues/search?q=48 for the issue and
  patch.


 This application uses other third-party javascript components
 distributed under appropriate licenses. For more information,
 see the following:
      backbone.js   http://backbonejs.org/
      json2.js      https://github.com/douglascrockford/JSON-js
      markdown.js   https://github.com/evilstreak/markdown-js
      socket.io.js  http://socket.io/
      underscore.js http://underscorejs.org/
*/
(function() {
    var Vc, Wc, Xc;
    window.clientVersion = {
        head: "collapse",
        version: "33",
        patch: 0
    };
    window.require = null;
    window.attachmentsDomain = "https://trello-attachments.s3.amazonaws.com";
    window.avatarDomain = "https://trello-avatars.s3.amazonaws.com";
    window.backgroundDomain = "https://trello-backgrounds.s3.amazonaws.com";
    window.logoDomain = "https://trello-logos.s3.amazonaws.com";
    window.siteDomain = location.origin || /^[^/]+?[/]{2}[^/]+/.exec(location.href)[0];
    window.googleDrive = {
        publicAPIKey: "AIzaSyDcHmdn94AmewycScWCBNeAMz0nbT8HQ_c",
        clientId: "908467292589.apps.googleusercontent.com"
    };
    var v = {
        action: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("member", c, b, 1), c, b, 0, 11, 77, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="creator member js-show-mem-menu"> ');
                f.b(f.rp("member", b, d, ""));
                f.b(" </div> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("member", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <div class="creator member member-no-menu"><span class="member-initials quiet">?</span></div> ');
            this.b(' <div class="phenom-desc" ');
            this.s(this.f("type",
                c, b, 1), c, b, 0, 241, 262, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('actionType="');
                f.b(f.v(f.f("type", b, d, 0)));
                f.b('"')
            }), c.pop());
            this.b("> ");
            this.s(this.f("member", c, b, 1), c, b, 0, 284, 357, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<a class="inline-object js-show-mem-menu" href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('">');
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b("</a>")
            }), c.pop());
            this.b(" ");
            this.s(this.f("member", c, b, 1), c, b, 1, 0, 0, "") || this.b('<span class="quiet">[deleted account]</span>');
            this.b(" ");
            this.s(this.f("entities",
                c, b, 1), c, b, 0, 449, 462, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.rp("entity", b, d, ""));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("hasMoreThanOneChild", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("children", c, b, 1), c, b, 0, 514, 553, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("entities", b, d, 1), b, d, 0, 528, 539, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(e.rp("entity", b, d, ""))
                }), b.pop());
                f.b(" ")
            }), c.pop()), this.b(" "));
            this.b(" ");
            this.s(this.f("hasMoreThanOneChild", c, b, 1), c, b, 0,
                616, 703, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <ul> ");
                f.s(f.f("children", b, d, 1), b, d, 0, 635, 683, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" <li>");
                    e.s(e.f("entities", b, d, 1), b, d, 0, 653, 664, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(e.rp("entity", b, d, ""))
                    }), b.pop());
                    e.b("</li> ")
                }), b.pop());
                f.b(" </ul> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("useEmbedly", c, b, 1), c, b, 0, 743, 788, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="hide embedly js-embedly"></div> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("usePreviews",
                c, b, 1), c, b, 0, 820, 867, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="hide previews js-previews"></div> ')
            }), c.pop());
            this.b(' </div> <p class="phenom-meta quiet"> ');
            this.s(this.f("saved", c, b, 1), c, b, 0, 931, 984, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="date js-hide-on-sending" dt="');
                f.b(f.v(f.f("date", b, d, 0)));
                f.b('"/>')
            }), c.pop());
            this.b(" ");
            this.s(this.f("dateLastEdited", c, b, 1), c, b, 0, 1014, 1108, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="js-hide-on-sending"> - edited <span class="date" dt="');
                f.b(f.v(f.f("dateLastEdited", b, d, 0)));
                f.b('"/></span>')
            }), c.pop());
            this.b(' <span class="js-spinner');
            this.s(this.f("saved", c, b, 1), c, b, 0, 1161, 1166, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" hide")
            }), c.pop());
            this.b('"><span class="spinner small left" style="margin-right: 4px;"/> Sending\u2026</span> ');
            this.s(this.f("board", c, b, 1), c, b, 0, 1266, 1407, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' - on board <a class="bold" href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('">');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('</a> <span title="');
                f.b(f.v(f.f("boardPLevelAltText", b, d, 0)));
                f.b('" class="icon-sm icon-');
                f.b(f.v(f.f("boardPLevelIconClass", b, d, 0)));
                f.b('"/> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("organization", c, b, 1), c, b, 0, 1435, 1579, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' - on organization <a class="bold" href="');
                    f.b(f.v(f.f("url", b, d, 0)));
                    f.b('">');
                    f.b(f.v(f.f("name", b, d, 0)));
                    f.b('</a> <span title="');
                    f.b(f.v(f.f("orgPLevelAltText", b, d, 0)));
                    f.b('" class="icon-sm icon-');
                    f.b(f.v(f.f("orgPLevelIconClass", b, d, 0)));
                    f.b('"/> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("showOptions", c, b, 1), c, b, 0, 1613, 2E3, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="js-hide-on-sending"> ');
                f.s(f.f("canReply", b, d, 1), b, d, 0, 1661, 1713, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' - <a href="#" class="js-reply-to-action">Reply</a> ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("canEdit", b, d, 1), b, d, 0, 1739, 1786, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' - <a href="#" class="js-edit-action">Edit</a> ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("canDelete", b, d, 1), b, d, 0, 1813,
                    1872, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' - <a href="#" class="js-confirm-delete-action">Delete</a> ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("canPromoteToCard", b, d, 1), b, d, 0, 1908, 1970, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' - <a href="#" class="js-promote-to-card">Promote to Card</a> ')
                }), b.pop());
                f.b(" </span> ")
            }), c.pop());
            this.b(" </p> ");
            return this.fl()
        },
        actions_empty: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="empty-list">No actions');
            this.s(this.f("daysBack", c, b, 1), c, b, 0, 45, 76, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(" in the last ");
                    f.b(f.v(f.f("daysBack", b, d, 0)));
                    f.b(" days ")
                }), c.pop());
            this.b("</p> ");
            return this.fl()
        },
        ad_business_class: function(c, b, d) {
            this.b(d || "");
            this.b('<span class="title"> Trello Business Class </span> <span class="pitchlet">Add features to supercharge your organization.</span> <span class="features">Google Apps Integration \u00b7 Bulk Export \u00b7 Read-only Observers</span> <span class="learn-more"><a href="#">Learn More\u2026</a></span> ');
            return this.fl()
        },
        ad_business_class_google_apps: function(c, b, d) {
            this.b(d || "");
            this.b('<span class="title"> Using Google Apps? </span> <span class="learn-more"><a href="#">Learn about Business Class\u2026</a></span> ');
            return this.fl()
        },
        ad_business_class_manage_any_board: function(c, b, d) {
            this.b(d || "");
            this.b('<span class="title"> Want to manage all ');
            this.b(this.v(this.d("organization.displayName", c, b, 0)));
            this.b(' boards? </span> <span class="learn-more"><a href="#">Learn about Business Class\u2026</a></span> ');
            return this.fl()
        },
        ad_business_class_observers: function(c, b, d) {
            this.b(d || "");
            this.b('<span class="title"> Want to add observers? </span> <span class="learn-more"><a href="#">Learn about Business Class\u2026</a></span> ');
            return this.fl()
        },
        "admin/channelAccess.entry": function(c, b, d) {
            this.b(d = d || "");
            this.b("<td>");
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b("</td> <td>");
            this.b(this.v(this.f("email", c, b, 0)));
            this.b("</td> <td>");
            this.b(this.v(this.d("channels.active", c, b, 0)));
            this.b("</td> <td> ");
            this.s(this.d("channels.allowed",
                c, b, 1), c, b, 0, 96, 205, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <div class='allowance' data-key='");
                f.b(f.v(f.d(".", b, d, 0)));
                f.b("'> ");
                f.b(f.v(f.d(".", b, d, 0)));
                f.b(" <div class='close js-remove-allowance'>&#10006;</div> </div> ")
            }), c.pop());
            this.b(" <div class='allowance new-allowance'> <input type='text' class='js-input-allowance' placeholder='add permission'> <div class='add js-add-allowance'>+</div> </div> </td> ");
            return this.fl()
        },
        "admin/manage.entry": function(c, b, d) {
            this.b(d = d || "");
            this.b("<td>");
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b("</td> <td>");
            this.b(this.v(this.f("email", c, b, 0)));
            this.b("</td> <td> ");
            this.s(this.f("allow", c, b, 1), c, b, 0, 56, 165, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <div class='allowance' data-key='");
                f.b(f.v(f.d(".", b, d, 0)));
                f.b("'> ");
                f.b(f.v(f.d(".", b, d, 0)));
                f.b(" <div class='close js-remove-allowance'>&#10006;</div> </div> ")
            }), c.pop());
            this.b(" <div class='allowance new-allowance'> <input type='text' class='js-input-allowance' placeholder='add permission'> <div class='add js-add-allowance'>+</div> </div> </td> ");
            return this.fl()
        },
        "admin/release.channel": function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="channel"> <h3>');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b("</h3> <table> <tr> ");
            this.s(this.f("editable", c, b, 1), c, b, 0, 66, 77, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <th></th> ")
            }), c.pop());
            this.b(" <th>Head</th> <th>Version (max)</th> <th>Percent</th> ");
            this.s(this.f("editable", c, b, 1), c, b, 0, 158, 169, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <th></th> ")
            }), c.pop());
            this.b(" </tr> ");
            this.s(this.f("editable",
                c, b, 1), c, b, 0, 202, 486, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("message", b, d, 1), b, d, 0, 215, 307, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <tr> <td colspan="5" align="center" class="message ');
                    e.b(e.v(e.f("className", b, d, 0)));
                    e.b('"> ');
                    e.b(e.v(e.f("message", b, d, 0)));
                    e.b(" </td> </tr> ")
                }), b.pop());
                f.b(' <tr> <td colspan="5" align="center"> <input type="button" class="js-add-head" value="Add" /> <input type="button" class="js-save-channel" value="Save" /> </td> </tr> ')
            }), c.pop());
            this.b(" </table> </div> <hr> ");
            return this.fl()
        },
        "admin/release.deployment": function(c, b, d) {
            this.b(d || "");
            this.b(this.v(this.f("head", c, b, 0)));
            this.b("-");
            this.b(this.v(this.f("version", c, b, 0)));
            this.b(".");
            this.b(this.v(this.f("patch", c, b, 0)));
            this.b(" ");
            return this.fl()
        },
        "admin/release.deploymentList": function(c, b, d) {
            this.b(d || "");
            this.b("<label>");
            this.b(this.v(this.f("head", c, b, 0)));
            this.b("</label> <ul></ul> ");
            return this.fl()
        },
        "admin/release.head": function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("editable", c, b, 1), c, b, 0, 13,
                135, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <td> <a href="#" class="js-move-up change-head">&uarr;</a> <a href="#" class="js-move-down change-head">&darr;</a> </td> ')
            }), c.pop());
            this.b(" <td> ");
            this.s(this.f("editable", c, b, 1), c, b, 0, 167, 219, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <input name="name" type="text" value="');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('" /> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("editable", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.b(this.v(this.f("name", c, b, 0))), this.b(" "));
            this.b(" </td> <td> ");
            this.s(this.f("editable", c, b, 1), c, b, 0, 294, 361, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <input name="version" size="5" type="text" value="');
                f.b(f.v(f.f("version", b, d, 0)));
                f.b('" /> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("editable", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.b(this.v(this.f("version", c, b, 0))), this.b(" "));
            this.b(" </td> <td> ");
            this.s(this.f("editable", c, b, 1), c, b, 0, 439, 506, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <input name="percent" size="5" type="text" value="');
                f.b(f.v(f.f("percent", b, d, 0)));
                f.b('" /> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("editable", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.b(this.v(this.f("percent", c, b, 0))), this.b(" "));
            this.b(" </td> ");
            this.s(this.f("editable", c, b, 1), c, b, 0, 579, 645, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <td> <a href="#" class="js-remove change-head">&times;</a> </td> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        announcement: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="announcement');
            this.s(this.f("type", c,
                b, 1), c, b, 0, 33, 55, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" announcement-");
                f.b(f.v(f.f("type", b, d, 0)))
            }), c.pop());
            this.b('"> <h3 class="announcement-header"> ');
            this.s(this.f("url", c, b, 1), c, b, 0, 108, 188, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<a class="announcement-header-link" target="_blank" href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('">');
                f.b(f.v(f.f("title", b, d, 0)));
                f.b("</a>")
            }), c.pop());
            this.b(" ");
            this.s(this.f("url", c, b, 1), c, b, 1, 0, 0, "") || this.b(this.v(this.f("title", c, b, 0)));
            this.b(" </h3> <p>");
            this.b(this.t(this.f("html", c, b, 0)));
            this.b("</p> ");
            this.s(this.f("url", c, b, 1), c, b, 0, 255, 328, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="quiet"> <a href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" target="_blank">Read more\u2026</a> </p> ')
            }), c.pop());
            this.b(" </div> ");
            return this.fl()
        },
        archive_dropzone_dropped: function(c, b, d) {
            this.b(d || "");
            this.b('<p> The card has been archived. <a href="#" style="margin-left: 8px;" class="js-open-archive">View archive?</a> <a href="#" style="margin-left: 8px;" class="js-close-dropzone">Close.</a> </p> ');
            return this.fl()
        },
        archive_dropzone_text: function(c, b, d) {
            this.b(d || "");
            this.b(' <div class="bottom-archive-dropzone js-bottom-archive-dropzone"><p>Drop here to archive card.</p></div> ');
            return this.fl()
        },
        archive_item: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="item-name"> ');
            this.s(this.f("url", c, b, 1), c, b, 0, 30, 62, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('">');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b("</a> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("url", c,
                b, 1), c, b, 1, 0, 0, "") || (this.b(" <span>"), this.b(this.v(this.f("name", c, b, 0))), this.b("</span> "));
            this.b(" </p> ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 125, 382, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="options"> <a href="#" class="button-link js-reopen"> <span class="icon-sm icon-reopen"/> ');
                f.b(f.v(f.f("reOpenText", b, d, 0)));
                f.b(" </a> ");
                f.s(f.f("canDelete", b, d, 1), b, d, 0, 261, 360, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <a href="#" class="button-link negate js-delete"> <span class="icon-sm icon-remove"/> Delete </a> ')
                    }),
                    b.pop());
                f.b(" </div> ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        archive_items: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("empty", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <div class="clearfix"> '), this.s(this.f("section_lists", c, b, 1), c, b, 0, 52, 101, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <ul class="archive-list js-archive-items"></ul> ')
            }), c.pop()), this.b(" "), this.s(this.f("section_cards", c, b, 1), c, b, 0, 138, 212, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="js-archive-items');
                f.s(f.f("__ed",
                    b, d, 1), b, d, 0, 176, 194, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" js-archived-cards")
                }), b.pop());
                f.b('"></div> ')
            }), c.pop()), this.b(" </div> "));
            this.b(" ");
            this.s(this.f("loading", c, b, 1), c, b, 0, 261, 298, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="spinner loading"></div> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("empty", c, b, 1), c, b, 0, 321, 365, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="empty-list">');
                f.b(f.v(f.f("emptyMessage", b, d, 0)));
                f.b("</p> ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        archived_card_options: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 9, 181, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="quiet" style="margin-left: 8px;"> <a href="#" class="js-reopen">');
                f.b(f.v(f.f("reOpenText", b, d, 0)));
                f.b("</a> ");
                f.s(f.f("canDelete", b, d, 1), b, d, 0, 117, 161, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' - <a href="#" class="js-delete">Delete</a> ')
                }), b.pop());
                f.b(" </p> ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        atMention: function(c, b, d) {
            this.b(d = d || "");
            this.b('<span class="atMention');
            this.s(this.f("isMe", c, b, 1), c, b, 0, 31, 34, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" me")
            }), c.pop());
            this.b('" title="');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("atMention", c, b, 0)));
            this.b("</span> ");
            return this.fl()
        },
        attachment_detail: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-attachment"/> <div class="window-title"> <h2 class="window-title-text">');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('</h2> </div> </div> <div class="window-main-col"> <div class="window-module gutter clearfix"> ');
            this.s(this.f("date", c, b, 1), c, b, 0, 264, 310, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="date quiet" dt="');
                f.b(f.v(f.f("date", b, d, 0)));
                f.b('"></span>')
            }), c.pop());
            this.b(" ");
            this.s(this.f("size", c, b, 1), c, b, 0, 329, 367, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="quiet"> - ');
                f.b(f.v(f.f("size", b, d, 0)));
                f.b("</span>")
            }), c.pop());
            this.b(" ");
            this.s(this.f("__ed", c, b, 1), c, b,
                0, 386, 669, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="block quiet"> ');
                f.s(f.f("isImage", b, d, 1), b, d, 0, 426, 496, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b('<a href="#" class="inline-block quiet js-make-cover">Make Cover</a> - ')
                }), b.pop());
                f.b(' <a href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" class="inline-block quiet" target="_blank">View Original</a> - <a href="#" class="inline-block quiet js-delete-attachment">Delete</a> </span> ')
            }), c.pop());
            this.b(' </div> <div class="window-module center clearfix" style="margin: 16px 0 0;"> <img src="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('"> </div> </div> ');
            return this.fl()
        },
        attachment_thumb: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('" class="attachment-thumbnail-preview ');
            this.s(this.f("canUseViewer", c, b, 1), c, b, 0, 71, 86, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-open-viewer")
            }), c.pop());
            this.b(" ");
            this.s(this.f("isCover", c, b, 1), c, b, 0, 116, 154, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" attachment-thumbnail-preview-is-cover")
                }),
                c.pop());
            this.b('" target="_blank" title="');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('" ');
            this.s(this.f("imgSrc", c, b, 1), c, b, 0, 212, 256, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" style=\"background-image:url('");
                f.b(f.v(f.f("imgSrc", b, d, 0)));
                f.b("');\"")
            }), c.pop());
            this.b(" ");
            this.s(this.f("edgeColor", c, b, 1), c, b, 0, 282, 322, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' style="background-color:');
                f.b(f.v(f.f("edgeColor", b, d, 0)));
                f.b(';"')
            }), c.pop());
            this.b("> ");
            this.s(this.f("isKnownService", c,
                b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("ext", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("isImage", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("isKnownService", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <span class="icon-lg icon-attachment attachment-thumbnail-preview-attachment-icon"></span> '), this.b(" ")), this.b(" ")), this.b(" "), this.s(this.f("ext", c, b, 1), c, b, 0, 541, 604, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="attachment-thumbnail-preview-ext">');
                f.b(f.v(f.f("ext", b, d, 0)));
                f.b("</span> ")
            }), c.pop()), this.b(" "));
            this.b(" ");
            this.s(this.f("isKnownService", c, b, 1), c, b, 0, 652, 734, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="attachment-thumbnail-preview-service-logo ');
                f.b(f.v(f.f("previewClass", b, d, 0)));
                f.b('"></span> ')
            }), c.pop());
            this.b(' </a> <p class="attachment-thumbnail-details ');
            this.s(this.f("canUseViewer", c, b, 1), c, b, 0, 815, 830, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-open-viewer")
            }), c.pop());
            this.b('"> <a href="');
            this.b(this.v(this.f("url",
                c, b, 0)));
            this.b('" class="attachment-thumbnail-details-title js-attachment-thumbnail-details " ');
            this.s(this.f("idName", c, b, 1), c, b, 0, 955, 971, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' id="');
                f.b(f.v(f.f("idName", b, d, 0)));
                f.b('"')
            }), c.pop());
            this.b(' title="');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('" target="_blank"> ');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b(" ");
            this.s(this.f("date", c, b, 1), c, b, 0, 1035, 1114, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="block quiet">Added <span class="date" dt="');
                f.b(f.v(f.f("date", b, d, 0)));
                f.b('"></span></span>')
            }), c.pop());
            this.b(" ");
            this.s(this.f("source", c, b, 1), c, b, 0, 1135, 1159, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <span>");
                f.b(f.v(f.f("source", b, d, 0)));
                f.b("</span>")
            }), c.pop());
            this.b(' </a> <span class="quiet attachment-thumbnail-details-options"> <a class="attachment-thumbnail-details-options-item dark-hover');
            this.s(this.f("doDownload", c, b, 1), c, b, 0, 1311, 1323, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-download")
            }), c.pop());
            this.b('" href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('" target="_blank" ');
            this.s(this.f("doDownload", c, b, 1), c, b, 0, 1386, 1405, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('download="');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('"')
            }), c.pop());
            this.b(' > <span class="icon-sm icon-');
            this.b(this.v(this.f("openIconClass", c, b, 0)));
            this.b('"></span> <span class="attachment-thumbnail-details-options-item-text">');
            this.b(this.v(this.f("openText", c, b, 0)));
            this.b("</span> </a> ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 1571, 2274, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                        f.b(' <a href="#" class="attachment-thumbnail-details-options-item dark-hover hide js-make-cover"> <span class="icon-sm icon-cover"></span> <span class="attachment-thumbnail-details-options-item-text">Make Cover</span> </a> <a href="#" class="attachment-thumbnail-details-options-item dark-hover hide js-remove-cover"> <span class="icon-sm icon-cover"></span> <span class="attachment-thumbnail-details-options-item-text">Remove Cover</span> </a> <a href="#" class="attachment-thumbnail-details-options-item attachment-thumbnail-details-options-item-delete dark-hover js-confirm-delete"> <span class="icon-sm icon-close"></span> <span class="attachment-thumbnail-details-options-item-text">Delete</span> </a> ')
                    }),
                    c.pop());
            this.b(" </span> </p> ");
            return this.fl()
        },
        attachment_thumb_processing: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="attachment-thumbnail attachment-thumbnail-processing js-attachment-thumb-processing"> <span class="spinner small"></span> Processing\u2026 </div> ');
            return this.fl()
        },
        attachment_type_picker: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="error js-file-too-large" style="margin: 12px 0 6px; display:none;"> ');
            this.s(this.f("hasLargeAttachments", c, b, 1), c, b, 0, 104, 145, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(" That file size exceeds the 250MB limit. ")
                }), c.pop());
            this.b(" ");
            this.s(this.f("hasLargeAttachments", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <div class="gold-promo"> That file size exceeds the 10MB limit, but if you upgrade to <span class="icon-sm icon-crown icon-color"></span> <a class="js-gold-promo" target="_blank" href="/gold">Trello Gold</a>, you can upload files up to 250MB! </div> ');
            this.b(' </div> <ul class="pop-over-list"> <li class="uploader"> <a class="js-trello-attachment fakefile js-fakefile" href="#">Computer</a> <form class="realfile" action="/1/card/');
            this.b(this.v(this.f("id", c, b, 0)));
            this.b('/attachments" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <input type="file" name="file" class="js-attach-file" tabindex="-1" multiple=""/> </form> </li> <li> <a class="js-google-drive-attachment ');
            this.s(this.f("googleDriveReady", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" href="#">Google Drive</a> </li> <li> <a class="js-dropbox-attachment" href="#">Dropbox</a> </li> <li> <a class="js-box-attachment" href="#">Box</a> </li> <li> <a class="js-one-drive-attachment" href="#">OneDrive</a> </li> </ul> <hr> <label for="addLink">Attach a link</label> <input type="text" id="addLink" class="attachment-add-link-input js-attachment-url" placeholder="Paste any link here\u2026"> <input type="submit" class="attachment-add-link-submit js-add-attachment-url" value="Add"> <hr> <p class="quiet bottom"> Tip: You can drag and drop files and links onto cards to upload them. </p> ');
            return this.fl()
        },
        attachment_viewer: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="attachment-viewer-header js-close-viewer"> <span class="icon-lg icon-close attachment-viewer-header-close-icon"></span> </div> <div class="attachment-viewer-underlay js-close-viewer"></div> <div class="attachment-viewer-frames js-frames"></div> <div class="attachment-viewer-overlay"> <div class="attachment-viewer-frame-details js-display-frame-details"></div> </div> <a class="attachment-viewer-next-frame-btn js-show-next-frame"> <span class="icon-lg icon-rightarrow light attachment-viewer-next-frame-btn-icon"></span> </a> <a class="attachment-viewer-prev-frame-btn js-show-prev-frame"> <span class="icon-lg icon-leftarrow light attachment-viewer-prev-frame-btn-icon"></span> </a> ');
            return this.fl()
        },
        attachment_viewer_frame: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="attachment-viewer-frame js-close-viewer ');
            this.b(this.v(this.f("directionClass", c, b, 0)));
            this.b('" data-idAttachment="');
            this.b(this.v(this.f("id", c, b, 0)));
            this.b('"> <div class="attachment-viewer-frame-preview-wrapper"> <div class="attachment-viewer-frame-preview');
            this.s(this.f("isImage", c, b, 1), c, b, 0, 209, 255, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" attachment-viewer-frame-preview-image-wrapper")
                }),
                c.pop());
            this.b('"> ');
            this.s(this.f("isImage", c, b, 1), c, b, 0, 282, 372, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <img class="attachment-viewer-frame-preview-image js-stop" src="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" alt="');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('"> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isAudio", c, b, 1), c, b, 0, 397, 538, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <audio controls name="');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('" class="attachment-viewer-frame-preview-audio js-stop"> <source src="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" type="audio/');
                f.b(f.v(f.f("ext", b, d, 0)));
                f.b('"> </audio> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isVideo", c, b, 1), c, b, 0, 563, 674, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <video controls name="');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('" src="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" class="attachment-viewer-frame-preview-video js-stop"> </video> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isIFrameable", c, b, 1), c, b, 0, 704, 792, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <iframe class="attachment-viewer-frame-preview-iframe js-stop" src="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('"></iframe> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isPlaceholder", c, b, 1), c, b, 0, 828, 1049, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="attachment-viewer-frame-preview-placeholder"> There is no preview available for this attachment. <a href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" class="attachment-viewer-frame-preview-placeholder-link" target="_blank">');
                f.b(f.v(f.f("openText", b, d, 0)));
                f.b("</a> </p> ")
            }), c.pop());
            this.b(" </div> </div> </div> ");
            return this.fl()
        },
        attachment_viewer_frame_details: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="attachment-viewer-frame-details"> <h2 class="attachment-viewer-frame-details-title">');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b("</h2> <p> ");
            this.s(this.f("date", c, b, 1), c, b, 0, 123, 169, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('Added <span class="date" dt="');
                f.b(f.v(f.f("date", b, d, 0)));
                f.b('"></span>')
            }), c.pop());
            this.b(" ");
            this.s(this.f("meta", c, b, 1), c, b, 0, 188, 199, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" - ");
                f.b(f.v(f.f("meta", b, d, 0)))
            }), c.pop());
            this.b(' </p> <p> <span class="js-meta"> <a href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('" target="_blank" ');
            this.s(this.f("doDownload", c, b, 1), c, b, 0, 290, 309, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('download="');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('"')
            }), c.pop());
            this.b(' > <span class="icon-sm icon-');
            this.b(this.v(this.f("openIconClass", c, b, 0)));
            this.b(' light" style="margin: 0 3px 0 0"></span>');
            this.b(this.v(this.f("openText", c, b, 0)));
            this.b(" </a> ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 438, 1045, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="js-cover-options');
                f.s(f.f("canMakeCover", b, d, 1), b, d, 1, 0, 0, "") || f.b(" hide");
                f.b('"> <span class="js-make-cover-box');
                f.s(f.f("isCover", b, d, 1), b, d, 0, 552, 557, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" hide")
                }), b.pop());
                f.b('"><a href="#" class="js-make-cover"><span class="icon-sm icon-cover light" style="margin: 0 3px 0 14px"></span>Make Cover</a></span> <span class="js-remove-cover-box');
                f.s(f.f("isCover",
                    b, d, 1), b, d, 1, 0, 0, "") || f.b(" hide");
                f.b('"><a href="#" class="js-remove-cover"><span class="icon-sm icon-cover light" style="margin: 0 3px 0 14px"></span>Remove Cover</a></span> </span> <a href="#" class="js-open-delete-confirm"><span class="icon-sm icon-close light" style="margin: 0 3px 0 10px"></span>');
                f.b(f.v(f.f("removeText", b, d, 0)));
                f.b("</a> ")
            }), c.pop());
            this.b(' </span> <span class="js-confirm-delete hide"> Are you sure you want to <span class="lowercase">');
            this.b(this.v(this.f("removeText",
                c, b, 0)));
            this.b('</span>? There is no undo. <a href="#" class="js-delete" style="margin: 0 4px;">');
            this.b(this.v(this.f("removeText", c, b, 0)));
            this.b(' forever.</a> <a href="#" class="js-close-delete-confirm">Never mind.</a> </span> </p> </div> ');
            return this.fl()
        },
        avatar_change: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("uploadedAvatarHash", c, b, 1), c, b, 0, 23, 300, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="avatar-option js-use-uploaded-avatar ');
                f.s(f.f("avatarSource_upload", b, d, 1), b,
                    d, 0, 95, 101, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("active")
                }), b.pop());
                f.b('" href="#"> <img class="pic" src="');
                f.b(f.v(f.f("__avatarDomain", b, d, 0)));
                f.b("/");
                f.b(f.v(f.f("uploadedAvatarHash", b, d, 0)));
                f.b('/50.png"> <span class="text"> Uploaded Picture <span class="icon-sm icon-check"/> </span> </a> <hr> ')
            }), c.pop());
            this.b(' <div class="js-grav hide"> <a class="avatar-option js-use-gravatar ');
            this.s(this.f("avatarSource_gravatar", c, b, 1), c, b, 0, 417, 423, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b("active")
                }),
                c.pop());
            this.b('" href="#"> <img class="pic" src="https://secure.gravatar.com/avatar/');
            this.b(this.v(this.f("gravatarHash", c, b, 0)));
            this.b('.png?s=50&r=PG&d=404"> <span class="text"> Gravatar <span class="icon-sm icon-check"/> </span> </a> <hr> </div> <a class="avatar-option js-no-avatar ');
            this.s(this.f("avatarSource_none", c, b, 1), c, b, 0, 705, 711, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("active")
            }), c.pop());
            this.b('" href="#"> <span class="pic member"> <span class="member-initials">');
            this.b(this.v(this.f("initials",
                c, b, 0)));
            this.b('</span> </span> <span class="text"> Initials (no avatar) <span class="icon-sm icon-check"/> </span> </a> <hr> ');
            this.s(this.f("canTakePhoto", c, b, 1), c, b, 0, 940, 1094, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="button-link js-take-photo" href="#" style="margin: 12px 4px 12px;"> <span class="icon-sm icon-camera"></span> Take Photo With Camera </a> <hr> ')
            }), c.pop());
            this.b(' <p class="error hide js-error"></p> <div class="uploader" style="margin: 12px 4px 8px;"> <form class="realfile" action="/1/member/');
            this.b(this.v(this.f("id", c, b, 0)));
            this.b('/avatar" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <input type="file" name="file" class="js-upload-avatar" style="margin-bottom: 0;" tabindex="-1" accept="image/*;capture=camera"/> </form> <a class="button-link fakefile js-fakefile"> <span class="icon-sm icon-attachment"></span> Upload a ');
            this.s(this.f("uploadedAvatarHash", c, b, 1), c, b, 0, 1660, 1665, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(" new ")
                }), c.pop());
            this.b(" picture </a> </div> ");
            return this.fl()
        },
        badge: function(c, b, d) {
            this.b(d = d || "");
            this.b('<span class="badge-icon icon-sm icon-');
            this.b(this.v(this.f("icon", c, b, 0)));
            this.b('"></span> ');
            this.s(this.f("text", c, b, 1), c, b, 0, 64, 104, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="badge-text">');
                f.b(f.v(f.f("text", b, d, 0)));
                f.b("</span>")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        billing: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module gutter"> ');
            this.s(this.f("activeAccount", c, b, 1), c, b, 0, 53, 812, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("problemAccount", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <p class="bc-active-status active'), f.s(f.f("processingAccount", b, d, 1), b, d, 0, 129, 137, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" warning")
                }), b.pop()), f.b('"> <span class="icon-lg icon-'), f.b(f.v(f.f("productIconClass", b, d, 0))), f.b('"/>'), f.b(f.v(f.f("productName", b, d, 0))), f.b(" is "), f.s(f.f("processingAccount", b, d, 1), b, d, 0, 252, 258, "{{ }}") && (f.rs(b,
                    d, function(b, d, e) {
                        e.b("ALMOST")
                    }), b.pop()), f.b(" active! </p> "), f.s(f.f("processingAccount", b, d, 1), b, d, 0, 316, 400, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b('<p class="quiet" style="margin-left: 46px;">Your credit card is being processed.</p>')
                }), b.pop()), f.b(" "));
                f.b(" ");
                f.s(f.f("problemAccount", b, d, 1), b, d, 0, 462, 792, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <p class="bc-active-status error"> <span class="icon-lg icon-');
                    e.b(e.v(e.f("productIconClass", b, d, 0)));
                    e.b("\"/>There's an issue with ");
                    e.b(e.v(e.f("productName",
                        b, d, 0)));
                    e.b('! </p> <a class="emphasis-button js-resolve-billing-issue" href="');
                    e.b(e.v(e.f("urlBase", b, d, 0)));
                    e.b('/billing/card">You are overdue and we are having trouble processing your credit card. Enter a credit card to resolve the issue.</a> ')
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("cancelledAccount", c, b, 1), c, b, 0, 852, 1270, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("processingReactivation", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <p class="bc-active-status error"> <span class="icon-lg icon-'),
                    f.b(f.v(f.f("productIconClass", b, d, 0))), f.b('"/>'), f.b(f.v(f.f("productName", b, d, 0))), f.b(" is cancelled. </p> "));
                f.b(" ");
                f.s(f.f("processingReactivation", b, d, 1), b, d, 0, 1055, 1242, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <p class="bc-active-status warning"> <span class="icon-lg icon-');
                    e.b(e.v(e.f("productIconClass", b, d, 0)));
                    e.b('"/>Your account is being processed for reactivation. </p> <p class="quiet center">Check back soon!</p> ')
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("needCC",
                c, b, 1), c, b, 0, 1303, 1561, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="bc-active-status error"> <span class="icon-lg icon-');
                f.b(f.v(f.f("productIconClass", b, d, 0)));
                f.b('"/>');
                f.b(f.v(f.f("productName", b, d, 0)));
                f.b(' is NOT active! </p> <a class="emphasis-button js-enter-new-credit-card" href="');
                f.b(f.v(f.f("urlBase", b, d, 0)));
                f.b('/billing/card">Enter a credit card to activate ');
                f.b(f.v(f.f("productName", b, d, 0)));
                f.b(".</a> ")
            }), c.pop());
            this.b(" </div> ");
            this.s(this.f("activeAccount", c,
                b, 1), c, b, 0, 1598, 3447, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="window-module center"> <div class="gutter"> ');
                f.s(f.f("willExpire", b, d, 1), b, d, 1, 0, 0, "") || (f.b(" "), f.s(f.f("paidAccount_cardType", b, d, 1), b, d, 0, 1696, 2612, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" ");
                    e.s(e.f("nextChargeAmount", b, d, 1), b, d, 0, 1718, 2037, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b(" ");
                            e.s(e.f("nextBillingDate", b, d, 1), b, d, 0, 1739, 2016, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                                e.b(' <p class="next-charge"> You will be billed ');
                                e.s(e.f("isPerUser", b, d, 1), b, d, 0, 1797, 1886, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                                    e.b(" <strong>$");
                                    e.b(e.v(e.f("nextChargeAmount", b, d, 0)));
                                    e.b("</strong> ($");
                                    e.b(e.v(e.f("price", b, d, 0)));
                                    e.b(" per ");
                                    e.b(e.v(e.f("billableMemberCount", b, d, 0)));
                                    e.b(" members) ")
                                }), b.pop());
                                e.b(" ");
                                e.s(e.f("isPerUser", b, d, 1), b, d, 1, 0, 0, "") || (e.b(" <strong>$"), e.b(e.v(e.f("nextChargeAmount", b, d, 0))), e.b("</strong> "));
                                e.b(" on <strong>");
                                e.b(e.v(e.f("nextBillingDate", b, d, 0)));
                                e.b("</strong>. </p> ")
                            }), b.pop());
                            e.b(" ")
                        }),
                        b.pop());
                    e.b(" ");
                    e.s(e.f("canSwitchToYearly", b, d, 1), b, d, 0, 2081, 2589, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" ");
                        e.s(e.f("yearlyIsDiscount", b, d, 1), b, d, 0, 2103, 2567, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b(' <p> <a href="#" class="button-link inline-block js-switch-to-yearly-billing" style="padding-left: 24px; padding-right: 24px;"> Switch to Yearly Billing! </a> </p> <p> Yearly billing will be ');
                            e.s(e.f("isPerUser", b, d, 1), b, d, 0, 2308, 2403, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                                e.b(" <strong>$");
                                e.b(e.v(e.f("totalYearlyPrice",
                                    b, d, 0)));
                                e.b("</strong> ($");
                                e.b(e.v(e.f("yearlyPrice", b, d, 0)));
                                e.b(" per ");
                                e.b(e.v(e.f("billableMemberCount", b, d, 0)));
                                e.b(" members) ")
                            }), b.pop());
                            e.b(" ");
                            e.s(e.f("isPerUser", b, d, 1), b, d, 1, 0, 0, "") || (e.b(" <strong>$"), e.b(e.v(e.f("totalYearlyPrice", b, d, 0))), e.b("</strong> "));
                            e.b(" per year. <br> That\u2019s ");
                            e.b(e.v(e.f("yearlyDiscount", b, d, 0)));
                            e.b(" less compared to monthly billing! </p> ")
                        }), b.pop());
                        e.b(" ")
                    }), b.pop());
                    e.b(" ")
                }), b.pop()), f.b(" "), f.s(f.f("paidAccount_cardType", b, d, 1), b, d,
                    1, 0, 0, "") || (f.b(' <p class="next-charge"> Your credits will expire on <strong>'), f.b(f.v(f.f("nextBillingDate", b, d, 0))), f.b('</strong>. </p> <p> <a href="'), f.b(f.v(f.f("changeCardUrl", b, d, 0))), f.b('" class="button-link inline-block js-change-cc" style="padding-left: 24px; padding-right: 24px;"> Add Billing Information </a> </p> <p> Keep using Trello in style, even after your credits expire! </p> ')), f.b(" "));
                f.b(" ");
                f.s(f.f("willExpire", b, d, 1), b, d, 0, 3047, 3417, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <p class="quiet"> You\'ve cancelled ');
                    e.b(e.v(e.f("productName", b, d, 0)));
                    e.b(", but you can use the premium features until <strong>");
                    e.b(e.v(e.f("expirationDate", b, d, 0)));
                    e.b('</strong>. </p> <p> <a href="#" class="button-link inline-block js-renew" style="padding-left: 24px; padding-right: 24px;"> Renew Your Subscription? </a> </p> <p class="quiet"> When you renew, you won\'t be charged until the date listed above. </p> ')
                }), b.pop());
                f.b(" </div> </div> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("cancelledAccount", c, b, 1), c, b, 0, 3487, 4368,
                "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("processingReactivation", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <div class="window-module"> <div class="window-module-title"> <h3>Reactivate '), f.b(f.v(f.f("productName", b, d, 0))), f.b('</h3> </div> <div class="gutter"> <div class="billing-option-buttons clearfix"> <a href="#" class="js-reactivate-monthly"> <span class="name">Charge Monthly</span> <span class="price"> '), f.s(f.f("isPerUser", b, d, 1), b, d, 0, 3807, 3904, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" <strong>$");
                    e.b(e.v(e.f("totalMonthlyPrice", b, d, 0)));
                    e.b("</strong> ($");
                    e.b(e.v(e.f("monthlyPrice", b, d, 0)));
                    e.b(" per ");
                    e.b(e.v(e.f("billableMemberCount", b, d, 0)));
                    e.b(" members) ")
                }), b.pop()), f.b(" "), f.s(f.f("isPerUser", b, d, 1), b, d, 1, 0, 0, "") || (f.b(" <strong>$"), f.b(f.v(f.f("totalMonthlyPrice", b, d, 0))), f.b("</strong> ")), f.b(' </span> </a> <a href="#" class="js-reactivate-yearly"> <span class="name">Charge Yearly (Save!)</span> <span class="price"> '), f.s(f.f("isPerUser", b, d, 1), b, d, 0, 4127, 4222, "{{ }}") && (f.rs(b,
                    d, function(b, d, e) {
                        e.b(" <strong>$");
                        e.b(e.v(e.f("totalYearlyPrice", b, d, 0)));
                        e.b("</strong> ($");
                        e.b(e.v(e.f("yearlyPrice", b, d, 0)));
                        e.b(" per ");
                        e.b(e.v(e.f("billableMemberCount", b, d, 0)));
                        e.b(" members) ")
                    }), b.pop()), f.b(" "), f.s(f.f("isPerUser", b, d, 1), b, d, 1, 0, 0, "") || (f.b(" <strong>$"), f.b(f.v(f.f("totalYearlyPrice", b, d, 0))), f.b("</strong> ")), f.b(" </span> </a> </div> </div> </div> "));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("paidAccount_cardType", c, b, 1), c, b, 0, 4415, 5184, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b(' <div class="window-module"> <div class="window-module-title"> <h3>Billing Contact</h3> </div> <div class="gutter"> <p> ');
                    f.b(f.v(f.f("paidAccount_contactFullName", b, d, 0)));
                    f.b(" - ");
                    f.b(f.v(f.f("paidAccount_contactEmail", b, d, 0)));
                    f.b(' <a class="quiet js-change-billing-contact" href="#" style="margin-left: 8px;">Change</a> </p> </div> </div> ');
                    f.s(f.f("activeAccount", b, d, 1), b, d, 0, 4724, 5165, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <div class="window-module"> <div class="window-module-title"> <h3 class="inline">Payment Method</h3> <p class="inline quiet" style="margin-left: 4px;"> Account standing: ');
                        e.b(e.v(e.f("accountStandingDisplay", b, d, 0)));
                        e.b(' </p> </div> <div class="gutter"> <p> ');
                        e.b(e.v(e.f("paidAccount_cardType", b, d, 0)));
                        e.b("<br /> ");
                        e.b(e.v(e.f("paidAccount_cardName", b, d, 0)));
                        e.b("<br /> \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ");
                        e.b(e.v(e.f("paidAccount_cardLast4", b, d, 0)));
                        e.b('<br /> <a class="quiet js-change-cc" href="');
                        e.b(e.v(e.f("changeCardUrl", b, d, 0)));
                        e.b('">Change credit card</a> </p> </div> </div> ')
                    }), b.pop());
                    f.b(" ")
                }), c.pop());
            this.b(' <div class="window-module"> <div class="window-module-title"> <h3>Billing History</h3> </div> <div id="billing-statement" class="gutter js-billing-activity"> <div class="spinner loading" /> </div> </div> ');
            this.s(this.f("activeAccount", c, b, 1), c, b, 0, 5432, 7132, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" ");
                    f.s(f.f("willExpire", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <div class="window-module gutter"> <a href="#" class="quiet dark-hover js-start-cancel"><span class="icon-sm icon-close"/>Cancel '), f.b(f.v(f.f("productName",
                            b, d, 0))), f.b('\u2026</a> <div class="js-cancel-feedback hide"> <p> Thanks for trying '), f.b(f.v(f.f("productName", b, d, 0))), f.b(". We're sorry to see you go. </p> <p>Clicking the button below will cancel your subscription and you will not be billed again. Of course, we'll keep your data safe and your account will remain usable. If you'd like, you can reinstate "), f.b(f.v(f.f("productName", b, d, 0))), f.b(" at any time by re-entering your credit card information. </p> <p> We're working hard to make Trello better every day and would really appreciate any feedback you have on "),
                        f.b(f.v(f.f("productName", b, d, 0))), f.b('. </p> <p> <b>Please let us know why you are cancelling\u2026</b> </p> <div class="js-random-reasons"> <label><input name="why" type="radio" value="missing functionality"> It\'s missing functionality </label> <label><input name="why" type="radio" value="not using it"> I\'m not using it </label> <label><input name="why" type="radio" value="too expensive"> It\'s too expensive </label> </div> <label><input name="why" type="radio" value="other"> Other </label> <textarea class="js-long-feedback hide" placeholder="Tell us more\u2026"></textarea> <div> <input type="submit" class="button js-cancel" value="Cancel '),
                        f.b(f.v(f.f("productName", b, d, 0))), f.b('"> <a href="#" class="quiet js-cancel-cancel">Never Mind</a> </div> </div> <div class="js-cancelled hide"> <p> <b>Your '), f.b(f.v(f.f("productName", b, d, 0))), f.b(" subscription has been cancelled.</b> </p> <p> We'll keep your data safe and your account will remain usable. If you'd like, you can reinstate "), f.b(f.v(f.f("productName", b, d, 0))), f.b(" at any time by re-entering your credit card information. </p> <p>-The Trello Team</p> </div> </div> "));
                    f.b(" ")
                }),
                c.pop());
            this.b(" ");
            return this.fl()
        },
        billing_contact: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="error" style="display:hidden"></div> <form> <label for="billingContactFullName">Name:</label> <input name="billingContactFullName" type="text" id="billingContactFullName" class="text" value="');
            this.b(this.v(this.f("billingFullName", c, b, 0)));
            this.b('" maxlength="50"> <label for="billingContactEmail">Email:</label> <input name="billingContactEmail" type="text" id="billingContactEmail" class="text" value="');
            this.b(this.v(this.f("billingEmail", c, b, 0)));
            this.b('"> <input type="submit" value="Save" class="primary js-submit"> </form> ');
            return this.fl()
        },
        billing_statement: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("statement", c, b, 1), c, b, 0, 14, 652, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <div> <p> <strong>");
                f.b(f.v(f.f("date", b, d, 0)));
                f.b("</strong> - ");
                f.b(f.v(f.f("item", b, d, 0)));
                f.b(' </p> <p style="text-align:right;"> ');
                f.s(f.f("return", b, d, 1), b, d, 0, 108, 252, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" Credited: $");
                    e.b(e.v(e.f("return", b, d, 0)));
                    e.b(" ");
                    e.s(e.f("statementUrl", b, d, 1), b, d, 0, 148, 234, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b('- <a href="');
                        e.b(e.v(e.f("statementUrl", b, d, 0)));
                        e.b('" class="js-view-statement-pdf" target="_blank">Receipt</a>')
                    }), b.pop());
                    e.b(" ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("credit", b, d, 1), b, d, 0, 275, 415, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" Paid: $");
                    e.b(e.v(e.f("credit", b, d, 0)));
                    e.b(" ");
                    e.s(e.f("statementUrl", b, d, 1), b, d, 0, 311, 397, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b('- <a href="');
                        e.b(e.v(e.f("statementUrl", b, d, 0)));
                        e.b('" class="js-view-statement-pdf" target="_blank">Receipt</a>')
                    }), b.pop());
                    e.b(" ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("debit", b, d, 1), b, d, 0, 437, 578, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" Billed: $");
                    e.b(e.v(e.f("debit", b, d, 0)));
                    e.b(" ");
                    e.s(e.f("statementUrl", b, d, 1), b, d, 0, 474, 560, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b('- <a href="');
                        e.b(e.v(e.f("statementUrl", b, d, 0)));
                        e.b('" class="js-view-statement-pdf" target="_blank">Invoice</a>')
                    }), b.pop());
                    e.b(" ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("refund", b, d, 1), b, d, 0, 600, 623, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" Refunded: $");
                    e.b(e.v(e.f("refund", b, d, 0)));
                    e.b(" ")
                }), b.pop());
                f.b(" </p> </div> <hr> ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        board: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="board-header clearfix js-board-header"></div> <a href="#" class="sidebar-show-btn dark-hover js-show-sidebar"> <span class="icon-sm icon-leftarrow"/> <span class="text">Show sidebar</span> </a> <div class="board-widgets"></div> <div class="board-canvas"> <div id="board" class="fancy-scrollbar js-no-higher-edits');
            this.s(this.f("__ed", c, b, 1), c, b, 1, 0, 0, "") || this.b(" permission-public");
            this.b(" ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 370, 388, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-list-sortable ")
            }), c.pop());
            this.b('"> </div> </div> ');
            return this.fl()
        },
        board_activity: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-activity"/> <div class="window-title"> <h2 class="window-title-text"> Board Activity </h2> </div> </div> <div class="window-main-col window-main-col-full"> <div class="list-activity"></div> <a class="show-more js-more-actions" href="#">Load More Activity</a> </div> ');
            return this.fl()
        },
        board_archive: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="archive-controls clearfix"> <div class="archive-search search-with-spinner"> <input class="js-search js-autofocus" type="text" placeholder="Search archived cards"> <div class="spinner small hide js-search-loading"></div> </div> <a class="archive-switch quiet-button js-switch-section" href="#">Switch to <span class="js-new-section"></span>.</a> </div> <div class="js-archive-content"> ');
            this.b(this.t(this.f("content",
                c, b, 0)));
            this.b(" </div> ");
            return this.fl()
        },
        board_background_options: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="bold quiet">Display Type</p> <ul class="pop-over-list"> <li> <a href="#" class="js-select-option" data-background-display-type="cover"> Cover ');
            this.s(this.f("tile", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <span class="icon-sm icon-check"></span> ');
            this.b(' </a> </li> <li> <a href="#" class="js-select-option" data-background-display-type="tile"> Tile ');
            this.s(this.f("tile", c, b, 1), c, b,
                0, 317, 359, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"></span> ')
            }), c.pop());
            this.b(' </a> </li> </ul> <hr> <p class="bold quiet">Board Text</p> <ul class="pop-over-list"> <li> <a href="#" class="js-select-option" data-board-brightness="dark"> Light ');
            this.s(this.f("brightnessDark", c, b, 1), c, b, 0, 552, 594, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"></span> ')
            }), c.pop());
            this.b(' </a> </li> <li> <a href="#" class="js-select-option" data-board-brightness="light"> Dark ');
            this.s(this.f("brightnessLight", c, b, 1), c, b, 0, 723, 765, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"></span> ')
            }), c.pop());
            this.b(' </a> </li> </ul> <hr> <a href="#" class="quiet-button js-delete-background">Delete background.</a> ');
            return this.fl()
        },
        board_background_selection: function(c, b, d) {
            this.b(d = d || "");
            this.b('<span class="background-box ');
            this.s(this.f("pending", c, b, 1), c, b, 0, 40, 67, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("background-box-unselectable")
            }), c.pop());
            this.s(this.f("tile", c, b, 1), c, b, 0, 88, 104, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" background-tile")
            }), c.pop());
            this.b('" style=" ');
            this.s(this.f("backgroundImageThumbnail", c, b, 1), c, b, 0, 152, 215, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("background-image: url(&quot;");
                f.b(f.v(f.f("backgroundImageThumbnail", b, d, 0)));
                f.b("&quot;)")
            }), c.pop());
            this.b("; ");
            this.s(this.f("color", c, b, 1), c, b, 0, 256, 284, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b("background-color: ");
                    f.b(f.v(f.f("color", b, d, 0)));
                    f.b(";")
                }),
                c.pop());
            this.b(' "> ');
            this.s(this.f("attribution", c, b, 1), c, b, 0, 314, 662, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="background-option js-background-attribution" href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" target="_blank" title="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('"> <img src="https://d78fikflryjgj.cloudfront.net/images/d906fe5c1274c56c5571d49705547587/cc.png" style="height: 14px; width: 14px; vertical-align: text-top;" title="');
                f.b(f.v(f.f("license", b, d, 0)));
                f.b('"/> <span class="text" style="margin-left: 2px;">');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b("</span> </a> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("id", c, b, 1), c, b, 0, 686, 845, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="background-option js-options"> <span class="icon-sm icon-menu light" style="vertical-align: bottom;"></span> <span class="text">Options</span> </a> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("error", c, b, 1), c, b, 0, 863, 939, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="background-info"> <span class="text">');
                f.b(f.v(f.f("error",
                    b, d, 0)));
                f.b("</span> </span> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("pending", c, b, 1), c, b, 0, 962, 1107, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="background-info"> <span class="spinner small left" style="margin-right: 4px;"></span> <span class="text">Uploading\u2026</span> </span> ')
            }), c.pop());
            this.b(" </span> ");
            return this.fl()
        },
        board_change_background: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="board-backgrounds-list clearfix js-default-list"></div> <h2 class="clear">Photos</h2> <div class="board-backgrounds-list relative clearfix js-gold-photos-list');
            this.s(this.f("enabled_additionalBackgrounds", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('"></div> <h2 class="clear">Patterns and Textures</h2> <div class="board-backgrounds-list relative clearfix js-gold-patterns-list');
            this.s(this.f("enabled_additionalBackgrounds", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('"></div> <h2 class="clear">Custom</h2> <div class="board-backgrounds-list relative clearfix js-custom-list');
            this.s(this.f("enabled_customBoardBackgrounds", c, b, 1), c, b, 1, 0, 0, "") ||
                this.b(" disabled");
            this.b('"> <div class="board-background-select board-background-select-upload js-uploader"> <form action="/1/member/');
            this.b(this.v(this.f("idMember", c, b, 0)));
            this.b('/customBoardBackgrounds" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <span class="background-box"> <span class="icon-lg icon-add"></span> </span> <input type="file" name="file" class="upload-background js-upload-image" multiple="multiple" accept="image/*" /> </form> </div> </div> ');
            return this.fl()
        },
        board_closed: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="big-message quiet"> <h1> ');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b(" is closed. </h1> ");
            this.s(this.f("__own", c, b, 1), c, b, 0, 73, 145, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p> <a href="#" class="js-reopen"> Click here to re-open it. </a> </p> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("__ed", c, b, 1), c, b, 0, 176, 263, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" <p> You\u2019re a member of this board, but only board admins are able to re-open it. </p> ")
                }),
                c.pop()), this.b(" "));
            this.b(" </div> ");
            return this.fl()
        },
        board_desc: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-board"/> <div class="window-title non-empty inline ');
            this.s(this.f("__own", c, b, 1), c, b, 0, 143, 153, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" editable ")
            }), c.pop());
            this.b(' " attr="name"> <h2 class="window-title-text current hide-on-edit"> ');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b(" </h2> ");
            this.s(this.f("__own",
                c, b, 1), c, b, 0, 256, 529, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <p class=\"edits-warning quiet\">You have unsaved edits on this field. <a href='#' class='js-view-edits'>View edits</a> or <a href='#' class='js-discard-edits'>discard</a>.</p> <div class=\"edit edit-heavy\"> <textarea type=\"text\" class=\"field single-line\"></textarea> </div> ")
            }), c.pop());
            this.b(' </div> </div> <div class="window-main-col window-main-col-full"> <div class="board-description clearfix');
            this.s(this.f("__ed", c, b, 1),
                c, b, 0, 652, 661, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" editable")
            }), c.pop());
            this.b('" attr="desc"> <div class="current markeddown hide-on-edit bottom"> ');
            this.s(this.f("hasDesc", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <p class="bottom"> '), this.s(this.f("__ed", c, b, 1), c, b, 0, 779, 871, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b('<a class=\'quiet empty\' style="padding: 100px 0;" href="#">No description. Click to edit.</a>')
                }), c.pop()), this.b(" "), this.s(this.f("__ed", c, b, 1), c, b, 1, 0, 0, "") || this.b("<span class='quiet empty' style=\"padding: 100px 0;\">No description.</span>"),
                this.b(" </p> "));
            this.b(" </div> ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 1008, 1561, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" ");
                    f.s(f.f("hasDesc", b, d, 1), b, d, 0, 1021, 1176, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <p class="bottom js-edit-desc"> <a class="quiet-button hide-on-edit w-img" href="#"><span class="icon-sm icon-edit"/>Edit the board description.</a> </p> ')
                    }), b.pop());
                    f.b(' <p class="edits-warning quiet">You have unsaved edits on this field. <a href=\'#\' class=\'js-view-edits\'>View edits</a> or <a href=\'#\' class=\'js-discard-edits\'>discard</a>.</p> <div class="board-description-edit edit"> <p class="helper"><a href="http://daringfireball.net/projects/markdown/syntax" target="_blank">Markdown</a> accepted</p> <textarea class="field" /> </div> ')
                }),
                c.pop());
            this.b(" </div> </div> ");
            return this.fl()
        },
        board_header: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a href="#" class="board-header-btn board-header-btn-name');
            this.s(this.f("canRename", c, b, 1), c, b, 0, 71, 87, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-rename-board")
            }), c.pop());
            this.s(this.f("canRename", c, b, 1), c, b, 1, 0, 0, "") || this.b(" no-edit");
            this.s(this.f("orgLogoUrl", c, b, 1), c, b, 0, 152, 188, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" board-header-btn-name-with-org-logo")
            }), c.pop());
            this.b('" ');
            this.s(this.f("canRename", c, b, 1), c, b, 0, 219, 245, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' title="Rename the board."')
            }), c.pop());
            this.b("> ");
            this.s(this.f("orgLogoUrl", c, b, 1), c, b, 0, 276, 373, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <img class="board-header-btn-name-org-logo" src="');
                f.b(f.v(f.f("orgLogoUrl", b, d, 0)));
                f.b('" alt="');
                f.b(f.v(f.f("orgDisplayName", b, d, 0)));
                f.b(' logo"> ')
            }), c.pop());
            this.b(' <span class="board-header-btn-text"> ');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b(" </span> </a> ");
            this.s(this.f("orgDisplayName", c, b, 1), c, b, 0, 467, 899, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="/');
                f.b(f.v(f.f("orgName", b, d, 0)));
                f.b('" class="board-header-btn board-header-btn-org-name js-open-org-menu');
                f.s(f.f("hasBusinessClass", b, d, 1), b, d, 1, 0, 0, "") || f.b(" board-header-btn-without-icon");
                f.b('" title="This board is part of the ');
                f.b(f.v(f.f("orgDisplayName", b, d, 0)));
                f.b(' organization."> ');
                f.s(f.f("hasBusinessClass", b, d, 1), b, d, 0, 720, 810, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b('<span class="board-header-btn-icon icon-sm icon-briefcase icon-briefcase-bc-color"></span>')
                    }),
                    b.pop());
                f.b(' <span class="board-header-btn-text">');
                f.b(f.v(f.f("orgDisplayName", b, d, 0)));
                f.b("</span> </a> ")
            }), c.pop());
            this.b(' <div class="board-header-btns left"> ');
            this.s(this.f("__loggedIn", c, b, 1), c, b, 0, 971, 1209, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <a href="#" class="board-header-btn js-star-board" title="Click to star or unstar this board. Starred boards show up at the top of your boards list."> <span class="board-header-btn-icon icon-sm icon-star js-star-board-icon"></span> </a> ')
                }),
                c.pop());
            this.b(' <a href="#" class="board-header-btn hide js-open-desc js-fill-desc"> <span class="board-header-btn-icon icon-sm icon-desc"></span> </a> <a href="#" class="board-header-btn perms-btn js-change-vis" id="permission-level"></a> </div> <div class="board-header-btns right"> <a href="#" class="board-header-btn board-header-btn-filter-indicator hide js-filter-cards-indicator" title="You are filtering cards on this board. Click here to edit filter."> <span class="board-header-btn-icon icon-sm icon-filter"/> <span class="board-header-btn-text underline">Filtering is on.</span> <span class="board-header-btn-icon-close icon-sm icon-close js-filter-card-clear" title="Clear filter."/> </a> <div class="board-header-btn sub-btn hide js-board-header-subscribed" title="You are subscribed to this board. You\'ll get notifications about changes."> <span class="board-header-btn-icon icon-sm icon-follow"/> <span class="board-header-btn-text underline">Subscribed</span> </div> <a href="#" class="board-header-btn calendar-btn hide js-calendar" title="View all your cards with due dates in a calendar view."> <span class="board-header-btn-icon icon-sm icon-cal"/> <span class="board-header-btn-text underline">Calendar</span> </a> </div> ');
            return this.fl()
        },
        board_header_permissions: function(c, b, d) {
            this.b(d || "");
            this.b('<span class="board-header-btn-icon icon-sm icon-');
            this.b(this.v(this.f("permissionLevel", c, b, 0)));
            this.b('"/> <span class="board-header-btn-text">');
            this.b(this.v(this.f("permText", c, b, 0)));
            this.b("</span> ");
            return this.fl()
        },
        board_inline: function(c, b, d) {
            this.b(d || "");
            this.b('<span>the board</span> <a href="');
            this.b(this.v(this.f("boardUrl", c, b, 0)));
            this.b('" class="inline-object"> ');
            this.b(this.v(this.f("name", c,
                b, 0)));
            this.b(" </a> ");
            return this.fl()
        },
        board_labels: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("labelNames", c, b, 1), c, b, 0, 15, 1060, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="relative"> <div class="card-label card-label-green"></div> <input type="text" class="js-label-title" name="green" value="');
                f.b(f.v(f.f("green", b, d, 0)));
                f.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-yellow"></div> <input type="text" class="js-label-title" name="yellow" value="');
                f.b(f.v(f.f("yellow", b, d, 0)));
                f.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-orange"></div> <input type="text" class="js-label-title" name="orange" value="');
                f.b(f.v(f.f("orange", b, d, 0)));
                f.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-red"></div> <input type="text" class="js-label-title" name="red" value="');
                f.b(f.v(f.f("red", b, d, 0)));
                f.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-purple"></div> <input type="text" class="js-label-title" name="purple" value="');
                f.b(f.v(f.f("purple", b, d, 0)));
                f.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-blue"></div> <input type="text" class="js-label-title" name="blue" value="');
                f.b(f.v(f.f("blue", b, d, 0)));
                f.b('" placeholder="No name"> </div> ')
            }), c.pop());
            this.b(' <input type="submit" class="primary wide js-save" value="Save"> ');
            return this.fl()
        },
        board_list: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module-title window-module-title-no-divider"> <span class="icon-lg window-module-title-icon icon-');
            this.b(this.v(this.f("iconClass", c, b, 0)));
            this.s(this.f("logoHash", c, b, 1), c, b, 0, 142, 155, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" custom-image")
            }), c.pop());
            this.b('"> ');
            this.s(this.f("logoHash", c, b, 1), c, b, 0, 184, 259, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<img src="');
                f.b(f.v(f.f("__logoDomain", b, d, 0)));
                f.b("/");
                f.b(f.v(f.f("logoHash", b, d, 0)));
                f.b('/30.png" alt="');
                f.b(f.v(f.f("displayName", b, d, 0)));
                f.b(' logo">')
            }), c.pop());
            this.b(" </span> <h3>");
            this.b(this.v(this.f("title", c, b, 0)));
            this.b("</h3> ");
            this.s(this.f("hasBusinessClass", c, b, 1), c, b, 0, 321, 446, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="window-title-extra bc"> <span class="business-class-mark" title="Business Class Mark"/> Business Class </span> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("url", c, b, 1), c, b, 0, 476, 663, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <a class="inline-block quiet dark-hover js-view-org-profile" href="');
                    f.b(f.v(f.f("url", b, d, 0)));
                    f.b('" style="margin: 2px 6px 0 0;"> <span class="icon-sm icon-info" style="margin-right: 2px;"></span>Overview </a> ')
                }),
                c.pop());
            this.b(' </div> <ul class="board-list gutter js-board-list clearfix"></ul> ');
            return this.fl()
        },
        board_list_item: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a class="js-open-board highlight-icon ');
            this.s(this.f("current", c, b, 1), c, b, 0, 51, 58, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("current")
            }), c.pop());
            this.b(" ");
            this.s(this.f("backgroundTile", c, b, 1), c, b, 0, 90, 95, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" tile")
            }), c.pop());
            this.b(" ");
            this.s(this.f("backgroundBrightness", c, b, 1), c, b, 0, 140,
                165, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.v(f.f("backgroundBrightness", b, d, 0)))
            }), c.pop());
            this.b('" href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('" style=" ');
            this.s(this.f("backgroundImageThumbnail", c, b, 1), c, b, 0, 244, 308, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("background-image: url(&quot;");
                f.b(f.v(f.f("backgroundImageThumbnail", b, d, 0)));
                f.b("&quot;);")
            }), c.pop());
            this.b(" ");
            this.s(this.f("backgroundColor", c, b, 1), c, b, 0, 358, 396, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("background-color: ");
                f.b(f.v(f.f("backgroundColor", b, d, 0)));
                f.b(";")
            }), c.pop());
            this.b(' " > <span class="thumbnail" style=" ');
            this.s(this.f("backgroundImageThumbnail", c, b, 1), c, b, 0, 482, 545, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("background-image: url(&quot;");
                f.b(f.v(f.f("backgroundImageThumbnail", b, d, 0)));
                f.b("&quot;)")
            }), c.pop());
            this.b("; ");
            this.s(this.f("backgroundColor", c, b, 1), c, b, 0, 596, 634, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("background-color: ");
                f.b(f.v(f.f("backgroundColor", b, d, 0)));
                f.b(";")
            }), c.pop());
            this.b(' " ></span> <span class="fade"></span> <span class="details');
            this.s(this.f("orgname", c, b, 1), c, b, 0, 725, 738, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" has-sub-name")
            }), c.pop());
            this.b('"> <span class="board-list-item-name" title="');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b("</span> ");
            this.s(this.f("orgname", c, b, 1), c, b, 0, 833, 912, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="board-list-item-sub-name" title="');
                f.b(f.v(f.f("orgname",
                    b, d, 0)));
                f.b('">');
                f.b(f.v(f.f("orgname", b, d, 0)));
                f.b("</span> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("__loggedIn", c, b, 1), c, b, 0, 940, 1167, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="unread-indicator js-unread" title="There is new activity on this board."></span> <span class="icon-sm icon-star js-star-board" title="Click to star this board. It will show up at top of your boards list."></span> ')
            }), c.pop());
            this.b(" </span> </a> ");
            return this.fl()
        },
        board_member_profile: function(c, b, d) {
            this.b(d ||
                "");
            this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-activity"/> <h2 class="window-title"> ');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b(' <span class="quiet" style="margin-left: 3px">(');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b(')</span> </h2> </div> <div class="window-main-col window-main-col-full"> <div class="list-actions"> <p class="js-board-member-profile-no-activity">This member has no board activity</p> </div> <a class="show-more js-more-actions" href="#">Load More Activity</a> </div> ');
            return this.fl()
        },
        board_menu_commenting: function(c, b, d) {
            this.b(d = d || "");
            this.b('<li> <a href="#" class="js-select" name="disabled"> Disabled ');
            this.s(this.f("comments_disabled", c, b, 1), c, b, 0, 83, 125, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"></span> ')
            }), c.pop());
            this.b(' <span class="sub-name"> No one is allowed to comment. </span> </a> </li> <li> <a href="#" class="js-select" name="members"> Members ');
            this.s(this.f("comments_members", c, b, 1), c, b, 0, 301, 337, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(' <span class="icon-sm icon-check"/> ')
                }), c.pop());
            this.b(' <span class="sub-name"> Allow admins and normal members to comment. </span> </a> </li> <li> <a href="#" class="js-select');
            this.s(this.f("comments_showObservers", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" name="observers"> Members and Observers ');
            this.s(this.f("comments_observers", c, b, 1), c, b, 0, 607, 643, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="sub-name"> Allow admins, normal members, and observers to comment. </span> </a> </li> <li> <a href="#" class="js-select');
            this.s(this.f("orgCanSee", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" name="org"> Organization members ');
            this.s(this.f("comments_org", c, b, 1), c, b, 0, 888, 924, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="sub-name"> Allow admins, normal members, observers, and org members to comment. </span> </a> </li> <li> <a href="#" class="js-select');
            this.s(this.f("permissionLevel_public", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" name="public"> Public members ');
            this.s(this.f("comments_public", c, b, 1), c, b, 0, 1202, 1238, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="sub-name"> Allow any Trello member to comment. </span> </a> </li> ');
            return this.fl()
        },
        board_menu_email: function(c, b, d) {
            this.b(d = d || "");
            this.b('<label for="boardEmail">Your email address for this board</label> <input id="boardEmail" type="text" name="boardEmail" readonly="readonly" class="non-empty js-autofocus" placeholder="Loading\u2026" value="');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b('" style="margin: 4px 0 8px;"> <a href="#" class="quiet-button js-generate-address">Generate a new email address.</a> <a href="#" class="quiet-button js-send-address">Email me this address.</a> <hr> <label>Your emailed cards appear in\u2026</label> <div class="form-grid"> <div class="button-link setting form-grid-child form-grid-child-threequarters"> <span class="label">List</span> <span class="value js-list-value">');
            this.b(this.v(this.f("listName", c,
                b, 0)));
            this.b('</span> <label>List</label> <select class="js-select-list"> ');
            this.s(this.f("lists", c, b, 1), c, b, 0, 704, 792, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <option value="');
                f.b(f.v(f.f("id", b, d, 0)));
                f.b('"');
                f.s(f.f("selected", b, d, 1), b, d, 0, 740, 760, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' selected="selected"')
                }), b.pop());
                f.b(">");
                f.b(f.v(f.f("name", b, d, 0)));
                f.b("</option> ")
            }), c.pop());
            this.b(' </select> </div> <div class="button-link setting form-grid-child form-grid-child-quarter"> <span class="label">Position</span> <span class="value js-pos-value">');
            this.b(this.v(this.f("positionName", c, b, 0)));
            this.b('</span> <label>Position</label> <select class="js-select-position"> <option value="top"');
            this.s(this.f("position_top", c, b, 1), c, b, 0, 1083, 1103, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' selected="selected"')
            }), c.pop());
            this.b('>Top</option> <option value="bottom"');
            this.s(this.f("position_bottom", c, b, 1), c, b, 0, 1176, 1196, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' selected="selected"')
            }), c.pop());
            this.b('>Bottom</option> </select> </div> </div> <hr> <p class="bottom quiet"> <strong>Tip:</strong> Don\'t share this email address. Anyone who has it can add cards as you. When composing emails, the card title goes in the subject and the card description in the body. <a href="http://help.trello.com/customer/portal/articles/1216141-creating-cards-by-email#formattingTips" target="_blank">More email formatting tips.</a> </p> ');
            return this.fl()
        },
        board_menu_invitations: function(c, b, d) {
            this.b(d = d || "");
            this.b('<li> <a href="#" class="js-select" name="admins"> Admins ');
            this.s(this.f("invitations_admins", c, b, 1), c, b, 0, 80, 116, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="sub-name"> Allow only admins to add and invite others. </span> </a> </li> <li> <a href="#" class="js-select" name="members"> All Members ');
            this.s(this.f("invitations_members", c, b, 1), c, b, 0,
                314, 350, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="sub-name"> Allow members and admins to add and invite others. </span> </a> </li> ');
            return this.fl()
        },
        board_menu_settings: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list inset"> <li> <a class="js-change-labels');
            this.s(this.f("__ed", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" href="#"> Edit Label Names </a> </li> <hr> <li> <a class="js-change-org');
            this.s(this.f("canChangeOrg",
                c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" href="#"> ');
            this.s(this.f("setOrgNull", c, b, 1), c, b, 0, 234, 260, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" Remove From Organization ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("setOrgNull", c, b, 1), c, b, 1, 0, 0, "") || this.b(" Change Organization\u2026 ");
            this.b(" ");
            this.s(this.f("orgDisplayName", c, b, 1), c, b, 0, 348, 398, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="sub-name">');
                f.b(f.v(f.f("orgDisplayName", b, d, 0)));
                f.b("</span> ")
            }), c.pop());
            this.b(' </a> </li> <hr> <li> <a class="');
            this.s(this.f("__own", c, b, 1), c, b, 0, 459, 475, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("js-toggle-covers")
            }), c.pop());
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" href="#"> ');
            this.s(this.f("cardCovers", c, b, 1), c, b, 1, 0, 0, "") || this.b(" Enable Card Cover Images ");
            this.b(" ");
            this.s(this.f("cardCovers", c, b, 1), c, b, 0, 598, 660, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' Card Cover Images Enabled <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="sub-name">Show images on front of cards.</span> </a> </li> <hr> <li> <a class="');
            this.s(this.f("__own", c, b, 1), c, b, 0, 778, 796, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("js-change-comments")
            }), c.pop());
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" href="#"> Commenting Permissions\u2026 <span class="sub-name">');
            this.b(this.v(this.f("commentsDisplay", c, b, 0)));
            this.b('</span> </a> </li> <li> <a class="');
            this.s(this.f("__own", c, b, 1), c, b, 0, 957, 978, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("js-change-add-members")
            }), c.pop());
            this.s(this.f("__own", c, b, 1),
                c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" href="#"> Invitations Permissions\u2026 <span class="sub-name">');
            this.b(this.v(this.f("invitationsDisplay", c, b, 0)));
            this.b('</span> </a> </li> <hr> <li> <a class=" ');
            this.s(this.f("__own", c, b, 1), c, b, 0, 1149, 1173, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-toggle-org-mem-join ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled ");
            this.b(" ");
            this.s(this.f("hasOrg", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled ");
            this.b(" ");
            this.s(this.f("permissionLevel_private", c, b, 1), c, b, 0, 1276, 1286, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" disabled ")
            }), c.pop());
            this.b(' " href="#"> Allow Org Members to Join ');
            this.s(this.f("selfJoin_true", c, b, 1), c, b, 0, 1371, 1407, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="sub-name"> Any org member can join this board without being invited. ');
            this.s(this.f("hasOrg", c, b, 1), c, b, 1, 0, 0, "") || this.b(" To enable this, the board has to be a part of an org. ");
            this.b(" ");
            this.s(this.f("permissionLevel_private", c, b, 1), c, b, 0, 1614, 1659, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" To enable this, the board can't be private. ")
            }), c.pop());
            this.b(" </span> </a> </li> </ul> ");
            return this.fl()
        },
        board_menu_subscribed_state: function(c, b, d) {
            this.b(d = d || "");
            this.b("Subscribe");
            this.s(this.f("subscribed", c, b, 1), c, b, 0, 24, 60, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('d <span class="icon-sm icon-check"/>')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        board_menu_vis: function(c,
            b, d) {
            this.b(d = d || "");
            this.s(this.f("explanationText", c, b, 1), c, b, 0, 20, 64, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="quiet"> ');
                f.b(f.v(f.f("explanationText", b, d, 0)));
                f.b(" </p> ")
            }), c.pop());
            this.b(' <li> <a class="js-select');
            this.s(this.f("disabledVis_private", c, b, 1), c, b, 1, 0, 0, "") || this.b(" light-hover");
            this.b(" ");
            this.s(this.f("disabledVis_private", c, b, 1), c, b, 0, 194, 203, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" disabled")
            }), c.pop());
            this.b(' " href="#" name="private"> <span class="icon-sm icon-');
            this.b(this.v(this.f("iconClass_private", c, b, 0)));
            this.b(' vis-icon"/> Private ');
            this.s(this.f("permissionLevel_private", c, b, 1), c, b, 0, 351, 387, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="sub-name"> ');
            this.b(this.v(this.f("permText_private", c, b, 0)));
            this.b(" ");
            this.s(this.f("showVisRestriction_private", c, b, 1), c, b, 0, 492, 543, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="error">');
                f.b(f.v(f.f("visRestrictionText", b,
                    d, 0)));
                f.b("</span> ")
            }), c.pop());
            this.b(' </span> </a> </li> <li> <a class="js-select ');
            this.s(this.f("disabledVis_org", c, b, 1), c, b, 1, 0, 0, "") || this.b(" light-hover");
            this.b(" ");
            this.s(this.f("disabledVis_org", c, b, 1), c, b, 0, 692, 701, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" disabled")
            }), c.pop());
            this.b(' " href="#" name="org"> <span class="icon-sm icon-');
            this.b(this.v(this.f("iconClass_org", c, b, 0)));
            this.b(' vis-icon"/> Organization ');
            this.s(this.f("permissionLevel_org", c, b, 1), c, b, 0, 838, 874, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(' <span class="icon-sm icon-check"/> ')
                }), c.pop());
            this.b(' <span class="sub-name"> ');
            this.b(this.v(this.f("permText_org", c, b, 0)));
            this.b(" ");
            this.s(this.f("disabledVis_org", c, b, 1), c, b, 0, 960, 1062, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.s(f.f("hasOrg", b, d, 1), b, d, 1, 0, 0, "") || f.b(' <span class="error"> The board must be added to an org to enable this. </span> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("showVisRestriction_org", c, b, 1), c, b, 0, 1110, 1161, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b(' <span class="error">');
                    f.b(f.v(f.f("visRestrictionText", b, d, 0)));
                    f.b("</span> ")
                }), c.pop());
            this.b(' </span> </a> </li> <li> <a class="js-select');
            this.s(this.f("disabledVis_public", c, b, 1), c, b, 1, 0, 0, "") || this.b(" light-hover");
            this.b(" ");
            this.s(this.f("disabledVis_public", c, b, 1), c, b, 0, 1314, 1323, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" disabled")
            }), c.pop());
            this.b(' " href="#" name="public"> <span class="icon-sm icon-');
            this.b(this.v(this.f("iconClass_public", c, b, 0)));
            this.b(' vis-icon"/> Public ');
            this.s(this.f("permissionLevel_public", c, b, 1), c, b, 0, 1466, 1502, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="sub-name"> ');
            this.b(this.v(this.f("permText_public", c, b, 0)));
            this.b(" ");
            this.s(this.f("showVisRestriction_public", c, b, 1), c, b, 0, 1604, 1655, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="error">');
                f.b(f.v(f.f("visRestrictionText", b, d, 0)));
                f.b("</span> ")
            }), c.pop());
            this.b(" </span> </a> </li> ");
            return this.fl()
        },
        board_new: function(c, b, d) {
            this.b(d = d || "");
            this.b('<form> <label for="boardNewTitle">Title</label> <input id="boardNewTitle" type="text" name="name" class="non-empty js-autofocus" placeholder="Untitled Board"> <div');
            this.s(this.f("hideOrg", c, b, 1), c, b, 0, 175, 188, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' class="hide"')
            }), c.pop());
            this.b('> <div class="clearfix"> <label class="left" style="margin-right: 8px;">Organization</label> ');
            this.s(this.f("canAddToOrgs", c, b, 1), c, b, 0, 310, 383,
                "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="#" class="icon-sm icon-info dark-hover js-helper-add-org"></a> ')
            }), c.pop());
            this.b(" </div> ");
            this.s(this.f("canAddToOrgs", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p style="margin-bottom: 16px;" class="quiet"> Organizations make sharing and working within a group even easier. It doesn\u2019t look like you are a member of any organizations. <a href="#" class=\'js-create-org\'>Create an organization.</a> </p> ');
            this.b(' <select name="org-id"');
            this.s(this.f("canAddToOrgs",
                c, b, 1), c, b, 1, 0, 0, "") || this.b(' class="hide"');
            this.b('> <option value="">(none)</option> ');
            this.s(this.f("orgs", c, b, 1), c, b, 0, 797, 883, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <option value="');
                f.b(f.v(f.f("id", b, d, 0)));
                f.b('"');
                f.s(f.f("selectOrg", b, d, 1), b, d, 0, 834, 843, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" selected")
                }), b.pop());
                f.b(">");
                f.b(f.v(f.f("displayName", b, d, 0)));
                f.b("</option> ")
            }), c.pop());
            this.b(' </select> </div> <input type="hidden" name="permissionLevel" value="');
            this.b(this.v(this.f("pLevel",
                c, b, 0)));
            this.b('"> <p class="quiet js-vis-display"/> <ul class="pop-over-list js-vis-chooser hide"/> <p class="error bottom js-no-valid-org-privs clearfix hide"> Due to<span class="js-not-admin-text"> admin</span> restrictions, you are not allowed to create new boards in this organization. To change this, <span class="js-not-admin-text">get an organization admin to </span> change the Board Creation Restrictions <span class="js-not-admin-text">on the organization\u2019s settings page.</span> <span class="js-admin-text hide">on the <a class="js-org-account-url">organization\u2019s settings page</a>.</span> </p> ');
            this.s(this.f("isCopyBoard", c, b, 1), c, b, 0, 1578, 1751, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="check-div clearfix" style="margin-top: 10px;"> <input type="checkbox" id="idKeepCards" name="cards" checked> <label for="idKeepCards">Keep Cards</label> </div> ')
            }), c.pop());
            this.b(' <input type="submit" class="primary wide js-submit disabled" value="Create"> </form> ');
            return this.fl()
        },
        board_new_vis: function(c, b, d) {
            this.b(d || "");
            this.b('<span class="icon-sm icon-');
            this.b(this.v(this.f("visIconClass",
                c, b, 0)));
            this.b('"/>This board will be <strong>');
            this.b(this.v(this.f("visDisplayText", c, b, 0)));
            this.b('</strong>. <a href="#" class="js-change-vis">Change.</a> ');
            return this.fl()
        },
        board_observer_count: function(c, b, d) {
            this.b(d || "");
            this.b('<a href="#" class="quiet-button js-show-observers" style="margin: 4px 0 0;">');
            this.b(this.v(this.f("count", c, b, 0)));
            this.b("</a> ");
            return this.fl()
        },
        board_sidebar: function(c, b, d) {
            this.b(d || "");
            this.b('<a href="#" class="sidebar-hide-btn dark-hover js-hide-sidebar" title="Close the board sidebar."> <span class="icon-sm icon-rightarrow"/> </a> <div class="board-widgets-title clearfix"> <a href="#" class="board-sidebar-back-btn js-pop-widget-view"><span class="left-arrow"/>Back</a> <h3 class="text js-widget-title"></h3> <hr> </div> <div class="board-widgets-content-wrapper"></div> <div class="sidebar-archive-dropzone js-sidebar-archive-dropzone"><p>Drop here to archive.</p></div> ');
            return this.fl()
        },
        board_watchers: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("showWatchers", c, b, 1), c, b, 0, 17, 49, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.v(f.f("nWatchers", b, d, 0)));
                f.b(" people watching. ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        board_widget_default: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="error js-file-too-large" style="margin: 12px 0 6px; display:none;">File too large. 10mb limit.</p> <div class="board-widget board-widget-nav clearfix');
            this.s(this.f("collapseWidgetNav",
                c, b, 1), c, b, 0, 181, 191, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" collapsed")
            }), c.pop());
            this.b('"> <h3 class="dark-hover toggle-widget-nav js-toggle-widget-nav" title="Click here to see more board options."> Menu <span class="icon-sm icon-menu toggle-menu-icon"></span> </h3> <ul class="nav-list"> <hr style="margin-top: 0;"> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 452, 702, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <li> <a href="#" class="nav-list-item js-open-power-ups"> <span class="icon-sm icon-rocket icon-type"/> Power-Ups </a> </li> <li> <a href="#" class="nav-list-item js-open-stickers"> <span class="icon-sm icon-sticker icon-type"/> Stickers </a> </li> ')
                }),
                c.pop());
            this.b(' <li> <a href="#" class="nav-list-item js-open-card-filter"> <span class="icon-sm icon-filter icon-type"/> Filter Cards </a> </li> <li> <a href="#" class="nav-list-item js-open-archive"> <span class="icon-sm icon-archive icon-type"/> Archived Items </a> </li> <hr> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 985, 1381, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a class="nav-list-item nav-list-sub-item board-settings-background js-change-background');
                f.s(f.f("__ed", b, d, 1), b, d, 1, 0, 0,
                    "") || f.b(" disabled");
                f.b('" href="#"> <span class="board-settings-background-preview" style="');
                f.s(f.f("backgroundImageUrl", b, d, 1), b, d, 0, 1196, 1242, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("background-image: url(");
                    e.b(e.v(e.f("backgroundImageUrl", b, d, 0)));
                    e.b(");")
                }), b.pop());
                f.s(f.f("backgroundColor", b, d, 1), b, d, 0, 1285, 1321, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("background-color:");
                    e.b(e.v(e.f("backgroundColor", b, d, 0)))
                }), b.pop());
                f.b('"></span> Change Background\u2026 </a> </li> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 1400, 1504, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a href="#" class="nav-list-item nav-list-sub-item js-email"> Email-to-board Settings\u2026 </a> </li> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("__loggedIn", c, b, 1), c, b, 0, 1529, 1749, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <li> <a class="nav-list-item nav-list-sub-item js-board-subscribe" href="#"> <span class="js-subscribed-state"/> </a> </li> <li> <a class="nav-list-item nav-list-sub-item js-copy-board" href="#"> Copy Board\u2026 </a> </li> ')
                }),
                c.pop());
            this.b(' <li> <a class="nav-list-item nav-list-sub-item js-share" href="#"> Share, Print, and Export\u2026 </a> </li> ');
            this.s(this.f("canCloseBoard", c, b, 1), c, b, 0, 1887, 2097, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <hr> <li> <a href="#" class="nav-list-item nav-list-sub-item js-open-settings"> Additional Settings\u2026 </a> </li> <li> <a class="nav-list-item nav-list-sub-item js-close-board" href="#"> Close Board\u2026 </a> </li> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("canLeaveBoard",
                c, b, 1), c, b, 0, 2134, 2275, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("canCloseBoard", b, d, 1), b, d, 1, 0, 0, "") || f.b(" <hr> ");
                f.b(' <li> <a class="nav-list-item nav-list-sub-item js-leave-board" href="#"> Leave Board\u2026 </a> </li> ')
            }), c.pop());
            this.b(' </ul> </div> <div class="js-ad"></div> <hr> ');
            this.s(this.f("canJoin", c, b, 1), c, b, 0, 2350, 2594, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="board-widget clearfix"> <a href="#" class="button js-join-board" style="margin: 0;"> Join Board </a> ');
                f.s(f.f("selfJoin_true", b, d, 1), b, d, 0, 2482, 2563, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <p class="helper" style="margin-top: 8px;">Org members can join this board.</p> ')
                }), b.pop());
                f.b(" </div> <hr> ")
            }), c.pop());
            this.b(' <div class="board-widget board-widget-members clearfix"> <div class="board-widget-title"> <h3>Members</h3> </div> <div class="board-widget-content"> <div class="board-widget-members js-list-board-members clearfix');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 2828, 2860, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b(" js-list-draggable-board-members")
                }), c.pop());
            this.b('"></div> <div class="js-list-observers"></div> ');
            this.s(this.f("canInviteMembers", c, b, 1), c, b, 0, 2937, 3060, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="#" class="button-link js-open-manage-board-members"> <span class="icon-sm icon-member"></span> Add Members\u2026 </a> ')
            }), c.pop());
            this.b(' </div> </div> <hr> <div class="board-widget board-widget-activity bottom clearfix"> <div class="board-widget-title"> <h3>Activity</h3> </div> <div class="board-widget-content"> <div class="activity-gradient-t"></div> <div class="activity-gradient-b"></div> <div class="board-actions-list fancy-scrollbar"> <div class="js-sidebar-list-actions"></div> <a class="show-more js-view-all-activity-list" href="#"> View all activity\u2026 </a> </div> </div> </div> ');
            return this.fl()
        },
        boards_sidebar_section: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="sidebar-section-header quiet js-sidebar-section-header"> ');
            this.s(this.f("isOrg", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("title", c, b, 1), c, b, 0, 88, 228, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("iconClass", b, d, 1), b, d, 0, 103, 153, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <span class="icon-sm icon-');
                    e.b(e.v(e.f("iconClass", b, d, 0)));
                    e.b('"></span> ')
                }), b.pop());
                f.b(' <span class="sidebar-section-header-title">');
                f.b(f.v(f.f("title", b, d, 0)));
                f.b("</span> ")
            }), c.pop()), this.b(" "));
            this.b(" ");
            this.s(this.f("isOrg", c, b, 1), c, b, 0, 260, 662, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="dark-hover" href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('"> <span class="icon-sm ');
                f.s(f.f("orgLogoUrl", b, d, 1), b, d, 1, 0, 0, "") || f.b("icon-org");
                f.s(f.f("orgLogoUrl", b, d, 1), b, d, 0, 373, 385, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("custom-image")
                }), b.pop());
                f.b('"> ');
                f.s(f.f("orgLogoUrl", b, d, 1), b, d, 0, 418, 471, "{{ }}") && (f.rs(b, d, function(b,
                    d, e) {
                    e.b('<img src="');
                    e.b(e.v(e.f("orgLogoUrl", b, d, 0)));
                    e.b('" alt="');
                    e.b(e.v(e.f("displayName", b, d, 0)));
                    e.b(' logo">')
                }), b.pop());
                f.b(' </span> <span class="sidebar-section-header-title">');
                f.b(f.v(f.f("displayName", b, d, 0)));
                f.b('</span> <span class="icon-sm icon-briefcase icon-briefcase-bc-color hide js-has-business-class"></span> </a> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("sectionId", c, b, 1), c, b, 0, 687, 961, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <span class="sidebar-section-header-toggle-icon icon-sm icon-remove dark-hover js-collapse-section hide" title="Collapse section."> </span> <span class="sidebar-section-header-toggle-icon icon-sm icon-add dark-hover js-expand-section hide" title="Expand section."> </span> ')
                }),
                c.pop());
            this.b(' </p> <ul class="sidebar-boards-list js-board-list"></ul> ');
            return this.fl()
        },
        calendar_day: function(c, b, d) {
            this.b(d = d || "");
            this.b(" ");
            this.s(this.f("monthView", c, b, 1), c, b, 0, 17, 54, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<div class="calendar-day-spacer-div">')
            }), c.pop());
            this.b(' <div class="calendar-day js-expand-day ');
            this.s(this.f("isToday", c, b, 1), c, b, 0, 124, 129, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("today")
            }), c.pop());
            this.b('"> <div class="day-header clearfix js-toggle-day"> <h3 class="date"> <div class=\'day-month-header\'>');
            this.b(this.v(this.f("month", c, b, 0)));
            this.b("</div> <div class='day-full-month-header'>");
            this.b(this.v(this.f("fullMonth", c, b, 0)));
            this.b("</div> <div class='day-date-header'>");
            this.b(this.v(this.f("date", c, b, 0)));
            this.b('</div> </h3> <div class="quiet num-cards"> <div class="day-number-header"></div> <div class="day-cards-header"></div> </div> <a class="close-button icon-sm icon-close dark-hover"></a> </div> <div class="calendar-day-list js-calendar-sortable fancy-scrollbar"></div> ');
            this.s(this.f("__ed",
                c, b, 1), c, b, 0, 625, 696, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="open-card-composer js-open-card-composer">Add a card...</a> ')
            }), c.pop());
            this.b(" </div> ");
            this.s(this.f("monthView", c, b, 1), c, b, 0, 729, 735, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("</div>")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        calendar_day_list_header: function(c, b, d) {
            this.b(d || "");
            this.b("<span class='calendar-list-header' name='");
            this.b(this.v(this.f("listID", c, b, 0)));
            this.b('\'> <span class="icon-sm icon-list"></span>');
            this.b(this.v(this.f("listName", c, b, 0)));
            this.b(" </span> ");
            return this.fl()
        },
        calendar_month: function(c, b, d) {
            this.b(d || "");
            this.b('<table class="calendar-table"></table> ');
            return this.fl()
        },
        calendar_toolbar: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="calendar-header"> <div class="calendar-header-toolbar"> <h2 class="calendar-header-toolbar-title js-calendar-header"></h2> <div class="calendar-header-toolbar-today"> <a class="button-link today-button js-today" href="#"> Today </a> </div> <div class="calendar-header-toolbar-nav"> <a class="button-link js-left-arrow left-arrow" href="#"> <span class="icon-sm icon-leftarrow"/> </a> <a class="button-link js-right-arrow right-arrow" href="#"> <span class="icon-sm icon-rightarrow"/> </a> </div> <div class="calendar-header-toolbar-close"> <a class="icon-lg icon-close dark-hover js-close-calendar" href="#" title="Close the calendar"/> </div> <div class="calendar-header-toolbar-type"> <a class="button-link js-week-view week-button" href="#"> Week </a> <a class="button-link js-month-view month-button" href="#"> Month </a> </div> </div> <div class="days-of-week"> ');
            this.s(this.f("days", c, b, 1), c, b, 0, 888, 920, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="quiet">');
                f.b(f.v(f.d(".", b, d, 0)));
                f.b("</div> ")
            }), c.pop());
            this.b(' </div> </div> <div class="calendar-content"></div> ');
            return this.fl()
        },
        calendar_week: function(c, b, d) {
            this.b(d || "");
            this.b("<div class='week-horizontal-canvas'></div> ");
            return this.fl()
        },
        cant_add_board_to_org: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="quiet"> ');
            this.s(this.f("organization", c, b, 1), c, b, 0, 35, 50, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b(f.v(f.f("displayName", b, d, 0)))
                }), c.pop());
            this.b(" does not allow new boards. ");
            this.s(this.f("isOrgAdmin", c, b, 1), c, b, 0, 110, 239, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' You can change this in the <a href="');
                f.b(f.v(f.f("orgSettingsUrl", b, d, 0)));
                f.b('">organization settings</a> by clicking on "Board Creation Restrictions". ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isOrgAdmin", c, b, 1), c, b, 1, 0, 0, "") || this.b(' An org admin can change this on the organization settings page by clicking on "Board Creation Restrictions". ');
            this.b(" </p> ");
            return this.fl()
        },
        cardLink: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('"');
            this.s(this.f("name", c, b, 1), c, b, 0, 26, 43, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' title="');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('"')
            }), c.pop());
            this.b(">#");
            this.b(this.v(this.f("idShort", c, b, 0)));
            this.b("</a> ");
            return this.fl()
        },
        card_composer_inline: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="list-card js-composer"> <div class="list-card-labels clearfix js-list-card-composer-labels"></div> <div class="list-card-details clearfix"> <textarea class="list-card-composer-textarea js-card-title">');
            this.b(this.v(this.f("title", c, b, 0)));
            this.b('</textarea> <div class="list-card-members js-list-card-composer-members"></div> </div> </div> <div class="cc-controls clearfix"> <input type="submit" class="primary confirm js-add-card" value="Add"> <a class="icon-lg icon-close dark-hover js-cancel" href="#"/> <a class="cc-opt icon-lg icon-menu dark-hover js-cc-menu" href="#"/> </div> ');
            return this.fl()
        },
        card_copy: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("loading", c, b, 1), c, b, 0, 12, 73, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b(' <div class="spinner loading js-loading-card-actions"></div> ')
                }), c.pop());
            this.b(" ");
            this.s(this.f("loading", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <form> <label>Title</label> <textarea name="name" class="js-autofocus" style="margin-bottom: 12px;">'), this.b(this.v(this.f("name", c, b, 0))), this.b("</textarea> "), this.s(this.f("hasStuff", c, b, 1), c, b, 0, 232, 1703, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p style="margin-bottom: 4px;"><strong>Keep\u2026</strong></p> ');
                f.s(f.f("hasChecklists",
                    b, d, 1), b, d, 0, 309, 518, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="check-div clearfix"> <input id="idKeepChecklists" type="checkbox" name="checklists" checked> <label for="idKeepChecklists">Checklists <span class="quiet">(');
                    e.b(e.v(e.f("numChecklists", b, d, 0)));
                    e.b(")</span></label> </div> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("hasLabels", b, d, 1), b, d, 0, 551, 740, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="check-div clearfix"> <input id="idKeepLabels" type="checkbox" name="labels" checked> <label for="idKeepLabels">Labels <span class="quiet">(');
                    e.b(e.v(e.f("numLabels", b, d, 0)));
                    e.b(")</span></label> </div> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("hasMembers", b, d, 1), b, d, 0, 770, 964, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="check-div clearfix"> <input id="idKeepMembers" type="checkbox" name="members" checked> <label for="idKeepMembers">Members <span class="quiet">(');
                    e.b(e.v(e.f("numMembers", b, d, 0)));
                    e.b(")</span></label> </div> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("hasAttachments", b, d, 1), b, d, 0, 999, 1215, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="check-div clearfix"> <input id="idKeepAttachments" type="checkbox" name="attachments" checked> <label for="idKeepAttachments">Attachments <span class="quiet">(');
                    e.b(e.v(e.f("numAttachments", b, d, 0)));
                    e.b(")</span></label> </div> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("hasComments", b, d, 1), b, d, 0, 1251, 1452, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="check-div clearfix"> <input id="idKeepComments" type="checkbox" name="comments" checked> <label for="idKeepComments">Comments <span class="quiet">(');
                    e.b(e.v(e.f("numComments", b, d, 0)));
                    e.b(")</span></label> </div> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("hasStickers", b, d, 1), b, d, 0, 1485, 1686, "{{ }}") && (f.rs(b, d, function(b,
                    d, e) {
                    e.b(' <div class="check-div clearfix"> <input id="idKeepStickers" type="checkbox" name="stickers" checked> <label for="idKeepStickers">Stickers <span class="quiet">(');
                    e.b(e.v(e.f("numStickers", b, d, 0)));
                    e.b(")</span></label> </div> ")
                }), b.pop());
                f.b(" ")
            }), c.pop()), this.b(" <br> <label>Copy to\u2026</label> "), this.b(this.rp("move_card_controls", c, b, "")), this.b(' <input type="submit" class="primary wide js-submit" value="Create Card"> </form> '));
            this.b(" ");
            return this.fl()
        },
        card_copy_from: function(c,
            b, d) {
            this.b(d = d || "");
            this.s(this.f("showInput", c, b, 1), c, b, 0, 14, 103, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<input class="js-input js-autofocus" type="text" placeholder="Search for a card to copy">')
            }), c.pop());
            this.b(' <div class="js-card-results"></div> ');
            return this.fl()
        },
        card_detail: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-cover hide js-card-cover-box js-open-card-cover-in-viewer"> <div class="window-cover-stickers js-display-stickers"></div> </div> <div class="window-archive-banner hide js-archive-banner"> <span class="icon-lg icon-archive window-archive-banner-icon"></span> <p class="window-archive-banner-text"> This card is archived.</p> </div> <div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-card"></span> <div class="window-title card-detail-title non-empty inline ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 515, 525, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" editable ")
            }), c.pop());
            this.b(' " attr="name"> <h2 class="window-title-text current hide-on-edit js-card-title"> ');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b(" </h2> ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 640, 913, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" <p class=\"edits-warning quiet\">You have unsaved edits on this field. <a href='#' class='js-view-edits'>View edits</a> or <a href='#' class='js-discard-edits'>discard</a>.</p> <div class=\"edit edit-heavy\"> <textarea type=\"text\" class=\"field single-line\"></textarea> </div> ")
                }),
                c.pop());
            this.b(' <div class="hide quiet hide-on-edit window-header-inline-content js-current-list"></div> <div class="hide hide-on-edit window-header-inline-content js-subscribed-indicator-header"><span class="icon-sm icon-follow"></span></div> </div> </div> <div class="window-main-col clearfix"> <div class="card-detail-data gutter clearfix"> <div class="card-detail-item card-detail-item-members clearfix hide js-card-detail-members"> <h3 class="card-detail-item-header">Members</h3> <div class="js-card-detail-members-list clearfix"></div> </div> <div class="card-detail-item card-detail-item-labels clearfix hide js-card-detail-labels"> <h3 class="card-detail-item-header">Labels</h3> <div class="js-card-detail-labels-list clearfix"></div> </div> <div class="card-detail-item card-detail-item-due-date clearfix hide js-card-detail-due-date"> <h3 class="card-detail-item-header">Due Date</h3> <a href="#" class="card-detail-badge card-detail-due-date-badge js-card-detail-due-date-badge"></a> </div> <div class="card-detail-item card-detail-item-votes clearfix hide js-card-detail-votes"> <h3 class="card-detail-item-header">Votes</h3> <a href="#" class="card-detail-badge card-detail-vote-badge badge-state-clickable js-card-detail-votes-badge js-show-votes"></a> </div> <div class="card-detail-item clearfix hide js-card-detail-age"> <h3 class="card-detail-item-header">Last Updated</h3> <div class="card-detail-badge card-detail-badge-aging date js-card-detail-age-badge clearfix"></div> </div> <div class="card-detail-item card-detail-item-block clear clearfix');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 2484, 2493, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" editable")
            }), c.pop());
            this.b('" attr="desc"> <h3 class="card-detail-item-header hide js-show-with-desc">Description</h3> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 2602, 2696, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="card-detail-item-header-edit hide-on-edit js-show-with-desc js-edit-desc">Edit</a> ')
            }), c.pop());
            this.b(' <div class="current markeddown hide-on-edit js-card-desc js-show-with-desc hide"></div> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 2803, 3324, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <p class="bottom"><a class="hide-on-edit quiet-button w-img js-edit-desc js-hide-with-desc" href="#"><span class="icon-sm icon-desc"/>Edit the description\u2026</a></p> <div class="card-detail-edit edit"> <a href="#" class="helper js-format-help">Formatting help</a> <textarea class="field" /> </div> <p class="edits-warning quiet">You have unsaved edits on this field. <a href=\'#\' class=\'js-view-edits\'>View edits</a> or <a href=\'#\' class=\'js-discard-edits\'>discard</a>.</p> <p class="edits-error error">Edit not saved.</p> ')
                }),
                c.pop());
            this.b(' </div> </div> <div class="window-module js-attachments-section clearfix hide"> <div class="window-module-title window-module-title-no-divider"> <span class="window-module-title-icon icon-lg icon-attachment"/> <h3 class="inline-block">Attachments</h3> </div> <div class="gutter"> <div class="clearfix js-attachment-list"></div> <p class="js-show-fewer-attachments hide"> <a class="quiet-button js-view-some-attachments" href="#">Show fewer attachments.</a> </p> <p class="js-show-more-attachments hide"> <a class="quiet-button js-view-all-attachments" href="#">View all attachments (<span class="js-num-attachments"/> hidden)</a> </p> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 3977, 4204, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p> <a href="#" class="quiet-button js-attach" title="Attach files from your computer, Google Drive, Dropbox, and other services. You can also drag\'n\'drop files from your desktop to upload them."> Add an attachment\u2026 </a> </p> ')
            }), c.pop());
            this.b(' </div> </div> <div class="checklist-list window-module js-checklist-list js-no-higher-edits"></div> <div class="window-module"> <div class="window-module-title window-module-title-no-divider"> <span class="window-module-title-icon icon-lg icon-activity"/> <h3>Activity</h3> <div class="window-module-title-options"> <a href="#" class="quiet js-show-extra-actions hide">Show details</a> <a href="#" class="quiet js-hide-extra-actions hide">Hide details</a> </div> <span class="editing-members js-editing-members hide"></span> </div> ');
            this.s(this.f("canComment", c, b, 1), c, b, 0, 4761, 5378, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="new-comment js-new-comment"> ');
                f.s(f.f("me", b, d, 1), b, d, 0, 4810, 4866, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="member member-no-menu"> ');
                    e.b(e.rp("member", b, d, ""));
                    e.b(" </div> ")
                }), b.pop());
                f.b(' <textarea class="new-comment-input js-new-comment-input js-no-ie-placeholder" placeholder="Write a comment\u2026" tabindex="1" /> <div class="add-controls clearfix"> ');
                f.b(f.rp("comment_options",
                    b, d, ""));
                f.b(' <input type="submit" class="primary confirm clear js-add-comment" value="Comment" tabindex="2"> </div> <div class="too-long hide"> <div>Your comment is too long</div> <input type="submit" class="js-attach-comment" value="Add as attachment"> <input type="submit" class="js-truncate-comment" value="Truncate"> </div> </div> ')
            }), c.pop());
            this.b(' <div class="hide-extra-actions js-list-actions"></div> ');
            this.s(this.f("loading", c, b, 1), c, b, 0, 5461, 5522, "{{ }}") && (this.rs(c, b, function(b, d,
                f) {
                f.b(' <div class="spinner loading js-loading-card-actions"></div> ')
            }), c.pop());
            this.b(' <p class="bottom"> <a class="show-more hide js-show-all-actions" href="#">Show all actions\u2026</a> </p> </div> </div> <div class="window-sidebar"> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 5688, 6602, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="window-module clearfix"> <h3>Add</h3> <div class="clearfix"> <a class="button-link js-change-card-members" title="Add or remove members of the board from the card."> <span class="icon-sm icon-member"/> Members </a> <a class="button-link js-edit-labels" title="Change the labels for the card."> <span class="icon-sm icon-label"/> Labels </a> <a class="button-link js-add-checklist-menu" title="Add a checklist and divide the card into subtasks."> <span class="icon-sm icon-checklist"/> Checklist </a> <a class="button-link js-add-due-date" title="Add a due date for the card and get notifications when it is almost due."> <span class="icon-sm icon-clock"/> Due date </a> <a class="button-link js-attach" title="Attach files from your computer or from Google Drive. You can also drag\'n\'drop files from your desktop to upload them."> <span class="icon-sm icon-attachment"/> Attachment </a> </div> </div> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("__ed", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("showActions", c, b, 1), c, b, 0, 6638, 6857, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("canSubscribe", b, d, 1), b, d, 0, 6656, 6839, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="window-module clearfix"> <h3>Actions</h3> <div class="clearfix"> <div class="js-subscribe-sidebar-button"></div> <div class="js-vote-sidebar-button"></div> </div> </div> ')
                }), b.pop());
                f.b(" ")
            }), c.pop()), this.b(" "));
            this.b(" ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 6893, 7918, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="window-module other-actions clearfix"> <h3>Actions</h3> <div class="clearfix"> <a class="button-link js-move-card" title="Move the card to another board, another list, or a new position in a list"> <span class="icon-sm icon-move"></span> Move </a> <a class="button-link js-copy-card" title="Make a copy of this card, optionally include checklist, labels, members, attachments, etc."> <span class="icon-sm icon-card"></span> Copy </a> <div class="js-subscribe-sidebar-button"></div> <div class="js-vote-sidebar-button"></div> <hr> <a class="button-link js-archive-card" title="Remove the card from the board."> <span class="icon-sm icon-archive"></span> Archive </a> <a class="button-link js-unarchive-card" title="Send the card back to the board."> <span class="icon-sm icon-reopen"></span> Send to board </a> <a class="button-link negate hide js-delete-card" title="Delete the card and all history associated with it. It can\u2019t be retrieved."> <span class="icon-sm icon-remove"></span> Delete </a> </div> </div> ')
                }),
                c.pop());
            this.b(' <div class="window-module clearfix"> <p class="quiet bottom"> <a class="quiet-button js-more-menu" href="#" title="More options share, print, export');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 8085, 8097, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(", and delete")
            }), c.pop());
            this.b('.">Share and more\u2026</a> </p> </div> </div> <p class="dropzone">Drop files to upload.</p> ');
            return this.fl()
        },
        card_detail_add_button: function(c, b, d) {
            this.b(d || "");
            this.b('<a class="card-detail-item-add-button dark-hover ');
            this.b(this.v(this.f("classes", c, b, 0)));
            this.b('"><span class="icon-sm icon-add"></span></a> ');
            return this.fl()
        },
        card_detail_list: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="inline-block bottom">in list <a href="#" class="');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 67, 91, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("js-open-move-from-header")
            }), c.pop());
            this.s(this.f("__ed", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('"><strong>');
            this.b(this.v(this.f("listName", c, b, 0)));
            this.b("</strong></a></p> ");
            return this.fl()
        },
        card_detail_more_menu: function(c, b, d) {
            this.b(d || "");
            this.b('<ul class="pop-over-list"> <li> <a class="js-print" href="#" title="Use the browser\u2019s print function. You can use \u201cFile\u201d > \u201cPrint\u201d or \u201ccmd + P\u201d (Mac) or \u201ccontrol + P\u201d (Windows)">Print\u2026</a> </li> <li> <a class="js-export-json" href="');
            this.b(this.v(this.f("jsonURL", c, b, 0)));
            this.b('" title="Export the card data in JSON format">Export JSON</a> </li> </ul> ');
            this.b(this.rp("meta",
                c, b, ""));
            this.b(" ");
            return this.fl()
        },
        card_detail_subscribe: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a class="button-link ');
            this.s(this.f("subscribed", c, b, 1), c, b, 0, 37, 43, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("is-on ")
            }), c.pop());
            this.b(" js-");
            this.s(this.f("subscribed", c, b, 1), c, b, 0, 77, 79, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("un")
            }), c.pop());
            this.b('subscribe" title="Subscribe to the card to get notifications when something changes."> <span class="icon-sm icon-follow"></span> Subscribe <span class="on"><span class="icon-sm icon-check light"/></span> </a> ');
            return this.fl()
        },
        card_detail_vote_badge: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a class="badge vote-badge js-show-votes clickable');
            this.s(this.f("voted", c, b, 1), c, b, 0, 60, 66, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" voted")
            }), c.pop());
            this.b('" href="#"> <span class="icon-sm icon-vote"/> <span class="badge-text">');
            this.s(this.f("nVotes", c, b, 1), c, b, 0, 158, 206, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(f.v(f.f("nVotes", b, d, 0)));
                    f.b(" vote");
                    f.s(f.f("singleVote", b, d, 1), b, d, 1, 0, 0, "") || f.b("s ");
                    f.b(" ")
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("voted", c, b, 1), c, b, 0, 228, 316, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("justYourVote", b, d, 1), b, d, 1, 0, 0, "") || f.b(" (with you)");
                f.b(" ");
                f.s(f.f("justYourVote", b, d, 1), b, d, 0, 292, 298, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" (you)")
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" </span> </a> ");
            return this.fl()
        },
        card_detail_vote_btn_sidebar: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("canVote", c, b, 1), c, b, 0, 12, 203, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="button-link ');
                f.s(f.f("voted", b, d, 1), b, d, 0, 45, 51, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("is-on ")
                }), b.pop());
                f.b(" js-");
                f.s(f.f("voted", b, d, 1), b, d, 0, 75, 77, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("un")
                }), b.pop());
                f.b('vote"> <span class="icon-sm icon-vote"/> Vote <span class="on"><span class="icon-sm icon-check light"/></span> </a> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        card_in_list: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="list-card-labels clearfix js-card-labels">');
            this.s(this.f("labels", c, b,
                1), c, b, 0, 65, 75, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.rp("label", b, d, ""))
            }), c.pop());
            this.b('</div> <div class="list-card-cover js-card-cover');
            this.s(this.f("showCover", c, b, 1), c, b, 1, 0, 0, "") || this.b(" hide");
            this.b('"></div> ');
            this.s(this.f("showEditor", c, b, 1), c, b, 0, 191, 300, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="list-card-operation icon-sm icon-edit dark-hover js-open-quick-card-editor js-card-menu"></span>')
            }), c.pop());
            this.b(' <div class="list-card-stickers-area clearfix');
            this.s(this.f("hasStickers", c, b, 1), c, b, 1, 0, 0, "") || this.b(" hide");
            this.b('"> <div class="stickers js-card-stickers"></div> </div> <div class="list-card-details clearfix"> ');
            this.s(this.f("quickEdit", c, b, 1), c, b, 1, 0, 0, "") || (this.b('<a class="list-card-title clear js-card-name"><span class="card-short-id hide">#'), this.b(this.v(this.f("idShort", c, b, 0))), this.b(" </span>"), this.b(this.v(this.f("name", c, b, 0))), this.b("</a>"));
            this.b(" ");
            this.s(this.f("quickEdit", c, b, 1), c, b, 0, 648, 725, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b('<textarea class="list-card-edit-title js-edit-card-title">');
                    f.b(f.v(f.f("name", b, d, 0)));
                    f.b("</textarea>")
                }), c.pop());
            this.b(' <div class="badges"></div> <div class="list-card-members js-list-card-members">');
            this.s(this.f("members", c, b, 1), c, b, 0, 831, 850, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.rp("member_on_card", b, d, ""))
            }), c.pop());
            this.b("</div> ");
            this.s(this.f("detailsOverlay", c, b, 1), c, b, 0, 888, 933, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b('<div class="list-card-details-overlay"></div>')
                }),
                c.pop());
            this.b(' </div> <p class="list-card-dropzone">Drop files to upload.</p> ');
            return this.fl()
        },
        card_inline: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a href="');
            this.b(this.v(this.f("cardUrl", c, b, 0)));
            this.b('" class="inline-object"');
            this.s(this.f("nameTruncated", c, b, 1), c, b, 0, 61, 78, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' title="');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('"')
            }), c.pop());
            this.b("> ");
            this.s(this.f("nameTruncated", c, b, 1), c, b, 0, 116, 134, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.v(f.f("nameTruncated",
                    b, d, 0)));
                f.b("\u2026")
            }), c.pop());
            this.b(" ");
            this.s(this.f("nameTruncated", c, b, 1), c, b, 1, 0, 0, "") || this.b(this.v(this.f("name", c, b, 0)));
            this.b(" </a> ");
            return this.fl()
        },
        card_menu_meta: function(c, b, d) {
            this.b(d = d || "");
            this.b('<hr> <p class="quiet bottom" style="padding: 6px 6px 4px;"> <span class="clearfix" style="display:block; margin-bottom: 6px;"> Card #');
            this.b(this.v(this.f("idShort", c, b, 0)));
            this.b(' </span> <span class="clearfix" style="display:block;"> <span>Link to this card</span> <span class="icon-sm icon-');
            this.b(this.v(this.f("pLevelClass", c, b, 0)));
            this.b('" title="');
            this.b(this.v(this.f("pLevelAltText", c, b, 0)));
            this.b('"></span> <input class="js-url js-autofocus inline-input" type="text" readonly="readonly" value="');
            this.b(this.v(this.f("shortUrl", c, b, 0)));
            this.b('"> </span> ');
            this.s(this.f("email", c, b, 1), c, b, 0, 428, 743, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("__ed", b, d, 1), b, d, 0, 438, 733, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <span class="clearfix" style="display:block;"> <span>Email for this card</span> <span class="icon-sm icon-info" title="Emails sent to this address will appear as a comment by you on the card"></span> <input class="js-url inline-input" type="text" readonly="readonly" value="');
                    e.b(e.v(e.f("email", b, d, 0)));
                    e.b('"> </span> ')
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("dateAdded", c, b, 1), c, b, 0, 768, 823, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' Added <span class="date" dt="');
                f.b(f.v(f.f("dateAdded", b, d, 0)));
                f.b('"></span> - ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 847, 973, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <a class="js-delete" href="#" title="Deleting is permanent. You will lose all actions associated with this card.">Delete</a> ')
                }),
                c.pop());
            this.b(" </p> ");
            return this.fl()
        },
        card_title_on_card_front: function(c, b, d) {
            this.b(d || "");
            this.b('<span class="card-short-id hide">#');
            this.b(this.v(this.f("idShort", c, b, 0)));
            this.b(" </span>");
            this.b(this.v(this.f("name", c, b, 0)));
            this.b(" ");
            return this.fl()
        },
        change_org_board_invite_restrict: function(c, b, d) {
            this.b(d = d || "");
            this.b('<li> <a class="highlight-icon js-');
            this.s(this.f("externalMembersDisabled", c, b, 1), c, b, 1, 0, 0, "") || this.b("enable");
            this.s(this.f("externalMembersDisabled", c, b,
                1), c, b, 0, 123, 130, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("disable")
            }), c.pop());
            this.b('-restrict" href="#"> Disable invites ');
            this.s(this.f("externalMembersDisabled", c, b, 1), c, b, 0, 223, 258, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/>')
            }), c.pop());
            this.b(' <span class="sub-name">If disabled, organization members won\u2019t be able to invite others outside of the organization. Org members wil still be able to add other org members to org boards.</span> </a> </li> ');
            return this.fl()
        },
        change_org_vis: function(c, b, d) {
            this.b(d = d || "");
            this.b('<li> <a class="highlight-icon js-select-members" href="#"> Private');
            this.s(this.f("permissionLevel_private", c, b, 1), c, b, 0, 94, 129, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/>')
            }), c.pop());
            this.b(' <span class="sub-name">');
            this.b(this.v(this.f("privateText", c, b, 0)));
            this.b('</span> </a> </li> <li> <a class="highlight-icon js-select-public" href="#"> Public');
            this.s(this.f("permissionLevel_public",
                c, b, 1), c, b, 0, 306, 341, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/>')
            }), c.pop());
            this.b(' <span class="sub-name">');
            this.b(this.v(this.f("publicText", c, b, 0)));
            this.b("</span> </a> </li> ");
            return this.fl()
        },
        checkitem_inline: function(c, b, d) {
            this.b(d || "");
            this.b(' checklist item "');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('" ');
            return this.fl()
        },
        checklist: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module-title window-module-title-no-divider clearfix');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 80, 88, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ed grab")
            }), c.pop());
            this.b('"> <span class="window-module-title-icon icon-lg icon-checklist"></span> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 179, 1014, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="editable non-empty checklist-title" attr="name"> <h3 class="current hide-on-edit">');
                    f.b(f.v(f.f("name", b, d, 0)));
                    f.b('</h3> <div class="window-module-title-options"> ');
                    f.s(f.f("__ed", b, d, 1), b, d, 0, 339, 726, "{{ }}") &&
                        (f.rs(b, d, function(b, d, e) {
                            e.b(' <a href="#" class="hide hide-on-edit quiet js-show-checked-items-button js-show-checked-items" style="margin: 0 8px;">Show <span class="js-checked-items-count"></span>.</a> <a href="#" class="hide hide-on-edit quiet js-hide-checked-items-button js-hide-checked-items" style="margin: 0 8px;">Hide completed items.</a> <a href="#" class="hide-on-edit quiet js-confirm-delete">Delete\u2026</a> ')
                        }), b.pop());
                    f.b(" </div> <div class=\"edit edit-heavy\"> <input type=\"text\" class=\"field full single-line\"/> </div> <p class=\"edits-warning quiet\">You have unsaved edits on this field. <a href='#' class='js-view-edits'>View edits</a> or <a href='#' class='js-discard-edits'>discard</a>.</p> </div> ")
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("__ed", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" <h3>"), this.b(this.v(this.f("name", c, b, 0))), this.b("</h3> "));
            this.b(' </div> <div class="checklist-progress"> <span class="checklist-progress-percentage js-checklist-progress-percent">0%</span> <div class="checklist-progress-bar"> <div class="checklist-progress-bar-current js-checklist-progress-bar"></div> </div> <span class="checklist-completed-text hide quiet js-completed-message">Everything in this checklist is complete!</span> </div> <div class="checklist-items-list js-checklist-items-list js-no-higher-edits"></div> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 1527, 2034, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="checklist-new-item gutter js-new-checklist-item"> <textarea class="checklist-new-item-text js-new-checklist-item-input" placeholder="Add an item\u2026"></textarea> <div class="add-controls clearfix"> <input type="submit" class="primary confirm js-add-checklist-item" value="Add"> <a href="#" class="icon-lg icon-close dark-hover cancel js-cancel-checklist-item"></a> <a class="option options-menu dark-hover js-open-editing-menu" href="#"> <span class="icon-lg icon-menu"></span> </a> </div> </div> ')
                }),
                c.pop());
            this.b(" ");
            return this.fl()
        },
        checklist_add_menu: function(c, b, d) {
            this.b(d = d || "");
            this.b('<form> <label for="id-checklist">Title</label> <input class="js-checklist-title js-autofocus" type="text" id="id-checklist" value="Checklist"> ');
            this.s(this.f("hasChecklistCards", c, b, 1), c, b, 0, 165, 530, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="js-copy-checklist"> <label for="js-checklist-copy-source">Copy Items From\u2026</label> <select class="js-checklist-copy-source"> <option value="" selected>(none)</option> ');
                f.s(f.f("checklistCards", b, d, 1), b, d, 0, 365, 492, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <optgroup label="');
                    e.b(e.v(e.f("name", b, d, 0)));
                    e.b('"> ');
                    e.s(e.f("checklists", b, d, 1), b, d, 0, 409, 464, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(' <option value="');
                        e.b(e.v(e.f("id", b, d, 0)));
                        e.b('">');
                        e.b(e.v(e.f("name", b, d, 0)));
                        e.b(" (");
                        e.b(e.v(e.f("length", b, d, 0)));
                        e.b(")</option> ")
                    }), b.pop());
                    e.b(" </optgroup> ")
                }), b.pop());
                f.b(" </select> </span> ")
            }), c.pop());
            this.b(' <input type="submit" class="primary wide confirm js-add-checklist" value="Add"> </form> ');
            return this.fl()
        },
        checklist_inline: function(c, b, d) {
            this.b(d || "");
            this.b(' checklist "');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('" ');
            return this.fl()
        },
        checklist_item: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="checklist-item-checkbox ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 45, 77, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("enabled js-toggle-checklist-item")
            }), c.pop());
            this.b('">&#x2713;</div> <div class="checklist-item-details non-empty ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 157, 165, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b("editable")
                }), c.pop());
            this.b('" attr="name"> <p class="checklist-item-details-text current hide-on-edit markeddown js-checkitem-name"></p> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 292, 606, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" <div class=\"edit delete convert options-menu\"> <textarea type=\"text\" class=\"field full single-line js-checkitem-input\"></textarea> </div> <p class=\"edits-warning quiet\">You have unsaved edits on this field. <a href='#' class='js-view-edits'>View edits</a> or <a href='#' class='js-discard-edits'>discard</a>.</p> ")
                }),
                c.pop());
            this.b(" </div> ");
            return this.fl()
        },
        chooser: function(c, b, d) {
            this.b(d || "");
            this.b('<div id="login" class="login-container hide"> <h1>Login in to Trello!</h1> <button id=\'login-button\' class="login-button button-green">Login</button> </div> <div id="pickerApp" class="container hide js-chooser-app"> </div> <div id="app-footer"> <button id=\'choose\' class=\'hide disabled action-button js-choose\'>Choose</button> <button id=\'attach\'class=\'hide disabled action-button js-attach\'>Attach</button> <button id=\'cancel\' class="cancel-button js-cancel">Cancel</button> </div> ');
            return this.fl()
        },
        chooser_search: function(c, b, d) {
            this.b(d || "");
            this.b('<div id="chooser-header"> <div class="header-logo-default"></div> <div class=\'header-user\'> <div class=\'header-btn header-member\'> <span class="member"></span> <span class="header-btn-text js-member-name"></span> </div> </div> </div> <div class="header-search js-search-box"> <input class="header-search-input js-search-input" type="text" autocomplete="off" autocorrect="off" spellcheck="false"/> <span class="header-search-icon icon-lg icon-search light js-search-icon js-search-focus"></span> <span class="header-search-icon header-search-icon-close icon-lg icon-close light hide js-close-icon js-search-close"></span> </div> <div id="content"></div> ');
            return this.fl()
        },
        closed_boards: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-header"> <span class="window-header-icon icon-lg icon-archive"/> <h2 class="window-title">Closed Boards</h2> </div> <div class="window-main-col"> ');
            this.s(this.f("empty", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <div class="window-module clearfix"> <ul class="archive-list gutter js-archive-items"/> </div> ');
            this.b(" ");
            this.s(this.f("empty", c, b, 1), c, b, 0, 292, 346, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <p class="empty-list">No boards have been closed</p> ')
                }),
                c.pop());
            this.b(' </div> <div class="window-sidebar"> <p class="helper">You have to have been a board admin to re-open a closed board.</p> </div> ');
            return this.fl()
        },
        comment_edit_controls: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="edit-controls clearfix"> ');
            this.b(this.rp("comment_options", c, b, ""));
            this.b(' <input type="submit" class="primary confirm js-save-edit" value="Save" tabindex="2"> </div> ');
            return this.fl()
        },
        comment_options: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="clearfix" style="margin-bottom: 6px;"> <a href="#" class="quiet-button left js-comment-add-attachment" title="Attach files from your computer, Google Drive, Dropbox, OneDrive, or Box. You can also drag\'n\'drop files from your desktop to upload them.">Add an attachment\u2026</a> <a href="#" class="quiet-button left js-comment-mention-member" title="Make sure a member gets a notification about this comment.">Mention a member\u2026</a> <a href="#" class="quiet-button left js-comment-add-emoji" title="Add emoji to this comment.">Add emoji\u2026</a> <a href="#" class="quiet-button left js-comment-add-card" title="Link to a card in this comment.">Add card\u2026</a> </div> ');
            return this.fl()
        },
        confirm: function(c, b, d) {
            this.b(d = d || "");
            this.b("<p> ");
            this.b(this.v(this.f("text", c, b, 0)));
            this.b(' </p> <input type="submit" class="js-confirm ');
            this.b(this.v(this.f("confirmBtnClass", c, b, 0)));
            this.s(this.f("cancelText", c, b, 1), c, b, 1, 0, 0, "") || this.b(" full");
            this.b('" value="');
            this.b(this.v(this.f("confirmText", c, b, 0)));
            this.b('"> ');
            this.s(this.f("cancelText", c, b, 1), c, b, 0, 153, 217, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <input type="submit" class="js-cancel" value="');
                f.b(f.v(f.f("cancelText",
                    b, d, 0)));
                f.b('"> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        confirm_merge: function(c, b, d) {
            this.b(d || "");
            this.b('<p> You are about to add the email address <span class="bold">');
            this.b(this.v(this.f("ghostEmail", c, b, 0)));
            this.b('</span> to the account </p> <ul class="pop-over-member-list js-member"> </ul> <input type="submit" class="js-confirm full" value="');
            this.b(this.v(this.f("confirmText", c, b, 0)));
            this.b('"> ');
            return this.fl()
        },
        connect_failed: function(c, b, d) {
            this.b(d = d || "");
            this.b(this.v(this.f("msg",
                c, b, 0)));
            this.b("<br /> ");
            this.s(this.f("allowReset", c, b, 1), c, b, 0, 29, 101, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="#" onclick="window.ajaxQueueReset(); return false;">Retry</a> ')
            }), c.pop());
            this.b(' <a href="#" onclick="window.location.reload()">Reload page</a> ');
            return this.fl()
        },
        credit_card: function(c, b, d) {
            this.b(d = d || "");
            this.b(" ");
            this.s(this.f("formAreas_subscribingTo", c, b, 1), c, b, 0, 29, 106, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="gutter quiet">Subscribing to <strong>');
                f.b(f.v(f.f("productName", b, d, 0)));
                f.b("</strong></p> ")
            }), c.pop());
            this.b(' <form class="credit-card-form" method="POST"> <p class="gutter error hidden"></p> <input name="products" type="hidden" maxlength="50" size="30" id="products" value="');
            this.b(this.v(this.f("productNumber", c, b, 0)));
            this.b('"> ');
            this.s(this.f("formAreas_billingOptions", c, b, 1), c, b, 0, 349, 1475, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="window-module"> <div class="window-module-title"> <h3>Billing</h3> </div> <div class="gutter clearfix"> ');
                f.s(f.f("productOptions", b, d, 1), b, d, 0, 485, 1254, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="radio-div clear clearfix" style="margin-bottom: 4px;"> <input type="radio" name="product" value="');
                    e.b(e.v(e.f("id", b, d, 0)));
                    e.b('" id="product-');
                    e.b(e.v(e.f("id", b, d, 0)));
                    e.b('"');
                    e.s(e.f("checked", b, d, 1), b, d, 0, 634, 642, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" checked")
                    }), b.pop());
                    e.b('> <label for="product-');
                    e.b(e.v(e.f("id", b, d, 0)));
                    e.b('"> ');
                    e.s(e.f("isMonthly", b, d, 1), b, d, 0, 699, 931, "{{ }}") &&
                        (e.rs(b, d, function(b, d, e) {
                            e.b(" Monthly ");
                            e.s(e.f("isPerUser", b, d, 1), b, d, 0, 722, 863, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                                e.b(" ");
                                e.s(e.f("totalPerUserPrice", b, d, 1), b, d, 0, 745, 781, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                                    e.b(" - $");
                                    e.b(e.v(e.f("totalPerUserPrice", b, d, 0)));
                                    e.b(" per month ")
                                }), b.pop());
                                e.b(" ($");
                                e.b(e.v(e.f("price", b, d, 0)));
                                e.b(" per ");
                                e.b(e.v(e.f("billableMemberCount", b, d, 0)));
                                e.b(" members per month) ")
                            }), b.pop());
                            e.b(" ");
                            e.s(e.f("isPerUser", b, d, 1), b, d, 1, 0, 0, "") || (e.b(" ($"), e.b(e.v(e.f("price",
                                b, d, 0))), e.b(" per month) "));
                            e.b(" ")
                        }), b.pop());
                    e.b(" ");
                    e.s(e.f("isYearly", b, d, 1), b, d, 0, 959, 1224, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" Yearly ");
                        e.s(e.f("isPerUser", b, d, 1), b, d, 0, 981, 1120, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b(" ");
                            e.s(e.f("totalPerUserPrice", b, d, 1), b, d, 0, 1004, 1039, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                                e.b(" - $");
                                e.b(e.v(e.f("totalPerUserPrice", b, d, 0)));
                                e.b(" per year ")
                            }), b.pop());
                            e.b(" ($");
                            e.b(e.v(e.f("price", b, d, 0)));
                            e.b(" per ");
                            e.b(e.v(e.f("billableMemberCount", b, d, 0)));
                            e.b(" members per year) ")
                        }), b.pop());
                        e.b(" ");
                        e.s(e.f("isPerUser", b, d, 1), b, d, 1, 0, 0, "") || (e.b(" ($"), e.b(e.v(e.f("price", b, d, 0))), e.b(" per year) "));
                        e.b(" ");
                        e.s(e.f("save", b, d, 1), b, d, 0, 1196, 1214, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b(" (Save ");
                            e.b(e.v(e.f("save", b, d, 0)));
                            e.b("!) ")
                        }), b.pop());
                        e.b(" ")
                    }), b.pop());
                    e.b(" </label> </div> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("showRecommend", b, d, 1), b, d, 0, 1292, 1442, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="recommend" style="margin-top: 16px;"> \u2026or get ');
                    e.b(e.v(e.f("productName", b, d, 0)));
                    e.b(' for free by <a href="/recommend">inviting new members to Trello</a> </div> ')
                }), b.pop());
                f.b(" </div> </div> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("formAreas_creditCard", c, b, 1), c, b, 0, 1530, 13885, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="window-module"> <div class="window-module-title"> <h3>Credit Card for account</h3> </div> <div class="gutter" style="margin-top: 12px;"> <label for="name"> Name: <span class="quiet">(as it appears on the credit card)</span></label> <input name="name" type="text" maxlength="50" size="30" id="name" class="text"> <label for="name" class="form-error hide">Please provide your full name, as shown on the card, for credit card verification.</label> <div class="left"> <label for="cardNumber">Card Number:</label> <input name="cardNumber" type="text" maxlength="19" size="16" id="cardNumber" autocomplete="off" style="width:190px;margin-right:16px;"> <label for="cardNumber" class="form-error hide" style="width:190px;margin-right:16px;">Please provide your full card number for credit card verification.</label> </div> <div class="left"> <label for="cvv">CVV:</label> <input name="cvv" type="text" maxlength="4" size="4" id="cvv" style="width:45px;"> </div> <br class="clear"> <label for="expMonth"> Expiration date: </label> <div class="clearfix"> <select name="expMonth" style="width:120px;margin-right:8px;display:inline;"> <option value="01">01 - January</option> <option value="02">02 - February</option> <option value="03">03 - March</option> <option value="04">04 - April</option> <option value="05">05 - May</option> <option value="06">06 - June</option> <option value="07">07 - July</option> <option value="08">08 - August</option> <option value="09">09 - September</option> <option value="10">10 - October</option> <option value="11">11 - November</option> <option value="12">12 - December</option> </select> <select name="expYear" style="width:100px;display:inline;"> <option value="14" selected="selected">2014</option> <option value="15">2015</option> <option value="16">2016</option> <option value="17">2017</option> <option value="18">2018</option> <option value="19">2019</option> <option value="20">2020</option> <option value="21">2021</option> <option value="22">2022</option> <option value="23">2023</option> <option value="24">2024</option> <option value="25">2025</option> <option value="26">2026</option> <option value="27">2027</option> <option value="28">2028</option> <option value="29">2029</option> <option value="30">2030</option> <option value="31">2031</option> <option value="32">2032</option> <option value="33">2033</option> <option value="34">2034</option> <option value="35">2035</option> <option value="36">2036</option> <option value="37">2037</option> <option value="38">2038</option> </select> </div> <br class="clear"> </div> <div class="window-module"> <div class="window-module-title"> <h3>Billing Address</h3> </div> <div class="gutter" style="margin-top: 12px;"> <label for="companyName" class="quiet">Company Name:</label> <input name="companyName" type="text" maxlength="50" size="30" id="companyName" class="text"> <label for="streetAddress1">Street Address 1:</label> <input name="streetAddress1" type="text" maxlength="255" size="30" id="streetAddress1" class="text"> <label for="streetAddress1" class="form-error hide">Please enter your address.</label> <label for="streetAddress2" class="quiet">Street Address 2:</label> <input name="streetAddress2" type="text" maxlength="255" size="30" id="streetAddress2" class="text"> <label for="city">City:</label> <input name="city" type="text" maxlength="30" size="30" id="city" class="text"> <label for="city" class="form-error hide">Please enter your city.</label> <label for="state">State/Province/Region:</label> <input name="state" type="text" maxlength="20" size="30" id="state" class="text"> <label for="state" class="form-error hide">U.S. and Canada addresses require a two-letter abbreviation.</label> <label for="zipCode">ZIP/Postal Code:</label> <input name="zipCode" type="text" maxlength="10" size="30" id="zipCode" class="text"> <label for="zipCode" class="form-error hide">U.S. addresses require a 5 or 9 digit zip code.</label> <label for="country">Country:</label> <select name="country" id="country"> <option selected="selected" value="US">United States</option> <option value="GB">United Kingdom</option> <option value="CA">Canada</option> <option value="AU">Australia</option> <option value="DE">Germany</option> <option value="NL">Netherlands</option> <option value="AF">Afghanistan</option> <option value="AL">Albania</option> <option value="DZ">Algeria</option> <option value="AS">American Samoa</option> <option value="AD">Andorra</option> <option value="AI">Anguilla</option> <option value="AG">Antiqua and Barbuda</option> <option value="AR">Argentina</option> <option value="AM">Armenia</option> <option value="AW">Aruba</option> <option value="AU">Australia</option> <option value="AT">Austria</option> <option value="AZ">Azerbaijan</option> <option value="BS">Bahamas</option> <option value="BH">Bahrain</option> <option value="BD">Bangladesh</option> <option value="BB">Barbados</option> <option value="BY">Belarus</option> <option value="BE">Belgium</option> <option value="BZ">Belize</option> <option value="BJ">Benin</option> <option value="BM">Bermuda</option> <option value="BT">Bhutan</option> <option value="BO">Bolivia</option> <option value="BV">Bouvet Islands</option> <option value="BR">Brazil</option> <option value="IO">British Indian Ocean Territory</option> <option value="VI">British Virgin Islands</option> <option value="BN">Brunei</option> <option value="BG">Bulgaria</option> <option value="BF">Burkina Faso</option> <option value="BI">Burundi</option> <option value="KH">Cambodia</option> <option value="CM">Cameroon</option> <option value="CA">Canada</option> <option value="CV">Cape Verde</option> <option value="KY">Cayman Islands</option> <option value="CF">Central African Republic</option> <option value="TD">Chad</option> <option value="CL">Chile</option> <option value="CN">China</option> <option value="CO">Colombia</option> <option value="KM">Comoros</option> <option value="CG">Congo</option> <option value="CR">Costa Rica</option> <option value="CI">Cote D\u2019Ivoire</option> <option value="HR">Croatia</option> <option value="CY">Cyprus</option> <option value="CZ">Czech Republic</option> <option value="DK">Denmark</option> <option value="DJ">Djibouti</option> <option value="DM">Dominica</option> <option value="DO">Dominican Republic</option> <option value="EG">Egypt</option> <option value="SV">El Salvador</option> <option value="EC">Equador</option> <option value="GQ">Equatorial Guinea</option> <option value="ER">Eritrea</option> <option value="EE">Estonia</option> <option value="ET">Ethiopia</option> <option value="FK">Falkland Islands</option> <option value="FO">Faroe Islands</option> <option value="FM">Federated States of Micronesia</option> <option value="FJ">Fiji</option> <option value="FI">Finland</option> <option value="FR">France</option> <option value="GF">French Guiana</option> <option value="PF">French Polynesia</option> <option value="GA">Gabon</option> <option value="GM">Gambia</option> <option value="GE">Georgia</option> <option value="DE">Germany</option> <option value="GH">Ghana</option> <option value="GI">Gibraltar</option> <option value="GR">Greece</option> <option value="GL">Greenland</option> <option value="GD">Grenada</option> <option value="GP">Guadeloupe</option> <option value="GU">Guam</option> <option value="GT">Guatemala</option> <option value="GN">Guinea</option> <option value="GW">Guinea-Bissau</option> <option value="GY">Guyana</option> <option value="HT">Haiti</option> <option value="HN">Honduras</option> <option value="HK">Hong Kong</option> <option value="HU">Hungary</option> <option value="IS">Iceland</option> <option value="IN">India</option> <option value="ID">Indonesia</option> <option value="IE">Ireland</option> <option value="IL">Israel</option> <option value="IT">Italy</option> <option value="JM">Jamaica</option> <option value="JP">Japan</option> <option value="JO">Jordan</option> <option value="KZ">Kazakhstan</option> <option value="KE">Kenya</option> <option value="KI">Kiribati</option> <option value="KW">Kuwait</option> <option value="KG">Kyrgyzstan</option> <option value="LA">Laos</option> <option value="LV">Latvia</option> <option value="LB">Lebanon</option> <option value="LS">Lesotho</option> <option value="LR">Liberia</option> <option value="LI">Liechtenstein</option> <option value="LT">Lithuania</option> <option value="LU">Luxembourg</option> <option value="MO">Macau</option> <option value="MG">Madagascar</option> <option value="MW">Malawi</option> <option value="MY">Malaysia</option> <option value="MV">Maldives</option> <option value="ML">Mali</option> <option value="MT">Malta</option> <option value="MH">Marshall Islands</option> <option value="MQ">Martinique</option> <option value="MR">Mauritania</option> <option value="MU">Mauritius</option> <option value="YT">Mayotte</option> <option value="FX">Metropolitan France</option> <option value="MX">Mexico</option> <option value="MD">Moldova</option> <option value="MN">Mongolia</option> <option value="MA">Morocco</option> <option value="MZ">Mozambique</option> <option value="NA">Namibia</option> <option value="NR">Nauru</option> <option value="NP">Nepal</option> <option value="AN">Netherlands Antilles</option> <option value="NL">Netherlands</option> <option value="NC">New Caledonia</option> <option value="NZ">New Zealand</option> <option value="NI">Nicaragua</option> <option value="NE">Niger</option> <option value="NG">Nigeria</option> <option value="MP">Northern Mariana Islands</option> <option value="NO">Norway</option> <option value="OM">Oman</option> <option value="PK">Pakistan</option> <option value="PW">Palau</option> <option value="PA">Panama</option> <option value="PG">Papua New Guinea</option> <option value="PY">Paraguay</option> <option value="PE">Peru</option> <option value="PE">Peru</option> <option value="PH">Philippines</option> <option value="PN">Pitcairn</option> <option value="PL">Poland</option> <option value="PT">Portugal</option> <option value="PR">Puerto Rico</option> <option value="QA">Qatar</option> <option value="KR">Republic of Korea</option> <option value="RE">Reunion</option> <option value="RO">Romania</option> <option value="RU">Russia</option> <option value="ST">Sao Tome and Principe</option> <option value="SA">Saudi Arabia</option> <option value="SN">Senegal</option> <option value="SC">Seychelles</option> <option value="SL">Sierra Leone</option> <option value="SG">Singapore</option> <option value="SK">Slovakia</option> <option value="SI">Slovenia</option> <option value="SB">Solomon Islands</option> <option value="SO">Somalia</option> <option value="ZA">South Africa</option> <option value="ES">Spain</option> <option value="LK">Sri Lanka</option> <option value="SH">St. Helena</option> <option value="KN">St. Kitts and Nevis</option> <option value="LC">St. Lucia</option> <option value="VC">St. Vincent and the Grenadines</option> <option value="SD">Sudan</option> <option value="SR">Suriname</option> <option value="SJ">Svalbard and Jan Mayen Islands</option> <option value="SZ">Swaziland</option> <option value="SE">Sweden</option> <option value="CH">Switzerland</option> <option value="SY">Syria</option> <option value="TW">Taiwan</option> <option value="TJ">Tajikistan</option> <option value="TZ">Tanzania</option> <option value="TH">Thailand</option> <option value="MK">The former Yugoslav Republic of Macedonia</option> <option value="TG">Togo</option> <option value="TO">Tonga</option> <option value="TT">Trinidad and Tobago</option> <option value="TR">Turkey</option> <option value="TM">Turkmenistan</option> <option value="TC">Turks and Caicos Islands</option> <option value="TV">Tuvalu</option> <option value="UG">Uganda</option> <option value="UA">Ukraine</option> <option value="AE">United Arab Emirates</option> <option value="GB">United Kingdom</option> <option value="US">United States</option> <option value="UY">Uruguay</option> <option value="UZ">Uzbekistan</option> <option value="VU">Vanuatu</option> <option value="VA">Vatican City</option> <option value="VE">Venezuela</option> <option value="VN">Vietnam</option> <option value="EH">Western Sahara</option> <option value="YE">Yemen</option> <option value="YU">Yugoslavia</option> <option value="ZR">Zaire</option> <option value="ZM">Zambia</option> <option value="ZW">Zimbabwe</option> </select> </div> </div> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("formAreas_billingContactHidden", c, b, 1), c, b, 0, 13946, 14195, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <input name="billingContactFullName" type="hidden" id="billingContactFullName" class="text" value="');
                f.b(f.v(f.f("billingFullName", b, d, 0)));
                f.b('" maxlength="50"> <input name="billingContactEmail" type="hidden" id="billingContactEmail" class="text" value="');
                f.b(f.v(f.f("billingEmail", b, d, 0)));
                f.b('"> ')
            }), c.pop());
            this.b(' <hr class="gutter"> ');
            this.s(this.f("formAreas_creditCard",
                c, b, 1), c, b, 0, 14276, 14840, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div id="divAcceptTOS" class="gutter"> <p class="js-tos-error error hide">You must accept the Terms of Service and Privacy Policy</p> <div class="check-div clearfix"> <input id="acceptTOS" class="inline bottom" type="checkbox" name="acceptTOS" value="true"> <label for="acceptTOS" class="inline bottom">I accept the <a href="https://trello.com/legal/" target="_blank" rel="popup" title="Terms of Service">Terms of Service</a> and the <a href="https://trello.com/privacy" target="_blank" rel="popup" title="Privacy Policy">Privacy Policy</a></label> </div> </div> ')
                }),
                c.pop());
            this.b(' <hr class="gutter"> <div class="gutter"> <input type="submit" name="');
            this.b(this.v(this.f("action", c, b, 0)));
            this.b('" value="Continue" id="save" class="primary ');
            this.b(this.v(this.f("action", c, b, 0)));
            this.b('"> </div> </form> ');
            return this.fl()
        },
        crop_photo: function(c, b, d) {
            this.b(d || "");
            this.b('<img class="crop-image"> <button class="primary js-done">Looks good!</button> <button class="js-back">Try again\u2026</button> ');
            return this.fl()
        },
        date_picker: function(c, b, d) {
            this.b(d =
                d || "");
            this.b('<div class="datepicker-select clearfix"> <div class="datepicker-select-date"> <label class="datepicker-select-label"> Date </label> <input type="text" class="datepicker-select-input js-dpicker-date-input js-autofocus" placeholder="Enter date" tabindex=1> </div> <div class="datepicker-select-time"> <label class="datepicker-select-label"> Time </label> <input type="text" class="datepicker-select-input js-dpicker-time-input" placeholder="Enter time" value="12:00pm" tabindex=2> <select class="js-dpicker-time-select"></select> </div> </div> <div class="pickers clear js-dpicker-cal"></div> <div class="datepicker-confirm-btns"> <input type="submit" class="primary wide confirm js-save-edit" value="Save" tabindex=3> ');
            this.s(this.f("hasDueDate", c, b, 1), c, b, 0, 732, 816, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="#" class="button negate remove-date js-remove-date" tabindex=4>Remove</a> ')
            }), c.pop());
            this.b(' </div> <div class="js-enable-cal hide"> <hr> <p> <a href="#" class="quiet-button w-img js-enable-calendar-powerup"><span class="icon-sm icon-rocket"></span>Enable the Calendar Power-Up!</a> </p> <p class="bottom quiet"> You\u2019ll get a calendar view of your cards and an iCal feed. Woo! </p> </div> <div class="js-cal-enabled hide"> <hr> <p class="helper"> Click the \u201cCalendar\u201d button in the board header to open the calendar. ');
            this.s(this.f("__own", c, b, 1), c, b, 0, 1266, 1339, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("To change calendar settings, click \u201cPower-Ups\u201d in the board sidebar menu.")
            }), c.pop());
            this.b(" </p> </div> ");
            return this.fl()
        },
        dialog_close_button: function(c, b, d) {
            this.b(d || "");
            this.b('<a class="icon-lg icon-close dialog-close-button js-close-window" href="#" title="Close this dialog window."></a> ');
            return this.fl()
        },
        early_version_feedback_form: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="early-feedback-section-background"></div> <div class="early-feedback-section markeddown"> <h1 class="early-feedback-section-header">Ahoy, Explorer!</h1> <p class="early-feedback-section-intro-text"> You\u2019re sailing the uncharted seas of a new, exploratory version of Trello. Not everyone has this version yet and your feedback could determine what stays, goes, or changes. </p> <p class="early-feedback-section-intro-text"> What\u2019s new in this version? There\u2019s a whole new card back! </p> <ul class="early-feedback-section-intro-text"> <li>You can see <strong>card covers and stickers</strong> on the back.</li> <li><strong>Attachments display in Trello</strong> and have bigger, nicer previews.</li> <li>The card is <strong>wider and more streamlined</strong>, making more room for your stuff.</li> </ul> <p class="early-feedback-section-intro-text"> In the form below, let us know if you loved something new, found something confusing, or noticed something strange. This will go to our inbox. Although we can\u2019t promise to respond, we\u2019ll definitely read it. <strong>Please keep it related to the changes to the card back!</strong> Thanks! </p> <p class="early-feedback-section-intro-text"> Safe travels,<br> The Trello Team </p> <hr> <p class="quiet hide js-submitted-feedback"> Thanks! Your feedback has been submitted. You\u2019ll be able to see this form for a while so please send us more feedback in the future if you have it. </p> <form class="js-feedback-form"> <p>Dear Trello Team,</p> <textarea name="bodytext" class="js-autofocus js-feedback-form-text"></textarea> <input class="wide primary js-feedback-form-submit" type="submit" value="Send"> </form> </div> ');
            return this.fl()
        },
        edit_controls: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="edit-controls clearfix"> <input type="submit" class="primary confirm js-save-edit" value="Save"> <a href="#" class="icon-lg icon-close dark-hover cancel js-cancel-edit"></a> <a href="#" class="option delete js-delete-item">Delete</a> <a href="#" class="option convert js-convert-item-to-card">Convert to Card</a> <a class="option options-menu dark-hover js-open-editing-menu" href="#"> <span class="icon-lg icon-menu"> </a> </div> ');
            return this.fl()
        },
        edit_in_progress: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("members", c, b, 1), c, b, 0, 12, 451, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="edit-in-progress"> <span class="inline-member"> ');
                f.s(f.f("avatarHash", b, d, 1), b, d, 0, 89, 238, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b('<img class="inline-member-av" src="');
                    e.b(e.v(e.f("__avatarDomain", b, d, 0)));
                    e.b("/");
                    e.b(e.v(e.f("avatarHash", b, d, 0)));
                    e.b('/30.png" alt="');
                    e.b(e.v(e.f("fullName", b, d, 0)));
                    e.b(" (");
                    e.b(e.v(e.f("username",
                        b, d, 0)));
                    e.b(')" title="');
                    e.b(e.v(e.f("fullName", b, d, 0)));
                    e.b(" (");
                    e.b(e.v(e.f("username", b, d, 0)));
                    e.b(')" />')
                }), b.pop());
                f.b(" ");
                f.s(f.f("avatarHash", b, d, 1), b, d, 1, 0, 0, "") || (f.b('<span class="quiet initials" title="'), f.b(f.v(f.f("fullName", b, d, 0))), f.b(" ("), f.b(f.v(f.f("username", b, d, 0))), f.b(')">'), f.b(f.v(f.f("initials", b, d, 0))), f.b("</span>"));
                f.b(" </span>");
                f.s(f.f("icon", b, d, 1), b, d, 0, 385, 433, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b('<span class="icon icon-sm icon-');
                    e.b(e.v(e.f("icon",
                        b, d, 0)));
                    e.b('"></span>')
                }), b.pop());
                f.b(" </span> ")
            }), c.pop());
            return this.fl()
        },
        embedly: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="embed embed-');
            this.b(this.v(this.f("type", c, b, 0)));
            this.b(" embed-provider-");
            this.b(this.v(this.f("provider_name", c, b, 0)));
            this.b('"> ');
            this.s(this.f("type_photo", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("requireHttps", c, b, 1), c, b, 0, 101, 116, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.t(f.f("htmlHttps", b, d, 0)))
            }), c.pop()), this.s(this.f("requireHttps",
                c, b, 1), c, b, 1, 0, 0, "") || this.b(this.t(this.f("html", c, b, 0))), this.b(" "));
            this.b(" ");
            this.s(this.f("type_photo", c, b, 1), c, b, 0, 209, 278, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="');
                f.b(f.v(f.f("originalUrl", b, d, 0)));
                f.b('" target="_blank"><img src="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" /></a> ')
            }), c.pop());
            this.b(" </div> ");
            return this.fl()
        },
        emoji_upgrade_ad: function(c, b, d) {
            this.b(d || "");
            this.s(this.f("hasGold", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p> You can upload custom emoji with <a href="/gold">Trello Gold</a>. </p> ');
            this.b(" ");
            this.s(this.f("hasJPS", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p> Looking to get custom emoji for your entire organization? <a href="/business-class">Check out Business Class.</a> </p> ');
            this.b(" ");
            this.s(this.f("hasOldBC", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p> Looking to get custom emoji for your entire organization? <a href="/business-class">Check out Business Class.</a> </p> ');
            this.b(" ");
            return this.fl()
        },
        empty_list: function(c, b, d) {
            this.b(d || "");
            this.b('<p class="empty-list ');
            this.b(this.v(this.f("classes",
                c, b, 0)));
            this.b('" style="');
            this.b(this.v(this.f("style", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("message", c, b, 0)));
            this.b("</p> ");
            return this.fl()
        },
        entity: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("textType", c, b, 1), c, b, 0, 13, 130, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("isContext", b, d, 1), b, d, 0, 28, 76, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" ");
                    e.s(e.f("hideIfContext", b, d, 1), b, d, 1, 0, 0, "") || (e.b(" "), e.b(e.v(e.f("text", b, d, 0))), e.b(" "));
                    e.b(" ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("isContext",
                    b, d, 1), b, d, 1, 0, 0, "") || (f.b(" "), f.b(f.v(f.f("text", b, d, 0))), f.b(" "));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("cardType", c, b, 1), c, b, 0, 157, 331, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("isContext", b, d, 1), b, d, 0, 172, 221, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" ");
                    e.s(e.f("hideIfContext", b, d, 1), b, d, 1, 0, 0, "") || e.b(" this card ");
                    e.b(" ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("isContext", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <a href="'), f.b(f.v(f.f("url", b, d, 0))), f.b('" class="inline-object action-card">'),
                    f.b(f.v(f.f("name", b, d, 0))), f.b("</a> "));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("boardType", c, b, 1), c, b, 0, 359, 484, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("isContext", b, d, 1), b, d, 0, 374, 386, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" this board ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("isContext", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <a href="'), f.b(f.v(f.f("url", b, d, 0))), f.b('" class="inline-object">'), f.b(f.v(f.f("name", b, d, 0))), f.b("</a> "));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("organizationType",
                c, b, 1), c, b, 0, 520, 832, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("isContext", b, d, 1), b, d, 0, 535, 554, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" this organization ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("isContext", b, d, 1), b, d, 1, 0, 0, "") || (f.b(" "), f.s(f.f("url", b, d, 1), b, d, 0, 592, 774, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" ");
                    e.s(e.f("displayName", b, d, 1), b, d, 0, 609, 670, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(' <a href="');
                        e.b(e.v(e.f("url", b, d, 0)));
                        e.b('" class="inline-object">');
                        e.b(e.v(e.f("displayName",
                            b, d, 0)));
                        e.b("</a> ")
                    }), b.pop());
                    e.b(" ");
                    e.s(e.f("displayName", b, d, 1), b, d, 1, 0, 0, "") || (e.b(' <a href="'), e.b(e.v(e.f("url", b, d, 0))), e.b('" class="inline-object">'), e.b(e.v(e.f("name", b, d, 0))), e.b("</a> "));
                    e.b(" ")
                }), b.pop()), f.b(" "), f.s(f.f("url", b, d, 1), b, d, 1, 0, 0, "") || f.b(" an organization "), f.b(" "));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("listType", c, b, 1), c, b, 0, 867, 877, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.v(f.f("name", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("checklistType",
                c, b, 1), c, b, 0, 909, 919, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.v(f.f("name", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("checkItemType", c, b, 1), c, b, 0, 956, 1033, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("nameHtml", b, d, 1), b, d, 0, 970, 984, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(e.t(e.f("nameHtml", b, d, 0)))
                }), b.pop());
                f.b(" ");
                f.s(f.f("nameHtml", b, d, 1), b, d, 1, 0, 0, "") || f.b(f.v(f.f("name", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("commentType", c, b, 1), c, b, 0, 1068,
                1290, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="action-comment markeddown"> ');
                f.s(f.f("canEdit", b, d, 1), b, d, 1, 0, 0, "") || f.b(f.t(f.f("textHtml", b, d, 0)));
                f.b(" ");
                f.s(f.f("canEdit", b, d, 1), b, d, 0, 1160, 1270, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div class="current-comment">');
                    e.b(e.t(e.f("textHtml", b, d, 0)));
                    e.b('</div> <textarea class="js-text" tabindex="1">');
                    e.b(e.v(e.f("text", b, d, 0)));
                    e.b("</textarea> ")
                }), b.pop());
                f.b(" </div> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("labelType", c,
                b, 1), c, b, 0, 1321, 1502, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="card-label ');
                f.b(f.v(f.f("color", b, d, 0)));
                f.b('-label" title="');
                f.s(f.f("text", b, d, 1), b, d, 0, 1379, 1387, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(e.v(e.f("text", b, d, 0)))
                }), b.pop());
                f.s(f.f("text", b, d, 1), b, d, 1, 0, 0, "") || (f.b(f.v(f.f("color", b, d, 0))), f.b(" label (default)"));
                f.b('"> ');
                f.s(f.f("text", b, d, 1), b, d, 0, 1451, 1459, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(e.v(e.f("text", b, d, 0)))
                }), b.pop());
                f.b(" ");
                f.s(f.f("text", b, d,
                    1), b, d, 1, 0, 0, "") || f.b("&nbsp;");
                f.b(" </span> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("attachmentType", c, b, 1), c, b, 0, 1536, 1939, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("known", b, d, 1), b, d, 0, 1547, 1709, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a href="');
                    e.b(e.v(e.f("url", b, d, 0)));
                    e.b('" target="_blank" class="known-service-link"><img class="known-service-icon" src="');
                    e.b(e.v(e.f("icon", b, d, 0)));
                    e.b('" alt="');
                    e.b(e.v(e.f("name", b, d, 0)));
                    e.b('"><span id="');
                    e.b(e.v(e.f("id", b, d, 0)));
                    e.b('">');
                    e.b(e.v(e.f("text", b, d, 0)));
                    e.b("</span></a> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("known", b, d, 1), b, d, 1, 0, 0, "") || (f.b(" "), f.s(f.f("link", b, d, 1), b, d, 0, 1740, 1849, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a href="');
                    e.b(e.v(e.f("url", b, d, 0)));
                    e.b('" class="js-open-attachment-viewer" data-idattachment="');
                    e.b(e.v(e.f("id", b, d, 0)));
                    e.b('" target="_blank">');
                    e.b(e.v(e.f("name", b, d, 0)));
                    e.b("</a> ")
                }), b.pop()), f.b(" "), f.s(f.f("link", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <span class="attachment-deleted">'),
                    f.b(f.v(f.f("name", b, d, 0))), f.b("</span> ")), f.b(" "));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("attachmentPreviewType", c, b, 1), c, b, 0, 1985, 2352, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("showAttachmentPreview", b, d, 1), b, d, 0, 2012, 2325, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" ");
                    e.s(e.f("canPreview", b, d, 1), b, d, 0, 2028, 2309, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" ");
                        e.s(e.f("isImage", b, d, 1), b, d, 0, 2041, 2202, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b('<a class="js-open-attachment-viewer" href="');
                            e.b(e.v(e.f("originalUrl", b, d, 0)));
                            e.b('" target="_blank" data-idattachment="');
                            e.b(e.v(e.f("id", b, d, 0)));
                            e.b('"><img class="attachment-image-preview" src="');
                            e.b(e.v(e.f("url", b, d, 0)));
                            e.b('" /></a>')
                        }), b.pop());
                        e.b(" ");
                        e.s(e.f("isImage", b, d, 1), b, d, 1, 0, 0, "") || (e.b('<iframe class="attachment-non-image-preview" src="'), e.b(e.v(e.f("url", b, d, 0))), e.b('" ></iframe>'));
                        e.b(" ")
                    }), b.pop());
                    e.b(" ")
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("memberType", c, b, 1), c, b, 0, 2394, 2688, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(' <span class="inline-member js-show-mem-menu" idMember="');
                    f.b(f.v(f.f("id", b, d, 0)));
                    f.b('"> ');
                    f.s(f.f("avatarHash", b, d, 1), b, d, 0, 2474, 2625, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <img class="inline-member-av" src="');
                        e.b(e.v(e.f("__avatarDomain", b, d, 0)));
                        e.b("/");
                        e.b(e.v(e.f("avatarHash", b, d, 0)));
                        e.b('/30.png" alt="');
                        e.b(e.v(e.f("fullName", b, d, 0)));
                        e.b(" (");
                        e.b(e.v(e.f("username", b, d, 0)));
                        e.b(')" title="');
                        e.b(e.v(e.f("fullName", b, d, 0)));
                        e.b(" (");
                        e.b(e.v(e.f("username",
                            b, d, 0)));
                        e.b(')" /> ')
                    }), b.pop());
                    f.b(' <span class="bold">');
                    f.b(f.v(f.f("fullName", b, d, 0)));
                    f.b("</span> </span> ")
                }), c.pop());
            this.b(" ");
            this.s(this.f("relDateType", c, b, 1), c, b, 0, 2720, 2795, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="rel-date" dt="');
                f.b(f.v(f.f("date", b, d, 0)));
                f.b('" text="');
                f.b(f.v(f.f("text", b, d, 0)));
                f.b('"> ');
                f.b(f.v(f.f("current", b, d, 0)));
                f.b(" </span> ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        error: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("notFound",
                c, b, 1), c, b, 0, 13, 395, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="big-message quiet"> <h1> Page not found. </h1> ');
                f.s(f.f("__loggedIn", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <p> This page may be private. You may be able to view it by <a href="/login?returnUrl='), f.b(f.v(f.f("url", b, d, 0))), f.b('">logging in</a>. </p> '));
                f.b(" ");
                f.s(f.f("__loggedIn", b, d, 1), b, d, 0, 236, 372, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(" <p> This page may be private. If someone gave you this link, they may need to invite you to one of their boards or organizations. </p> ")
                    }),
                    b.pop());
                f.b(" </div> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("boardNotFound", c, b, 1), c, b, 0, 427, 812, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="big-message quiet"> <h1> Board not found. </h1> ');
                f.s(f.f("__loggedIn", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <p> This board may be private. You may be able to view it by <a href="/login?returnUrl='), f.b(f.v(f.f("url", b, d, 0))), f.b('">logging in</a>. </p> '));
                f.b(" ");
                f.s(f.f("__loggedIn", b, d, 1), b, d, 0, 652, 789, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(" <p> This board may be private. If someone gave you this link, they may need to invite you to one of their boards or organizations. </p> ")
                    }),
                    b.pop());
                f.b(" </div> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("cardNotFound", c, b, 1), c, b, 0, 848, 1252, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="big-message quiet"> <h1> Card not found. </h1> ');
                f.s(f.f("__loggedIn", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <p> This card may be on a private board. You may be able to view it by <a href="/login?returnUrl='), f.b(f.v(f.f("url", b, d, 0))), f.b('">logging in</a>. </p> '));
                f.b(" ");
                f.s(f.f("__loggedIn", b, d, 1), b, d, 0, 1082, 1229, "{{ }}") && (f.rs(b, d, function(b, d,
                    e) {
                    e.b(" <p> This card may be on a private board. If someone gave you this link, they may need to invite you to one of their boards or organizations. </p> ")
                }), b.pop());
                f.b(" </div> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("unconfirmedNotFound", c, b, 1), c, b, 0, 1294, 1981, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="big-message with-picture quiet"> <img src="https://d78fikflryjgj.cloudfront.net/images/656dc3a1db8d11cde974d7402898fb75/TacoBouncer.png" width="459" height="238" alt="Bouncer Taco" title="Bouncer Taco" /> <h1> Roooooo are you? </h1> <p>Please confirm your email address to view this ');
                f.b(f.v(f.f("modelType", b, d, 0)));
                f.b('.</p> <div class="callout"> <ol> <li>Check your email at <strong>');
                f.b(f.v(f.f("email", b, d, 0)));
                f.b('</strong>.</li> <li>Look for an email with the subject "Trello Account Confirmation."</li> <li>Click on the confirmation link. Done!</li> </ol> </div> <p>Don\'t see anything from us? <a class="quiet js-resend-confirmation-email" href="#" style="margin-left: 3px;">Resend confirmation link.</a></p> </div> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        factoid_bc_banner: function(c,
            b, d) {
            this.b(d || "");
            this.b('<a class="bc-pitch js-bc-ad" href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('"> <span class="mark business-class-mark" alt="Trello Business Class Logo"/> <span class="title">Get Business Class</span> <span class="pitchlet"> Supercharge your organization. </span> </a> ');
            return this.fl()
        },
        factoid_bc_banner_upgrade: function(c, b, d) {
            this.b(d || "");
            this.b('<a class="bc-pitch-upgrade js-bc-ad" href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('"> <span class="title">There\u2019s a new Business Class update available!</span> <span class="pitchlet"> Check out the new features and upgrade! </span> </a> ');
            return this.fl()
        },
        factoid_gold_banner: function(c, b, d) {
            this.b(d || "");
            this.b('<a class="gold-pitch js-gold-ad" href="/gold"> <span class="mark gold-mark" alt="Trello Gold Logo"/> <span class="title">Get Trello Gold</span> <span class="pitchlet"> Support Trello and get extra fun and functionality. </span> </a> ');
            return this.fl()
        },
        filter_cards: function(c, b, d) {
            this.b(d || "");
            this.b('<input type="text" class="js-input js-autofocus" attr="title" value="');
            this.b(this.v(this.f("title", c, b, 0)));
            this.b('" style="margin-bottom: 0;"> <div class="js-filter-search-results"/> ');
            return this.fl()
        },
        filter_cards_search_results: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("showHelper", c, b, 1), c, b, 0, 15, 156, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="quiet" style="padding: 10px 8px 2px; margin-bottom: 0;"> Type to filter by term or search for labels, members, or due times. </p> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("showLabels", c, b, 1), c, b, 0, 187, 725, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <hr> <ul class="pop-over-label-list checkable');
                f.s(f.f("filtering", b, d,
                    1), b, d, 0, 247, 256, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" filtered")
                }), b.pop());
                f.b('"> ');
                f.s(f.f("labels", b, d, 1), b, d, 0, 284, 707, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <li class="item');
                    e.s(e.f("isActive", b, d, 1), b, d, 0, 313, 320, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" active")
                    }), b.pop());
                    e.s(e.f("matchesFilter", b, d, 1), b, d, 0, 351, 366, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" matches-filter")
                    }), b.pop());
                    e.b('"> <a href="#" class="name js-toggle-label-filter" name="');
                    e.b(e.v(e.f("color", b, d, 0)));
                    e.b('"> <span class="card-label card-label-');
                    e.b(e.v(e.f("color", b, d, 0)));
                    e.b('"/> <span class="full-name"> ');
                    e.s(e.f("labelName", b, d, 1), b, d, 0, 540, 555, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" ");
                        e.b(e.v(e.f("labelName", b, d, 0)));
                        e.b(" ")
                    }), b.pop());
                    e.b(" ");
                    e.s(e.f("labelName", b, d, 1), b, d, 1, 0, 0, "") || (e.b(' <span class="quiet">'), e.b(e.v(e.f("color", b, d, 0))), e.b(" label (default)</span> "));
                    e.b(' </span> <span class="icon-sm icon-check"/> </a> </li> ')
                }), b.pop());
                f.b(" </ul> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("showMembers", c, b, 1), c, b, 0, 757, 1215, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <hr> <ul class="pop-over-member-list checkable js-mem-list');
                f.s(f.f("filtering", b, d, 1), b, d, 0, 830, 839, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" filtered")
                }), b.pop());
                f.s(f.f("limitMembers", b, d, 1), b, d, 0, 870, 878, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" limited")
                }), b.pop());
                f.b('"> ');
                f.s(f.f("members", b, d, 1), b, d, 0, 910, 930, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(" ");
                        e.b(e.rp("select_member", b, d, ""));
                        e.b(" ")
                    }),
                    b.pop());
                f.b(" </ul> ");
                f.s(f.f("limitMembers", b, d, 1), b, d, 0, 966, 1197, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <ul class="pop-over-list inset js-show-all-members-elem"> <li> <a href="#" class="name quiet js-show-all-members" style="padding-left: 50px; font-weight: normal;"> Show all members (');
                    e.b(e.v(e.f("remainingMemsCount", b, d, 0)));
                    e.b(" hidden) </a> </li> </ul> ")
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("showDueTimes", c, b, 1), c, b, 0, 1249, 1559, "{{ }}") && (this.rs(c, b, function(b,
                d, f) {
                f.b(' <hr> <ul class="pop-over-list checkable navigable inset normal-weight js-date-list"> ');
                f.s(f.f("dueOptions", b, d, 1), b, d, 0, 1350, 1537, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <li class="item ');
                        e.s(e.f("isActive", b, d, 1), b, d, 0, 1380, 1387, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b(" active")
                        }), b.pop());
                        e.b('"> <a href="#" class="js-due-filter" time="');
                        e.b(e.v(e.f("time", b, d, 0)));
                        e.b('" style="padding-left: 40px;"> ');
                        e.b(e.v(e.f("desc", b, d, 0)));
                        e.b(' <span class="icon-sm icon-check"/> </a> </li> ')
                    }),
                    b.pop());
                f.b(" </ul> ")
            }), c.pop());
            this.b(' <hr> <ul class="pop-over-list inset normal-weight"> <li> <a href="#" class="js-clear-all');
            this.s(this.f("isFiltering", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" style="padding-left: 40px;"> Clear Filter </a> </li> </ul> ');
            return this.fl()
        },
        formatting_help: function(c, b, d) {
            this.b(d || "");
            this.b('<p> Trello uses Markdown for formatting. Here are the basics. See the <a href="http://daringfireball.net/projects/markdown/syntax" target="_blank">complete syntax</a>. </p> <hr> <p class="quiet">First Level Header</p> <code> Making Scrambled Eggs: A Primer<br> =============================== </code> <hr> <p class="quiet">Second Level Header</p> <code> 1.1: Preparation<br> ---------------- </code> <hr> <p class="quiet">Paragraphs</p> <code> Add two new lines to start a new paragraph. Crack two eggs into the bowl and whisk. </code> <hr> <p class="quiet">Bold</p> <code> **Carefully** crack the eggs. </code> <hr> <p class="quiet">Emphasis</p> <code> Whisk the eggs *vigorously*. </code> <hr> <p class="quiet">Lists</p> <code> Ingredients:<br><br> - Eggs<br> - Oil<br> - *Optional:* milk </code> <hr> <p class="quiet">Links</p> <code> To download a PDF version of the recipe, [click here](https://example.com/scrambled-eggs.pdf). </code> <hr> <p class="quiet">Images</p> <code> ![The Finished Dish](https://example.com/eggs.png) </code> ');
            return this.fl()
        },
        header_add_menu: function(c, b, d) {
            this.b(d || "");
            this.b('<ul class="pop-over-list"> <li> <a class="js-new-board" href="#"> New Board\u2026 <span class="sub-name"> A board is a collection of cards ordered in a list of lists. Use it to manage a project, track a collection, or organize anything. </span> </a> </li> <li> <a class="js-new-org" href="#"> New Organization\u2026 <span class="sub-name"> An organization is a group of boards and people. Use it to group boards in your company, team, or family. </span> </a> </li> </ul> ');
            return this.fl()
        },
        header_announcements: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("announcements", c, b, 1), c, b, 0, 18, 37, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.rp("announcement", b, d, ""));
                f.b(" ")
            }), c.pop());
            this.b(' <div class="announcement-elsewhere"> <p class="quiet" style="margin: 0 4px 5px;"> For more updates, check out\u2026 </p> <a target="_blank" class="announcement-elsewhere-blog js-blog" href="http://blog.trello.com" title="Trello Blog"> <span class="announcement-elsewhere-blog-icon icon-lg icon-board"/> <span class="underline">Trello Blog</span> </a> <a target="_blank" class="announcement-elsewhere-social js-t" href="https://www.twitter.com/trello" title="@trello on Twitter"> <span class="icon-lg icon-twitter"/> </a> <a target="_blank" class="announcement-elsewhere-social js-fb" href="https://www.facebook.com/TrelloApp" title="Trello on Facebook"> <span class="icon-lg icon-facebook"/> </a> <a target="_blank" class="announcement-elsewhere-social js-g" href="https://plus.google.com/103127084407107005900/posts" title="Trello on Google+"> <span class="icon-lg icon-google"/> </a> </div> ');
            return this.fl()
        },
        header_boards_menu_button: function(c, b, d) {
            this.b(d || "");
            this.b('<a class="header-btn header-boards js-boards-menu" title="View list of boards" href="#"> <span class="header-btn-icon icon-lg icon-board light"/> <span class="header-btn-text">Boards</span> </a> ');
            return this.fl()
        },
        header_channel_picker: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("cookie", c, b, 1), c, b, 0, 11, 238, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <p>You have a version cookie set. This is a feature intended for client developers and testers and will prevent you from changing channels.</p> <input type="button" class="js-remove-cookie wide primary" value="Remove cookie"> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("cookie", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <ul class="pop-over-list"> '), this.s(this.f("channels", c, b, 1), c, b, 0, 302, 447, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <li> <a class="js-select" href="#" name="');
                    f.b(f.v(f.f("name", b, d, 0)));
                    f.b('"> ');
                    f.b(f.v(f.f("displayName", b, d, 0)));
                    f.b(" ");
                    f.s(f.f("active", b, d, 1), b, d, 0, 382, 424, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <span class="icon-sm icon-check"></span> ')
                    }), b.pop());
                    f.b(" </a> </li> ")
                }), c.pop()), this.b(" <hr> "),
                this.s(this.f("dev", c, b, 1), c, b, 0, 474, 560, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <li> <a class="js-select-dev" href="#" name="');
                    f.b(f.v(f.f("name", b, d, 0)));
                    f.b('"> Pick a version... </a> </li> ')
                }), c.pop()), this.b(" </ul> "));
            this.b(" ");
            return this.fl()
        },
        header_invite: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="invited-message js-invited"> <a href="#" class="js-ignore-invite icon-lg icon-close dialog-close-button"></a> <h1> ');
            this.s(this.f("isInviter", c, b, 1), c, b, 0, 141, 287, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(" You invited ");
                    f.b(f.v(f.d("ghost.fullName", b, d, 0)));
                    f.b(" to collaborate on <strong>");
                    f.s(f.f("board", b, d, 1), b, d, 0, 209, 217, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(e.v(e.f("name", b, d, 0)))
                    }), b.pop());
                    f.s(f.f("organization", b, d, 1), b, d, 0, 244, 259, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(e.v(e.f("displayName", b, d, 0)))
                    }), b.pop());
                    f.b("</strong>. ")
                }), c.pop());
            this.b(" ");
            this.s(this.f("isInviter", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("memberAdder", c, b, 1), c,
                b, 0, 333, 364, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b(" has invited you to")
            }), c.pop()), this.s(this.f("memberAdder", c, b, 1), c, b, 1, 0, 0, "") || this.b("You've been invited to"), this.b(" collaborate on <strong>"), this.s(this.f("board", c, b, 1), c, b, 0, 468, 476, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.v(f.f("name", b, d, 0)))
            }), c.pop()), this.s(this.f("organization", c, b, 1), c, b, 0, 503, 518, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.v(f.f("displayName", b, d, 0)))
            }), c.pop()), this.b("</strong>. "));
            this.b(" </h1> ");
            this.s(this.f("isLoggedIn", c, b, 1), c, b, 0, 582, 1301, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("isInviter", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <p style="min-height: 20px;"> '), f.s(f.d("ghost.email", b, d, 1), b, d, 0, 644, 924, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" Your account ");
                    e.s(e.f("avatarHash", b, d, 1), b, d, 0, 673, 824, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(' <img class="inline-member-av" src="');
                        e.b(e.v(e.f("__avatarDomain", b, d, 0)));
                        e.b("/");
                        e.b(e.v(e.f("avatarHash", b, d, 0)));
                        e.b('/30.png" alt="');
                        e.b(e.v(e.f("fullName", b, d, 0)));
                        e.b(" (");
                        e.b(e.v(e.f("username", b, d, 0)));
                        e.b(')" title="');
                        e.b(e.v(e.f("fullName", b, d, 0)));
                        e.b(" (");
                        e.b(e.v(e.f("username", b, d, 0)));
                        e.b(')" /> ')
                    }), b.pop());
                    e.b(" <strong>");
                    e.b(e.v(e.f("fullName", b, d, 0)));
                    e.b(" (");
                    e.b(e.v(e.f("username", b, d, 0)));
                    e.b(")</strong> hasn't logged in with ");
                    e.b(e.v(e.d("ghost.email", b, d, 0)));
                    e.b(". ")
                }), b.pop()), f.b(" </p> "));
                f.b(" ");
                f.s(f.f("isInviter", b, d, 1), b, d, 0, 975, 1079, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a href="#" class="button js-create-new-account primary">Create New Account for ');
                    e.b(e.v(e.d("ghost.fullName", b, d, 0)));
                    e.b("</a> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("isInviter", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <a href="#" class="button js-join-model primary">Add This Email to My Account and Join '), f.b(f.v(f.f("modelType", b, d, 0))), f.b('</a> <a href="#" class="button js-create-new-account">Create New Account</a> '));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("isLoggedIn", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <a href="#" class="button primary js-join-model">Join '), this.b(this.v(this.f("modelType",
                c, b, 0))), this.b("</a> "));
            this.b(" </div> ");
            return this.fl()
        },
        header_logo: function(c, b, d) {
            this.b(d || "");
            this.b('<a class="header-logo js-home-via-logo" href="/" title="Go back to your boards page."> <span class="header-logo-loading"></span> <span class="header-logo-default"></span> </a> ');
            return this.fl()
        },
        header_member_menu: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> <li><a class="js-profile" href="');
            this.b(this.v(this.f("profileUrl", c, b, 0)));
            this.b('">Profile</a></li> <li><a class="js-cards" href="');
            this.b(this.v(this.f("cardsUrl", c, b, 0)));
            this.b('">Cards</a></li> ');
            this.s(this.f("hasAccount", c, b, 1), c, b, 0, 166, 230, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<li><a class="js-billing" href="');
                f.b(f.v(f.f("billingUrl", b, d, 0)));
                f.b('">Billing</a></li>')
            }), c.pop());
            this.b(' <li><a class="js-account" href="');
            this.b(this.v(this.f("accountUrl", c, b, 0)));
            this.b('">Settings</a></li> </ul> <hr> <ul class="pop-over-list"> <li><a class="js-help" href="http://help.trello.com/" target="_blank">Help</a></li> <li><a class="js-platforms" href="/platforms">Apps</a></li> <li><a class="js-shortcuts" href="/shortcuts">Shortcuts</a></li> <li><a class="js-reco" href="/recommend">Share Trello</a></li> </ul> <hr> <ul class="pop-over-list"> <li><a class="js-home" href="/home" target="_blank">About Trello</a></li> </ul> <hr> <ul class="pop-over-list"> <li><a class="js-logout" href="#">Log Out');
            this.s(this.f("canLogOut", c, b, 1), c, b, 1, 0, 0, "") || this.b("<br>(You\u2019ll need to set a password first!)");
            this.b("</a></li> </ul> ");
            return this.fl()
        },
        header_notification_list_menu: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("hasNotifications", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p class="empty" style="padding: 24px 6px;">No Notifications</p> ');
            this.b(" ");
            this.s(this.f("hasNotifications", c, b, 1), c, b, 0, 130, 530, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <ul class="pop-over-list"> <li> <a class="js-view-all-notifications" href="');
                f.b(f.v(f.f("noteUrl", b, d, 0)));
                f.b('">See All Notifications');
                f.b(f.v(f.f("unreadText", b, d, 0)));
                f.b('</a> </li> <li> <a class="js-change-email-frequency" href="#">Change Notification Email Frequency</a> </li> ');
                f.s(f.f("canAllowDesktopNotifications", b, d, 1), b, d, 0, 395, 490, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <li> <a class="js-allow-desktop-notifications" href="#">Allow Desktop Notifications</a> </li> ')
                }), b.pop());
                f.b(" </ul> ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        header_promo_nav: function(c,
            b, d) {
            this.b(d || "");
            this.b('<nav class="promo-nav"> <a href="/landing" id="navLanding">Home</a> <a href="/tour" id="navTour">Tour</a> <a href="/gold" id="navTrelloGold">Gold</a> <a href="/business-class" id="navBusinessClass">Business Class</a> <a href="http://blog.trello.com" target="_blank">Blog</a> </nav> ');
            return this.fl()
        },
        header_public_board: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="bottom"> ');
            this.s(this.f("interactions", c, b, 1), c, b, 0, 36, 109, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="inline-block">Want to ');
                f.b(f.v(f.f("interactions", b, d, 0)));
                f.b(" these cards?</span> ")
            }), c.pop());
            this.b(' <span class="inline-block"> <a class="button primary" href="');
            this.b(this.v(this.f("signupUrl", c, b, 0)));
            this.b('" style="margin: 0 4px;">Sign up for free</a> or <a class="quiet" href="');
            this.b(this.v(this.f("tourUrl", c, b, 0)));
            this.b('">learn more about Trello</a> </span> </p> ');
            return this.fl()
        },
        header_search: function(c, b, d) {
            this.b(d || "");
            this.b('<a href="/search" class="header-btn open-search-btn js-open-search-page" title="Search for boards, cards, members, and organizations."> <span class="header-btn-icon icon-lg icon-search light"></span> </a> <div class="header-search js-search-box"> <input class="header-search-input js-search-input js-disable-on-dialog" type="text" autocomplete="off" autocorrect="off" spellcheck="false" value="');
            this.b(this.v(this.f("query", c, b, 0)));
            this.b('"> <span class="header-search-icon icon-lg icon-search light js-search-icon js-search-focus"></span> <span class="header-search-icon header-search-icon-close icon-lg icon-close light hide js-close-icon js-search-close"></span> <a href="#" class="header-search-icon header-search-icon-open icon-lg icon-open light hide js-open-button js-open-search-page"></a> </div> ');
            return this.fl()
        },
        header_signup_login: function(c, b, d) {
            this.b(d || "");
            this.b('<a class="header-btn header-signup" href="/signup">Sign Up</a> <a class="header-btn header-login js-toggle-login-popover no-right-margin" href="/login">Log In</a> ');
            return this.fl()
        },
        header_user: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("__loggedIn", c, b, 1), c, b, 0, 15, 1491, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("is_promo", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <a class="header-btn header-btn-feedback js-open-feedback hide" title="You are seeing an early, experimental version of Trello. We would love your feedback!" href="#"> <span class="header-btn-icon icon-lg icon-comment light"></span> <span class="header-btn-text">Give us feedback.</span> </a> <a class="header-btn hide upgrade" href="#", onclick="window.location.reload();"><span class="icon-sm icon-reopen light"/><span class="header-btn-text">Update Available</span></a> <a class="header-btn js-open-add-menu" href="#" title="Add a new board or organization."> <span class="header-btn-icon icon-lg icon-add light"></span> </a> <a class="header-btn header-member js-open-header-member-menu" href="#" title="Get access to your profile, help, and log out."> <span class="member'),
                    f.s(f.f("hasCrown", b, d, 1), b, d, 0, 819, 829, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(" has-crown")
                    }), b.pop()), f.b('"></span> <span class="header-btn-text js-member-name"></span> </a> <a class="header-btn header-notifications js-open-header-notifications-menu" href="#"> <span class="header-btn-icon icon-lg icon-notification light"></span> </a> '), f.s(f.f("showChannelPicker", b, d, 1), b, d, 0, 1094, 1275, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                            e.b(' <a class="header-btn header-btn-channel-picker js-open-channel-picker" href="#" title="Select release channel."> <span class="header-btn-icon icon-lg icon-gear light"></span> </a> ')
                        }),
                        b.pop()), f.b(" "));
                f.b(" ");
                f.s(f.f("is_promo", b, d, 1), b, d, 0, 1325, 1477, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a class="header-btn header-go-to-boards no-right-margin" href="/" title="Get back to the app."> <span class="member"></span> Go to Boards &rarr; </a> ')
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("__loggedIn", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.b(this.rp("header_signup_login", c, b, "")), this.b(" "));
            this.b(" ");
            return this.fl()
        },
        header_version_picker: function(c, b, d) {
            this.b(d =
                d || "");
            this.b('<div class="form-grid"> <div class="button-link setting form-grid-child form-grid-child-full"> <span class="label">Head</span> <span class="value">');
            this.b(this.v(this.d("active.name", c, b, 0)));
            this.b('</span> <label>Head</label> <select class="js-select-head"> ');
            this.s(this.f("heads", c, b, 1), c, b, 0, 232, 368, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <option value="');
                f.b(f.v(f.f("value", b, d, 0)));
                f.b('"');
                f.s(f.f("selected", b, d, 1), b, d, 0, 271, 291, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' selected="selected"')
                    }),
                    b.pop());
                f.b("> ");
                f.b(f.v(f.f("displayName", b, d, 0)));
                f.s(f.f("selected", b, d, 1), b, d, 0, 334, 344, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" (current)")
                }), b.pop());
                f.b(" </option> ")
            }), c.pop());
            this.b(" </select> </div> ");
            this.s(this.d("versions.2.value", c, b, 1), c, b, 0, 417, 841, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="button-link setting form-grid-child form-grid-child-full"> <span class="label">Version</span> <span class="value">');
                    f.b(f.v(f.d("active.version", b, d, 0)));
                    f.b('</span> <label>Version</label> <select class="js-select-version"> ');
                    f.s(f.f("versions", b, d, 1), b, d, 0, 641, 810, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <option value="');
                        e.b(e.v(e.f("value", b, d, 0)));
                        e.b('"');
                        e.s(e.f("selected", b, d, 1), b, d, 0, 680, 700, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b(' selected="selected"')
                        }), b.pop());
                        e.b("> ");
                        e.b(e.v(e.f("displayName", b, d, 0)));
                        e.s(e.f("active", b, d, 1), b, d, 1, 0, 0, "") || e.b(" (disabled)");
                        e.s(e.f("selected", b, d, 1), b, d, 0, 776, 786, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b(" (current)")
                        }), b.pop());
                        e.b(" </option> ")
                    }), b.pop());
                    f.b(" </select> </div> ")
                }),
                c.pop());
            this.b(" </div> ");
            return this.fl()
        },
        header_warning_banner: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="bottom"> Please confirm your email address: ');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b(". ");
            this.s(this.f("knownEmailProvider", c, b, 1), c, b, 0, 88, 178, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<a href="');
                f.b(f.v(f.f("emailInboxUrl", b, d, 0)));
                f.b('" class="quiet" style="margin-left: 6px;">Check your inbox.</a> ')
            }), c.pop());
            this.b(' <a class="quiet js-resend-confirmation-email" href="#" style="margin-left: 3px;">Resend email.</a> </p> ');
            return this.fl()
        },
        header_warning_password: function(c, b, d) {
            this.b(d || "");
            this.b('<p class="bottom"> We\u2019ve automatically created an account for ');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b(" with the username ");
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('. Please <a class="quiet js-change-password" href="/my/account">add a password</a>. </p> ');
            return this.fl()
        },
        hybrid_signup_login: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="form-parts-container clearfix"> <div class="form-tabs js-tabs"> <a class="signup-form-tab js-tab active" data-content="signup-form">Sign Up</a> <a class="login-form-tab js-tab" data-content="login-form">Log In</a> </div> <div class="signup-form js-signup-form-pos js-form-part js-tab-content');
            this.s(this.f("hasAccount", c, b, 1), c, b, 1, 0, 0, "") || this.b(" js-default-active");
            this.b('" data-id="signup-form"> <h1>New to Trello?</h1> <p>Create an account to edit this board, create new boards, and more.</p> <div class="tooltip js-insert-tooltip"></div> <form action="/signup-invitation" method="post"> <div class="quiet js-bad-full-name hide"> Your name must be at least 4 characters. </div> <label for="display-name-create"> Full Name </label> <input type="text" name="fullName" id="display-name-create" value="');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b('"> <div class="js-use-diff-email"> <div class="quiet js-bad-email hide"> You must enter a valid email address. </div> <div class="quiet js-used-email hide"> That email address is in use. </div> <label for="email-create"> Email </label> <input type="email" name="email" id="email-create" value="');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b('" autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> </div> <div class="quiet js-bad-password hide"> Your password must be at least 4 characters. </div> <label for="password-create"> Password </label> <input type="password" name="password" id="password-create"> <input type="hidden" name="returnUrl" value="');
            this.b(this.v(this.f("returnUrl", c, b, 0)));
            this.b('"> <input type="hidden" name="idModel" value=""> <input type="hidden" name="type" value=""> <input type="hidden" name="token" value=""> <input type="submit" class="primary js-create-account" value="Okay, Let\'s Go!"> </form> </div> <div class="login-form js-login-form-pos js-form-part js-tab-content');
            this.s(this.f("hasAccount", c, b, 1), c, b, 0, 1755, 1773, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-default-active")
            }), c.pop());
            this.b('" data-id="login-form"> <h1>Hello, old friend!</h1> <p>Log in with your: </p> <form action="/authenticate_openid" method="post"> <input type="hidden" name="openid_identifier" value="https://www.google.com/accounts/o8/id"> <input type="hidden" name="returnUrl" value="');
            this.b(this.v(this.f("returnUrl", c, b, 0)));
            this.b('"> <input type="hidden" name="mode" value=""> <input type="hidden" name="login" value=""> <input type="hidden" name="immediate" value=""> <input type="hidden" name="confirmNew" value="true"> <a class="button primary google js-google-login" href=""> <span class="icon-lg icon-google light"></span> Google Account </a> ');
            this.s(this.f("openidAccount", c, b, 1), c, b, 0, 2403, 2538, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" <p>It looks like you haven't set a password yet. You can do this from the Account page after logging in with your Google Account.</p> ")
                }),
                c.pop());
            this.b(' </form> <p>Or the old-fashioned way:</p> <form action="/authenticate" method="post" novalidate> ');
            this.s(this.f("badLogin", c, b, 1), c, b, 0, 2666, 2725, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="error">The email or password was incorrect.</p> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("unconfirmed", c, b, 1), c, b, 0, 2755, 2862, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <p class="error">You can\'t sign in until you <a href="/resendValidate">verify your email address</a>.</p> ')
                }),
                c.pop());
            this.b(' <label for="email-login"> Email </label> <input type="email" name="user" id="email-login" value="');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b('" autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> <label for="password-login"> Password </label> <input type="password" name="password" id="password-login"> <input type="submit" class="primary wide js-password-login" value="Log In"> <p class="quiet"> <a href="/forgot"><strong>Forgot password?</strong></a> </p> <input type="hidden" name="returnUrl" value="');
            this.b(this.v(this.f("returnUrl", c, b, 0)));
            this.b('"> </form> </div> <div class="active-box js-active-box start"></div> </div> ');
            return this.fl()
        },
        "import/status": function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("workspaces", c, b, 1), c, b, 0, 15, 150, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("total", b, d, 1), b, d, 0, 26, 139, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div> <span class="import-type">Groups:</span> <span class="import-progress">');
                    e.b(e.v(e.f("done", b, d, 0)));
                    e.b(" / ");
                    e.b(e.v(e.f("total",
                        b, d, 0)));
                    e.b("</span> </div> ")
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("projects", c, b, 1), c, b, 0, 179, 316, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("total", b, d, 1), b, d, 0, 190, 305, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div> <span class="import-type">Projects:</span> <span class="import-progress">');
                    e.b(e.v(e.f("done", b, d, 0)));
                    e.b(" / ");
                    e.b(e.v(e.f("total", b, d, 0)));
                    e.b("</span> </div> ")
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("tasks", c, b, 1), c, b, 0, 340,
                474, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("total", b, d, 1), b, d, 0, 351, 463, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <div> <span class="import-type">Tasks:</span> <span class="import-progress">');
                    e.b(e.v(e.f("done", b, d, 0)));
                    e.b(" / ");
                    e.b(e.v(e.f("total", b, d, 0)));
                    e.b("</span> </div> ")
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("done", c, b, 1), c, b, 0, 494, 514, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <div> Done! </div> ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        invitation: function(c,
            b, d) {
            this.b(d = d || "");
            this.b('<div class="phenom invitation"> ');
            this.s(this.f("MemberInviter", c, b, 1), c, b, 0, 50, 107, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="creator member no-menu"> ');
                f.b(f.rp("member", b, d, ""));
                f.b(" </div> ")
            }), c.pop());
            this.b(' <div class="phenom-desc"> <p> ');
            this.s(this.f("MemberInviter", c, b, 1), c, b, 0, 174, 232, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <strong> ");
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b(" </strong> created an invitation to ")
            }), c.pop());
            this.b(' <span class="invitee"> ');
            this.s(this.f("MemberInvited", c, b, 1), c, b, 0, 292, 310, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.rp("member_inline", b, d, ""))
            }), c.pop());
            this.b(" ");
            this.s(this.f("MemberInvited", c, b, 1), c, b, 1, 0, 0, "") || (this.b(this.v(this.f("email", c, b, 0))), this.s(this.f("email", c, b, 1), c, b, 1, 0, 0, "") || this.b("someone new"));
            this.b(' </span> </p> </div> <p class="phenom-meta quiet"> ');
            this.s(this.f("dateExpires", c, b, 1), c, b, 0, 472, 566, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="expiration-date">Expires <span class="date" dt="');
                f.b(f.v(f.f("dateExpires", b, d, 0)));
                f.b('"></span></span> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("canRemove", c, b, 1), c, b, 0, 597, 676, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' - <a href="#" class="inline-block js-remove-invitation">Delete Invitation</a> ')
            }), c.pop());
            this.b(" </p> </div> ");
            return this.fl()
        },
        invite_add_name: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="quiet"> <strong>');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b('</strong>? We don\u2019t know that person. Add a name and click \u201cSend\u201d and we\u2019ll add a virtual member and send them an invite email. They\'ll automatically receive access to the board once they sign up and confirm their email address. </p> <p class="error hide js-name-error">Full name must be more than 4 characters.</p> <form class="js-email-data"> <label> Full Name </label> <input type="text" class="js-autofocus js-full-name" value="');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b('"> <input type="hidden" class="js-email" value="');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b('"> ');
            this.s(this.f("canAddAsObserver", c, b, 1), c, b, 0, 560, 832, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <span class="check-div quiet js-add-as-observer clearfix" style="margin-left: 24px; padding-top: 2px; font-size: 12px; line-height: 15px;"> <input type="checkbox" id="addAsObserver"> <label for="addAsObserver">Include this member as a view-only observer?</label> </span> ')
                }),
                c.pop());
            this.b(' <input type="submit" class="wide primary js-send-email-invite" value="Send"> </form> ');
            return this.fl()
        },
        jps_upgrade_banner: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="billing-upgrade-banner markeddown"> <h2 class="billing-upgrade-banner-header"> There\u2019s an update to Business Class available with lots of new features! </h2> <p> The available update includes\u2026 </p> <ul> <li> </p> Everyone in your organization will get <a href="/gold">Trello Gold</a>. That means more <strong>board backgrounds and stickers</strong> and the ability to upload your own, <strong>250MB attachments</strong>, and <strong>custom emoji</strong>. </p> </li> <li> <p> We\u2019ve also updated exports. You can now export as <strong>CSV</strong> as well as JSON. You\u2019ll also get a <strong>history of past bulk exports</strong>. </p> </li> </ul> <div class="billing-upgrade-banner-price-section"> <p> There\u2019s also new pricing. The price for the upgrade will be $5 per user per month or $45 per user per year. When you upgrade, your price will be\u2026 </p> ');
            this.s(this.f("monthlyUpgrade", c, b, 1), c, b, 0, 883, 992, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <h3 class="billing-upgrade-price-emphasis">$');
                f.b(f.v(f.f("price", b, d, 0)));
                f.b(" per month</h3> <p>$5 per ");
                f.b(f.v(f.f("formattedMemberCount", b, d, 0)));
                f.b("</p> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("yearlyUpgrade", c, b, 1), c, b, 0, 1030, 1139, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <h3 class="billing-upgrade-price-emphasis">$');
                f.b(f.v(f.f("price", b, d, 0)));
                f.b(" per year</h3> <p>$45 per ");
                f.b(f.v(f.f("formattedMemberCount",
                    b, d, 0)));
                f.b("</p> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("yearlyCheaperUpgrade", c, b, 1), c, b, 0, 1183, 1331, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <h3 class="billing-upgrade-price-emphasis">$');
                f.b(f.v(f.f("price", b, d, 0)));
                f.b(" per year</h3> <p>$45 per ");
                f.b(f.v(f.f("formattedMemberCount", b, d, 0)));
                f.b("</p> <p>You will get three months free.</p> ")
            }), c.pop());
            this.b(' </div> <div class="center"> <a href="#" class="billing-upgrade-banner-button button primary js-open-confirm-jps-upgrade"> Upgrade Your Organization </a> </div> <p class="quiet center"> We still support your version of Business Class, but it is no longer being sold and won\u2019t receive new Business Class features. </p> </div> ');
            return this.fl()
        },
        kiln_changeset_preview: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="attachment-extra-info-header"> Changeset <a href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('" target="_blank">');
            this.b(this.v(this.f("shortHash", c, b, 0)));
            this.b("</a> by ");
            this.b(this.v(this.f("author", c, b, 0)));
            this.b(" - ");
            this.s(this.f("reviews", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <span class="quiet">No Review</span> ');
            this.b(" ");
            this.s(this.f("reviews", c, b, 1), c, b, 0, 196, 275, "{{ }}") && (this.rs(c, b, function(b,
                d, f) {
                f.b(' <span class="quiet"> <a href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" target="_blank">');
                f.b(f.v(f.f("status", b, d, 0)));
                f.b("</a> </span> ")
            }), c.pop());
            this.b(' </div> <div class="attachment-extra-info-details markeddown"> ');
            this.b(this.t(this.f("commitMessageHtml", c, b, 0)));
            this.b(" </div> ");
            return this.fl()
        },
        kiln_changeset_thumbnail: function(c, b, d) {
            this.b(d = d || "");
            this.b('<span title="');
            this.b(this.v(this.f("commitMessage", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("shortCommitMessage",
                c, b, 0)));
            this.b('</span> <span class="block quiet"> ');
            this.s(this.f("date", c, b, 1), c, b, 0, 98, 157, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span>Added <span class="date" dt="');
                f.b(f.v(f.f("date", b, d, 0)));
                f.b('"></span></span>')
            }), c.pop());
            this.b(" - ");
            this.s(this.f("reviews", c, b, 1), c, b, 1, 0, 0, "") || this.b(" <span>No Review</span> ");
            this.b(" ");
            this.s(this.f("reviews", c, b, 1), c, b, 0, 230, 295, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span> <a href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('" target="_blank">');
                f.b(f.v(f.f("status", b, d, 0)));
                f.b("</a> </span> ")
            }), c.pop());
            this.b(" </span> ");
            return this.fl()
        },
        label: function(c, b, d) {
            this.b(d = d || "");
            this.b('<span class="card-label card-label-');
            this.b(this.v(this.f("color", c, b, 0)));
            this.b('" title="');
            this.s(this.f("name", c, b, 1), c, b, 0, 62, 70, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.v(f.f("name", b, d, 0)))
            }), c.pop());
            this.s(this.f("name", c, b, 1), c, b, 1, 0, 0, "") || (this.b(this.v(this.f("color", c, b, 0))), this.b(" label (default)"));
            this.b('"> ');
            this.s(this.f("name",
                c, b, 1), c, b, 0, 134, 142, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.v(f.f("name", b, d, 0)))
            }), c.pop());
            this.b(" ");
            this.s(this.f("name", c, b, 1), c, b, 1, 0, 0, "") || this.b("&nbsp;");
            this.b(" </span> ");
            return this.fl()
        },
        list: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="list-header js-list-header non-empty clearfix" attr="name"> <h2 class="list-header-name hide-on-edit js-list-name current">');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('</h2> <p class="list-header-num-cards hide js-num-cards"></p> <span class="list-header-subscribe-icon icon-sm icon-follow js-list-subscribed');
            this.s(this.f("subscribed", c, b, 1), c, b, 1, 0, 0, "") || this.b(" hide");
            this.b('"/> <div class="edit edit-heavy clearfix"> <textarea type="text" class="field single-line"></textarea> </div> ');
            this.s(this.f("__loggedIn", c, b, 1), c, b, 0, 443, 538, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="#" class="list-header-menu-icon icon-sm icon-menu dark-hover js-open-list-menu"></a> ')
            }), c.pop());
            this.b(' </div> <div class="list-cards fancy-scrollbar clearfix js-list-cards');
            this.s(this.f("__ed", c, b, 1), c, b, 0,
                631, 643, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-sortable")
            }), c.pop());
            this.b('"></div> <a class="open-card-composer js-open-card-composer" href="#">Add a card\u2026</a> ');
            return this.fl()
        },
        list_add: function(c, b, d) {
            this.b(d || "");
            this.b('<form> <span class="placeholder js-open-add-list">Add a list\u2026</span> <input type="text" class="list-name-input" name="name" placeholder="Add a list\u2026" autocomplete="off"/> <div class="edit-controls keep clearfix"> <input type="submit" class="primary confirm js-save-edit" value="Save"> <a href="#" class="icon-lg icon-close dark-hover cancel js-cancel-edit"></a> </div> </form> ');
            return this.fl()
        },
        list_bulk_card_move: function(c, b, d) {
            this.b(d = d || "");
            this.b('<form> <ul class="pop-over-list js-list-list"> ');
            this.s(this.f("lists", c, b, 1), c, b, 0, 57, 216, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a href="#" class="js-select-list highlight-icon ');
                f.s(f.f("current", b, d, 1), b, d, 0, 124, 133, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" disabled")
                }), b.pop());
                f.b('" name="');
                f.b(f.v(f.f("id", b, d, 0)));
                f.b('"> ');
                f.b(f.v(f.f("name", b, d, 0)));
                f.s(f.f("current", b, d, 1), b, d, 0, 182, 192, "{{ }}") &&
                    (f.rs(b, d, function(b, d, e) {
                        e.b(" (current)")
                    }), b.pop());
                f.b(" </a> </li> ")
            }), c.pop());
            this.b(" </ul> </form> ");
            return this.fl()
        },
        list_copy: function(c, b, d) {
            this.b(d || "");
            this.b('<label>Name</label> <textarea name="name" class="js-autofocus">');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('</textarea> <input type="submit" class="primary wide js-submit" value="Create List"> ');
            return this.fl()
        },
        list_guide_link: function(c, b, d) {
            this.b(d || "");
            this.b('<p class="list-link"> <strong>');
            this.b(this.v(this.f("name",
                c, b, 0)));
            this.b('</strong><br> <span class="list-link-sub">');
            this.b(this.v(this.f("countStr", c, b, 0)));
            this.b("</span> </p> ");
            return this.fl()
        },
        list_inline: function(c, b, d) {
            this.b(d || "");
            this.b(' list "');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('" ');
            return this.fl()
        },
        list_menu: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 36, 206, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <li><a class="js-add-card" href="#">Add Card\u2026</a></li> <li><a class="js-copy-list" href="#">Copy List\u2026</a></li> <li><a class="js-move-list" href="#">Move List\u2026</a></li> ')
                }),
                c.pop());
            this.b(' <li><a class="highlight-icon js-list-subscribe" href="#">Subscribe');
            this.s(this.f("subscribed", c, b, 1), c, b, 0, 297, 333, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('d <span class="icon-sm icon-check"/>')
            }), c.pop());
            this.b("</a></li> </ul> ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 373, 570, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <hr> <ul class="pop-over-list"> <li><a class="js-move-cards" href="#">Move All Cards in This List\u2026</a></li> <li><a class="js-archive-cards" href="#">Archive All Cards in This List\u2026</a></li> </ul> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 589, 693, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <hr> <ul class="pop-over-list"> <li><a class="js-close-list" href="#">Archive This List</a></li> </ul> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        login_popover: function(c, b, d) {
            this.b(d = d || "");
            this.b('<form action="/authenticate" method="post" novalidate> ');
            this.s(this.f("badLogin", c, b, 1), c, b, 0, 68, 127, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <p class="error">The email or password was incorrect.</p> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("unconfirmed", c, b, 1), c, b, 0, 157, 264, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="error">You can\u2019t sign in until you <a href="/resendValidate">verify your email address</a>.</p> ')
            }), c.pop());
            this.b(' <label for="email-login"> Email </label> <input type="email" name="user" id="email-login" value="');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b('" class="js-autofocus" autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> <label for="password-login"> Password </label> <input type="password" name="password" id="password-login"> <input type="submit" class="primary wide js-password-login" value="Log In"> <p class="quiet" style="margin-top: 16px;"> <a href="/forgot"><strong>Forgot password?</strong></a> </p> <p class="quiet"> New? <a href="/signup');
            this.s(this.f("returnUrl", c, b, 1), c, b, 0, 829, 853, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("?returnUrl=");
                f.b(f.v(f.f("returnUrl", b, d, 0)))
            }), c.pop());
            this.b('"><strong>Create an Account.</strong></a> </p> <input type="hidden" name="returnUrl" value="');
            this.b(this.v(this.f("returnUrl", c, b, 0)));
            this.b('"> </form> <form action="/authenticate_openid" method="post" style="margin-top: 16px;"> <label> Or log in with: </label> <input type="hidden" name="openid_identifier" value="https://www.google.com/accounts/o8/id"> <input type="hidden" name="returnUrl" value="');
            this.b(this.v(this.f("returnUrl", c, b, 0)));
            this.b('"> <input type="hidden" name="mode" value=""> <input type="hidden" name="login" value=""> <input type="hidden" name="immediate" value=""> <input type="hidden" name="confirmNew" value="true"> <a class="button with-icon primary google js-google-login" href=""> <span class="icon-sm icon-google light"/> Google Account </a> ');
            this.s(this.f("openidAccount", c, b, 1), c, b, 0, 1583, 1718, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" <p>It looks like you haven\u2019t set a password yet. You can do this from the Account page after logging in with your Google Account.</p> ")
                }),
                c.pop());
            this.b(" </form> ");
            return this.fl()
        },
        manage_members: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("canInviteMembers", c, b, 1), c, b, 0, 21, 424, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="search-with-spinner js-search-section"> <input type="text" class="js-search-input js-autofocus" style="margin-bottom: 0;"> <div class="spinner small hide js-loading"></div> </div> <div class="manage-member-section js-helper"> <p class="bottom quiet" style="padding: 6px;"> Search for a person in Trello by name or email address, or enter an email address to invite someone new. </p> </div> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("disableAddingExternalMembers", c, b, 1), c, b, 0, 479, 1014, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="search-with-spinner js-search-section"> <input type="text" class="js-search-input js-autofocus" style="margin-bottom: 0;"> <div class="spinner small hide js-loading"></div> </div> <p class="warning"> Only organization members can be added to this board. ');
                f.s(f.f("isBCOrgAdmin", b, d, 1), b, d, 0, 763, 898, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' To change this, visit the <a href="');
                    e.b(e.v(e.f("orgSettingsURL", b, d, 0)));
                    e.b('">Organization Settings page</a> and click \u201cInviting Non-Org Members to Boards\u201d. ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("isBCOrgAdmin", b, d, 1), b, d, 1, 0, 0, "") || f.b(" Check with an organization admin to change this setting. ");
                f.b(" </p> ")
            }), c.pop());
            this.b(' <div class="manage-member-section hide js-board-members"> <ul class="pop-over-member-list options js-list"></ul> </div> <div class="manage-member-section hide"> <h4>Error</h4> <p class="error">The user or email could not be invited due to an organization restriction.</p> </div> <div class="manage-member-section hide js-error"> <p class="error" style="margin: 16px 8px 6px;"/> </div> ');
            this.s(this.f("canAddMembers", c, b, 1), c, b, 0, 1451, 2315, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="manage-member-section hide js-uninvited-search-results"></div> <div class="manage-member-section hide js-search-results"> <h4>Select to add.</h4> <ul class="pop-over-member-list options js-list"></ul> </div> <div class="manage-member-section hide js-no-results"> <p class="quiet center" style="padding: 16px 4px;">No results</p> </div> <div class="manage-member-section hide js-org-members"> <h4>');
                    f.b(f.v(f.f("orgName", b, d, 0)));
                    f.b(' Members</h4> <ul class="pop-over-member-list options clearfix js-list');
                    f.s(f.f("orgMemsView", b, d, 1), b, d, 0, 1957, 1967, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(" collapsed")
                    }), b.pop());
                    f.b('" ');
                    f.s(f.f("orgMemsView", b, d, 1), b, d, 0, 2001, 2028, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b('style="margin-bottom: 8px;"')
                    }), b.pop());
                    f.b('></ul> <a href="#" class="quiet-button js-add-all-org-members" style="margin-top: 8px;">Add All Organization Members (<span class="js-num-org-mem"></span>)</a> <a href="#" class="quiet-button js-more-org-members hide" style="margin-top: 8px;">View All Members</a> </div> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("canInviteMembers", c, b, 1), c, b, 0, 2355, 2382, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="js-ad"></div> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isJPS", c, b, 1), c, b, 0, 2414, 2637, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <hr> <p class="quiet bottom" style="padding: 6px;"> Business Class pricing is per user. Adding a member will increase the price by $');
                f.b(f.v(f.f("jpsPrice", b, d, 0)));
                f.b(" per ");
                f.s(f.f("isMonthly", b, d, 1), b, d, 0, 2578, 2584, "{{ }}") && (f.rs(b,
                    d, function(b, d, e) {
                        e.b(" month")
                    }), b.pop());
                f.b(" ");
                f.s(f.f("isYearly", b, d, 1), b, d, 0, 2612, 2617, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" year")
                }), b.pop());
                f.b(". </p> ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        manage_members_select_role: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> ');
            this.s(this.f("showAdmin", c, b, 1), c, b, 0, 41, 160, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a href="#" class="js-invite js-select-admin"> Admin <span class="sub-name">');
                f.b(f.v(f.f("roleText_admin",
                    b, d, 0)));
                f.b("</span> </a> </li> ")
            }), c.pop());
            this.b(' <li> <a href="#" class="js-invite js-select-member"> Normal <span class="sub-name">');
            this.b(this.v(this.f("roleText_normal", c, b, 0)));
            this.b("</span> </a> </li> ");
            this.s(this.f("showObserver", c, b, 1), c, b, 0, 313, 510, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a href="#" class="js-invite js-select-observer"> Observer <span class="icon-sm icon-briefcase icon-briefcase-bc-color"></span> <span class="sub-name">');
                f.b(f.v(f.f("roleText_observer",
                    b, d, 0)));
                f.b("</span> </a> </li> ")
            }), c.pop());
            this.b(" </ul> ");
            return this.fl()
        },
        member: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("avatarHash", c, b, 1), c, b, 0, 15, 356, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <img class="member-avatar" height="30" width="30" src="');
                f.b(f.v(f.f("__avatarDomain", b, d, 0)));
                f.b("/");
                f.b(f.v(f.f("avatarHash", b, d, 0)));
                f.b('/30.png" alt="');
                f.s(f.f("deleted", b, d, 1), b, d, 0, 130, 167, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("This member has deleted their account")
                }), b.pop());
                f.s(f.f("deleted", b, d, 1), b, d, 1, 0, 0, "") || (f.b(f.v(f.f("fullName", b, d, 0))), f.b(" ("), f.b(f.v(f.f("username", b, d, 0))), f.b(")"));
                f.b('" title="');
                f.s(f.f("deleted", b, d, 1), b, d, 0, 251, 288, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("This member has deleted their account")
                }), b.pop());
                f.s(f.f("deleted", b, d, 1), b, d, 1, 0, 0, "") || (f.b(f.v(f.f("fullName", b, d, 0))), f.b(" ("), f.b(f.v(f.f("username", b, d, 0))), f.b(")"));
                f.b('" /> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("avatarHash", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <span class="member-initials" title="'),
                this.s(this.f("deleted", c, b, 1), c, b, 0, 437, 474, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b("This member has deleted their account")
                }), c.pop()), this.s(this.f("deleted", c, b, 1), c, b, 1, 0, 0, "") || (this.b(this.v(this.f("fullName", c, b, 0))), this.b(" ("), this.b(this.v(this.f("username", c, b, 0))), this.b(")")), this.b('"> '), this.s(this.f("deleted", c, b, 1), c, b, 1, 0, 0, "") || this.b(this.v(this.f("initials", c, b, 0))), this.b(" "), this.s(this.f("deleted", c, b, 1), c, b, 0, 589, 590, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                        f.b("?")
                    }),
                    c.pop()), this.b(" </span> "));
            this.b(" ");
            this.s(this.f("isDeactivated", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("showStatus", c, b, 1), c, b, 0, 661, 959, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="member-status ');
                f.b(f.v(f.f("status", b, d, 0)));
                f.b('" title="');
                f.s(f.f("status_active", b, d, 1), b, d, 0, 725, 766, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("This member is online and viewing Trello.")
                }), b.pop());
                f.s(f.f("status_idle", b, d, 1), b, d, 0, 800, 869, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b("This member is idle. They have Trello open but are not looking at it.")
                    }),
                    b.pop());
                f.s(f.f("status_disconnected", b, d, 1), b, d, 0, 909, 932, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("This member is offline.")
                }), b.pop());
                f.b('"/>')
            }), c.pop()), this.b(" "), this.s(this.f("isBoardAdmin", c, b, 1), c, b, 0, 992, 1072, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="member-type admin" title="This member is an admin of this board."/>')
            }), c.pop()), this.b(" "), this.s(this.f("isOrganizationAdmin", c, b, 1), c, b, 0, 1114, 1201, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b('<span class="member-type admin" title="This member is an admin of this organization."/>')
                }),
                c.pop()), this.b(" "));
            this.b(' <span class="member-gold-badge" title="This member has Trello Gold."></span> ');
            return this.fl()
        },
        member_account: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module clearfix"> <div class="window-module-title"> <h3>Account Details</h3> </div> <a class="big-link js-change-name-and-bio" href="#"> <span class="text">Change Name, Initials, or Bio</span> </a> <a class="big-link js-change-avatar" href="#"> <span class="text">Change Avatar</span> </a> <a class="big-link js-change-password" href="#"> <span class="text">');
            this.s(this.f("hasPassword", c, b, 1), c, b, 0, 393, 400, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("Change ")
            }), c.pop());
            this.s(this.f("hasPassword", c, b, 1), c, b, 1, 0, 0, "") || this.b("Set ");
            this.b('Password</span> </a> </div> <div class="window-module js-credentials-section"> <div class="window-module-title"> <h3>Credentials</h3> </div> <div class="js-credentials-list gutter"> <div class="spinner loading"></div> </div> <div class="gutter"> <input type="button" class="js-add-email" value="Add A New Email Address"> </div> </div> <div class="window-module clearfix"> <div class="window-module-title"> <h3>Notifications</h3> </div> <a class="big-link js-change-email-freq" href="#"> <span class="text">Change Notification Email Frequency</span> </a> ');
            this.s(this.f("canAllowDesktopNotifications", c, b, 1), c, b, 0, 1039, 1160, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="big-link js-allow-desktop-notifications" href="#"> <span class="text">Allow Desktop Notifications</span> </a> ')
            }), c.pop());
            this.b(' </div> <div class="window-module clearfix"> <div class="window-module-title"> <h3>Accessibility</h3> </div> <a class="big-link js-toggle-cb-mode" href="#"> <span class="text">');
            this.s(this.f("cbEnabled", c, b, 1), c, b, 0, 1383, 1391, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b("Disable ")
                }), c.pop());
            this.s(this.f("cbEnabled", c, b, 1), c, b, 1, 0, 0, "") || this.b("Enable ");
            this.b('Color Blind Friendly Mode</span> </a> </div> <div class="window-module"> <div class="window-module-title"> <h3>Applications</h3> </div> <div class="js-member-applications"> <div class="spinner loading"></div> </div> </div> <div class="window-module"> <div class="window-module-title"> <h3>Sessions</h3> </div> <div class="js-member-sessions gutter"> <div class="spinner loading"></div> </div> </div> <div class="window-module"> <a class="quiet-button gutter js-confirm-delete-member" href="#" style="margin-top: 32px;">Permanently delete your entire account forever?</a> </div> ');
            return this.fl()
        },
        member_application: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="details"> <h5> ');
            this.s(this.f("identifier", c, b, 1), c, b, 0, 42, 56, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.v(f.f("identifier", b, d, 0)))
            }), c.pop());
            this.b(" ");
            this.s(this.f("identifier", c, b, 1), c, b, 1, 0, 0, "") || this.b("Unknown Application");
            this.b(' </h5> <p class="quiet"> ');
            this.b(this.v(this.f("permissions", c, b, 0)));
            this.b(' </p> <p class="quiet"> Approved: ');
            this.b(this.v(this.f("dateApproved", c, b, 0)));
            this.b("<br> ");
            this.s(this.f("neverExpires", c, b, 1), c, b, 0, 233, 248, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" Never Expires ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("neverExpires", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" Expires: "), this.b(this.v(this.f("dateExpires", c, b, 0))), this.b(" "));
            this.b(' </p> </div> <input type="button" class="js-revoke" value="Revoke"> ');
            return this.fl()
        },
        member_application_list: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("hasTokens", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p class="big-link none"> No applications are using your Trello account. </p> ');
            this.b(" ");
            this.s(this.f("hasTokens", c, b, 1), c, b, 0, 122, 170, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="member-applications gutter"></div> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        member_avatar: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="member"> ');
            this.s(this.f("avatarHash", c, b, 1), c, b, 0, 36, 131, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <img class="member-avatar" src="');
                f.b(f.v(f.f("__avatarDomain", b, d, 0)));
                f.b("/");
                f.b(f.v(f.f("avatarHash", b, d, 0)));
                f.b('/30.png" alt="');
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b('"> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("avatarHash", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <p class="member-initials">'), this.b(this.v(this.f("initials", c, b, 0))), this.b("</p> "));
            this.b(" </div> ");
            return this.fl()
        },
        member_billing_org_link: function(c, b, d) {
            this.b(d || "");
            this.b('<li> <a href="');
            this.b(this.v(this.f("billingLink", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("displayName", c, b, 0)));
            this.b(" billing page</a> </li> ");
            return this.fl()
        },
        member_billing_org_link_list: function(c,
            b, d) {
            this.b(d || "");
            this.b('<div class="gutter markeddown"> <div style="max-width: 450px;"> <h3> Looking for your organization\u2019s billing page? </h3> <ul class="js-org-link-list"></ul> <p class="quiet"> This is your personal billing page. You can manage the billing for your Business Class organizations on the above pages. </p> </div> <hr> </div> ');
            return this.fl()
        },
        member_boards_list_ad: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a href="#" class="icon-lg icon-close dark-hover ad-close js-close-ad"></a> ');
            this.s(this.f("iconClass", c, b, 1), c, b, 0, 90, 135, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="ad-icon ');
                f.b(f.v(f.f("iconClass", b, d, 0)));
                f.b('"></span> ')
            }), c.pop());
            this.b(' <div class="ad-copy">');
            this.b(this.t(this.f("copyHtml", c, b, 0)));
            this.b("</div>");
            return this.fl()
        },
        member_cards_base: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="window-module gutter"> <a href="#" class="quiet-button w-img js-toggle-sort"><span class=\'icon-sm icon-menu\'/><span class="js-sort-text"/></a> </div> <div class="js-cards-content"></div> ');
            return this.fl()
        },
        member_cards_board: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-board"/> <h3><a href="');
            this.b(this.v(this.f("boardUrl", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b("</a></h3> ");
            this.s(this.f("org", c, b, 1), c, b, 0, 147, 238, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a style="margin: 0 2px;" class="inline-block quiet" href="/');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('">');
                f.b(f.v(f.f("displayName",
                    b, d, 0)));
                f.b("</a> ")
            }), c.pop());
            this.b(' <span class="icon-sm icon-');
            this.b(this.v(this.f("permissionLevel", c, b, 0)));
            this.b('"/> <span class=\'quiet js-card-total\'/> </div> <div class="gutter float-cards clearfix js-list"></div> ');
            return this.fl()
        },
        member_cards_card: function(c, b, d) {
            this.b(d = d || "");
            this.b("<div class=\"js-card\"></div> <p class='list-card-position quiet'> in <strong>");
            this.b(this.v(this.f("listName", c, b, 0)));
            this.b("</strong> ");
            this.s(this.f("showBoard", c, b, 1), c, b, 0, 112, 147,
                "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" on <strong>");
                f.b(f.v(f.f("boardName", b, d, 0)));
                f.b("</strong> ")
            }), c.pop());
            this.b(" </p> ");
            return this.fl()
        },
        member_cards_date: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-');
            this.b(this.v(this.f("iconType", c, b, 0)));
            this.s(this.f("isOverdue", c, b, 1), c, b, 0, 111, 125, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" overdue light")
            }), c.pop());
            this.s(this.f("isDueSoon", c, b, 1), c, b, 0,
                153, 164, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" soon light")
            }), c.pop());
            this.b('"/> <h3>');
            this.b(this.v(this.f("header", c, b, 0)));
            this.b("</h3> <span class='quiet js-card-total'/> </div> <div class=\"gutter float-cards clearfix js-list\"></div> ");
            return this.fl()
        },
        member_cards_filter: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list checkable"> <li class="');
            this.s(this.f("board", c, b, 1), c, b, 0, 58, 64, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("active")
            }), c.pop());
            this.b('"> <a href="#" class="highlight-icon js-sort-by-board"> Sort by board ');
            this.s(this.f("board", c, b, 1), c, b, 0, 154, 190, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' </a> </li> <li class="');
            this.s(this.f("date", c, b, 1), c, b, 0, 232, 238, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("active")
            }), c.pop());
            this.b('"> <a href="#" class="highlight-icon js-sort-by-due-date"> Sort by due date ');
            this.s(this.f("date", c, b, 1), c, b, 0, 332, 368, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(" </a> </li> </ul> ");
            return this.fl()
        },
        member_detail: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="tabbed-pane-header"> <div class="tabbed-pane-header-wrapper clearfix"> <a class="tabbed-pane-header-image profile-image ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 141, 168, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("ed js-change-avatar-profile")
            }), c.pop());
            this.s(this.f("hasCrown", c, b, 1), c, b, 0, 190, 200, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" has-crown")
            }), c.pop());
            this.b('" href="#"> ');
            this.s(this.f("avatarHash", c, b,
                1), c, b, 0, 240, 342, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <img class="profile-image-image" src="');
                f.b(f.v(f.f("__avatarDomain", b, d, 0)));
                f.b("/");
                f.b(f.v(f.f("avatarHash", b, d, 0)));
                f.b('/170.png" alt="');
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b('"> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("avatarHash", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <span class="profile-image-initials">'), this.b(this.v(this.f("initials", c, b, 0))), this.b("</span> "));
            this.b(' <span class="change-text"> Change Avatar </span> </a> <div class="tabbed-pane-header-details"> <div class="js-current-details"></div> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 590, 634, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <form class="js-profile-form hide"></form> ')
            }), c.pop());
            this.b(' </div> <div class="tabbed-pane-header-factoid js-header-factoid"></div> </div> </div> <div class="tabbed-pane-nav clearfix"> <ul> <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-member-profile" href="/');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('">Profile</a> </li> <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-member-cards" href="/');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('/cards">Cards</a> </li> ');
            this.s(this.f("hasAccount", c, b, 1), c, b, 0, 1051, 1223, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("accountProblem", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-billing" href="/'), f.b(f.v(f.f("username", b, d, 0))), f.b('/billing">Billing</a> </li> '));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("accountProblem", c, b, 1), c, b, 0, 1258, 1425, "{{ }}") && (this.rs(c, b, function(b,
                d, f) {
                f.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-billing" href="/');
                f.b(f.v(f.f("username", b, d, 0)));
                f.b('/billing">Billing <span class="option">Issue!</span></a> </li> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isMe", c, b, 1), c, b, 0, 1454, 1594, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-member-account" href="/');
                f.b(f.v(f.f("username", b, d, 0)));
                f.b('/account">Settings</a> </li> ')
            }), c.pop());
            this.b(' </ul> </div> <div class="tabbed-pane-main-col clearfix"> <div class="tabbed-pane-main-col-loading hide js-loading-page"> <span class="tabbed-pane-main-col-loading-spinner spinner"></span> </div> <div class="tabbed-pane-main-col-wrapper js-content"></div> </div> ');
            return this.fl()
        },
        member_detail_profile_edit: function(c, b, d) {
            this.b(d || "");
            this.b('<p class="error js-profile-form-error hide"></p> <label>Full Name</label> <input type="text" name="fullName" value="');
            this.b(this.v(this.f("fullName",
                c, b, 0)));
            this.b('"/> <label>Username</label> <input type="text" name="username" value="');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('"/> <label>Initials</label> <input type="text" name="initials" value="');
            this.b(this.v(this.f("initials", c, b, 0)));
            this.b('"/> <label>Bio <span class="quiet">(optional)</span></label> <textarea name="bio">');
            this.b(this.v(this.f("bio", c, b, 0)));
            this.b('</textarea> <input type="submit" class="primary wide js-submit-profile" value="Save"/> <input type="button" class="js-cancel-edit-profile" value="Cancel"/> ');
            return this.fl()
        },
        member_detail_profile_info: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="tabbed-pane-header-details-name"> <h1 class="inline"> ');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b(' </h1> <p class="window-title-extra quiet"> @');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b(" </p> ");
            this.s(this.f("hasCrown", c, b, 1), c, b, 0, 154, 352, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="member-profile-gold-badge"> <span class="icon-sm icon-crown member-profile-gold-badge-icon"></span> ');
                f.s(f.f("__ed", b, d, 1), b, d, 0, 277, 300, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("You\u2019ve got Trello Gold!")
                }), b.pop());
                f.b(" ");
                f.s(f.f("__ed", b, d, 1), b, d, 1, 0, 0, "") || f.b("Has Trello Gold");
                f.b(" </span> ")
            }), c.pop());
            this.b(' </div> <div class="tabbed-pane-header-details-content"> ');
            this.s(this.f("bioHtml", c, b, 1), c, b, 0, 434, 447, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.t(f.f("bioHtml", b, d, 0)))
            }), c.pop());
            this.b(" </div> ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 476, 614, "{{ }}") && (this.rs(c, b, function(b,
                d, f) {
                f.b(' <a class="button-link tabbed-pane-header-details-edit js-edit-profile" href="#"><span class="icon-sm icon-edit"></span> Edit profile</a> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        member_email_freq: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("minutesBetweenSummaries_-1", c, b, 1), c, b, 0, 31, 51, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" Don't send emails. ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("minutesBetweenSummaries_60", c, b, 1), c, b, 0, 114, 141, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" Send emails periodically. ")
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("minutesBetweenSummaries_1", c, b, 1), c, b, 0, 203, 227, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" Send emails instantly. ")
            }), c.pop());
            this.b(" (change) ");
            return this.fl()
        },
        member_gold_earned: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module gold-earned-modal js-earned-gold-modal gutter"> <img src="https://d78fikflryjgj.cloudfront.net/images/3cbf48993d46484c5d82cc9c1844a54b/TrelloGoldIcon.png" class="gold-earned-modal-image"/> <h1>You\u2019ve ');
            this.s(this.f("hasInvitations",
                c, b, 1), c, b, 0, 245, 251, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("earned")
            }), c.pop());
            this.s(this.f("hasInvitations", c, b, 1), c, b, 1, 0, 0, "") || this.b("got");
            this.b(" Trello Gold!</h1> <p> Awww yeah! ");
            this.s(this.f("hasInvitations", c, b, 1), c, b, 0, 364, 486, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.v(f.f("joinedNames", b, d, 0)));
                f.b(" joined Trello on your recommendation or invite! That means you\u2019ve earned ");
                f.b(f.v(f.f("countMonths", b, d, 0)));
                f.b(" of Trello Gold! ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("hasInvitations", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" You received "), this.b(this.v(this.f("countMonths", c, b, 0))), this.b(" of Trello Gold! "));
            this.b(' </p> <p class="gold-earned-modal-learn-more quiet"> <a href="/gold">Learn more about Trello Gold.</a> </p> ');
            this.s(this.f("__gold", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <a class="gold-earned-modal-button button primary js-start-using-gold" href="#">Start using Trello Gold!</a> ');
            this.b(" ");
            this.s(this.f("showClose", c, b, 1), c, b, 0, 845, 1046, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(' <p class="quiet" style="margin-top: 16px;"> You can visit your "Account Settings" page later to redeem your credits. <a class="js-close-modal" href="#">Okay, thanks! Close this header thing.</a> </p> ')
                }), c.pop());
            this.b(" <hr> </div> ");
            return this.fl()
        },
        member_gold_intro: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="product-intro-modal gold-intro"> <a href="#" class="icon-lg icon-close dark-hover product-intro-close js-close-intro-helper"></a> <div class="product-intro-header"> <img class="product-intro-logo" src="https://d78fikflryjgj.cloudfront.net/images/6d243fedef388195ac2dd4bf3f6fcfa5/TrelloGoldLogo.png" alt="Trello Gold" /> </div> <hr> <h2>Yessssss... You\'ve got Trello Gold!</h2> <p> Here\u2019s what you need to know to get started\u2026 </p> <div class="product-intro-section"> <span class="product-intro-number">1</span> <h3>Stickers</h3> <p> Check out the \u201cStickers\u201d pane on the sidebar of any board. You can view and stick additional stickers and upload your own from there. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">2</span> <h3>Board backgrounds</h3> <p> Check out the \u201cSettings\u201d pane in the sidebar of any board and select \u201cChange Board Background\u201d. From there, you can view and use additional backgrounds and upload your own. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">3</span> <h3>Larger attachments</h3> <p> You can now upload files up to 250MB! Just select a file via \u201cAttach File\u2026\u201d on the back of the card, or drag and drop from your desktop. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">4</span> <h3>Uploading custom emoji</h3> <p> While on a card, open the comment field, click the menu button in the bottom right hand corner, and select \u201cUpload Emoji\u201d. You can upload images and name the emoji from there. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">5</span> <h3>Billing page</h3> <p> Check out the \u201cBilling\u201d tab for future reference. You can see when your account will renew, update your credit card info, see billing history and so on. If you signed up via credits, you can check when your credits expire and you can enter a credit card and sign up for a subscription. </p> </div> <p> This will be in the <a href="http://help.trello.com/customer/portal/articles/1350088-trello-gold-user-guide"><strong>Trello Gold User Guide</strong></a> for future reference. Enjoy! And thanks for upgrading! </p> <p class="product-intro-close-bottom center quiet"> <a href="#" class="js-close-intro-helper dark-hover"> <span class="icon-sm icon-close dark-hover"/>Got it! Close this helper. </a> </p> </div> ');
            return this.fl()
        },
        member_inline: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("avatarHash", c, b, 1), c, b, 0, 15, 166, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <img class="inline-member-av" src="');
                f.b(f.v(f.f("__avatarDomain", b, d, 0)));
                f.b("/");
                f.b(f.v(f.f("avatarHash", b, d, 0)));
                f.b('/30.png" alt="');
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b(" (");
                f.b(f.v(f.f("username", b, d, 0)));
                f.b(')" title="');
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b(" (");
                f.b(f.v(f.f("username", b, d, 0)));
                f.b(')" /> ')
            }), c.pop());
            this.b(' <span class="bold">');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b("</span> ");
            return this.fl()
        },
        member_large_avatar: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="mem-info"> <h3 class="bottom"><a class="js-profile" href="/');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b('</a></h3> <p class="quiet">@');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('</p> </div> <img src="');
            this.b(this.v(this.f("__avatarDomain", c, b, 0)));
            this.b("/");
            this.b(this.v(this.f("avatarHash",
                c, b, 0)));
            this.b('/original.png" alt="');
            this.s(this.f("deleted", c, b, 1), c, b, 0, 224, 261, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("This member has deleted their account")
            }), c.pop());
            this.s(this.f("deleted", c, b, 1), c, b, 1, 0, 0, "") || (this.b(this.v(this.f("fullName", c, b, 0))), this.b(" ("), this.b(this.v(this.f("username", c, b, 0))), this.b(")"));
            this.b('" title="');
            this.s(this.f("deleted", c, b, 1), c, b, 0, 345, 382, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("This member has deleted their account")
            }), c.pop());
            this.s(this.f("deleted",
                c, b, 1), c, b, 1, 0, 0, "") || (this.b(this.v(this.f("fullName", c, b, 0))), this.b(" ("), this.b(this.v(this.f("username", c, b, 0))), this.b(")"));
            this.b('" /> ');
            return this.fl()
        },
        member_list_item_detail: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="member member-no-menu');
            this.s(this.f("isVirtual", c, b, 1), c, b, 0, 47, 62, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" member-virtual")
            }), c.pop());
            this.s(this.f("isDeactivated", c, b, 1), c, b, 0, 94, 113, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" member-deactivated")
                }),
                c.pop());
            this.b('"> ');
            this.b(this.rp("member", c, b, ""));
            this.b(' </div> <div class="details"> <p class="name-line"> <span class="full-name">');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b('</span> </p> <p class="bottom quiet"> ');
            this.s(this.f("username", c, b, 1), c, b, 0, 284, 337, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="quiet inline-block">@');
                f.b(f.v(f.f("username", b, d, 0)));
                f.b("</span>")
            }), c.pop());
            this.b(" ");
            this.s(this.f("showGoogleApps", c, b, 1), c, b, 0, 370, 466, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b(" ");
                    f.s(f.f("gMail", b, d, 1), b, d, 0, 381, 455, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(" ");
                        e.s(e.f("username", b, d, 1), b, d, 0, 395, 397, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b("- ")
                        }), b.pop());
                        e.b('<span class="icon-sm icon-google"/>');
                        e.b(e.v(e.f("gMail", b, d, 0)));
                        e.b(" ")
                    }), b.pop());
                    f.b(" ")
                }), c.pop());
            this.b(' </p> </div> <div class="options"> ');
            this.s(this.f("isOrgMember", c, b, 1), c, b, 0, 536, 1432, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("showActivity", b, d, 1), b, d, 0, 554,
                    625, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a class="option quiet-button js-view-activity" href="#">Activity</a> ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("allowTypeChange", b, d, 1), b, d, 0, 663, 788, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a class="option button-link role-button js-change-role" href="#"> ');
                    e.b(e.v(e.f("orgMemberType", b, d, 0)));
                    e.b(' <span class="icon-sm icon-menu"/> </a> ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("allowTypeChange", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <p class="option status quiet">'), f.b(f.v(f.f("orgMemberType",
                    b, d, 0))), f.b("</p> "));
                f.b(" ");
                f.s(f.f("allowReactivate", b, d, 1), b, d, 0, 924, 996, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a class="option quiet-button js-reactivate" href="#"> Reactivate </a> ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("isMe", b, d, 1), b, d, 0, 1026, 1213, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a class="option button-link remove-button js-remove-or-deactivate ');
                    e.s(e.f("canRemove", b, d, 1), b, d, 1, 0, 0, "") || e.b("disabled");
                    e.b('" href="#"> <span class="icon-sm icon-close"/> Leave');
                    e.s(e.f("orgIsBC",
                        b, d, 1), b, d, 0, 1194, 1195, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b("\u2026")
                    }), b.pop());
                    e.b(" </a> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("isMe", b, d, 1), b, d, 1, 0, 0, "") || (f.b(" "), f.s(f.f("ownsOrg", b, d, 1), b, d, 0, 1245, 1409, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a class="option button-link remove-button js-remove-or-deactivate ');
                    e.s(e.f("canRemove", b, d, 1), b, d, 1, 0, 0, "") || e.b("disabled");
                    e.b('" href="#"> <span class="icon-sm icon-close"/> Remove\u2026 </a> ')
                }), b.pop()), f.b(" "));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("isOrgMember", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("showGoogleApps", c, b, 1), c, b, 0, 1485, 1792, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" ");
                    f.s(f.f("hidden", b, d, 1), b, d, 1, 0, 0, "") || f.b(' <a class="option quiet-button js-hide-member" href="#"> Dismiss </a> ');
                    f.b(" ");
                    f.s(f.f("hidden", b, d, 1), b, d, 0, 1590, 1666, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <a class="option quiet-button js-unhide-member" href="#"> Always Show </a> ')
                    }), b.pop());
                    f.b(' <a class="option button-link primary js-invite-to-org" href="#"> <span class="icon-sm icon-add"/> Add Member </a> ')
                }),
                c.pop()), this.b(" "));
            this.b(" </div> ");
            return this.fl()
        },
        member_login: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="member-login-email bottom"> ');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b(" </p> ");
            this.s(this.f("primary", c, b, 1), c, b, 0, 65, 110, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="bottom quiet"> Primary email </p> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("primary", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <a class="js-primary bottom quiet" href="#"> Set as primary email </a> ');
            this.b(' <p class="member-login-date-added bottom quiet"> Added: <span class="date" dt="');
            this.b(this.v(this.f("dateAdded", c, b, 0)));
            this.b('"></span> </p> ');
            this.s(this.f("primary", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <span class="member-login-remove icon-sm icon-close dark-hover js-remove"></span> ');
            this.b(" ");
            return this.fl()
        },
        member_notifications: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-notification"/> <h3>Notifications</h3> </div> ');
            this.s(this.f("empty", c, b, 1), c, b, 0, 141, 187, "{{ }}") && (this.rs(c, b, function(b,
                d, f) {
                f.b('<div class="empty-list">No Notifications</div>')
            }), c.pop());
            this.b(' <div class="js-list-notifications"></div> <a class="show-more js-more-notifications" href="#">Load More Notifications</a> ');
            return this.fl()
        },
        member_on_board_menu: function(c, b, d) {
            this.b(d = d || "");
            this.b('<li> <a class="');
            this.s(this.f("canChangeRole", c, b, 1), c, b, 0, 33, 47, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("js-change-role")
            }), c.pop());
            this.s(this.f("canChangeRole", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" href="#"> Change permissions\u2026 ');
            this.s(this.f("type", c, b, 1), c, b, 0, 150, 216, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="quiet" style="font-weight: normal;">(');
                f.b(f.v(f.f("type", b, d, 0)));
                f.b(")</span>")
            }), c.pop());
            this.b(' </a> </li> <li><a href="');
            this.b(this.v(this.f("boardProfileUrl", c, b, 0)));
            this.b('">View Member\u2019s Board Activity</a></li> ');
            this.s(this.f("canRemove", c, b, 1), c, b, 0, 323, 441, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a class="js-remove-member"> ');
                f.s(f.f("isMe", b, d, 1), b, d, 0, 367, 381, "{{ }}") &&
                    (f.rs(b, d, function(b, d, e) {
                        e.b(" Leave Board\u2026 ")
                    }), b.pop());
                f.b(" ");
                f.s(f.f("isMe", b, d, 1), b, d, 1, 0, 0, "") || f.b(" Remove from Board\u2026 ");
                f.b(" </a> </li> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("canRemove", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("isMe", c, b, 1), c, b, 0, 480, 764, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("isMoreThanOneMember", b, d, 1), b, d, 0, 505, 739, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" ");
                    e.s(e.f("memberIsAdmin", b, d, 1), b, d, 0, 524, 720, "{{ }}") && (e.rs(b, d, function(b,
                        d, e) {
                        e.b(' <li> <hr> <p class="quiet bottom"> You can\u2019t leave because you are the only admin. To make another user an admin, click their avatar, select \u201cChange permissions\u2026\u201d, and select \u201cAdmin\u201d. </p> </li> ')
                    }), b.pop());
                    e.b(" ")
                }), b.pop());
                f.b(" ")
            }), c.pop()), this.b(" "));
            this.b(" ");
            this.s(this.f("isGhost", c, b, 1), c, b, 0, 801, 955, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <li> <hr> <p class="quiet bottom"> This user will be able to access this board once they sign up with Trello and confirm their email address. </p> </li> ')
                }),
                c.pop());
            this.b(" ");
            return this.fl()
        },
        member_on_card: function(c, b, d) {
            this.b(d = d || "");
            this.b("<div class='member js-member-on-card-menu");
            this.s(this.f("isDeactivated", c, b, 1), c, b, 0, 59, 78, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" member-deactivated")
            }), c.pop());
            this.s(this.f("isVirtual", c, b, 1), c, b, 0, 110, 125, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" member-virtual")
            }), c.pop());
            this.b("' data-idmem='");
            this.b(this.v(this.f("id", c, b, 0)));
            this.b("'>");
            this.b(this.rp("member", c, b, ""));
            this.b("</div> ");
            return this.fl()
        },
        member_on_card_menu: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 9, 68, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li><a class="js-remove-member">Remove from Card</a></li> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        member_profile: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="window-module"> <div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-org"/> <h3>Organizations</h3> </div> <div class="gutter js-list-orgs"> </div> </div> <div class="window-module"> <div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-activity"/> <h3>Activity</h3> </div> <div class="list-actions"></div> <p class="bottom"> <a class="show-more js-more-actions" href="#">Load More Activity</a> </p> </div> ');
            return this.fl()
        },
        member_profile_info: function(c, b, d) {
            this.b(d = d || "");
            this.b(' <div class="member-profile-info clearfix" name="');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('"> <div class="member"> ');
            this.b(this.rp("member", c, b, ""));
            this.b(' </div> <div class="info"> <h3 class="bottom"> <a class="js-profile" href="/');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b('</a> </h3> <p class="quiet bottom">@');
            this.b(this.v(this.f("username", c,
                b, 0)));
            this.b("</p> ");
            this.s(this.f("bio", c, b, 1), c, b, 0, 259, 322, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<p class="quiet bottom ellip" title="');
                f.b(f.v(f.f("bio", b, d, 0)));
                f.b('">');
                f.b(f.t(f.f("bioHtml", b, d, 0)));
                f.b("</p>")
            }), c.pop());
            this.b(' <p class="quiet bottom"> ');
            this.s(this.f("showMemberOptions", c, b, 1), c, b, 0, 378, 569, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("orgCardsUrl", b, d, 1), b, d, 0, 395, 467, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a class="js-org-cards-page" href="');
                    e.b(e.v(e.f("orgCardsUrl", b, d, 0)));
                    e.b('">View Org Cards</a> ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("__ed", b, d, 1), b, d, 0, 493, 559, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b('<span><a class="js-remove-mem" href="#">Remove from Org</a></span>')
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" </p> </div> </div> ");
            return this.fl()
        },
        member_session: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("type_support", c, b, 1), c, b, 0, 17, 241, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="bottom"> Authorization for Trello Support (Ticket #');
                f.b(f.v(f.d("data.ticket", b, d, 0)));
                f.b(') <br> <span class="quiet"> Expires: <span class="date" dt="');
                f.b(f.v(f.f("dateExpires", b, d, 0)));
                f.b('"></span> <a href="#" class="quiet js-revoke">Revoke</a> </span> </p> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("type_support", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <p class="bottom"> <strong>'), this.b(this.v(this.f("ipAddress", c, b, 0))), this.b('</strong> <span class="quiet js-location"></span> <br> <span class="quiet"> Last used: '), this.s(this.f("isRecent", c, b, 1),
                c, b, 0, 417, 440, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" Less than an hour ago ")
            }), c.pop()), this.b(" "), this.s(this.f("isRecent", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <span class="date" dt="'), this.b(this.v(this.f("dateLastUsed", c, b, 0))), this.b('"></span> ')), this.b(" "), this.s(this.f("isCurrent", c, b, 1), c, b, 0, 545, 575, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("<span>(current session)</span>")
            }), c.pop()), this.b(" </span> </p> "));
            this.b(" ");
            return this.fl()
        },
        member_session_list: function(c, b, d) {
            this.b(d ||
                "");
            this.b('<div class="js-sessions"></div> <input type="button" class="js-log-out-other" value="Log Out Other Sessions"> ');
            return this.fl()
        },
        members_voted: function(c, b, d) {
            this.b(d = d || "");
            this.b(' <div class="list-voters clearfix ');
            this.s(this.f("fewMembers", c, b, 1), c, b, 0, 49, 56, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("compact")
            }), c.pop());
            this.b('"> ');
            this.s(this.f("members", c, b, 1), c, b, 0, 86, 279, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="voter"> <div class="member member-no-menu"> ');
                f.b(f.rp("member", b, d, ""));
                f.b(" </div> ");
                f.s(f.f("fewMembers", b, d, 1), b, d, 0, 177, 256, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <p class="title"> ');
                    e.b(e.v(e.f("fullName", b, d, 0)));
                    e.b(' <span class="quiet">(');
                    e.b(e.v(e.f("username", b, d, 0)));
                    e.b(")</span> </p> ")
                }), b.pop());
                f.b(" </div> ")
            }), c.pop());
            this.b(" </div> ");
            this.s(this.f("moreMembers", c, b, 1), c, b, 0, 315, 420, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="#" class="show-more compact js-more-members-voted"> Show all voters (');
                f.b(f.v(f.f("lengthDiff",
                    b, d, 0)));
                f.b(" more) </a> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("canVote", c, b, 1), c, b, 0, 449, 573, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <hr> <a class="js-');
                    f.s(f.f("voted", b, d, 1), b, d, 0, 478, 480, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b("un")
                    }), b.pop());
                    f.b("vote button vote-button ");
                    f.s(f.f("voted", b, d, 1), b, d, 0, 524, 531, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b("primary")
                    }), b.pop());
                    f.b('">Vote');
                    f.s(f.f("voted", b, d, 1), b, d, 0, 557, 558, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b("d")
                    }), b.pop());
                    f.b("</a> ")
                }),
                c.pop());
            this.b(" ");
            return this.fl()
        },
        "menu-base": function(c, b, d) {
            this.b(d || "");
            this.b('<ul class="pop-over-list"> <li><ul class="boards-pop-over-list" /></li> ');
            this.b(this.t(this.f("content", c, b, 0)));
            this.b(" </ul> ");
            return this.fl()
        },
        menu: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> <li><ul class="dynamic-pop-over-list" /></li> ');
            this.s(this.f("menu_cards", c, b, 1), c, b, 0, 88, 210, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <li><a ");
                f.s(f.f("js_class", b, d, 1), b, d, 0, 109, 130,
                    "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b('class="');
                    e.b(e.v(e.f("js_class", b, d, 0)));
                    e.b('" ')
                }), b.pop());
                f.b(' href="');
                f.s(f.f("url", b, d, 1), b, d, 0, 158, 165, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(e.v(e.f("url", b, d, 0)))
                }), b.pop());
                f.s(f.f("url", b, d, 1), b, d, 1, 0, 0, "") || f.b("#");
                f.b('">');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b("</a></li> ")
            }), c.pop());
            this.b(" </ul> ");
            return this.fl()
        },
        mini_profile: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="mini-profile-info"> <div class="member-large"> ');
            this.s(this.f("isMe",
                c, b, 1), c, b, 0, 68, 125, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<a class="av-btn change js-change-av" href="#">Change</a>')
            }), c.pop());
            this.b(" ");
            !this.s(this.f("isMe", c, b, 1), c, b, 1, 0, 0, "") && this.s(this.f("avatarHash", c, b, 1), c, b, 0, 159, 204, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<a class="av-btn js-view-large" href="#"></a>')
            }), c.pop());
            this.b(" ");
            this.s(this.f("avatarHash", c, b, 1), c, b, 0, 244, 585, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <img class="member-avatar" height="50" width="50" src="');
                f.b(f.v(f.f("__avatarDomain", b, d, 0)));
                f.b("/");
                f.b(f.v(f.f("avatarHash", b, d, 0)));
                f.b('/50.png" alt="');
                f.s(f.f("deleted", b, d, 1), b, d, 0, 359, 396, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("This member has deleted their account")
                }), b.pop());
                f.s(f.f("deleted", b, d, 1), b, d, 1, 0, 0, "") || (f.b(f.v(f.f("fullName", b, d, 0))), f.b(" ("), f.b(f.v(f.f("username", b, d, 0))), f.b(")"));
                f.b('" title="');
                f.s(f.f("deleted", b, d, 1), b, d, 0, 480, 517, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("This member has deleted their account")
                }), b.pop());
                f.s(f.f("deleted", b, d, 1), b, d, 1, 0, 0, "") || (f.b(f.v(f.f("fullName", b, d, 0))), f.b(" ("), f.b(f.v(f.f("username", b, d, 0))), f.b(")"));
                f.b('" /> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("avatarHash", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <span class="member-initials" title="'), this.s(this.f("deleted", c, b, 1), c, b, 0, 666, 703, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("This member has deleted their account")
            }), c.pop()), this.s(this.f("deleted", c, b, 1), c, b, 1, 0, 0, "") || (this.b(this.v(this.f("fullName", c, b, 0))), this.b(" ("),
                this.b(this.v(this.f("username", c, b, 0))), this.b(")")), this.b('"> '), this.s(this.f("deleted", c, b, 1), c, b, 1, 0, 0, "") || this.b(this.v(this.f("initials", c, b, 0))), this.b(" "), this.s(this.f("deleted", c, b, 1), c, b, 0, 818, 819, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("?")
            }), c.pop()), this.b(" </span> "));
            this.b(' </div> <div class="info"> <h3 class="bottom" style="margin-right: 40px;"><a class="js-profile" href="/');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b('</a></h3> <p class="quiet bottom">@');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b("</p> ");
            this.s(this.f("bio", c, b, 1), c, b, 0, 1044, 1085, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<p class="quiet bottom ellip">');
                f.b(f.v(f.f("bio", b, d, 0)));
                f.b("</p>")
            }), c.pop());
            this.b(" ");
            this.s(this.f("showEmail", c, b, 1), c, b, 0, 1108, 1145, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<p class="bottom quiet">');
                f.b(f.v(f.f("email", b, d, 0)));
                f.b("</p>")
            }), c.pop());
            this.b(" ");
            this.s(this.f("isMe", c, b, 1), c, b,
                0, 1169, 1254, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<p class="bottom"><a href="#" class="quiet js-edit-profile">Edit profile info</a></p>')
            }), c.pop());
            this.b(" </div> </div> ");
            return this.fl()
        },
        move_card_controls: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("hideBoard", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <div class="form-grid"> <div class="button-link setting form-grid-child form-grid-child-full"> <span class="label">Board</span> <span class="value js-board-value"></span> <label>Board</label> <select class="js-select-board"> '),
                this.s(this.f("organizations", c, b, 1), c, b, 0, 258, 453, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <optgroup label="');
                    f.b(f.v(f.f("displayName", b, d, 0)));
                    f.b('"> ');
                    f.s(f.f("boards", b, d, 1), b, d, 0, 305, 429, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <option value="');
                        e.b(e.v(e.f("id", b, d, 0)));
                        e.b('"');
                        e.s(e.f("selected", b, d, 1), b, d, 0, 341, 361, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b(' selected="selected"')
                        }), b.pop());
                        e.b(">");
                        e.b(e.v(e.f("name", b, d, 0)));
                        e.s(e.f("selected", b, d, 1), b, d, 0, 396, 406, "{{ }}") && (e.rs(b,
                            d, function(b, d, e) {
                                e.b(" (current)")
                            }), b.pop());
                        e.b("</option> ")
                    }), b.pop());
                    f.b(" </optgroup> ")
                }), c.pop()), this.b(" </select> </div> </div> "));
            this.b(' <div class="form-grid"> <div class="button-link setting form-grid-child form-grid-child-threequarters"> <span class="label">List</span> <span class="value js-list-value"></span> <label>List</label> <select class="js-select-list"></select> </div> <div class="button-link setting form-grid-child form-grid-child-quarter"> <span class="label">Position</span> <span class="value js-pos-value"></span> <label>Position</label> <select class="js-select-position"></select> </div> </div> ');
            return this.fl()
        },
        notification: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="creator');
            this.s(this.f("isDueDateNotification", c, b, 1), c, b, 1, 0, 0, "") || this.b(" member");
            this.s(this.f("member", c, b, 1), c, b, 0, 89, 106, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-show-mem-menu")
            }), c.pop());
            this.b('"');
            this.s(this.f("member", c, b, 1), c, b, 0, 129, 147, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' idmember="');
                f.b(f.v(f.f("id", b, d, 0)));
                f.b('"')
            }), c.pop());
            this.b("> ");
            this.s(this.f("member", c, b, 1), c, b, 0, 171,
                182, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.rp("member", b, d, ""))
            }), c.pop());
            this.b(" ");
            this.s(this.f("memberDeleted", c, b, 1), c, b, 0, 212, 256, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="member-initials quiet">?</span>')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isDueDateNotification", c, b, 1), c, b, 0, 301, 335, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="icon-lg icon-clock"/>')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isDeclinedInvitationNotification", c, b, 1), c, b, 0, 399, 433, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b('<span class="icon-lg icon-close"/>')
                }), c.pop());
            this.b(' </div> <div class="phenom-desc');
            this.s(this.f("isDesktopNotification", c, b, 1), c, b, 1, 0, 0, "") || (this.s(this.f("invitedToBoard", c, b, 1), c, b, 0, 546, 587, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.s(f.f("stillInvited", b, d, 1), b, d, 0, 563, 570, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" invite")
                }), b.pop())
            }), c.pop()), this.s(this.f("invitedToOrganization", c, b, 1), c, b, 0, 632, 673, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.s(f.f("stillInvited",
                    b, d, 1), b, d, 0, 649, 656, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" invite")
                }), b.pop())
            }), c.pop()));
            this.b('"> ');
            this.s(this.f("member", c, b, 1), c, b, 0, 739, 824, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<a class="inline-object js-show-mem-menu" href="#" idmember="');
                f.b(f.v(f.f("id", b, d, 0)));
                f.b('">');
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b("</a>")
            }), c.pop());
            this.b(" ");
            this.s(this.f("memberDeleted", c, b, 1), c, b, 0, 854, 898, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b('<span class="quiet">[deleted account]</span>')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("entities", c, b, 1), c, b, 0, 930, 943, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.rp("entity", b, d, ""));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("isDesktopNotification", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("stillInvited", c, b, 1), c, b, 0, 1001, 1237, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="phenom-opts"> <a class="button-link js-accept-invitation');
                f.s(f.f("confirmed", b, d, 1), b, d, 1, 0, 0, "") || f.b(" disabled");
                f.b('" href="#">Accept</a> <a class="button-link js-reject-invitation');
                f.s(f.f("confirmed", b, d, 1), b, d, 1, 0, 0, "") || f.b(" disabled");
                f.b('" href="#">Reject</a> </div> ')
            }), c.pop()), this.b(" "));
            this.b(" </div> ");
            this.s(this.f("isDesktopNotification", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <p class="phenom-meta quiet"> '), this.s(this.f("date", c, b, 1), c, b, 0, 1355, 1395, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="date" dt="');
                f.b(f.v(f.f("date", b, d, 0)));
                f.b('"></span>')
            }), c.pop()), this.b(" </p> "));
            this.b(" ");
            return this.fl()
        },
        notification_title: function(c, b, d) {
            this.b(d =
                d || "");
            this.s(this.f("textType", c, b, 1), c, b, 0, 13, 25, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("text", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("cardType", c, b, 1), c, b, 0, 52, 64, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("name", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("boardType", c, b, 1), c, b, 0, 92, 104, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("name", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("organizationType", c, b,
                1), c, b, 0, 140, 152, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("name", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("listType", c, b, 1), c, b, 0, 187, 199, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("name", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("checklistType", c, b, 1), c, b, 0, 231, 243, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("name", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("checkItemType", c, b, 1), c, b, 0, 280, 292, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b(" ");
                    f.b(f.t(f.f("name", b, d, 0)));
                    f.b(" ")
                }), c.pop());
            this.b(" ");
            this.s(this.f("labelType", c, b, 1), c, b, 0, 325, 355, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("text", b, d, 1), b, d, 0, 335, 345, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(e.t(e.f("text", b, d, 0)))
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("attachmentType", c, b, 1), c, b, 0, 389, 401, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("name", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("memberType",
                c, b, 1), c, b, 0, 436, 452, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("fullName", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("relDateType", c, b, 1), c, b, 0, 484, 497, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.v(f.f("current", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        observer_list: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-member-list js-list ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 49, 80, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b("js-list-draggable-board-members")
                }),
                c.pop());
            this.b('"></ul> ');
            return this.fl()
        },
        org_account: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module"> <a class="big-link js-change-org-vis" href="#"> <span class="text">Organization Visibility</span> </a> <div> ');
            this.s(this.f("premium:prefs", c, b, 1), c, b, 0, 155, 653, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="window-module"> <div class="window-module-title"> <h3 class="inline">Business Class Settings</h3> </div> <a class="big-link js-restrict-inv-org" href="#"> <span class="text">Org Membership Restrictions</span> </a> <a class="big-link js-restrict-board-vis" href="#"> <span class="text">Board Creation Restrictions</span> </a> <a class="big-link options dark-hover js-toggle-non-org-member-board-invites" href="#"> <span class="text">Inviting Non-Org Members to Boards</span> </a> <div> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("canDelete", c, b, 1), c, b, 0, 686, 859, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="window-module gutter"> <a class="quiet-button js-confirm-delete-org" href="#" style="padding: 6px 11px; margin-top: 32px;">Delete this organization?</a> </div> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        org_bc_intro: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="product-intro-modal bc-intro"> <a href="#" class="icon-lg icon-close dark-hover product-intro-close js-close-intro-helper"></a> <div class="product-intro-header"> <img class="product-intro-logo" src="https://d78fikflryjgj.cloudfront.net/images/9b9b5d825b48e46a607311eeef8c2e67/trello-business-class-with-text.png" alt="Trello Business Class" /> </div> <hr> <div class="product-intro-section"> <h2>Welcome to Business Class!</h2> <p>To get started...</p> </div> <div class="product-intro-section"> <span class="product-intro-number">1</span> <h3>Visit the Members tab to manage members.</h3> <p> You can link your Google Apps Domain, change roles and deactivate members, and view member activity on the \u201cMembers\u201d tab above. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">2</span> <h3>Check out the Organization Settings page.</h3> <p> To check out organization and board invite restrictions and board creation restrictions, click the \u201cOrganization Settings\u201d tab above. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">3</span> <h3>Create bulk exports in one click.</h3> <p> Click the Export tab to open the export dialog. Exports include all of your organization\u2019s data, optionally including attachments. Exports will be in ');
            this.s(this.f("isJPS", c, b, 1), c, b, 0, 1315, 1323, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("CSV and ")
            }), c.pop());
            this.b("JSON format. </p> </div> ");
            this.s(this.f("isJPS", c, b, 1), c, b, 0, 1368, 1680, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="product-intro-section"> <span class="product-intro-number">4</span> <h3>Use board backgrounds and stickers.</h3> <p> Open the board menu in the sidebar and select stickers or \u201cSettings\u201d > \u201cChange background\u201d. You\u2019ll see additional stickers and backgrounds, plus you can upload your own. </p> </div> ')
                }),
                c.pop());
            this.b(' <div class="product-intro-section"> <span class="product-intro-number"> ');
            this.s(this.f("isJPS", c, b, 1), c, b, 0, 1773, 1776, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" 5 ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("isJPS", c, b, 1), c, b, 1, 0, 0, "") || this.b(" 4 ");
            this.b(' </span> <h3>For billing info\u2026</h3> <p> To see billing history, change a credit card, or change the billing contact, click the \u201cBilling\u201d tab above. </p> </div> <div class="product-intro-section"> <span class="product-intro-number"> ');
            this.s(this.f("isJPS", c, b, 1), c, b, 0, 2052, 2055, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" 6 ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("isJPS", c, b, 1), c, b, 1, 0, 0, "") || this.b(" 5 ");
            this.b(' </span> <h3>Check the User Guide.</h3> <p style="margin-bottom: 0;"> Everything else is outlined in the <a href="http://help.trello.com/customer/portal/articles/1349993-using-business-class">Business Class User Guide</a>. Business Class features are usually marked with this icon: <span class="icon-sm icon-briefcase icon-briefcase-bc-color"/>. </p> </div> <div class="product-intro-section"> <p> Here is a video walking you through the interface. It will be in the <a href="http://help.trello.com/customer/portal/articles/1349993-using-business-class">User Guide</a> if you want to watch it later. </p> </div> <div class"product-intro-section"> <p> <a href="https://fast.wistia.net/embed/iframe/4v5qyh3c69?popover=true&plugin%5Bchapters%5D%5Bch_1_title%5D=Get%20Organized&plugin%5Bchapters%5D%5Bch_1_time%5D=35&plugin%5Bchapters%5D%5Bch_2_title%5D=Super%20Admins&plugin%5Bchapters%5D%5Bch_2_time%5D=84&plugin%5Bchapters%5D%5Bch_3_title%5D=Member%20Restrictions&plugin%5Bchapters%5D%5Bch_3_time%5D=108&plugin%5Bchapters%5D%5Bch_4_title%5D=Members%20Page&plugin%5Bchapters%5D%5Bch_4_time%5D=158&plugin%5Bchapters%5D%5Bch_5_title%5D=Google%20Apps&plugin%5Bchapters%5D%5Bch_5_time%5D=219&plugin%5Bchapters%5D%5Bch_6_title%5D=Exporting%20Data&plugin%5Bchapters%5D%5Bch_6_time%5D=233&plugin%5Bchapters%5D%5Bch_7_title%5D=Billing&plugin%5Bchapters%5D%5Bch_7_time%5D=255&plugin%5Bchapters%5D%5Bch_8_title%5D=Get%20Help&plugin%5Bchapters%5D%5Bch_8_time%5D=267&plugin%5Bchapters%5D%5Bsrc%5D=https%3A%2F%2Ffast.wistia.com%2Flabs%2Fchapters%2Fplugin.js&plugin%5Bchapters%5D%5Bwidth%5D=200px&plugin%5Bchapters%5D%5Blocation%5D=right&plugin%5Bchapters%5D%5Bshow_timestamps%5D=no" class="wistia-popover[height=353,playerColor=006595,width=778]" id="wistia-bc-video"><img src="https://embed-ssl.wistia.com/deliveries/a8a9c5143cf82350ec8f8365d2b42599b16905b7.jpg?image_play_button=true&image_play_button_color=006595e0&image_crop_resized=406x228" /></a> <script charset="ISO-8859-1" src="https://fast.wistia.com/static/popover-v1.js">\x3c/script> <script> $(\'#wistia-bc-video\').click(function(){ TRMixpanel.trackVideoWatched(\'4v5qyh3c69\', \'Business Class Help Video\', \'org_bc_intro.html\'); }) \x3c/script> </p> </div> <p class="product-intro-close-bottom center quiet"> <a href="#" class="js-close-intro-helper dark-hover"> <span class="icon-sm icon-close dark-hover"/>Got it! Close this helper. </a> </p> </div> ');
            return this.fl()
        },
        org_boards_for_member: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> ');
            this.s(this.f("boards", c, b, 1), c, b, 0, 38, 127, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a href="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('"> ');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b(' <span class="quiet">(');
                f.b(f.v(f.f("memberType", b, d, 0)));
                f.b(")</span> </a> </li> ")
            }), c.pop());
            this.b(" </ul> ");
            return this.fl()
        },
        org_create: function(c, b, d) {
            this.b(d || "");
            this.b('<form> <p class="error" style="display:none"></p> <label for="org-display-name">Name</label> <input type="text" name="displayName" class="js-autofocus" id="org-display-name" value="');
            this.b(this.v(this.f("displayName", c, b, 0)));
            this.b('"> <label for="org-desc">Description <span class="quiet" style="font-weight: normal;">(optional)</span></label> <textarea id="org-desc" name="desc" type="text">');
            this.b(this.v(this.f("desc", c, b, 0)));
            this.b('</textarea> <input type="submit" class="primary wide js-save" value="Create"> </form> <hr style="margin-top: 8px;"> <p class="quiet bottom"> An organization is a group of boards and members. </p> ');
            return this.fl()
        },
        org_detail: function(c, b,
            d) {
            this.b(d = d || "");
            this.b('<div class="tabbed-pane-header"> <div class="tabbed-pane-header-wrapper clearfix"> <a class="tabbed-pane-header-image profile-image ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 141, 162, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("ed js-change-org-logo")
            }), c.pop());
            this.b('" href="#"> <img class="profile-image-image" ');
            this.s(this.f("logoHash", c, b, 1), c, b, 0, 229, 298, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' src="');
                f.b(f.v(f.f("__logoDomain", b, d, 0)));
                f.b("/");
                f.b(f.v(f.f("logoHash",
                    b, d, 0)));
                f.b('/170.png" alt="');
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b(' logo" ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("logoHash", c, b, 1), c, b, 1, 0, 0, "") || this.b(' src="https://d78fikflryjgj.cloudfront.net/images/b8e08be89ac9461c0a1d543016926792/org-logo-large.png" alt="Default organization logo" ');
            this.b(' > <span class="change-text"> Change Logo </span> </a> <div class="tabbed-pane-header-details"> <div class="js-current-details"></div> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 617, 661, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b(' <form class="js-profile-form hide"></form> ')
                }), c.pop());
            this.b(' </div> <div class="tabbed-pane-header-factoid js-header-factoid"></div> </div> </div> <div class="tabbed-pane-nav clearfix"> <ul> <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-org-profile" href="/');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('">Boards</a> </li> <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-org-members" href="/');
            this.b(this.v(this.f("name",
                c, b, 0)));
            this.b('/members">Members</a> </li> ');
            this.s(this.f("isBusinessClassAdmin", c, b, 1), c, b, 0, 1079, 1271, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-org-export" href="/');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('/export">Export <span class="icon-sm icon-briefcase icon-briefcase-bc-color"/></a> </li> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("hasAccount", c, b, 1), c, b, 0, 1312, 1513, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-billing" href="/');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('/billing">Billing');
                f.s(f.f("accountProblem", b, d, 1), b, d, 0, 1448, 1483, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <span class="option">Issue!</span>')
                }), b.pop());
                f.b("</a> </li> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("isOrgAdmin", c, b, 1), c, b, 0, 1544, 1677, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-org-account" href="/');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('/account">Settings</a> </li> ')
            }), c.pop());
            this.b(' </ul> </div> <div class="tabbed-pane-main-col clearfix"> <div class="tabbed-pane-main-col-loading hide js-loading-page"> <span class="tabbed-pane-main-col-loading-spinner spinner"></span> </div> <div class="tabbed-pane-main-col-wrapper js-content"></div> </div> ');
            return this.fl()
        },
        org_detail_profile_edit: function(c, b, d) {
            this.b(d || "");
            this.b('<p class="error js-profile-form-error hide"></p> <label>Name</label> <input type="text" name="displayName" value="');
            this.b(this.v(this.f("displayName",
                c, b, 0)));
            this.b('"/> <label>Short Name</label> <input type="text" name="name" value="');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('"/> <label>Website</label> <input type="text" name="website" value="');
            this.b(this.v(this.f("website", c, b, 0)));
            this.b('"/> <label>Description <span class="quiet">(optional)</span></label> <textarea name="desc">');
            this.b(this.v(this.f("desc", c, b, 0)));
            this.b('</textarea> <input type="submit" class="primary wide js-submit-profile" value="Save"/> <input type="button" class="js-cancel-edit-profile" value="Cancel"/> ');
            return this.fl()
        },
        org_detail_profile_info: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="tabbed-pane-header-details-name"> <h1 class="inline"> ');
            this.b(this.v(this.f("displayName", c, b, 0)));
            this.b(" </h1> ");
            this.s(this.f("hasBusinessClass", c, b, 1), c, b, 0, 109, 240, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="window-title-extra bc"> <span class="business-class-mark" title="Business Class Mark"></span> Business Class </span> ')
            }), c.pop());
            this.b(' <span class="window-title-extra"> <span class="icon-sm icon-');
            this.b(this.v(this.f("permissionLevel", c, b, 0)));
            this.b('" title="');
            this.b(this.v(this.f("pLevelAltText", c, b, 0)));
            this.b('"></span> ');
            this.b(this.v(this.f("pLevelDisplayText", c, b, 0)));
            this.b(' </span> </div> <div class="tabbed-pane-header-details-content"> ');
            this.s(this.f("desc", c, b, 1), c, b, 0, 472, 495, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("descriptionHtml", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("websiteHref", c, b, 1), c, b, 0, 521, 573, "{{ }}") && (this.rs(c, b, function(b,
                d, f) {
                f.b(' <p> <a href="');
                f.b(f.v(f.f("websiteHref", b, d, 0)));
                f.b('">');
                f.b(f.v(f.f("website", b, d, 0)));
                f.b("</a> </p> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("accountProblem", c, b, 1), c, b, 0, 609, 832, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div style="padding: 4px 8px; background-color: orange; margin-bottom: 8px;"> <p class="bottom"> Oops! There is a problem with your billing information. Visit <a href="/');
                f.b(f.v(f.f("name", b, d, 0)));
                f.b('/billing">Billing</a> to fix it. </p> </div> ')
            }), c.pop());
            this.b(" </div> ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 868, 1006, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="button-link tabbed-pane-header-details-edit js-edit-profile" href="#"><span class="icon-sm icon-edit"></span> Edit profile</a> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        org_export: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module org-export-header"> <button class="org-export-header-button primary js-create-new-export">Create New Export</button> <div class="org-export-header-options clearfix"> <input id="includeAttachments" type="checkbox"> <label for="includeAttachments" class="quiet inline" style="font-weight: normal;">Include raw attachments\u2026</label> </div> <p class="quiet org-export-header-text"> Downloads will be in a ZIP format that includes members, boards, and all other data in');
            this.s(this.f("hasCSV", c, b, 1), c, b, 0, 500, 521, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" CSV and JSON formats")
            }), c.pop());
            this.s(this.f("hasCSV", c, b, 1), c, b, 1, 0, 0, "") || this.b(" JSON format");
            this.b('. If you choose to include raw attachments, they will be in their native format. Otherwise, they will include a link to the version in Trello. </p> </div> <div class="window-module org-export-list"> <div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-archive"/> <h3>Exports</h3> </div> <div class="gutter clearfix js-list-exports"></div> </div> ');
            return this.fl()
        },
        org_export_empty: function(c, b, d) {
            this.b(d || "");
            this.b('<p class="quiet" style="padding: 7px 0;">No exports. Click \u201cCreate New Export\u201d to generate a new one.</p> ');
            return this.fl()
        },
        org_export_item: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="org-export-list-item clearfix');
            this.s(this.f("generating", c, b, 1), c, b, 0, 56, 88, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" org-export-list-item-generating")
            }), c.pop());
            this.b('"> ');
            this.s(this.f("generating", c, b, 1), c, b, 0, 121,
                291, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="org-export-list-item-title"> ');
                f.s(f.f("status", b, d, 1), b, d, 0, 172, 231, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" ");
                    e.b(e.v(e.f("stage", b, d, 0)));
                    e.s(e.f("total", b, d, 1), b, d, 0, 192, 220, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" (");
                        e.b(e.v(e.f("progress", b, d, 0)));
                        e.b(" of ");
                        e.b(e.v(e.f("total", b, d, 0)));
                        e.b(")")
                    }), b.pop());
                    e.b(" ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("status", b, d, 1), b, d, 1, 0, 0, "") || f.b("Creating new export\u2026");
                f.b(" </p> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("generating", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <p class="org-export-list-item-title"> '), this.b(this.v(this.f("time", c, b, 0))), this.b(" - "), this.b(this.v(this.f("size", c, b, 0))), this.b(" "), this.s(this.f("attachments", c, b, 1), c, b, 0, 398, 447, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="quiet">(includes attachments)</span>')
            }), c.pop()), this.b(' </p> <a href="'), this.b(this.v(this.f("exportUrl", c, b, 0))), this.b('" class="button-link org-export-list-item-button js-download-export" target="_blank">Download</a> '));
            this.b(" </div> ");
            return this.fl()
        },
        org_inline: function(c, b, d) {
            this.b(d || "");
            this.b('<span>the organization</span> <a href="');
            this.b(this.v(this.f("organizationUrl", c, b, 0)));
            this.b('" class="inline-object"> ');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b(" </a> ");
            return this.fl()
        },
        org_link_ga_helper: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="ga-link-helper-section"> <p> <span class="ga-link-helper-num">1</span> First, you\u2019ll need to add the Trello Business Class app from the Google Apps Marketplace to your domain. The button below will get you there. </p> <p> <span class="ga-link-helper-num">2</span> When there, be sure you are signed in to the Google account with the correct domain you want to use. Click the \u201cAdd it now\u201d button then follow the prompts. </p> <p> <span class="ga-link-helper-num">3</span> You\u2019ll see other users from your Google Apps Domain on this page when configured correctly. </p> </div> <a class="button js-link" style="width: 100%; padding: 7px 0;" target="_blank" href="http://www.google.com/enterprise/marketplace/viewListing?productListingId=22922+16518145558089118433"> Go To Google Apps Marketplace </a> ');
            return this.fl()
        },
        org_member_activity: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> <li> ');
            this.s(this.f("hasBoards", c, b, 1), c, b, 0, 46, 121, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a href="#" class="js-view-org-boards-for-member"> On ');
                f.b(f.v(f.f("boardCount", b, d, 0)));
                f.b(" </a> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("hasBoards", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <a href="#" class="disabled"> On '), this.b(this.v(this.f("boardCount", c, b, 0))), this.b(" </a> "));
            this.b(" </li> ");
            this.s(this.f("orgCardsUrl", c, b, 1), c, b, 0, 241, 342, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a href="');
                f.b(f.v(f.f("orgCardsUrl", b, d, 0)));
                f.b('" class="js-view-member-org-cards"> View Member\'s Org Cards </a> </li> ')
            }), c.pop());
            this.b(" </ul> ");
            this.s(this.f("lastActive", c, b, 1), c, b, 0, 380, 519, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <hr> <p class="quiet bottom"> ');
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b(' was last active in this organization <span class="date bold" dt="');
                f.b(f.v(f.f("lastActive",
                    b, d, 0)));
                f.b('"></span>. </p> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        org_member_cards: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module"> ');
            this.s(this.f("memberData", c, b, 1), c, b, 0, 43, 64, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.rp("member_profile", b, d, ""));
                f.b(" ")
            }), c.pop());
            this.b(' </div> <div class="js-cards"></div> ');
            return this.fl()
        },
        org_members: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module gutter bottom clearfix"> <input type="text" class="left js-search" placeholder="Find members by name\u2026" style="margin-bottom: 8px;"> <div class="org-members-options"> ');
            this.s(this.f("__ed", c, b, 1), c, b, 0, 201, 313, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="button-link gutter js-manage-members" href="#"> <span class="icon-sm icon-member"/> Add Members </a> ')
            }), c.pop());
            this.b(' <div class="js-google-apps-linker');
            this.s(this.f("canLinkGoogleApps", c, b, 1), c, b, 1, 0, 0, "") || this.b(" hide");
            this.b('"> <a class="button-link primary js-link-google-apps" href="#"> <span class="icon-sm icon-google"/> Link To Google Apps Domain </a> </div> ');
            this.s(this.f("canShowAll",
                c, b, 1), c, b, 0, 559, 768, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("showingAll", b, d, 1), b, d, 1, 0, 0, "") || f.b(' <a class="quiet-button js-show-all" href="#"> Show Dismissed Accounts </a> ');
                f.b(" ");
                f.s(f.f("showingAll", b, d, 1), b, d, 0, 682, 752, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <a class="quiet-button js-hide-hidden" href="#"> Hide Dismissed </a> ')
                }), b.pop());
                f.b(" ")
            }), c.pop());
            this.b(' </div> </div> <hr> <div class="window-module js-member-list"/> ');
            return this.fl()
        },
        org_plans: function(c,
            b, d) {
            this.b(d = d || "");
            this.b('<div class="window-module bc-plans"> <img class="bc-hero-image" src="https://d78fikflryjgj.cloudfront.net/images/9b9b5d825b48e46a607311eeef8c2e67/trello-business-class-with-text.png" alt="Trello Business Class" /> <div class="pitch"> <p class="intro"> Trello Business Class gives you all the power of organizations&mdash;like unlimited boards and members&mdash;plus extra administrative control and features. </p> <ul class="bc-features"> <li><span class="icon-sm icon-check"></span> Easily manage boards and members</li> <li><span class="icon-sm icon-check"></span> Google Apps integration</li> <li><span class="icon-sm icon-check"></span> Additional and custom board backgrounds</li> <li><span class="icon-sm icon-check"></span> Additional and custom stickers</li> <li><span class="icon-sm icon-check"></span> 250MB attachments</li> <li><span class="icon-sm icon-check"></span> One-click bulk data export in CSV and JSON</li> <li><span class="icon-sm icon-check"></span> Bulk export history</li> <li><span class="icon-sm icon-check"></span> Observer role</li> </ul> ');
            this.s(this.f("isOrgAdmin", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("activeAccount", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p class="helper"> Hey there! You must be an admin of the organization to get Business Class. </p> '), this.b(" "));
            this.b(" ");
            this.s(this.f("willExpire", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("activeAccount", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p> <a href="/business-class" target="_blank" class="js-learn-more-plans">Learn more about Business Class &rarr;</a> </p> '), this.b(" "),
                this.s(this.f("activeAccount", c, b, 1), c, b, 0, 1431, 2118, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" ");
                    f.s(f.f("isJPS", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <p style="font-size: 20px; line-height: 1.35em;"> There is a new Business Class update available. Some of the features listed above are only in this update! </p> '), f.s(f.f("isBCAdmin", b, d, 1), b, d, 1, 0, 0, "") || f.b(" <p>Only organization admins can upgrade your account.</p> "), f.b(" "), f.s(f.f("isBCAdmin", b, d, 1), b, d, 0, 1707, 1779, "{{ }}") && (f.rs(b, d, function(b,
                        d, e) {
                        e.b(' <p><a href="/');
                        e.b(e.v(e.f("name", b, d, 0)));
                        e.b('/billing">Learn more and get the upgrade.</a></p> ')
                    }), b.pop()), f.b(" "));
                    f.b(" ");
                    f.s(f.f("isJPS", b, d, 1), b, d, 0, 1815, 2107, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <p style="font-size: 20px; line-height: 1.35em;"> <strong>Business Class is active!</strong> <span class="quiet">(Woo!)</span> </p> ');
                        e.s(e.f("isBCAdmin", b, d, 1), b, d, 0, 1962, 2092, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                                e.b(' <p><a href="http://help.trello.com/customer/portal/articles/1349993-business-class-user-guide">Check out the User Guide.</a></p> ')
                            }),
                            b.pop());
                        e.b(" ")
                    }), b.pop());
                    f.b(" ")
                }), c.pop()), this.b(" "));
            this.b(' </div> <div class="bc-call-out');
            this.s(this.f("activeAccount", c, b, 1), c, b, 0, 2201, 2238, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.s(f.f("willExpire", b, d, 1), b, d, 1, 0, 0, "") || f.b(" active")
            }), c.pop());
            this.b('"> <p class="bc-price bottom"> ');
            this.b(this.v(this.f("bcMonthlyPrice", c, b, 0)));
            this.b(' per month </p> <p class="bc-sub-price"> or ');
            this.b(this.v(this.f("bcYearlyPrice", c, b, 0)));
            this.b(' per year </p> <p>for each organization</p> <p class="quiet">(You can cancel at any time.)</p> ');
            this.s(this.f("activeAccount", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("cancelledAccount", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <a class="button '), this.s(this.f("isOrgAdmin", c, b, 1), c, b, 0, 2534, 2571, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" primary js-upgrade-to-business-class")
            }), c.pop()), this.s(this.f("isOrgAdmin", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled"), this.b('" href="'), this.b(this.v(this.f("cardUrl", c, b, 0))), this.b('"> Upgrade This Organization! </a> ')), this.b(" "), this.s(this.f("cancelledAccount",
                c, b, 1), c, b, 0, 2722, 2874, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <a class="button ');
                f.s(f.f("isOrgAdmin", b, d, 1), b, d, 0, 2755, 2777, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" primary js-reactivate")
                }), b.pop());
                f.s(f.f("isOrgAdmin", b, d, 1), b, d, 1, 0, 0, "") || f.b(" disabled");
                f.b('" href="#"> Reactivate Business Class </a> ')
            }), c.pop()), this.b(" "));
            this.b(" </div> ");
            this.s(this.f("willExpire", c, b, 1), c, b, 0, 2937, 3377, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" ");
                    f.s(f.f("isBCAdmin", b, d, 1), b, d, 0, 2952, 3362,
                        "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <p class="quiet"> You\'ve cancelled Business Class, but you can use the premium features until <strong>');
                        e.b(e.v(e.f("yearlyExpirationDate", b, d, 0)));
                        e.b('</strong>. </p> <p> <a href="#" class="button-link inline-block js-renew-expiring-yearly-business-class-sub" style="padding-left: 24px; padding-right: 24px;"> Renew Your Subscription? </a> </p> <p class="quiet"> When you renew, you won\'t be charged until the date listed above. </p> ')
                    }), b.pop());
                    f.b(" ")
                }),
                c.pop());
            this.b(" </div> ");
            return this.fl()
        },
        org_pref_restriction: function(c, b, d) {
            this.b(d || "");
            this.b("<li> ");
            this.b(this.v(this.f("restriction", c, b, 0)));
            this.b(' <a href="#" class="dark-hover js-restricted-address" data-pattern="');
            this.b(this.v(this.f("restriction", c, b, 0)));
            this.b('" title="Remove this domain or email address from the list."> <span class="option close icon-sm icon-close"/> </a> </li> ');
            return this.fl()
        },
        org_prefs_nonorg_invites: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> <li> <a href="#"> Allow ');
            this.s(this.f("externalMembersDisabled", c, b, 1), c, b, 1, 0, 0, "") || this.b('<span class="icon-sm icon-check"/>');
            this.b(' <span class="sub-name"> Anyone can be added to a board inside your organization. </span> </a> </li> <li> <a href="#"> Don\'t Allow ');
            this.s(this.f("externalMembersDisabled", c, b, 1), c, b, 0, 300, 334, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="icon-sm icon-check"/>')
            }), c.pop());
            this.b(' <span class="sub-name"> Only members added to your organization will be able to join your organization\u2019s boards. </span> </a> </li> </ul> ');
            return this.fl()
        },
        org_prefs_restrict_invites: function(c, b, d) {
            this.b(d || "");
            this.b('<div style="position: relative;"> <input type="text" class="js-input-restricted js-autofocus" placeholder=\'Add a domain or address\u2026\' style="margin-bottom: 6px;"> <span class="spinner small hide js-loading" style="position: absolute; top: 6px; right: 6px; z-index: 2;"/> </div> <p class="bottom quiet" style="padding: 6px;"> Choose which email domains and addresses can be added to the org. For example, if you only wanted users with fogcreek.com email addresses to be able to be added to the org, enter fogcreek.com. </p> <p class="error bottom js-errors" style="display: none; margin-top: 8px;"></p> <div class="manage-member-section js-restriction-list" style="margin-top: 16px;');
            this.s(this.f("hasRestrictions", c, b, 1), c, b, 1, 0, 0, "") || this.b(" display: none;");
            this.b('"> <h4>Allowed Domains and Addresses</h4> <ul class="closeable-list js-list"></ul> </div> ');
            return this.fl()
        },
        org_prefs_vis: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div style="margin: 12px 0 0;"> <p>Who can create <span class="icon-sm icon-public"/> <strong>public</strong> boards?</p> <ul class="pop-over-list checkable left-check normal-weight" data-vis="public"> <li');
            this.s(this.f("boardVisibilityRestrict_public_org",
                c, b, 1), c, b, 0, 244, 259, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' class="active"')
            }), c.pop());
            this.b(' > <a href="#" data-restriction="org">Any Org Member <span class="icon-sm icon-check"/></a> </li> <li');
            this.s(this.f("boardVisibilityRestrict_public_admin", c, b, 1), c, b, 0, 440, 455, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' class="active"')
            }), c.pop());
            this.b('> <a href="#" data-restriction="admin">Only Org Admins <span class="icon-sm icon-check"/></a> </li> <li');
            this.s(this.f("boardVisibilityRestrict_public_none",
                c, b, 1), c, b, 0, 639, 654, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' class="active"')
            }), c.pop());
            this.b('> <a href="#" data-restriction="none">Nobody <span class="icon-sm icon-check"/></a> </li> </ul> </div> <hr> <div style="margin: 12px 0 0;"> <p>Who can create <span class="icon-sm icon-org-private"/> <strong>org visible</strong> boards?</p> <ul class="pop-over-list checkable left-check normal-weight" data-vis="org"> <li');
            this.s(this.f("boardVisibilityRestrict_org_org", c, b, 1), c, b, 0, 1050, 1065, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(' class="active"')
                }), c.pop());
            this.b('> <a href="#" data-restriction="org">Any Org Member <span class="icon-sm icon-check"/></a> </li> <li');
            this.s(this.f("boardVisibilityRestrict_org_admin", c, b, 1), c, b, 0, 1239, 1254, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' class="active"')
            }), c.pop());
            this.b('> <a href="#" data-restriction="admin">Only Org Admins <span class="icon-sm icon-check"/></a> </li> <li');
            this.s(this.f("boardVisibilityRestrict_org_none", c, b, 1), c, b, 0, 1432,
                1447, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' class="active"')
            }), c.pop());
            this.b('> <a href="#" data-restriction="none">Nobody <span class="icon-sm icon-check"/></a> </li> </ul> </div> <hr> <div style="margin: 12px 0 0;"> <p>Who can create <span class="icon-sm icon-private"/> <strong>private</strong> boards?</p> <ul class="pop-over-list checkable left-check normal-weight" data-vis="private"> <li');
            this.s(this.f("boardVisibilityRestrict_private_org", c, b, 1), c, b, 0, 1840, 1855, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b(' class="active"')
                }), c.pop());
            this.b('> <a href="#" data-restriction="org">Any Org Member <span class="icon-sm icon-check"/></a> </li> <li');
            this.s(this.f("boardVisibilityRestrict_private_admin", c, b, 1), c, b, 0, 2037, 2052, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' class="active"')
            }), c.pop());
            this.b('> <a href="#" data-restriction="admin">Only Org Admins <span class="icon-sm icon-check"/></a> </li> <li');
            this.s(this.f("boardVisibilityRestrict_private_none", c, b, 1), c, b, 0, 2238, 2253,
                "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' class="active"')
            }), c.pop());
            this.b('> <a href="#" data-restriction="none">Nobody <span class="icon-sm icon-check"/></a> </li> </ul> </div> ');
            return this.fl()
        },
        org_profile: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="js-main-boards-section"></div> ');
            this.s(this.f("isBusinessClassAdmin", c, b, 1), c, b, 0, 68, 306, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <a href="#" class="show-more clear js-show-other-private-boards-section"> Show other member\u2019s private boards... <span class="icon-sm icon-briefcase icon-briefcase-bc-color"/> </a> <div class="js-other-private-boards-section hide"></div> ')
                }),
                c.pop());
            this.b(" ");
            return this.fl()
        },
        org_remove_or_deactivate_member: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> <li class="clearfix"> <a class="js-soft-remove" href="#"> <span class="clearfix">');
            this.s(this.f("isMe", c, b, 1), c, b, 0, 117, 135, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("Leave organization")
            }), c.pop());
            this.s(this.f("isMe", c, b, 1), c, b, 1, 0, 0, "") || this.b("Remove from organization");
            this.b('</span> <span class="sub-name"> Remove all access to the organization');
            this.s(this.f("isDeactivated",
                c, b, 1), c, b, 0, 273, 288, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" and all boards")
            }), c.pop());
            this.b(". ");
            this.s(this.f("orgIsBC", c, b, 1), c, b, 1, 0, 0, "") || this.b(" The member will remain on all their boards in this organization. They will receive a notification. ");
            this.b(" </span> </a> ");
            this.s(this.f("orgIsBC", c, b, 1), c, b, 0, 458, 868, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("isDeactivated", b, d, 1), b, d, 1, 0, 0, "") || (f.b(" "), f.s(f.f("isMe", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <span class="check-div quiet js-hard-remove clearfix" style="margin-left: 24px; padding-top: 2px; font-size: 12px; line-height: 15px;"> <input type="checkbox" id="hardRemove" name="hard" checked> <label for="hardRemove">'),
                    f.s(f.f("hasBoards", b, d, 1), b, d, 0, 722, 756, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b("This member is on ");
                        e.b(e.v(e.f("boardCount", b, d, 0)));
                        e.b(". ")
                    }), b.pop()), f.b("Check this box to remove the member from all boards.</label> </span> ")), f.b(" "));
                f.b(" ")
            }), c.pop());
            this.b(" </li> ");
            this.s(this.f("canDeactivate", c, b, 1), c, b, 0, 905, 1156, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("isMe", b, d, 1), b, d, 1, 0, 0, "") || f.b(' <li class="clearfix"> <a class="js-deactivate" href="#"> Deactivate <span class="sub-name"> Disable member\'s access to org boards, but allow other org members to see what the cards and boards the member was on. </span> </a> </li> ');
                f.b(" ")
            }), c.pop());
            this.b(" </ul> ");
            return this.fl()
        },
        organization_list_item: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('"> <span class="item-name">');
            this.b(this.v(this.f("displayName", c, b, 0)));
            this.b("</span> ");
            this.s(this.f("hasBusinessClass", c, b, 1), c, b, 0, 87, 149, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="icon-sm icon-briefcase icon-briefcase-bc-color"/>')
            }), c.pop());
            this.b(' <span class="icon-sm icon-');
            this.b(this.v(this.f("visIconClass",
                c, b, 0)));
            this.b('"/> </a> ');
            return this.fl()
        },
        organization_search_list_item: function(c, b, d) {
            this.b(d || "");
            this.b("<li><a class='link-item' href='/");
            this.b(this.v(this.f("name", c, b, 0)));
            this.b("'><span class='item-name'>");
            this.b(this.v(this.f("displayName", c, b, 0)));
            this.b("</span></a></li> ");
            return this.fl()
        },
        pop_over_ad: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a href="#" class="icon-sm icon-close dark-hover ad-close js-close-ad"></a> ');
            this.s(this.f("iconClass", c, b, 1), c, b, 0, 90, 135, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(' <span class="ad-icon ');
                    f.b(f.v(f.f("iconClass", b, d, 0)));
                    f.b('"></span> ')
                }), c.pop());
            this.b(' <div class="ad-copy">');
            this.b(this.t(this.f("copyHtml", c, b, 0)));
            this.b("</div>");
            return this.fl()
        },
        popover_add_email: function(c, b, d) {
            this.b(d || "");
            this.b('<form> <p id="account-error" class="error"></p> <div class="field"> <label for="email">New Email Address</label> <input id="email" type="email" name="email" value=""> </div> <input type="submit" class="primary js-save-changes" value="Send Confirmation Email"> </form> <hr> <p class="quiet bottom"> We\u2019ll send an email to the address you enter. Click the link in the email to confirm the address. </p> ');
            return this.fl()
        },
        popover_add_list: function(c, b, d) {
            this.b(d || "");
            this.b('<form style="position: relative;"> <div class="form-grid"> <div class="form-grid-child form-grid-child-threequarters"> <label for="list-name">Name</label> <input type="text" class="js-list-name js-autofocus" id="list-name" value="List" style="margin-bottom: 0;"> </div> <div href="#" class="button-link setting form-grid-child form-grid-child-quarter"> <span class="label">Position</span> <span class="value js-pos-value"></span> <label>Position</label> <select class="js-select-list-pos"></select> </div> </div> <input type="submit" class="primary wide left clear js-add-list" value="Add"> </form> ');
            return this.fl()
        },
        popover_auto_mentioner: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("button", c, b, 1), c, b, 0, 11, 106, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <input type="text" class="js-filter-mentionables js-autofocus" placeholder="Search members\u2026"> ')
            }), c.pop());
            this.b(' <p class="quiet js-empty-list hide" style="padding: 8px 8px 0;">No matching members</p> <ul class="pop-over-member-list js-available-members"></ul> ');
            this.s(this.f("button", c, b, 1), c, b, 0, 277, 874, "{{ }}") && (this.rs(c, b,
                function(b, d, f) {
                    f.b(' <div class="js-select-multiple-options hide"> <hr> <ul class="pop-over-list"> ');
                    f.s(f.f("showAllCardMembers", b, d, 1), b, d, 0, 379, 501, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <li> <a href="#" class="js-select-all-card-members"> Mention All Card Members <span class="quiet mem-count"/> </a> </li> ')
                    }), b.pop());
                    f.b(" ");
                    f.s(f.f("showAllBoardMembers", b, d, 1), b, d, 0, 549, 673, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                            e.b(' <li> <a href="#" class="js-select-all-board-members"> Mention All Board Members <span class="quiet mem-count"/> </a> </li> ')
                        }),
                        b.pop());
                    f.b(" ");
                    f.s(f.f("showAllCommenters", b, d, 1), b, d, 0, 720, 838, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(' <li> <a href="#" class="js-select-all-commenters"> Mention All Commenters <span class="quiet mem-count"/> </a> </li> ')
                    }), b.pop());
                    f.b(" </ul> </div> ")
                }), c.pop());
            this.b(" ");
            return this.fl()
        },
        popover_board_header_org_menu: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> ');
            this.s(this.f("canChangeOrg", c, b, 1), c, b, 0, 44, 206, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a class="js-change-org" href="#"> ');
                f.s(f.f("setOrgNull", b, d, 1), b, d, 0, 100, 126, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" Remove From Organization ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("setOrgNull", b, d, 1), b, d, 1, 0, 0, "") || f.b(" Change Organization\u2026 ");
                f.b(" </a> </li> ")
            }), c.pop());
            this.b(' <li> <a class="js-view-org" href="/');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('">View Organization Page</a> </li> </ul> ');
            return this.fl()
        },
        popover_card_completer: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("button", c, b, 1), c, b, 0, 11, 96, "{{ }}") &&
                (this.rs(c, b, function(b, d, f) {
                    f.b(' <input type="text" class="js-search js-autofocus" placeholder="Search for a card\u2026"> ')
                }), c.pop());
            this.b(' <div class="js-loading');
            this.s(this.f("hideLoading", c, b, 1), c, b, 0, 146, 151, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" hide")
            }), c.pop());
            this.b('"> <span class="loading spinner"></span> </div> <div class="js-results"> <ul class="pop-over-list navigable js-card-list"></ul> </div> <div class="js-no-results hide"> <p class="bottom"> No Results </p> </div> ');
            return this.fl()
        },
        popover_card_from_calendar: function(c, b, d) {
            this.b(d || "");
            this.b('<div> <textarea class="js-card-title">');
            this.b(this.v(this.f("title", c, b, 0)));
            this.b('</textarea> </div> <div class="button-link list-button-link setting"> <span class="label">List</span> <span class="value js-list-value"></span> <label>List</label> <select class="js-select-list"></select> </div> <div class="button-link pos-button-link setting"> <span class="label">Position</span> <span class="value js-pos-value"></span> <label>Position</label> <select class="js-select-position"></select> </div> <input type="submit" class="primary wide js-add-card" value="Add"/> ');
            return this.fl()
        },
        popover_change_board_org: function(c, b, d) {
            this.b(d = d || "");
            this.b('<form> <label>Organization</label> <select class="js-org"> <option value="" ');
            this.s(this.f("orgs", c, b, 1), c, b, 1, 0, 0, "") || this.b("selected");
            this.b(">(none)</option> ");
            this.s(this.f("orgs", c, b, 1), c, b, 0, 128, 207, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <option value="');
                f.b(f.v(f.f("id", b, d, 0)));
                f.b('"');
                f.s(f.f("select", b, d, 1), b, d, 0, 162, 170, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("selected")
                }), b.pop());
                f.b(">");
                f.b(f.v(f.f("displayName", b, d, 0)));
                f.b("</option> ")
            }), c.pop());
            this.b(' </select> <input type="submit" class="js-submit wide primary" value="Change"> </form> ');
            return this.fl()
        },
        popover_change_labels: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="edit-labels-pop-over');
            this.s(this.f("showShortcuts", c, b, 1), c, b, 0, 49, 64, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" show-shortcuts")
            }), c.pop());
            this.b('"> ');
            this.s(this.f("labels", c, b, 1), c, b, 0, 96, 396, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <li> <a class="card-label card-label-selectable card-label-');
                    f.b(f.v(f.f("color", b, d, 0)));
                    f.b(" ");
                    f.s(f.f("isActive", b, d, 1), b, d, 0, 179, 185, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b("active")
                    }), b.pop());
                    f.b('" label="');
                    f.b(f.v(f.f("color", b, d, 0)));
                    f.b('"> ');
                    f.s(f.f("name", b, d, 1), b, d, 0, 228, 236, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b(e.v(e.f("name", b, d, 0)))
                    }), b.pop());
                    f.b(" ");
                    f.s(f.f("shortcut", b, d, 1), b, d, 0, 259, 303, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b('<span class="shortcut">(');
                        e.b(e.v(e.f("shortcut", b, d, 0)));
                        e.b(")</span>")
                    }), b.pop());
                    f.b(' <span class="card-label-selectable-icon icon-sm icon-check light"/> </a> </li> ')
                }),
                c.pop());
            this.b(" </ul> ");
            this.s(this.f("__ed", c, b, 1), c, b, 0, 423, 702, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div class="');
                    f.s(f.f("hideEditTitles", b, d, 1), b, d, 0, 455, 459, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                        e.b("hide")
                    }), b.pop());
                    f.b('"> <hr> <a class="quiet-button full js-edit-label-titles" href="#"> Change label names for board\u2026 </a> <a class="quiet-button full js-toggle-color-blind-mode" href="#"> ');
                    f.b(f.v(f.f("cbToggleText", b, d, 0)));
                    f.b(" Color Blind Friendly Mode </a> </div> ")
                }),
                c.pop());
            this.b(" ");
            return this.fl()
        },
        popover_change_roles: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list"> <li> <a class="');
            this.s(this.f("canMakeAdmin", c, b, 1), c, b, 0, 59, 87, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("js-make-admin highlight-icon")
            }), c.pop());
            this.s(this.f("canMakeAdmin", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('"> Admin ');
            this.s(this.f("memberIsAdmin", c, b, 1), c, b, 0, 174, 208, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b('<span class="icon-sm icon-check"/>')
                }),
                c.pop());
            this.b(' <span class="sub-name">');
            this.b(this.v(this.f("roleText_admin", c, b, 0)));
            this.b('</span> </a> </li> <li> <a class="');
            this.s(this.f("canMakeMember", c, b, 1), c, b, 0, 320, 350, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("highlight-icon js-make-member ")
            }), c.pop());
            this.s(this.f("canMakeMember", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('"> Normal ');
            this.s(this.f("memberIsNormal", c, b, 1), c, b, 0, 442, 476, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b('<span class="icon-sm icon-check"/>')
                }),
                c.pop());
            this.b(' <span class="sub-name">');
            this.b(this.v(this.f("roleText_normal", c, b, 0)));
            this.b("</span> </a> </li> ");
            this.s(this.f("showObserver", c, b, 1), c, b, 0, 574, 926, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a class="');
                f.s(f.f("canMakeObserver", b, d, 1), b, d, 0, 610, 642, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("highlight-icon js-make-observer ")
                }), b.pop());
                f.s(f.f("canMakeObserver", b, d, 1), b, d, 1, 0, 0, "") || f.b(" disabled");
                f.b('"> Observer <span class="icon-sm icon-briefcase icon-briefcase-bc-color"/> ');
                f.s(f.f("memberIsObserver", b, d, 1), b, d, 0, 807, 841, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b('<span class="icon-sm icon-check"/>')
                }), b.pop());
                f.b(' <span class="sub-name">');
                f.b(f.v(f.f("roleText_observer", b, d, 0)));
                f.b("</span> </a> </li> ")
            }), c.pop());
            this.b(" </ul> ");
            this.s(this.f("isMoreThanOneAdmin", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("memberIsAdmin", c, b, 1), c, b, 0, 992, 1093, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <hr> <p class="quiet bottom"> You can\u2019t change roles because there must be at least one admin. </p> ')
                }),
                c.pop()), this.b(" "));
            this.b(" ");
            return this.fl()
        },
        popover_change_set_password: function(c, b, d) {
            this.b(d = d || "");
            this.b("<form> ");
            this.s(this.f("hasPassword", c, b, 1), c, b, 0, 23, 139, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <label for="o_password"> Old Password </label> <input id="o_password" type="password" name="oldpassword" value=""> ')
            }), c.pop());
            this.b(' <label for="password1"> ');
            this.s(this.f("hasPassword", c, b, 1), c, b, 0, 196, 201, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" New ")
            }), c.pop());
            this.b(' Password </label> <input id="password1" type="password" name="password" value=""> <label for="password2"> ');
            this.s(this.f("hasPassword", c, b, 1), c, b, 0, 340, 345, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" New ")
            }), c.pop());
            this.b(' Password (again) </label> <input id="password2" type="password" name="password2" value=""> <p id="password-error" class="error"></p> <input type="submit" class="primary js-save-changes" value="Save"> </form> ');
            this.s(this.f("hasPassword", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <hr> <p class="quiet bottom"> You haven\'t set a password yet. You can set a password so you can log onto Trello with just your username or email address. </p> ');
            this.b(" ");
            return this.fl()
        },
        popover_change_user_info: function(c, b, d) {
            this.b(d || "");
            this.b('<form> <p id="account-error" class="error"></p> <div class="field"> <label for="fullName">Full Name</label> <input id="fullName" type="text" name="fullName" value="');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b('"> </div> <div class="field"> <label for="initials">Initials</label> <input id="initials" type="text" name="initials" value="');
            this.b(this.v(this.f("initials", c, b, 0)));
            this.b('"> </div> <div class="field"> <label for="username">Username</label> <input id="username" type="text" name="username" value="');
            this.b(this.v(this.f("username", c, b, 0)));
            this.b('" required autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> </div> <div class="field"> <label for="bio">Bio</label> <textarea id="bio" type="text" name="bio">');
            this.b(this.v(this.f("bio", c, b, 0)));
            this.b('</textarea> </div> <input type="submit" class="primary js-save-changes" value="Save"> </form> <hr> <p class="quiet bottom"> Your initials are used in place of your avatar if your avatar is not set. Usernames require a minimum of 3 characters, alphanumeric only. </p> ');
            return this.fl()
        },
        popover_checklist_menu: function(c, b, d) {
            this.b(d || "");
            this.b(' <ul class="pop-over-list"> <li><a class="js-delete-checklist" href="#">Delete This Checklist\u2026</a></li> </ul> ');
            return this.fl()
        },
        popover_confirm_jps_upgrade: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="billing-upgrade-banner-price-section"> <p> The price for the upgrade will be $5 per user per month or $45 per user per year. Your price will be\u2026 </p> ');
            this.s(this.f("monthlyUpgrade", c, b, 1), c, b, 0, 181,
                290, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <h3 class="billing-upgrade-price-emphasis">$');
                f.b(f.v(f.f("price", b, d, 0)));
                f.b(" per month</h3> <p>$5 per ");
                f.b(f.v(f.f("formattedMemberCount", b, d, 0)));
                f.b("</p> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("yearlyUpgrade", c, b, 1), c, b, 0, 328, 437, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <h3 class="billing-upgrade-price-emphasis">$');
                    f.b(f.v(f.f("price", b, d, 0)));
                    f.b(" per year</h3> <p>$45 per ");
                    f.b(f.v(f.f("formattedMemberCount", b, d, 0)));
                    f.b("</p> ")
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("yearlyCheaperUpgrade", c, b, 1), c, b, 0, 481, 629, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <h3 class="billing-upgrade-price-emphasis">$');
                f.b(f.v(f.f("price", b, d, 0)));
                f.b(" per year</h3> <p>$45 per ");
                f.b(f.v(f.f("formattedMemberCount", b, d, 0)));
                f.b("</p> <p>You will get three months free.</p> ")
            }), c.pop());
            this.b(' </div> <div class="center"> <a href="#" class="billing-upgrade-banner-button-in-popover button primary js-upgrade-bc"> Upgrade Now </a> </div> <p class="quiet bottom"> You will be billed ');
            this.s(this.f("monthlyUpgrade", c, b, 1), c, b, 0, 861, 863, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("$5")
            }), c.pop());
            this.b(" ");
            this.s(this.f("yearlyUpgrade", c, b, 1), c, b, 0, 901, 904, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("$45")
            }), c.pop());
            this.b(" per member when you add members to your organization in the future. </p> ");
            return this.fl()
        },
        popover_confirm_member_delete: function(c, b, d) {
            this.b(d || "");
            this.b("<p> Deleting your member account (<b>");
            this.b(this.v(this.f("username", c, b, 0)));
            this.b("</b>) will be permanent. </p> <p> <b>You will lose access to your boards and organizations.</b> </p> <p> Would you like us to send an email to <b>");
            this.b(this.v(this.f("email", c, b, 0)));
            this.b('</b> that contains a link that you can use to delete your account? </p> <input type="submit" class="js-delete-member" value="Send the Email"> <input type="submit" class="js-cancel-delete" value="Never Mind"> ');
            return this.fl()
        },
        popover_emoji_completer: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("button", c, b, 1), c, b, 0, 11, 101, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <input type="text" class="js-filter-emoji js-autofocus" placeholder="Search for emoji\u2026"> ')
                }),
                c.pop());
            this.b(' <div class="js-results"> <ul class="pop-over-emoji-list js-available-emoji"></ul> <hr> <ul class="pop-over-list"> <li> <a href="#" class="js-upload-emoji" data-emojiname="">Upload Emoji</a> </li> </ul> </div> <div class="js-no-results hide"> <p class="bottom"> Trello doesn\u2019t have an emoji for <span class="bold js-emoji-name"></span>, but you can upload one. </p> <a href="#" class="button primary full js-upload-emoji" data-emojiname="">Upload Emoji for \u201c<span class="js-emoji-name"></span>\u201d</a> </div> ');
            return this.fl()
        },
        popover_emoji_uploader: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("canUpload", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <div class="warning"> '), this.s(this.f("hasGold", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p> You can upload custom emoji with Trello Gold. <a target="_blank" href="/gold">Learn more about Trello Gold.</a> </p> '), this.b(" "), this.s(this.f("hasJPS", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p class="bottom"> You can get custom emoji for your entire organization with Business Class. <a target="_blank" href="/business-class">Learn more about Business Class.</a> </p> '),
                this.b(" </div> <hr> "));
            this.b(' <form action="/1/member/');
            this.b(this.v(this.f("id", c, b, 0)));
            this.b('/customEmoji" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <label for="emojiImage">Upload Image</label> <input id="emojiImage" type="file" name="file" class="js-upload-emoji-file upload-emoji" tabindex="-1" accept="image/*"/> <label for="emojiName">Emoji Name</label> <input id="emojiName" type="text" class="js-emoji-name" name="name" value="');
            this.b(this.v(this.f("emojiName", c, b, 0)));
            this.b('"> <p class="quiet"> The name will default to the name of the uploaded file. You can change it here, though. </p> <p class="warning hide js-invalid-name"> The emoji name can only contain letters, numbers, and underscores. </p> <div class="js-emoji-preview" style="margin-bottom: 12px;"> <p style="margin-bottom: 4px;"> <strong>Preview</strong> </p> <span class="js-emoji-preview-name">');
            this.b(this.v(this.f("emojiName", c, b, 0)));
            this.b('</span> \u2192 <img class="js-emoji-preview emoji"> </div> <input type="submit" class="primary wide js-upload-emoji" value="Create Custom Emoji"> <div class="error hide"> Upload failed </div> </form> ');
            this.s(this.f("canUpload", c, b, 1), c, b, 0, 1503, 1716, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("hasJPS", b, d, 1), b, d, 1, 0, 0, "") || f.b(' <hr> <p class="bottom"> You can also get custom emoji for your entire organization with Business Class. <a target="_blank" href="/business-class">Learn more about Business Class.</a> </p> ');
                f.b(" ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        popover_filter_pos_results: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list navigable normal-weight js-pos-results"> ');
            this.s(this.f("keywordList", c, b, 1), c, b, 0, 82, 225, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a class="js-select-pos-keyword" name="');
                f.b(f.v(f.f("value", b, d, 0)));
                f.b('" href="#"><strong>');
                f.b(f.v(f.f("natural", b, d, 0)));
                f.b("</strong> of list <strong>");
                f.b(f.v(f.d("list.name", b, d, 0)));
                f.b("</strong></a> </li> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("indexList", c, b, 1), c, b, 0, 256, 395, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a class="js-select-pos-pos" name="');
                f.b(f.v(f.f("value", b,
                    d, 0)));
                f.b('" href="#"><strong>');
                f.b(f.v(f.f("natural", b, d, 0)));
                f.b("</strong> in list <strong>");
                f.b(f.v(f.d("list.name", b, d, 0)));
                f.b("</strong></a> </li> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("listList", c, b, 1), c, b, 0, 423, 564, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li> <a class="js-select-pos-list" name="');
                f.b(f.v(f.f("id", b, d, 0)));
                f.b('" href="#"><strong>');
                f.b(f.v(f.f("index", b, d, 0)));
                f.b("</strong> ");
                f.b(f.v(f.f("indexPrep", b, d, 0)));
                f.b(" list <strong>");
                f.b(f.v(f.f("name", b, d, 0)));
                f.b("</strong></a> </li> ")
            }), c.pop());
            this.b(" </ul> ");
            return this.fl()
        },
        popover_helper_new_board_add_org: function(c, b, d) {
            this.b(d || "");
            this.b("<p> An organizations is a collection of members and boards. They make sharing and working within a group even easier. </p> <a href=\"#\" class='button js-create-org'>Create an Organization</a> ");
            return this.fl()
        },
        popover_insert_card: function(c, b, d) {
            this.b(d || "");
            this.b('<form> <textarea type="text" class="js-card-name js-autofocus" id="card-name"></textarea> <input type="submit" class="primary js-insert-card" value="Add Card"> <input type="submit" class="js-cancel" value="Cancel"> </form> ');
            return this.fl()
        },
        popover_insertion_menu: function(c, b, d) {
            this.b(d || "");
            this.b('<ul class="pop-over-list"> <li> <a href="#" class="js-open-emoji-selector">Select Emoji\u2026</a> </li> <li> <a href="#" class="js-open-mention-selector">Mention Member\u2026</a> </li> </ul> ');
            return this.fl()
        },
        popover_member_searcher: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("showSearch", c, b, 1), c, b, 0, 15, 105, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <input type="text" class="js-filter-members js-autofocus" placeholder="Search members\u2026"> ')
                }),
                c.pop());
            this.b(' <ul class="pop-over-member-list checkable js-members-list"></ul> ');
            return this.fl()
        },
        popover_move_card: function(c, b, d) {
            this.b(d || "");
            this.b(this.rp("move_card_controls", c, b, ""));
            this.b(' <input type="submit" class="primary wide js-submit" value="Move"> ');
            return this.fl()
        },
        popover_move_list: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="form-grid"> <div class="button-link setting form-grid-child form-grid-child-full"> <span class="label">Board</span> <span class="value js-board-value"></span> <label>Board</label> <select class="js-select-board"> ');
            this.s(this.f("organizations", c, b, 1), c, b, 0, 243, 438, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <optgroup label="');
                f.b(f.v(f.f("displayName", b, d, 0)));
                f.b('"> ');
                f.s(f.f("boards", b, d, 1), b, d, 0, 290, 414, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <option value="');
                    e.b(e.v(e.f("id", b, d, 0)));
                    e.b('"');
                    e.s(e.f("selected", b, d, 1), b, d, 0, 326, 346, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(' selected="selected"')
                    }), b.pop());
                    e.b(">");
                    e.b(e.v(e.f("name", b, d, 0)));
                    e.s(e.f("selected", b, d, 1), b, d, 0, 381, 391, "{{ }}") && (e.rs(b,
                        d, function(b, d, e) {
                            e.b(" (current)")
                        }), b.pop());
                    e.b("</option> ")
                }), b.pop());
                f.b(" </optgroup> ")
            }), c.pop());
            this.b(' </select> </div> </div> <div class="form-grid"> <div class="button-link setting form-grid-child form-grid-child-full"> <span class="label">Position</span> <span class="value js-pos-value"></span> <label>Position</label> <select class="js-select-list-pos"></select> </div> </div> <input type="submit" class="primary wide js-commit-position" value="Move"/> ');
            return this.fl()
        },
        popover_org_data_export: function(c,
            b, d) {
            this.b(d = d || "");
            this.s(this.f("token", c, b, 1), c, b, 0, 10, 552, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("error", b, d, 1), b, d, 0, 21, 53, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <p class="error">');
                    e.b(e.v(e.f("error", b, d, 0)));
                    e.b("</p> ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("error", b, d, 1), b, d, 1, 0, 0, "") || (f.b(" "), f.s(f.f("complete", b, d, 1), b, d, 0, 88, 261, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <p> Your export is ready! </p> <a class="button-link" href="/1/organizations/');
                    e.b(e.v(e.f("name", b, d,
                        0)));
                    e.b("/export/");
                    e.b(e.v(e.f("token", b, d, 0)));
                    e.b('/download"> <span class="icon-sm icon-archive"/> Download export </a> ')
                }), b.pop()), f.b(" "), f.s(f.f("complete", b, d, 1), b, d, 1, 0, 0, "") || (f.b(' <p class="center"> Your export is being generated.<br>Please wait\u2026 </p> <p class="center"> '), f.s(f.f("stage", b, d, 1), b, d, 0, 390, 478, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <span class="quiet"> ');
                    e.b(e.v(e.f("stage", b, d, 0)));
                    e.s(e.f("total", b, d, 1), b, d, 0, 431, 459, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" (");
                        e.b(e.v(e.f("progress", b, d, 0)));
                        e.b(" of ");
                        e.b(e.v(e.f("total", b, d, 0)));
                        e.b(")")
                    }), b.pop());
                    e.b(" </span> ")
                }), b.pop()), f.b(' </p> <span class="spinner centered"/> ')), f.b(" "));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("token", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p> Export your organization as a ZIP file containing information on members, boards, and everything inside. Board and member info will be in JSON format. Attachments (if included) will be in their native format. </p> <div class="check-div clearfix"> <input id="includeAttachments" type="checkbox"> <label for="includeAttachments">Include attachments\u2026</label> </div> <input class="button full primary js-export" type="submit" value="Export"> ');
            this.b(" ");
            return this.fl()
        },
        popover_org_logo: function(c, b, d) {
            this.b(d = d || "");
            this.b('<p class="error hide js-error" style="margin: 8px 4px 0;"></p> <div class="uploader" style="margin: 12px 4px 8px;"> <form class="realfile" action="/1/organization/');
            this.b(this.v(this.f("id", c, b, 0)));
            this.b('/logo" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <input type="file" name="file" class="js-upload-logo" style="margin-bottom: 0;" tabindex="-1" /> </form> <a class="button-link fakefile js-fakefile"> <span class="icon-sm icon-org"/> Upload a new logo </a> </div> ');
            this.s(this.f("logoHash", c, b, 1), c, b, 0, 544, 672, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <hr style="margin-top: 14px;"> <a class="quiet-button clear js-remove-logo" style="padding: 6px 8px;" href="#">Remove Logo</a> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        popover_rename_board: function(c, b, d) {
            this.b(d || "");
            this.b('<form> <label>Name</label> <input type="text" class="js-board-name js-autofocus" value="');
            this.b(this.v(this.f("boardName", c, b, 0)));
            this.b('"> <input type="submit" class="primary wide js-rename-board" value="Rename"> </form> ');
            return this.fl()
        },
        popover_select_members: function(c, b, d) {
            this.b(d || "");
            this.b('<input type="text" class="js-search-mem js-autofocus" placeholder="Search members"/> <ul class="pop-over-member-list checkable js-mem-list"> </ul> ');
            return this.fl()
        },
        popover_selector_menu: function(c, b, d) {
            this.b(d || "");
            this.b('<ul class="pop-over-list"> <li> <a href="#" class="js-mem-selector">Members\u2026</a> </li> <li> <a href="#" class="js-label-selector">Labels\u2026</a> </li> <li> <a href="#" class="js-pos-selector">Position\u2026</a> </li> <li> <a href="#" class="js-copy-from">Copy From Existing Card\u2026</a> </li> </ul> ');
            return this.fl()
        },
        popover_set_email_freq: function(c, b, d) {
            this.b(d = d || "");
            this.b('<ul class="pop-over-list" name="minutesBetweenSummaries"> <li> <a class="highlight-icon" value="-1"> Never ');
            this.s(this.f("minutesBetweenSummaries_-1", c, b, 1), c, b, 0, 138, 172, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="icon-sm icon-check"/>')
            }), c.pop());
            this.b(' <span class="sub-name"> Don\u2019t send emails. </span> </a> </li> <li> <a class="highlight-icon" value="60"> Periodically ');
            this.s(this.f("minutesBetweenSummaries_60",
                c, b, 1), c, b, 0, 353, 387, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="icon-sm icon-check"/>')
            }), c.pop());
            this.b(' <span class="sub-name"> Send emails about once an hour. </span> </a> </li> <li> <a class="highlight-icon" value="1"> Instantly ');
            this.s(this.f("minutesBetweenSummaries_1", c, b, 1), c, b, 0, 576, 610, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="icon-sm icon-check"/>')
            }), c.pop());
            this.b(' <span class="sub-name"> Send emails as soon as possible. </span> </a> </li> </ul> ');
            return this.fl()
        },
        popover_share: function(c, b, d) {
            this.b(d = d || "");
            this.b('<form> <label> Link to this board <span class="icon-sm icon-');
            this.b(this.v(this.f("pLevelClass", c, b, 0)));
            this.b('" title="');
            this.b(this.v(this.f("pLevelAltText", c, b, 0)));
            this.b('"/> <span class="quiet" style="font-weight: normal;">');
            this.b(this.v(this.f("helperText", c, b, 0)));
            this.b('</span> </label> <input class="js-url js-autofocus inline-input" type="text" readonly="readonly" value="');
            this.b(this.v(this.f("shortUrl", c,
                b, 0)));
            this.b('"> </form> <hr> <ul class="pop-over-list"> <li> <a class="js-print" href="#" title="Print using the browser\u2019s print function. You can use \u201cFile\u201d > \u201cPrint\u201d or \u201ccmd + P\u201d (Mac) or \u201ccontrol + P\u201d (Windows)">Print\u2026</a> </li> ');
            this.s(this.f("hasCsvExport", c, b, 1), c, b, 0, 520, 634, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <li> <a class="js-export-csv" href="');
                    f.b(f.v(f.f("csvURL", b, d, 0)));
                    f.b('" title="Export the board data in CSV format">Export CSV</a> </li> ')
                }),
                c.pop());
            this.b(' <li> <a class="js-export-json" href="');
            this.b(this.v(this.f("jsonURL", c, b, 0)));
            this.b('" title="Export the board data in JSON format">Export JSON</a> </li> </ul> ');
            this.s(this.f("hasCsvExport", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <hr> <p class="quiet" style="margin: 16px 8px 8px;"> '), this.s(this.f("needsUpgradeForCsv", c, b, 1), c, b, 0, 869, 962, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <a href="');
                    f.b(f.v(f.f("upgradeUrl", b, d, 0)));
                    f.b('">There\u2019s an update to Business Class available with CSV export!</a> ')
                }),
                c.pop()), this.b(" "), this.s(this.f("needsUpgradeForCsv", c, b, 1), c, b, 1, 0, 0, "") || this.b(' Looking for CSV export? <a href="/business-class">Check out Business Class!</a> '), this.b(" </p> "));
            this.b(" ");
            return this.fl()
        },
        popover_signup: function(c, b, d) {
            this.b(d = d || "");
            this.b('<form action="/authenticate_openid" method="post" class="clearfix" style="margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #bfbfbf;"> <label> Sign up with: </label> <input type="hidden" name="openid_identifier" value="https://www.google.com/accounts/o8/id"> <input type="submit" class="primary js-google-confirm-account" style="margin-top: 4px; width: 100%;" value="Google Account"> <input type="hidden" name="returnUrl" value="');
            this.b(this.v(this.f("returnUrl", c, b, 0)));
            this.b('"> </form> <form action="/signup" method="post" class="clearfix" style="margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #bfbfbf;"> <h3>Or use email and password</h3> <label for="display-name-create"> Full Name </label> <input type="text" name="fullName" id="display-name-create" value="');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b('"> <div class="js-use-diff-email"> <label for="email-create"> Email </label> <input type="email" name="email" id="email-create" value="');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b('" autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> </div> <label for="password-create"> Password </label> <input type="password" name="password" id="password-create"> <input type="hidden" name="returnUrl" value="');
            this.b(this.v(this.f("returnUrl", c, b, 0)));
            this.b('"> <input type="submit" class="primary js-confirm-email-account" style="width: 100%;" value="Create New Account"> </form> <form> <p class="clear" style="margin-bottom: 0;"> Already have an account? <a href="/login');
            this.s(this.f("returnUrl", c, b, 1), c, b, 0, 1399, 1423, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("?returnUrl=");
                f.b(f.v(f.f("returnUrl", b, d, 0)))
            }), c.pop());
            this.b('"><strong>Log In</strong></a> to accept this invitation. </p> <input type="hidden" name="returnUrl" value="');
            this.b(this.v(this.f("returnUrl", c, b, 0)));
            this.b('"> </form> ');
            return this.fl()
        },
        popover_switch_tool_kit: function(c, b, d) {
            this.b(d || "");
            this.b('<p> You will be charged the prorated amount for the month and your billing contact will be notified. </p> <input type="submit" class="wide primary js-submit-switch-tool-kit" value="Switch"> ');
            return this.fl()
        },
        power_up_detail: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="window-header clearfix"> <a class="window-header-icon icon-lg icon-leftarrow dark-hover js-back-view" href="#"> </a> <div class="window-title"> <h2 class="window-title-text">Back to Power-Ups</h2> </div> </div> <div class="js-power-up-icon"></div> <div class="power-up-content"> <div class="navbar js-power-up-detail-navbar"></div> <div class="content js-power-up-detail-content"></div> </div> ');
            return this.fl()
        },
        power_up_detail_screenshots: function(c,
            b, d) {
            this.b(d = d || "");
            this.b('<div class="power-up-screenshot-list clearfix"> ');
            this.s(this.f("screenshots", c, b, 1), c, b, 0, 64, 116, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <img class="power-up-screenshot-item" src="');
                f.b(f.v(f.d(".", b, d, 0)));
                f.b('"> ')
            }), c.pop());
            this.b(" </div> ");
            return this.fl()
        },
        power_up_icon: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a href="#" data-power-up-name="');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('" class="power-up-icon-image-wrapper js-power-up-name"> <span class="power-up-icon-image ');
            this.b(this.v(this.f("imageClass", c, b, 0)));
            this.b('"/> </a> <div class="power-up-icon-title-section clearfix"> <h3 class="power-up-icon-title"> ');
            this.b(this.v(this.f("displayName", c, b, 0)));
            this.b(' </h3> <span class="power-up-icon-enabled-badge hide js-enabled-badge"> Enabled <span class="power-up-icon-enabled-badge-icon icon-sm icon-check"/> </span> </div> <p class="power-up-icon-description"> ');
            this.b(this.v(this.f("powerUpDesc", c, b, 0)));
            this.b(" </p> ");
            this.s(this.f("isListView", c, b, 1), c, b,
                0, 488, 541, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="quiet underline"> Click for details\u2026 </p> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("isListView", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("__own", c, b, 1), c, b, 0, 583, 666, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <a class="button-link power-up-icon-button js-toggle-btn js-toggle-power-up"></a> ')
                }), c.pop()), this.b(" "), this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p class="quiet">You must be an admin to enable or disable power-ups.</p> '),
                this.b(" "));
            this.b(" ");
            return this.fl()
        },
        power_up_org_picker: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("hasOrgs", c, b, 1), c, b, 0, 12, 514, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <ul class="pop-over-list"> ');
                f.s(f.f("orgs", b, d, 1), b, d, 0, 49, 498, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" <li> ");
                    e.s(e.f("isAdmin", b, d, 1), b, d, 0, 67, 299, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" ");
                        e.s(e.f("accountStanding", b, d, 1), b, d, 0, 88, 153, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                            e.b(' <a class="highlight-icon js-select-org" href="/');
                            e.b(e.v(e.f("name", b, d, 0)));
                            e.b('/plans"> ')
                        }), b.pop());
                        e.b(" ");
                        e.s(e.f("accountStanding", b, d, 1), b, d, 1, 0, 0, "") || (e.b(' <a class="highlight-icon js-select-org" href="/'), e.b(e.v(e.f("name", b, d, 0))), e.b("/billing/card/"), e.b(e.v(e.f("product", b, d, 0))), e.b('"> '));
                        e.b(" ")
                    }), b.pop());
                    e.b(" ");
                    e.s(e.f("isAdmin", b, d, 1), b, d, 1, 0, 0, "") || (e.b(' <a class="highlight-icon js-select-org" href="/'), e.b(e.v(e.f("name", b, d, 0))), e.b('/plans"> '));
                    e.b(" ");
                    e.b(e.v(e.f("displayName", b, d, 0)));
                    e.b(' <span class="icon-sm icon-');
                    e.b(e.v(e.f("permissionLevel", b, d, 0)));
                    e.b('" title="');
                    e.b(e.v(e.f("altText", b, d, 0)));
                    e.b('"/> </a> </li> ')
                }), b.pop());
                f.b(" </ul> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("hasOrgs", c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("isLoggedIn", c, b, 1), c, b, 0, 555, 790, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.s(f.f("hasBCOrgs", b, d, 1), b, d, 0, 570, 664, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' <p class="quiet" style="padding: 6px 8px;">All of your organizations are Business Class!</p> ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("hasBCOrgs", b, d, 1), b, d, 1, 0, 0, "") || f.b(' <p class="quiet" style="padding: 6px 8px;">You don\'t have any organizations!</p> ');
                f.b(" ")
            }), c.pop()), this.b(" "), this.s(this.f("isLoggedIn", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <a href="/login/?returnUrl=%2Fbusiness-class" style="padding: 6px 8px;">Log in to see your organizations</a> '), this.b(" "));
            this.b(" ");
            return this.fl()
        },
        power_ups_about_calendar: function(c, b, d) {
            this.b(d || "");
            this.b("Enable the calendar power-up to gain access to the Trello calendar view. Display cards with due dates in a weekly or monthly format for a time-based overview of cards. Most useful for time-sensitive projects and projects with multiple due dates. ");
            return this.fl()
        },
        power_ups_about_card_aging: function(c, b, d) {
            this.b(d || "");
            this.b("Cards will visibly \u201cage\u201d as time passes without any activity. Regular mode will cause old cards to become progressively more transparent. Pirate mode will cause old cards to crack and tear like an old treasure map. Once cards have new activity on them, their age counter is reset and they appear new again. Age thresholds are 1, 2, and 4 weeks. ");
            return this.fl()
        },
        power_ups_about_voting: function(c, b, d) {
            this.b(d ||
                "");
            this.b("Enable this power-up to allow users to vote on your cards. Votes are stored and synchronized between all users sharing this board. Choose between multiple permission levels for which users can vote on cards. View the number of votes on each card from the main Trello list pane or in a card's detail pane. ");
            return this.fl()
        },
        power_ups_calendar_prefs: function(c, b, d) {
            this.b(d = d || "");
            this.b('<h2>Enable iCalendar Feed?</h2> <ul class="pop-over-list power-up-option-list inset"> <li> <a href="#" class="js-select js-calendar-pref-feed ');
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" name="enabled"> ');
            this.s(this.f("calendar_feed_enabled", c, b, 1), c, b, 0, 214, 256, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"></span> ')
            }), c.pop());
            this.b(' Enabled </a> </li> <li> <a href="#" class="js-select js-calendar-pref-feed ');
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" name="disabled"> ');
            this.s(this.f("calendar_feed_enabled", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <span class="icon-sm icon-check"></span> ');
            this.b(' <div class="name" name="disabled">Disabled</div> </a> </li> </ul> ');
            this.s(this.f("calendar_feed_enabled", c, b, 1), c, b, 0, 592, 1073, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <br /> <h2>Your Personal iCalendar Feed</h2> <input type="text" class="full js-calendar-feed-url" value="');
                f.s(f.f("calendar_feed_generated", b, d, 1), b, d, 0, 726, 747, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(e.v(e.f("calendar_feed_url", b, d, 0)))
                }), b.pop());
                f.s(f.f("calendar_feed_generated", b, d, 1), b, d, 1, 0, 0, "") || f.b("Generating...");
                f.b('" /> <div> <a href="#" class="button-link js-regen-calendar-url"> ');
                f.s(f.f("calendar_feed_generated", b, d, 1), b, d, 0, 938, 962, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b("Regenerate Your Feed URL")
                }), b.pop());
                f.b(" ");
                f.s(f.f("calendar_feed_generated", b, d, 1), b, d, 1, 0, 0, "") || f.b("Generating...");
                f.b(" </a> </div> ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        power_ups_card_aging_prefs: function(c, b, d) {
            this.b(d = d || "");
            this.b('<h2>How do you want the aged cards to look?</h2> <ul class="pop-over-list power-up-option-list inset"> <li> <a href="#" class="js-select ');
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" name="regular"> ');
            this.s(this.f("aging_regular", c, b, 1), c, b, 0, 201, 237, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="name">Regular Mode</span> <span class="sub-name"> Older cards become more transparent. </span> </a> </li> <li> <a href="#" class="js-select ');
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" name="pirate"> ');
            this.s(this.f("aging_pirate",
                c, b, 1), c, b, 0, 471, 507, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="icon-sm icon-check"/> ')
            }), c.pop());
            this.b(' <span class="name">Pirate Mode</span> <span class="sub-name"> Older cards crackle and tear. </span> </a> </li> </ul> ');
            return this.fl()
        },
        power_ups_detail_navbar: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a class="nav-item js-toolbar-select ');
            this.s(this.f("screenshots", c, b, 1), c, b, 0, 53, 59, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("active")
            }), c.pop());
            this.b('" href="#" name=\'screenshots\'>Screenshots</a> <a class="nav-item js-toolbar-select ');
            this.s(this.f("settings", c, b, 1), c, b, 0, 171, 177, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("active")
            }), c.pop());
            this.b('" href="#" name=\'settings\'>Settings</a> ');
            return this.fl()
        },
        power_ups_list: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-rocket" href="#"/> <div class="window-title"> <h2 class="window-title-text">Power-Ups</h2> <span class="quiet js-power-up-count hide"/> </div> </div> <div class="power-up-list js-power-up-list"></div> ');
            return this.fl()
        },
        power_ups_voting_prefs: function(c, b, d) {
            this.b(d = d || "");
            this.b('<h2>Who is allowed to vote on cards?</h2> <ul class="pop-over-list power-up-option-list inset"> <li> <a href="#" class="');
            this.s(this.f("__own", c, b, 1), c, b, 0, 130, 146, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("js-voting-select")
            }), c.pop());
            this.b(" ");
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" name="members"> <div class="icon-sm icon-check ');
            this.s(this.f("voting_members", c, b, 1), c, b, 0, 253,
                267, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("checked-option")
            }), c.pop());
            this.b('"></div> <div class="name"> Members </div> </a> </li> <li> <a href="#" class="');
            this.s(this.f("__own", c, b, 1), c, b, 0, 374, 390, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("js-voting-select")
            }), c.pop());
            this.b(" ");
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b(" ");
            this.s(this.f("voting_showObservers", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" name="observers"> <div class="icon-sm icon-check ');
            this.s(this.f("voting_observers", c, b, 1), c, b, 0, 560, 574, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("checked-option")
            }), c.pop());
            this.b('"></div> <div class="name"> Members and Observers </div> <div class="sub-name"> Available only on boards with observers. </div> </a> </li> <li> <a href="#" class="');
            this.s(this.f("__own", c, b, 1), c, b, 0, 768, 784, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("js-voting-select")
            }), c.pop());
            this.b(" ");
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b(" ");
            this.s(this.f("orgCanSee", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" name="org"> <div class="icon-sm icon-check ');
            this.s(this.f("voting_org", c, b, 1), c, b, 0, 920, 934, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("checked-option")
            }), c.pop());
            this.b('"></div> <div class="name"> Organization members </div> <div class="sub-name"> Available only on boards within an organization. </div> </a> </li> <li> <a href="#" class="');
            this.s(this.f("__own", c, b, 1), c, b, 0, 1129, 1145, "{{ }}") && (this.rs(c, b, function(b,
                d, f) {
                f.b("js-voting-select")
            }), c.pop());
            this.b(" ");
            this.s(this.f("__own", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b(" ");
            this.s(this.f("permissionLevel_public", c, b, 1), c, b, 1, 0, 0, "") || this.b("disabled");
            this.b('" name="public"> <div class="icon-sm icon-check ');
            this.s(this.f("voting_public", c, b, 1), c, b, 0, 1313, 1327, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("checked-option")
            }), c.pop());
            this.b('"></div> <div class="name"> Public members </div> <div class="sub-name"> Available on public boards. </div> </a> </li> </ul> ');
            return this.fl()
        },
        product_promo_button: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="product-promo-button-overlay"> <span class="product-promo-button"> Get <a href="/gold" target="_blank" class="product-promo-button-gold inline-block js-gold-promo"> <span class="product-promo-button-icon icon-lg icon-crown"></span> <span class="product-promo-button-text">Trello Gold</span> </a> <br> or <a href="/business-class" target="_blank" class="product-promo-button-bc inline-block js-bc-promo"> <span class="product-promo-button-icon icon-lg icon-briefcase"></span> <span class="product-promo-button-text">Business Class</span></a>. </span> </div> ');
            return this.fl()
        },
        profiler: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="js-profiler profiler"> </div> ');
            return this.fl()
        },
        profiler_entry: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="profiler-entry"> <span class="profiler-name">');
            this.b(this.v(this.f("name", c, b, 0)));
            this.s(this.f("count", c, b, 1), c, b, 0, 75, 86, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" x");
                f.b(f.v(f.f("count", b, d, 0)))
            }), c.pop());
            this.b('</span>: <span class="profiler-time">');
            this.b(this.v(this.f("time", c, b, 0)));
            this.b("</span> </div> ");
            return this.fl()
        },
        quick_card_editor: function(c, b, d) {
            this.b(d = d || "");
            this.b('<span class="icon-lg icon-close quick-card-editor-close-icon js-close-editor"></span> <div class="quick-card-editor-card" style="top: ');
            this.b(this.v(this.f("top", c, b, 0)));
            this.b("px; left: ");
            this.b(this.v(this.f("left", c, b, 0)));
            this.b("px; width: ");
            this.b(this.v(this.f("width", c, b, 0)));
            this.b('px;"> <div class="list-card list-card-quick-edit js-stop" style="width: ');
            this.b(this.v(this.f("width", c, b, 0)));
            this.b('px;"> ');
            this.b(this.rp("card", c, b, ""));
            this.b(' </div> <input type="submit" value="Save" class="primary wide js-save-edits"> <div class="quick-card-editor-buttons');
            this.s(this.f("leftButtons", c, b, 1), c, b, 0, 406, 437, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" quick-card-editor-buttons-left")
            }), c.pop());
            this.b('"> <a class="quick-card-editor-buttons-item js-edit-labels" href="#"> <span class="icon-sm icon-label light"></span> <span class="quick-card-editor-buttons-item-text">Edit Labels</span> </a> <a class="quick-card-editor-buttons-item js-edit-members" href="#"> <span class="icon-sm icon-member light"></span> <span class="quick-card-editor-buttons-item-text">Change Members</span> </a> <a class="quick-card-editor-buttons-item js-move-card" href="#"> <span class="icon-sm icon-move light"></span> <span class="quick-card-editor-buttons-item-text">Move</span> </a> <a class="quick-card-editor-buttons-item js-copy-card" href="#"> <span class="icon-sm icon-card light"></span> <span class="quick-card-editor-buttons-item-text">Copy</span> </a> <a class="quick-card-editor-buttons-item js-edit-due-date" href="#"> <span class="icon-sm icon-clock light"></span> <span class="quick-card-editor-buttons-item-text">Change Due Date</span> </a> ');
            this.s(this.f("closed", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <a class="quick-card-editor-buttons-item js-archive" href="#"> <span class="icon-sm icon-archive light"></span> <span class="quick-card-editor-buttons-item-text">Archive</span> </a> ');
            this.b(" </div> </div> ");
            return this.fl()
        },
        saved_search: function(c, b, d) {
            this.b(d = d || "");
            this.b('<a class="saved-search-item js-saved-search-name" href="#"> <span class="saved-search-item-name">');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('</span> <span class="saved-search-query quiet js-saved-search-query">');
            this.b(this.v(this.f("query", c, b, 0)));
            this.b("</span> </a> ");
            this.s(this.f("allowDelete", c, b, 1), c, b, 0, 212, 647, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <a class="saved-search-delete dark-hover quiet js-delete-saved-search" href="#"><span class="icon-sm icon-close"></span></a> <span class="saved-search-delete-menu quiet hide js-delete-saved-search-menu"> Are you sure you want to delete? <a class="js-delete-saved-search-confirm" href="#" style="margin-left: 4px;">Yes, delete.</a> <a class="js-delete-saved-search-cancel" href="#" style="margin-left: 4px;">No, keep this.</a> </span> ')
                }),
                c.pop());
            this.b(" ");
            return this.fl()
        },
        search_contact: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="contact-info');
            this.s(this.f("selectable", c, b, 1), c, b, 0, 39, 68, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-select-contact selectable")
            }), c.pop());
            this.b('"> ');
            this.s(this.f("selectable", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <span class="icon-sm icon-close dark-hover remove-contact-icon js-remove-contact"/> ');
            this.b(" ");
            this.s(this.f("avatarUrl", c, b, 1), c, b, 0, 216, 292, "{{ }}") && (this.rs(c, b, function(b,
                d, f) {
                f.b(' <img src="');
                f.b(f.v(f.f("avatarUrl", b, d, 0)));
                f.b('" class="js-avatarUrl avatar" name="');
                f.b(f.v(f.f("avatarUrl", b, d, 0)));
                f.b('"> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("avatarUrl", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <span class="member js-avatarUrl" name=""> <span class="icon-lg icon-member"/> </span> ');
            this.b(' <span class="name"> ');
            this.s(this.f("fullName", c, b, 1), c, b, 0, 457, 525, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<h3 class="js-fullName bottom" name="');
                f.b(f.v(f.f("fullName", b,
                    d, 0)));
                f.b('">');
                f.b(f.v(f.f("fullName", b, d, 0)));
                f.b("</h3>")
            }), c.pop());
            this.b(' <p class="js-email bottom" name="');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("email", c, b, 0)));
            this.b("</p> </span> </div> ");
            return this.fl()
        },
        search_instant_results: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="search-results-section-header-options"> <div class="js-saved-search-links"> <a class="quiet dark-hover search-results-section-header-see-all-saved-searches js-see-all-saved-searches" href="#" style="margin-left: 6px;"> <span class="icon-sm icon-leftarrow"></span>Back to Saved Searches</a> <a class="quiet dark-hover search-results-section-header-save-this-search js-save-this-search" href="#" style="margin-left: 6px;"> <span class="icon-sm icon-star"></span>Save this Search</a> <span class="quiet search-results-section-header-save-this-search js-current-search hide" href="#" style="margin-left: 6px;"> <span class="icon-sm icon-star"></span><span class="js-current-search-name"></span> </span> </div> </div> ');
            this.s(this.f("picker", c, b, 1), c, b, 0, 736, 959, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="js-search-results clearfix relative hide"> <div class="search-results-section js-card-results clearfix hide"> <div class="js-search-results-title results-title"></div> <div class="js-list"></div> </div> </div> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("picker", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <div class="search-results-section js-save-this-search-menu hide"> '), this.s(this.f("savedSearchesEnabled", c,
                b, 1), c, b, 0, 1075, 1480, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="search-results-section-header"> <h4>What would you like to call this search?</h4> </div> <form class="js-save-this-search-form"> <input type="text" class="js-saved-search-name-input" style="margin-bottom: 4px;"> <input type="submit" value="Save" class="primary js-save-this-search-submit"> <a class="quiet js-save-this-search-cancel" href="#" style="margin-left: 6px;">Nevermind.</a> </form> ')
            }), c.pop()), this.b(" "), this.s(this.f("savedSearchesEnabled",
                c, b, 1), c, b, 1, 0, 0, "") || this.b(' <h2>Upgrade to add new saved searches!</h2> <p style="font-size: 16px; line-height: 1.2;"> You can add new saved searches with <strong>Trello Gold</strong> or get saved searches for your entire organization with <strong>Business Class</strong>. </p> <p> <a class="button" target="_blank" href="/gold">Check out Trello Gold</a> <a class="button" target="_blank" href="/business-class">Check out Business Class</a> </p> <hr> '), this.b(' </div> <div class="search-results-section js-search-suggestions clearfix hide"> <div class="search-results-section-header"> <h4>Did you mean\u2026</h4> </div> <div class="js-search-suggestions-list"></div> </div> <div class="search-results-section js-saved-searches clearfix hide"> <div class="search-results-section-header"> <h4>Saved Searches</h4> </div> <p class="quiet hide js-no-saved-searches">You have no saved searches. To save a search, start searching and click \u201cSave this Search\u201d in the upper corner.</p> <div class="js-saved-searches-list"></div> <hr> </div> <div class="js-search-results clearfix relative hide"> <div class="search-results-section js-card-results clearfix hide"> <div class="search-results-section-header clearfix"> <h4>Cards</h4> </div> <div class="js-list"></div> <span href="#" class="search-loading hide js-loading-cards"><span class="spinner small"></span> Loading\u2026</span> <a href="#" class="quiet-button quiet-button-large hide js-show-more-cards">Show more cards\u2026</a> </div> <div class="search-results-section js-board-results clearfix hide"> <div class="search-results-section-header"> <h4>Boards</h4> </div> <ul class="sidebar-boards-list board-results-list js-list"></ul> <a href="#" class="quiet-button quiet-button-large hide js-show-more-boards">Show more boards\u2026</a> </div> <div class="search-results-section js-member-results clearfix hide"> <div class="search-results-section-header"> <h4>Members</h4> </div> <ul class="js-list pop-over-member-list"></ul> <a href="#" class="quiet-button quiet-button-large hide js-show-more-members">Show more members\u2026</a> </div> <div class="search-results-section js-org-results clearfix hide"> <div class="search-results-section-header"> <h4>Organizations</h4> </div> <ul class="org-list js-list"></ul> <a href="#" class="quiet-button quiet-button-large hide js-show-more-orgs">Show more organizations\u2026</a> </div> </div> '));
            this.b(' <div class="search-tips hide js-no-input"> <p class="search-tips-helper quiet js-search-tips-helper"> Refine your search with operators like @member, #label, is:archived, and has:attachments. <a href="#" class="js-show-search-tips">Learn more\u2026</a> </p> <div class="search-tips-list js-search-tips-list hide"> <p class="quiet"> Search operators help you find specific cards and create highly tailored lists. Trello will suggest operators for you as you type, but here\u2019s a full list to keep in mind. You can add \u201c-\u201d to any operator to do a negative search, such as -has:members to search for cards without any members assigned. </p> <dl> <dt>@name</dt> <dd> Returns cards assigned to a member. If you start typing @, Trello will suggest members for you. <strong>member:</strong> also works. <strong>@me</strong> will include only your cards. </dd> <dt>#label</dt> <dd> Returns labeled cards. Trello will suggest labels for you if you start typing # and the label you are looking for. <strong>label:</strong> also works. </dd> <dt>board:id</dt> <dd> Returns cards within a specific board. If you start typing <strong>board:</strong>, Trello will suggest boards for you. You can search by board name, too, such as \u201cboard:trello\u201d to search only cards on boards with trello in the board name. </dd> <dt>list:name</dt> <dd> Returns cards within the list named \u201cname\u201d. Or whatever you type besides \u201cname\u201d. </dd> <dt>has:attachments</dt> <dd> Returns cards with attachments. <strong>has:description</strong>, <strong>has:cover</strong>, <strong>has:members</strong>, and <strong>has:stickers</strong> also work as you would expect. </dd> <dt>due:day</dt> <dd> Returns cards due within 24 hours. <strong>due:week</strong>, <strong>due:month</strong>, and <strong>due:overdue</strong> also work as expected. You can search for a specific day range. For example, adding <strong>due:14</strong> to search will include cards due in the next 14 days. </dd> <dt>created:day</dt> <dd> Returns cards created in the last 24 hours. <strong>created:week</strong> and <strong>created:month</strong> also work as expected. You can search for a specific day range. For example, adding <strong>created:14</strong> to the search will include cards created in the last 14 days. </dd> <dt>edited:day</dt> <dd> Returns cards edited in the last 24 hours. <strong>edited:week</strong> and <strong>edited:month</strong> also work as expected. You can search for a specific day range. For example, adding <strong>edited:21</strong> to the search will include cards edited in the last 21 days. </dd> <dt>description:, checklist:, comment:, and name:</dt> <dd> Returns cards matching the text of card descriptions, checklists, comments, or names. For example, comment:"FIX IT" will return cards with \u201cFIX IT\u201d in a comment. </dd> <dt>is:open and is:archived</dt> <dd> Returns cards that are either open or archived. Trello returns both types by default. </dd> <dt>is:starred</dt> <dd>Only include cards on starred boards.</dd> </dl> </div> </div> <p class="search-warning hide js-no-results">No results.</p> <p class="search-warning hide js-searching"><span class="spinner small inline-block"></span> Searching\u2026</p> <p class="search-warning hide js-err">Your search produced an error.</p> ');
            return this.fl()
        },
        search_results_card: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="search-result-card-container js-list-card-container"> <div class="search-result-card-container-fade"></div> </div> <div class="search-result-card-details"> <p class="bottom"> <a class="search-result-card-details-name" href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('">');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b("</a> </p> <p class='bottom quiet'>in <strong>");
            this.b(this.v(this.f("listName", c, b, 0)));
            this.b(this.v(this.f("archived",
                c, b, 0)));
            this.b("</strong> on <strong>");
            this.b(this.v(this.f("boardName", c, b, 0)));
            this.b('</strong><span class="icon-sm icon-');
            this.b(this.v(this.f("permLevel", c, b, 0)));
            this.b('"/></p> </div> <a class="search-result-card-hover-target" href="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('"></a> ');
            return this.fl()
        },
        search_suggetion: function(c, b, d) {
            this.b(d || "");
            this.b('<a href="#" class="search-suggestion js-select-suggestion" data-suggestionphrase="');
            this.b(this.v(this.f("phrase", c, b, 0)));
            this.b('"> <span class="search-suggestion-string">');
            this.b(this.v(this.f("phrase", c, b, 0)));
            this.b('</span> <span class="search-suggestion-desc">');
            this.b(this.v(this.f("description", c, b, 0)));
            this.b("</span> </a> ");
            return this.fl()
        },
        search_suggetion_board: function(c, b, d) {
            this.b(d || "");
            this.b('<a href="#" class="search-suggestion search-suggestion-board js-select-suggestion" data-suggestionphrase="');
            this.b(this.v(this.f("phrase", c, b, 0)));
            this.b('"> <span class="search-suggestion-board-image"></span> <span class="search-suggestion-dec">Cards on the board <strong>');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b("</strong></span> </a> ");
            return this.fl()
        },
        search_suggetion_member: function(c, b, d) {
            this.b(d || "");
            this.b('<a href="#" class="search-suggestion search-suggestion-member js-select-suggestion" data-suggestionphrase="');
            this.b(this.v(this.f("phrase", c, b, 0)));
            this.b('"> <span class="member search-suggestion-member-av">');
            this.b(this.rp("member", c, b, ""));
            this.b("</span> <span>Cards assigned to <strong>");
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b("</strong></span> </a> ");
            return this.fl()
        },
        select_card: function(c, b, d) {
            this.b(d = d || "");
            this.b('<li class="item"> <a href="#" class="name js-select-card" title="');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('" id="');
            this.b(this.v(this.f("id", c, b, 0)));
            this.b('"> <span class="item-name"> ');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b(" ");
            this.s(this.f("closed", c, b, 1), c, b, 0, 133, 170, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<span class="quiet">(Archived)</span>')
            }), c.pop());
            this.b(" </span> ");
            this.s(this.f("boardName", c,
                b, 1), c, b, 0, 204, 254, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="sub-name"> in ');
                f.b(f.v(f.f("boardName", b, d, 0)));
                f.b(" </span> ")
            }), c.pop());
            this.b(" </a> </li> ");
            return this.fl()
        },
        select_emoji: function(c, b, d) {
            this.b(d || "");
            this.b('<li class = "item"> <a href="#" class="name js-select-emoji" title=');
            this.b(this.v(this.f("name", c, b, 0)));
            this.b('> <img src= "');
            this.b(this.v(this.f("image", c, b, 0)));
            this.b('" class="emoji"> <span class="emoji-name" name=');
            this.b(this.v(this.f("name",
                c, b, 0)));
            this.b("> ");
            this.b(this.v(this.f("name", c, b, 0)));
            this.b(" </span> </a> </li> ");
            return this.fl()
        },
        select_member: function(c, b, d) {
            this.b(d = d || "");
            this.b('<li class="item');
            this.s(this.f("isActive", c, b, 1), c, b, 0, 28, 35, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" active")
            }), c.pop());
            this.s(this.f("matchesFilter", c, b, 1), c, b, 0, 66, 81, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" matches-filter")
            }), c.pop());
            this.s(this.f("exceedsLimit", c, b, 1), c, b, 0, 116, 130, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(" exceeds-limit")
                }),
                c.pop());
            this.s(this.f("unconfirmed", c, b, 1), c, b, 0, 163, 175, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" unconfirmed")
            }), c.pop());
            this.s(this.f("isKnownMember", c, b, 1), c, b, 0, 209, 223, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" js-autoselect")
            }), c.pop());
            this.b(' js-member-item"> <a href="');
            this.s(this.f("url", c, b, 1), c, b, 0, 276, 283, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(f.v(f.f("url", b, d, 0)))
            }), c.pop());
            this.s(this.f("url", c, b, 1), c, b, 1, 0, 0, "") || this.b("#");
            this.b('" class="name js-select-member ');
            this.s(this.f("extraText", c, b, 1), c, b, 0, 353, 363, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("multi-line")
            }), c.pop());
            this.b('" idMember="');
            this.b(this.v(this.f("id", c, b, 0)));
            this.b('" title="');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.s(this.f("username", c, b, 1), c, b, 0, 429, 444, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" (");
                f.b(f.v(f.f("username", b, d, 0)));
                f.b(")")
            }), c.pop());
            this.b('"> <span class="member js-member');
            this.s(this.f("isVirtual", c, b, 1), c, b, 0, 503, 511, "{{ }}") && (this.rs(c, b, function(b,
                d, f) {
                f.b(" virtual")
            }), c.pop());
            this.b('">');
            this.b(this.rp("member", c, b, ""));
            this.b('</span> <span class="full-name" name="');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.s(this.f("username", c, b, 1), c, b, 0, 602, 617, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" (");
                f.b(f.v(f.f("username", b, d, 0)));
                f.b(")")
            }), c.pop());
            this.b('"> ');
            this.b(this.v(this.f("fullName", c, b, 0)));
            this.b(" ");
            this.s(this.f("username", c, b, 1), c, b, 0, 659, 704, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' (<span class="username">');
                f.b(f.v(f.f("username",
                    b, d, 0)));
                f.b("</span>)")
            }), c.pop());
            this.b(" </span> ");
            this.s(this.f("extraText", c, b, 1), c, b, 0, 740, 791, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b('<div class="extra-text quiet">(');
                f.b(f.v(f.f("extraText", b, d, 0)));
                f.b(")</div>")
            }), c.pop());
            this.b(' <span class="icon-sm icon-check checked-icon"/> <span class="icon-sm icon-rightarrow light option js-open-option"/> ');
            this.s(this.f("unconfirmed", c, b, 1), c, b, 0, 938, 1045, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <div> <span class="quiet sub-name">Unconfirmed User</span> <span class="js-insert-tooltip"></span> </div> ')
                }),
                c.pop());
            this.b(" </a> </li> ");
            return this.fl()
        },
        select_org_to_upgrade: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="select-org-to-upgrade"> <h2 class="select-org-to-upgrade-header">Select an organization to upgrade to Business Class.</h2> <ul class="select-org-to-upgrade-list"> ');
            this.s(this.f("orgs", c, b, 1), c, b, 0, 184, 1044, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <li class="select-org-to-upgrade-list-item"> <a href="');
                f.b(f.v(f.f("orgUrl", b, d, 0)));
                f.b('" class="select-org-to-upgrade-list-item-link');
                f.s(f.f("isJPS", b, d, 1), b, d, 0, 304, 325, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" disabled js-disabled")
                }), b.pop());
                f.b('"> <img class="select-org-to-upgrade-list-item-link-logo" ');
                f.s(f.f("logoHash", b, d, 1), b, d, 0, 406, 477, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(' src="');
                    e.b(e.v(e.f("__logoDomain", b, d, 0)));
                    e.b("/");
                    e.b(e.v(e.f("logoHash", b, d, 0)));
                    e.b('/30.png" alt="');
                    e.b(e.v(e.f("displayName", b, d, 0)));
                    e.b(' logo" ')
                }), b.pop());
                f.b(" ");
                f.s(f.f("logoHash", b, d, 1), b, d, 1, 0, 0, "") || f.b(' src="https://d78fikflryjgj.cloudfront.net/images/b8e08be89ac9461c0a1d543016926792/org-logo-large.png" alt="Default organization logo" ');
                f.b(' > <span class="select-org-to-upgrade-list-item-link-name"> ');
                f.b(f.v(f.f("displayName", b, d, 0)));
                f.b(' </span> <span class="select-org-to-upgrade-list-item-link-details quiet"> ');
                f.b(f.v(f.f("memberCount", b, d, 0)));
                f.b(". ");
                f.s(f.f("isPremium", b, d, 1), b, d, 0, 833, 948, "{{ }}") && (f.rs(b, d, function(b, d, e) {
                    e.b(" ");
                    e.s(e.f("isJPS", b, d, 1), b, d, 0, 844, 891, "{{ }}") && (e.rs(b, d, function(b, d, e) {
                        e.b(" This organization already has Business Class. ")
                    }), b.pop());
                    e.b(" ");
                    e.s(e.f("isJPS", b, d, 1), b, d, 1, 0, 0, "") ||
                        e.b(" An update is available! ");
                    e.b(" ")
                }), b.pop());
                f.b(" ");
                f.s(f.f("isAdmin", b, d, 1), b, d, 1, 0, 0, "") || f.b(" You need to be an admin to upgrade. ");
                f.b(" </span> </a> </li> ")
            }), c.pop());
            this.b(" </ul> ");
            this.s(this.f("orgs", c, b, 1), c, b, 1, 0, 0, "") || this.b(' <p style="margin: 24px 0;">You don\u2019t have any organizations. <a href="#" class="js-create-org">Click here to create one.</a></p> ');
            this.b(" </div> ");
            return this.fl()
        },
        shortcuts: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-info"/> <h2 class="window-title"> Keyboard Shortcuts </h2> </div> <div class="manual-shortcut-list markeddown"> <hr> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">&larr;</span> <span class="manual-shortcut-list-item-keys-key">&darr; / J</span> <span class="manual-shortcut-list-item-keys-key">&uarr; / K</span> <span class="manual-shortcut-list-item-keys-key">&rarr;</span> </div> <h3 class="manual-shortcut-list-item-header">Navigate Cards</h3> <p> Pressing the arrow keys will select adjacent cards on a board. Pressing \u201cj\u201d will select the card below the current card. Pressing \u201ck\u201d will select the card above the current card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">B</span> </div> <h3 class="manual-shortcut-list-item-header">Open Header Boards Menu</h3> <p> Pressing \u201cb\u201d opens the boards menu in the header. You can search for boards and navigate boards with the up and down arrows. Pressing enter with a board selected will open it. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">/</span> </div> <h3 class="manual-shortcut-list-item-header">Focus Search Box</h3> <p> Pressing \u201c/\u201d puts the cursor in the search box in the header. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">C</span> </div> <h3 class="manual-shortcut-list-item-header">Archive Card</h3> <p> Pressing \u201cc\u201d will archive a card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">D</span> </div> <h3 class="manual-shortcut-list-item-header">Due Date</h3> <p> Pressing \u201cd\u201d will open the due date picker for a card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">E</span> </div> <h3 class="manual-shortcut-list-item-header">Quick Edit Mode</h3> <p> If hovering over a card, pressing \u201ce\u201d will open quick edit mode, which lets you quickly edit the title and other card attributes. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">ESC</span> </div> <h3 class="manual-shortcut-list-item-header">Close Menu / Cancel Editing</h3> <p> Pressing \u201cesc\u201d will close an open dialog window or pop-over or cancel edits and comments you are composing. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">ENTER</span> </div> <h3 class="manual-shortcut-list-item-header">Open Card</h3> <p> Pressing \u201center\u201d will open the currently selected card. Pressing \u201cshift + enter\u201d while submitting a card will open it immediately after creating it. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">F</span> </div> <h3 class="manual-shortcut-list-item-header">Open Card Filter Menu</h3> <p> Use \u201cf\u201d to open the card filter menu. The search by title input is automatically focused. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">L</span> </div> <h3 class="manual-shortcut-list-item-header">Label</h3> <p> Pressing \u201cl\u201d opens a pop-over of the available labels. Clicking a label will add or remove it from the card. </p> <p> Pressing one of the following number keys, will apply or remove that label. </p> <table> <thead> <tr> <th>Key</th> <th>Label Color</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Green</td> </tr> <tr> <td>2</td> <td>Yellow</td> </tr> <tr> <td>3</td> <td>Orange</td> </tr> <tr> <td>4</td> <td>Red</td> </tr> <tr> <td>5</td> <td>Purple</td> </tr> <tr> <td>6</td> <td>Blue</td> </tr> </tbody> </table> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">M</span> </div> <h3 class="manual-shortcut-list-item-header">Add / Remove Members</h3> <p> Pressing \u201cm\u201d opens the add / remove members menu. Clicking a member\u2019s avatar will assign or unassign that person. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">N</span> </div> <h3 class="manual-shortcut-list-item-header">Insert New Card</h3> <p> Pressing \u201cn\u201d opens a pop-over that allows you to add a card after the currently selected card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">&lt;</span> <span class="manual-shortcut-list-item-keys-key">&gt;</span> </div> <h3 class="manual-shortcut-list-item-header">Move Card to Adjacent List</h3> <p> Pressing the left or right angle brackets (&lt; and &gt;) will move a card to the adjacent left or right list. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">Q</span> </div> <h3 class="manual-shortcut-list-item-header">My Cards Filter</h3> <p> Pressing the \u201cq\u201d key toggles the \u201ccards assigned to me\u201d filter. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">S</span> </div> <h3 class="manual-shortcut-list-item-header">Subscribe</h3> <p> Pressing \u201cs\u201d will subscribe you to, or unsubscribe you from, a card. Subscribing to a card will give you notifications for most actions to that card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">SPACE</span> </div> <h3 class="manual-shortcut-list-item-header">Assign Self</h3> <p> Pressing \u201cspace\u201d will assign (or unassign) yourself to a card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">T</span> </div> <h3 class="manual-shortcut-list-item-header">Edit Title</h3> <p> If viewing a card, pressing \u201ct\u201d will edit the title. If hovering over a card, pressing \u201ct\u201d will open the card and edit the title. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">V</span> </div> <h3 class="manual-shortcut-list-item-header">Vote</h3> <p> Pressing \u201cv\u201d will add (or remove) your vote on a card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">W</span> </div> <h3 class="manual-shortcut-list-item-header">Toggle Board Sidebar</h3> <p> Pressing \u201cw\u201d will collapse or expand the board sidebar. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">X</span> </div> <h3 class="manual-shortcut-list-item-header">Clear All Filters</h3> <p> Use \u201cx\u201d to clear all active card filters. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">?</span> </div> <h3 class="manual-shortcut-list-item-header">Open Shortcuts Page</h3> <p> Pressing \u201c?\u201d will open the shortcuts page. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">@</span> </div> <h3 class="manual-shortcut-list-item-header">Autocomplete Members</h3> <p> When writing a comment, you can type \u201c@\u201d plus a member\u2019s name, username, or intials and get a list of matching members. You can navigate that list with the up and down arrows. Pressing enter or tab with a member selected will mention that user in the comment. The mentioned user will get a notification once submitted. </p> <p> When adding a new card, you can use the same method to assign members to cards before submitting them. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">#</span> </div> <h3 class="manual-shortcut-list-item-header">Autocomplete Labels</h3> <p> When adding a new card, you can type \u201c#\u201d plus the label\u2019s color or title and get a list of matching labels. You can use the up and down arrows to navigate the resulting list. Pressing enter or tab will add the label to the composed card. The labels will be added to the card when you submit. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">^</span> </div> <h3 class="manual-shortcut-list-item-header">Autocomplete Position</h3> <p> When adding a new card, you can type \u201c^\u201d plus a list name or position in a list. You can also type \u201ctop\u201d or \u201cbottom\u201d to add to the top or bottom of the current list. You can use the up and down arrows to navigate the resulting list. Pressing enter or tab will automatically change the position of the composed card. </p> </div> </div> ');
            return this.fl()
        },
        sidebar_boards_list: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="boards-drawer-header js-drawer-header"> <h3>Boards</h3> </div> <div class="board-drawer-content fancy-scrollbar"> <input type="text" class="js-search-boards" placeholder="Find boards by name\u2026"> <div class="js-board-results-container hide"> <ul class="sidebar-boards-list js-board-results"></ul> </div> <div class="js-boards-list-container"> <div class="starred-sidebar-boards-list js-starred-boards"></div> <div class="js-recent-boards"></div> <div class="js-all-boards"></div> <a class="quiet-button hide js-pin" href="#"> Always keep this menu open. </a> <a class="quiet-button hide js-unpin" href="#"> Don\u2019t keep this menu open. </a> <a class="quiet-button js-open-closed-boards" href="#"> See closed boards\u2026 </a> </div> </div> ');
            return this.fl()
        },
        spinner_css: function(c, b, d) {
            this.b(d || "");
            this.b('<span class="spinner-css"> <span class="bar"/> <span class="bar"/> <span class="bar"/> </span> ');
            return this.fl()
        },
        sticker_on_card: function(c, b, d) {
            this.b(d = d || "");
            this.b('<img class="sticker-image" src="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('" style="-webkit-transform: rotate(');
            this.b(this.v(this.f("rotate", c, b, 0)));
            this.b("deg);transform: rotate(");
            this.b(this.v(this.f("rotate", c, b, 0)));
            this.b('deg);" alt="');
            this.b(this.v(this.f("image",
                c, b, 0)));
            this.b('"> ');
            this.s(this.f("showEditControls", c, b, 1), c, b, 0, 162, 516, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="sticker-controls"> <span class="sticker-control-btn rotate-btn js-rotate-sticker"> \u21bb <span class="text">Rotate</span> </span> <span class="sticker-control-btn move-btn js-move-sticker"> \u2629 <span class="text">Move</span> </span> <span class="sticker-control-btn remove-btn js-remove-sticker"> \u2718 <span class="text">Remove</span> </span> </div> ')
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        sticker_on_promo_page: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="sticker" style="top: ');
            this.b(this.v(this.f("top", c, b, 0)));
            this.b("%; left: ");
            this.b(this.v(this.f("left", c, b, 0)));
            this.b('%;"> <img src="');
            this.b(this.v(this.f("url", c, b, 0)));
            this.b('" style=" -webkit-transform: scale(');
            this.b(this.v(this.f("scale", c, b, 0)));
            this.b(") rotate(");
            this.b(this.v(this.f("rotate", c, b, 0)));
            this.b("deg); transform: scale(");
            this.b(this.v(this.f("scale", c, b, 0)));
            this.b(") rotate(");
            this.b(this.v(this.f("rotate", c, b, 0)));
            this.b('deg); "> </div> ');
            return this.fl()
        },
        sticker_pack_selection_list: function(c, b, d) {
            this.b(d || "");
            this.b("<h2>");
            this.b(this.v(this.f("displayName", c, b, 0)));
            this.b('</h2> <div class="sticker-list clearfix js-sticker-list relative"></div> ');
            return this.fl()
        },
        sticker_select: function(c, b, d) {
            this.b(d || "");
            this.b('<div class="sticker-list clearfix js-standard-sticker-list"></div> <div class="js-premium-stickers"></div> <h2>Custom Stickers</h2> <div class="sticker-list clearfix js-custom-sticker-list"></div> ');
            return this.fl()
        },
        sticker_select_item: function(c, b, d) {
            this.b(d = d || "");
            this.s(this.f("pending", c, b, 1), c, b, 0, 12, 85, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <img class="sticker-select-image sticker-select-pending" src="');
                f.b(f.v(f.f("url", b, d, 0)));
                f.b('"> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("pending", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <img class="sticker-select-image sticker-select-shadow" src="'), this.b(this.v(this.f("url", c, b, 0))), this.b('"> <img class="sticker-select-image sticker-select-fixed" src="'),
                this.b(this.v(this.f("url", c, b, 0))), this.b('"> <img class="sticker-select-image sticker-select-peel" src="'), this.b(this.v(this.f("url", c, b, 0))), this.b('"> '));
            this.b(" ");
            this.s(this.f("id", c, b, 1), c, b, 0, 341, 602, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <span class="sticker-select-option sticker-select-option-delete-button js-delete-sticker" title="Delete this sticker"> <span class="sticker-select-option-icon icon-sm icon-close"></span> <span class="sticker-select-option-text underline">Delete</span> </span> ')
                }),
                c.pop());
            this.b(" ");
            this.s(this.f("error", c, b, 1), c, b, 0, 620, 724, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <span class="sticker-select-option"> <span class="sticker-select-option-text">');
                f.b(f.v(f.f("error", b, d, 0)));
                f.b("</span> </span> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("pending", c, b, 1), c, b, 0, 747, 920, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b(' <span class="sticker-select-option"> <span class="spinner small left" style="margin-right: 4px;"></span> <span class="sticker-select-option-text">Uploading\u2026</span> </span> ')
                }),
                c.pop());
            this.b(" ");
            return this.fl()
        },
        sticker_select_item_upload: function(c, b, d) {
            this.b(d || "");
            this.b('<form action="/1/member/');
            this.b(this.v(this.f("id", c, b, 0)));
            this.b('/customStickers" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <div class="sticker-select sticker-select-upload"> <span class="sticker-select-upload-icon icon-lg icon-add"></span> <input type="file" name="file" class="sticker-select-upload-input js-upload-image ');
            this.s(this.f("enabled_customStickers", c, b, 1), c, b, 1, 0, 0, "") || this.b(" disabled");
            this.b('" multiple="multiple" accept="image/*"/> </div> </form> ');
            return this.fl()
        },
        surface_base: function(c, b, d) {
            this.b(d || "");
            this.b('<div id="boards-drawer"></div> ');
            return this.fl()
        },
        sync_error: function(c, b, d) {
            this.b(d || "");
            this.b('You have been disconnected from the Trello Server for too long.<br /> <a href="#" onclick="window.location.reload();">Reload now</a> ');
            return this.fl()
        },
        take_photo: function(c, b, d) {
            this.b(d =
                d || "");
            this.b('<video class="video');
            this.s(this.f("connected", c, b, 1), c, b, 1, 0, 0, "") || this.b(" hide");
            this.b('" autoplay style="width:100%"></video> ');
            this.s(this.f("error", c, b, 1), c, b, 0, 101, 133, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <p class="error">');
                f.b(f.v(f.f("error", b, d, 0)));
                f.b("</p> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("connected", c, b, 1), c, b, 0, 158, 216, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <button class="primary wide js-snap">Snap Photo</button> ')
            }), c.pop());
            this.b(" ");
            this.s(this.f("connected",
                c, b, 1), c, b, 1, 0, 0, "") || (this.b(" "), this.s(this.f("error", c, b, 1), c, b, 0, 256, 302, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" <p>Couldn't find a camera to connect to\u2026</p> ")
            }), c.pop()), this.b(" "), this.s(this.f("error", c, b, 1), c, b, 1, 0, 0, "") || this.b(" <p>Trying to access your computer's camera\u2026 Check the banner at the top of the page.</p> "), this.b(' <p class="bottom"> <a href="#" class="quiet-button js-connect-camera">Try again</a> </p> '));
            this.b(" ");
            return this.fl()
        },
        text_notification: function(c,
            b, d) {
            this.b(d = d || "");
            this.s(this.f("member", c, b, 1), c, b, 0, 11, 27, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.t(f.f("fullName", b, d, 0)));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("entities", c, b, 1), c, b, 0, 52, 70, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(" ");
                f.b(f.rp("text_entity", b, d, ""));
                f.b(" ")
            }), c.pop());
            this.b(" ");
            return this.fl()
        },
        "tooltip-content": function(c, b, d) {
            this.b(d || "");
            this.b('<div class="tooltip-content js-tooltip-content"> <span class="tooltip-close-button icon-sm icon-close js-tooltip-close-button"></span> <p>');
            this.b(this.v(this.f("tooltipText", c, b, 0)));
            this.b("</p> </div> ");
            return this.fl()
        },
        tooltip: function(c, b, d) {
            this.b(d || "");
            this.b('<span class="tooltip-trigger quiet js-tooltip-trigger"><span class="icon-info icon-sm js-tooltip-anchor"></span> ');
            this.b(this.v(this.f("linkText", c, b, 0)));
            this.b("</span> ");
            return this.fl()
        },
        treat: function(c, b, d) {
            this.b(d = d || "");
            this.b('<div class="treat-container obscured fade"> ');
            this.s(this.f("initials", c, b, 1), c, b, 0, 57, 105, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b(' <div class="treat-initials">');
                f.b(f.v(f.f("initials", b, d, 0)));
                f.b("</div> ")
            }), c.pop());
            this.b(" ");
            this.s(this.f("initials", c, b, 1), c, b, 1, 0, 0, "") || (this.b(' <img class="treat-image" src="'), this.b(this.v(this.f("src", c, b, 0))), this.b('"> '));
            this.b(' <p class="food"> Send an email to feed Taco a treat! <span class="arrow"/> </p> </div> ');
            return this.fl()
        },
        upgrade: function(c, b, d) {
            this.b(d = d || "");
            this.b("Update available!<br /> ");
            this.s(this.f("stopped", c, b, 1), c, b, 1, 0, 0, "") || (this.b("Trello will automatically update itself by reloading in "),
                this.b(this.v(this.f("timeInMinutes", c, b, 0))), this.b(" minute"), this.s(this.f("plural", c, b, 1), c, b, 0, 127, 128, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                    f.b("s")
                }), c.pop()), this.b(".<br />"));
            this.b(" ");
            this.s(this.f("stopped", c, b, 1), c, b, 0, 171, 195, "{{ }}") && (this.rs(c, b, function(b, d, f) {
                f.b("When you\u2019re ready\u2026<br />")
            }), c.pop());
            this.b(' <a class="js-upgrade" href="#">');
            this.s(this.f("stopped", c, b, 1), c, b, 1, 0, 0, "") || this.b("Reload now");
            this.s(this.f("stopped", c, b, 1), c, b, 0, 285, 302, "{{ }}") && (this.rs(c,
                b, function(b, d, f) {
                    f.b("Okay, NOW reload.")
                }), c.pop());
            this.b("</a> ");
            this.s(this.f("stopped", c, b, 1), c, b, 1, 0, 0, "") || this.b('<a class="js-stop-upgrade" href="#">Wait!</a>');
            this.b(" ");
            return this.fl()
        },
        woof_header: function(c, b, d) {
            this.b(d || "");
            this.b('<a class="header-btn header-woof" href="#"> <span class="taco-talk-small-icon"/> <span class="header-btn-text"><span class="left-arrow"></span><span class="js-phrase"></span></span> </a> ');
            return this.fl()
        }
    };
    (function(c, b) {
        "object" === typeof module &&
            "object" === typeof module.exports ? module.exports = c.document ? b(c, !0) : function(d) {
                if (!d.document) throw Error("jQuery requires a window with a document");
                return b(d)
            } : b(c)
    })("undefined" !== typeof window ? window : this, function(c, b) {
        function d(b) {
            var d = b.length,
                e = u.type(b);
            return "function" === e || u.isWindow(b) ? !1 : 1 === b.nodeType && d ? !0 : "array" === e || 0 === d || "number" === typeof d && 0 < d && d - 1 in b
        }

        function e(b, d, e) {
            if (u.isFunction(d)) return u.grep(b, function(b, f) {
                return !!d.call(b, f, b) !== e
            });
            if (d.nodeType) return u.grep(b,
                function(b) {
                    return b === d !== e
                });
            if ("string" === typeof d) {
                if (ka.test(d)) return u.filter(d, b, e);
                d = u.filter(d, b)
            }
            return u.grep(b, function(b) {
                return 0 <= ya.call(d, b) !== e
            })
        }

        function g(b, d) {
            for (;
                (b = b[d]) && 1 !== b.nodeType;);
            return b
        }

        function f(b) {
            var d = sa[b] = {};
            u.each(b.match(ia) || [], function(b, e) {
                d[e] = !0
            });
            return d
        }

        function h() {
            Q.removeEventListener("DOMContentLoaded", h, !1);
            c.removeEventListener("load", h, !1);
            u.ready()
        }

        function m() {
            Object.defineProperty(this.cache = {}, 0, {
                get: function() {
                    return {}
                }
            });
            this.expando =
                u.expando + Math.random()
        }

        function q(b, d, e) {
            if (void 0 === e && 1 === b.nodeType)
                if (e = "data-" + d.replace(Aa, "-$1").toLowerCase(), e = b.getAttribute(e), "string" === typeof e) {
                    try {
                        e = "true" === e ? !0 : "false" === e ? !1 : "null" === e ? null : +e + "" === e ? +e : wa.test(e) ? u.parseJSON(e) : e
                    } catch (f) {}
                    W.set(b, d, e)
                } else e = void 0;
            return e
        }

        function s() {
            return !0
        }

        function w() {
            return !1
        }

        function k() {
            try {
                return Q.activeElement
            } catch (b) {}
        }

        function l(b, d) {
            return u.nodeName(b, "table") && u.nodeName(11 !== d.nodeType ? d : d.firstChild, "tr") ? b.getElementsByTagName("tbody")[0] ||
                b.appendChild(b.ownerDocument.createElement("tbody")) : b
        }

        function C(b) {
            b.type = (null !== b.getAttribute("type")) + "/" + b.type;
            return b
        }

        function G(b) {
            var d = Wa.exec(b.type);
            d ? b.type = d[1] : b.removeAttribute("type");
            return b
        }

        function E(b, d) {
            for (var e = 0, f = b.length; e < f; e++) U.set(b[e], "globalEval", !d || U.get(d[e], "globalEval"))
        }

        function N(b, d) {
            var e, f, c, g;
            if (1 === d.nodeType) {
                if (U.hasData(b) && (g = U.access(b), e = U.set(d, g), g = g.events))
                    for (c in delete e.handle, e.events = {}, g) {
                        e = 0;
                        for (f = g[c].length; e < f; e++) u.event.add(d,
                            c, g[c][e])
                    }
                W.hasData(b) && (c = W.access(b), c = u.extend({}, c), W.set(d, c))
            }
        }

        function J(b, d) {
            var e = b.getElementsByTagName ? b.getElementsByTagName(d || "*") : b.querySelectorAll ? b.querySelectorAll(d || "*") : [];
            return void 0 === d || d && u.nodeName(b, d) ? u.merge([b], e) : e
        }

        function R(b, d) {
            var e = u(d.createElement(b)).appendTo(d.body),
                f = c.getDefaultComputedStyle ? c.getDefaultComputedStyle(e[0]).display : u.css(e[0], "display");
            e.detach();
            return f
        }

        function ea(b) {
            var d = Q,
                e = Sa[b];
            if (!e) {
                e = R(b, d);
                if ("none" === e || !e) Ia = (Ia || u("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),
                    d = Ia[0].contentDocument, d.write(), d.close(), e = R(b, d), Ia.detach();
                Sa[b] = e
            }
            return e
        }

        function ja(b, d, e) {
            var f, c, g = b.style;
            (e = e || Pa(b)) && (c = e.getPropertyValue(d) || e[d]);
            e && ("" === c && !u.contains(b.ownerDocument, b) && (c = u.style(b, d)), Qa.test(c) && Va.test(d) && (b = g.width, d = g.minWidth, f = g.maxWidth, g.minWidth = g.maxWidth = g.width = c, c = e.width, g.width = b, g.minWidth = d, g.maxWidth = f));
            return void 0 !== c ? c + "" : c
        }

        function z(b, d) {
            return {
                get: function() {
                    if (b()) delete this.get;
                    else return (this.get = d).apply(this, arguments)
                }
            }
        }

        function n(b, d) {
            if (d in b) return d;
            for (var e = d[0].toUpperCase() + d.slice(1), f = d, c = bb.length; c--;)
                if (d = bb[c] + e, d in b) return d;
            return f
        }

        function t(b, d, e) {
            return (b = eb.exec(d)) ? Math.max(0, b[1] - (e || 0)) + (b[2] || "px") : d
        }

        function v(b, d, e, f, c) {
            d = e === (f ? "border" : "content") ? 4 : "width" === d ? 1 : 0;
            for (var g = 0; 4 > d; d += 2) "margin" === e && (g += u.css(b, e + ua[d], !0, c)), f ? ("content" === e && (g -= u.css(b, "padding" + ua[d], !0, c)), "margin" !== e && (g -= u.css(b, "border" + ua[d] + "Width", !0, c))) : (g += u.css(b, "padding" + ua[d], !0, c), "padding" !== e &&
                (g += u.css(b, "border" + ua[d] + "Width", !0, c)));
            return g
        }

        function x(b, d, e) {
            var f = !0,
                c = "width" === d ? b.offsetWidth : b.offsetHeight,
                g = Pa(b),
                h = "border-box" === u.css(b, "boxSizing", !1, g);
            if (0 >= c || null == c) {
                c = ja(b, d, g);
                if (0 > c || null == c) c = b.style[d];
                if (Qa.test(c)) return c;
                f = h && (O.boxSizingReliable() || c === b.style[d]);
                c = parseFloat(c) || 0
            }
            return c + v(b, d, e || (h ? "border" : "content"), f, g) + "px"
        }

        function y(b, d) {
            for (var e, f, c, g = [], h = 0, m = b.length; h < m; h++)
                if (f = b[h], f.style)
                    if (g[h] = U.get(f, "olddisplay"), e = f.style.display, d) !g[h] &&
                        "none" === e && (f.style.display = ""), "" === f.style.display && xa(f) && (g[h] = U.access(f, "olddisplay", ea(f.nodeName)));
                    else if (!g[h] && (c = xa(f), e && "none" !== e || !c)) U.set(f, "olddisplay", c ? e : u.css(f, "display"));
            for (h = 0; h < m; h++)
                if (f = b[h], f.style && (!d || "none" === f.style.display || "" === f.style.display)) f.style.display = d ? g[h] || "" : "none";
            return b
        }

        function A(b, d, e, f, c) {
            return new A.prototype.init(b, d, e, f, c)
        }

        function Y() {
            setTimeout(function() {
                Ka = void 0
            });
            return Ka = u.now()
        }

        function qa(b, d) {
            var e, f = 0,
                c = {
                    height: b
                };
            for (d = d ?
                1 : 0; 4 > f; f += 2 - d) e = ua[f], c["margin" + e] = c["padding" + e] = b;
            d && (c.opacity = c.width = b);
            return c
        }

        function Oa(b, d, e) {
            for (var f, c = (Ra[d] || []).concat(Ra["*"]), g = 0, h = c.length; g < h; g++)
                if (f = c[g].call(e, d, b)) return f
        }

        function za(b, d) {
            var e, f, c, g, h;
            for (e in b)
                if (f = u.camelCase(e), c = d[f], g = b[e], u.isArray(g) && (c = g[1], g = b[e] = g[0]), e !== f && (b[f] = g, delete b[e]), (h = u.cssHooks[f]) && "expand" in h)
                    for (e in g = h.expand(g), delete b[f], g) e in b || (b[e] = g[e], d[e] = c);
                else d[f] = c
        }

        function B(b, d, e) {
            var f, c = 0,
                g = Xa.length,
                h = u.Deferred().always(function() {
                    delete m.elem
                }),
                m = function() {
                    if (f) return !1;
                    for (var d = Ka || Y(), d = Math.max(0, q.startTime + q.duration - d), e = 1 - (d / q.duration || 0), c = 0, g = q.tweens.length; c < g; c++) q.tweens[c].run(e);
                    h.notifyWith(b, [q, e, d]);
                    if (1 > e && g) return d;
                    h.resolveWith(b, [q]);
                    return !1
                },
                q = h.promise({
                    elem: b,
                    props: u.extend({}, d),
                    opts: u.extend(!0, {
                        specialEasing: {}
                    }, e),
                    originalProperties: d,
                    originalOptions: e,
                    startTime: Ka || Y(),
                    duration: e.duration,
                    tweens: [],
                    createTween: function(d, e) {
                        var f = u.Tween(b, q.opts, d, e, q.opts.specialEasing[d] || q.opts.easing);
                        q.tweens.push(f);
                        return f
                    },
                    stop: function(d) {
                        var e = 0,
                            c = d ? q.tweens.length : 0;
                        if (f) return this;
                        for (f = !0; e < c; e++) q.tweens[e].run(1);
                        d ? h.resolveWith(b, [q, d]) : h.rejectWith(b, [q, d]);
                        return this
                    }
                });
            e = q.props;
            for (za(e, q.opts.specialEasing); c < g; c++)
                if (d = Xa[c].call(q, b, e, q.opts)) return d;
            u.map(e, Oa, q);
            u.isFunction(q.opts.start) && q.opts.start.call(b, q);
            u.fx.timer(u.extend(m, {
                elem: b,
                anim: q,
                queue: q.opts.queue
            }));
            return q.progress(q.opts.progress).done(q.opts.done, q.opts.complete).fail(q.opts.fail).always(q.opts.always)
        }

        function D(b) {
            return function(d,
                e) {
                "string" !== typeof d && (e = d, d = "*");
                var f, c = 0,
                    g = d.toLowerCase().match(ia) || [];
                if (u.isFunction(e))
                    for (; f = g[c++];) "+" === f[0] ? (f = f.slice(1) || "*", (b[f] = b[f] || []).unshift(e)) : (b[f] = b[f] || []).push(e)
            }
        }

        function F(b, d, e, f) {
            function c(m) {
                var q;
                g[m] = !0;
                u.each(b[m] || [], function(b, m) {
                    var s = m(d, e, f);
                    if ("string" === typeof s && !h && !g[s]) return d.dataTypes.unshift(s), c(s), !1;
                    if (h) return !(q = s)
                });
                return q
            }
            var g = {},
                h = b === nb;
            return c(d.dataTypes[0]) || !g["*"] && c("*")
        }

        function L(b, d) {
            var e, f, c = u.ajaxSettings.flatOptions || {};
            for (e in d) void 0 !== d[e] && ((c[e] ? b : f || (f = {}))[e] = d[e]);
            f && u.extend(!0, b, f);
            return b
        }

        function Z(b, d, e, f) {
            var c;
            if (u.isArray(d)) u.each(d, function(d, c) {
                e || Jb.test(b) ? f(b, c) : Z(b + "[" + ("object" === typeof c ? d : "") + "]", c, e, f)
            });
            else if (!e && "object" === u.type(d))
                for (c in d) Z(b + "[" + c + "]", d[c], e, f);
            else f(b, d)
        }
        var V = [],
            la = V.slice,
            qb = V.concat,
            H = V.push,
            ya = V.indexOf,
            M = {},
            P = M.toString,
            K = M.hasOwnProperty,
            S = "".trim,
            O = {},
            Q = c.document,
            u = function(b, d) {
                return new u.fn.init(b, d)
            },
            X = /^-ms-/,
            ba = /-([\da-z])/gi,
            ca = function(b,
                d) {
                return d.toUpperCase()
            };
        u.fn = u.prototype = {
            jquery: "2.1.0",
            constructor: u,
            selector: "",
            length: 0,
            toArray: function() {
                return la.call(this)
            },
            get: function(b) {
                return null != b ? 0 > b ? this[b + this.length] : this[b] : la.call(this)
            },
            pushStack: function(b) {
                b = u.merge(this.constructor(), b);
                b.prevObject = this;
                b.context = this.context;
                return b
            },
            each: function(b, d) {
                return u.each(this, b, d)
            },
            map: function(b) {
                return this.pushStack(u.map(this, function(d, e) {
                    return b.call(d, e, d)
                }))
            },
            slice: function() {
                return this.pushStack(la.apply(this,
                    arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(b) {
                var d = this.length;
                b = +b + (0 > b ? d : 0);
                return this.pushStack(0 <= b && b < d ? [this[b]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor(null)
            },
            push: H,
            sort: V.sort,
            splice: V.splice
        };
        u.extend = u.fn.extend = function() {
            var b, d, e, f, c, g = arguments[0] || {},
                h = 1,
                m = arguments.length,
                q = !1;
            "boolean" === typeof g && (q = g, g = arguments[h] || {}, h++);
            "object" !== typeof g && !u.isFunction(g) && (g = {});
            h === m && (g = this, h--);
            for (; h < m; h++)
                if (null !=
                    (b = arguments[h]))
                    for (d in b) e = g[d], f = b[d], g !== f && (q && f && (u.isPlainObject(f) || (c = u.isArray(f))) ? (c ? (c = !1, e = e && u.isArray(e) ? e : []) : e = e && u.isPlainObject(e) ? e : {}, g[d] = u.extend(q, e, f)) : void 0 !== f && (g[d] = f));
            return g
        };
        u.extend({
            expando: "jQuery" + ("2.1.0" + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(b) {
                throw Error(b);
            },
            noop: function() {},
            isFunction: function(b) {
                return "function" === u.type(b)
            },
            isArray: Array.isArray,
            isWindow: function(b) {
                return null != b && b === b.window
            },
            isNumeric: function(b) {
                return 0 <=
                    b - parseFloat(b)
            },
            isPlainObject: function(b) {
                if ("object" !== u.type(b) || b.nodeType || u.isWindow(b)) return !1;
                try {
                    if (b.constructor && !K.call(b.constructor.prototype, "isPrototypeOf")) return !1
                } catch (d) {
                    return !1
                }
                return !0
            },
            isEmptyObject: function(b) {
                for (var d in b) return !1;
                return !0
            },
            type: function(b) {
                return null == b ? b + "" : "object" === typeof b || "function" === typeof b ? M[P.call(b)] || "object" : typeof b
            },
            globalEval: function(b) {
                var d;
                d = eval;
                if (b = u.trim(b)) 1 === b.indexOf("use strict") ? (d = Q.createElement("script"), d.text = b,
                    Q.head.appendChild(d).parentNode.removeChild(d)) : d(b)
            },
            camelCase: function(b) {
                return b.replace(X, "ms-").replace(ba, ca)
            },
            nodeName: function(b, d) {
                return b.nodeName && b.nodeName.toLowerCase() === d.toLowerCase()
            },
            each: function(b, e, f) {
                var c, g = 0,
                    h = b.length;
                c = d(b);
                if (f)
                    if (c)
                        for (; g < h && !(c = e.apply(b[g], f), !1 === c); g++);
                    else
                        for (g in b) {
                            if (c = e.apply(b[g], f), !1 === c) break
                        } else if (c)
                            for (; g < h && !(c = e.call(b[g], g, b[g]), !1 === c); g++);
                        else
                            for (g in b)
                                if (c = e.call(b[g], g, b[g]), !1 === c) break;
                return b
            },
            trim: function(b) {
                return null ==
                    b ? "" : S.call(b)
            },
            makeArray: function(b, e) {
                var f = e || [];
                null != b && (d(Object(b)) ? u.merge(f, "string" === typeof b ? [b] : b) : H.call(f, b));
                return f
            },
            inArray: function(b, d, e) {
                return null == d ? -1 : ya.call(d, b, e)
            },
            merge: function(b, d) {
                for (var e = +d.length, f = 0, c = b.length; f < e; f++) b[c++] = d[f];
                b.length = c;
                return b
            },
            grep: function(b, d, e) {
                for (var f = [], c = 0, g = b.length, h = !e; c < g; c++) e = !d(b[c], c), e !== h && f.push(b[c]);
                return f
            },
            map: function(b, e, f) {
                var c, g = 0,
                    h = b.length,
                    m = [];
                if (d(b))
                    for (; g < h; g++) c = e(b[g], g, f), null != c && m.push(c);
                else
                    for (g in b) c =
                        e(b[g], g, f), null != c && m.push(c);
                return qb.apply([], m)
            },
            guid: 1,
            proxy: function(b, d) {
                var e, f;
                "string" === typeof d && (e = b[d], d = b, b = e);
                if (u.isFunction(b)) return f = la.call(arguments, 2), e = function() {
                    return b.apply(d || this, f.concat(la.call(arguments)))
                }, e.guid = b.guid = b.guid || u.guid++, e
            },
            now: Date.now,
            support: O
        });
        u.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(b, d) {
            M["[object " + d + "]"] = d.toLowerCase()
        });
        var fa = function(b) {
            function d(b, e, f, c) {
                var g, h, m, q, s;
                (e ? e.ownerDocument ||
                    e : A) !== Z && qa(e);
                e = e || Z;
                f = f || [];
                if (!b || "string" !== typeof b) return f;
                if (1 !== (q = e.nodeType) && 9 !== q) return [];
                if (x && !c) {
                    if (g = fa.exec(b))
                        if (m = g[1])
                            if (9 === q)
                                if ((h = e.getElementById(m)) && h.parentNode) {
                                    if (h.id === m) return f.push(h), f
                                } else return f;
                    else {
                        if (e.ownerDocument && (h = e.ownerDocument.getElementById(m)) && Sb(e, h) && h.id === m) return f.push(h), f
                    } else {
                        if (g[2]) return K.apply(f, e.getElementsByTagName(b)), f;
                        if ((m = g[3]) && R.getElementsByClassName && e.getElementsByClassName) return K.apply(f, e.getElementsByClassName(m)),
                            f
                    } if (R.qsa && (!V || !V.test(b))) {
                        h = g = la;
                        m = e;
                        s = 9 === q && b;
                        if (1 === q && "object" !== e.nodeName.toLowerCase()) {
                            q = k(b);
                            (g = e.getAttribute("id")) ? h = g.replace(ia, "\\$&"): e.setAttribute("id", h);
                            h = "[id='" + h + "'] ";
                            for (m = q.length; m--;) q[m] = h + l(q[m]);
                            m = ha.test(b) && E(e.parentNode) || e;
                            s = q.join(",")
                        }
                        if (s) try {
                            return K.apply(f, m.querySelectorAll(s)), f
                        } catch (w) {} finally {
                            g || e.removeAttribute("id")
                        }
                    }
                }
                var ta;
                a: {
                    b = b.replace(S, "$1");
                    h = k(b);
                    if (!c && 1 === h.length) {
                        g = h[0] = h[0].slice(0);
                        if (2 < g.length && "ID" === (ta = g[0]).type && R.getById &&
                            9 === e.nodeType && x && L.relative[g[1].type]) {
                            e = (L.find.ID(ta.matches[0].replace(aa, da), e) || [])[0];
                            if (!e) {
                                ta = f;
                                break a
                            }
                            b = b.slice(g.shift().value.length)
                        }
                        for (q = U.needsContext.test(b) ? 0 : g.length; q--;) {
                            ta = g[q];
                            if (L.relative[m = ta.type]) break;
                            if (m = L.find[m])
                                if (c = m(ta.matches[0].replace(aa, da), ha.test(g[0].type) && E(e.parentNode) || e)) {
                                    g.splice(q, 1);
                                    b = c.length && l(g);
                                    if (!b) {
                                        K.apply(f, c);
                                        ta = f;
                                        break a
                                    }
                                    break
                                }
                        }
                    }
                    Y(b, h)(c, e, !x, f, ha.test(b) && E(e.parentNode) || e);
                    ta = f
                }
                return ta
            }

            function e() {
                function b(e, f) {
                    d.push(e + " ") >
                        L.cacheLength && delete b[d.shift()];
                    return b[e + " "] = f
                }
                var d = [];
                return b
            }

            function f(b) {
                b[la] = !0;
                return b
            }

            function c(b) {
                var d = Z.createElement("div");
                try {
                    return !!b(d)
                } catch (e) {
                    return !1
                } finally {
                    d.parentNode && d.parentNode.removeChild(d)
                }
            }

            function g(b, d) {
                for (var e = b.split("|"), f = b.length; f--;) L.attrHandle[e[f]] = d
            }

            function h(b, d) {
                var e = d && b,
                    f = e && 1 === b.nodeType && 1 === d.nodeType && (~d.sourceIndex || hc) - (~b.sourceIndex || hc);
                if (f) return f;
                if (e)
                    for (; e = e.nextSibling;)
                        if (e === d) return -1;
                return b ? 1 : -1
            }

            function m(b) {
                return function(d) {
                    return "input" ===
                        d.nodeName.toLowerCase() && d.type === b
                }
            }

            function q(b) {
                return function(d) {
                    var e = d.nodeName.toLowerCase();
                    return ("input" === e || "button" === e) && d.type === b
                }
            }

            function s(b) {
                return f(function(d) {
                    d = +d;
                    return f(function(e, f) {
                        for (var c, g = b([], e.length, d), h = g.length; h--;)
                            if (e[c = g[h]]) e[c] = !(f[c] = e[c])
                    })
                })
            }

            function E(b) {
                return b && typeof b.getElementsByTagName !== H && b
            }

            function w() {}

            function k(b, e) {
                var f, c, g, h, m, q, s;
                if (m = D[b + " "]) return e ? 0 : m.slice(0);
                m = b;
                q = [];
                for (s = L.preFilter; m;) {
                    if (!f || (c = zi.exec(m))) c && (m = m.slice(c[0].length) ||
                        m), q.push(g = []);
                    f = !1;
                    if (c = yi.exec(m)) f = c.shift(), g.push({
                        value: f,
                        type: c[0].replace(S, " ")
                    }), m = m.slice(f.length);
                    for (h in L.filter)
                        if ((c = U[h].exec(m)) && (!s[h] || (c = s[h](c)))) f = c.shift(), g.push({
                            value: f,
                            type: h,
                            matches: c
                        }), m = m.slice(f.length);
                    if (!f) break
                }
                return e ? m.length : m ? d.error(b) : D(b, q).slice(0)
            }

            function l(b) {
                for (var d = 0, e = b.length, f = ""; d < e; d++) f += b[d].value;
                return f
            }

            function G(b, d, e) {
                var f = d.dir,
                    c = e && "parentNode" === f,
                    g = B++;
                return d.first ? function(d, e, g) {
                    for (; d = d[f];)
                        if (1 === d.nodeType || c) return b(d,
                            e, g)
                } : function(d, e, h) {
                    var m, q, s = [za, g];
                    if (h)
                        for (; d = d[f];) {
                            if ((1 === d.nodeType || c) && b(d, e, h)) return !0
                        } else
                            for (; d = d[f];)
                                if (1 === d.nodeType || c) {
                                    q = d[la] || (d[la] = {});
                                    if ((m = q[f]) && m[0] === za && m[1] === g) return s[2] = m[2];
                                    q[f] = s;
                                    if (s[2] = b(d, e, h)) return !0
                                }
                }
            }

            function C(b) {
                return 1 < b.length ? function(d, e, f) {
                    for (var c = b.length; c--;)
                        if (!b[c](d, e, f)) return !1;
                    return !0
                } : b[0]
            }

            function I(b, d, e, f, c) {
                for (var g, h = [], m = 0, q = b.length, s = null != d; m < q; m++)
                    if (g = b[m])
                        if (!e || e(g, f, c)) h.push(g), s && d.push(m);
                return h
            }

            function N(b, e, c,
                g, h, m) {
                g && !g[la] && (g = N(g));
                h && !h[la] && (h = N(h, m));
                return f(function(f, m, q, s) {
                    var E, w, k = [],
                        ta = [],
                        l = m.length,
                        G;
                    if (!(G = f)) {
                        G = e || "*";
                        for (var C = q.nodeType ? [q] : q, N = [], J = 0, T = C.length; J < T; J++) d(G, C[J], N);
                        G = N
                    }
                    G = b && (f || !e) ? I(G, k, b, q, s) : G;
                    C = c ? h || (f ? b : l || g) ? [] : m : G;
                    c && c(G, C, q, s);
                    if (g) {
                        E = I(C, ta);
                        g(E, [], q, s);
                        for (q = E.length; q--;)
                            if (w = E[q]) C[ta[q]] = !(G[ta[q]] = w)
                    }
                    if (f) {
                        if (h || b) {
                            if (h) {
                                E = [];
                                for (q = C.length; q--;)
                                    if (w = C[q]) E.push(G[q] = w);
                                h(null, C = [], E, s)
                            }
                            for (q = C.length; q--;)
                                if ((w = C[q]) && -1 < (E = h ? O.call(f, w) : k[q])) f[E] = !(m[E] =
                                    w)
                        }
                    } else C = I(C === m ? C.splice(l, C.length) : C), h ? h(null, m, C, s) : K.apply(m, C)
                })
            }

            function J(b) {
                var d, e, f, c = b.length,
                    g = L.relative[b[0].type];
                e = g || L.relative[" "];
                for (var h = g ? 1 : 0, m = G(function(b) {
                    return b === d
                }, e, !0), q = G(function(b) {
                    return -1 < O.call(d, b)
                }, e, !0), s = [
                    function(b, e, f) {
                        return !g && (f || e !== ja) || ((d = e).nodeType ? m(b, e, f) : q(b, e, f))
                    }
                ]; h < c; h++)
                    if (e = L.relative[b[h].type]) s = [G(C(s), e)];
                    else {
                        e = L.filter[b[h].type].apply(null, b[h].matches);
                        if (e[la]) {
                            for (f = ++h; f < c && !L.relative[b[f].type]; f++);
                            return N(1 < h && C(s),
                                1 < h && l(b.slice(0, h - 1).concat({
                                    value: " " === b[h - 2].type ? "*" : ""
                                })).replace(S, "$1"), e, h < f && J(b.slice(h, f)), f < c && J(b = b.slice(f)), f < c && l(b))
                        }
                        s.push(e)
                    }
                return C(s)
            }

            function T(b, e) {
                var c = 0 < e.length,
                    g = 0 < b.length,
                    h = function(f, h, m, q, s) {
                        var E, w, k, ta = 0,
                            l = "0",
                            G = f && [],
                            C = [],
                            N = ja,
                            J = f || g && L.find.TAG("*", s),
                            T = za += null == N ? 1 : Math.random() || 0.1,
                            u = J.length;
                        for (s && (ja = h !== Z && h); l !== u && null != (E = J[l]); l++) {
                            if (g && E) {
                                for (w = 0; k = b[w++];)
                                    if (k(E, h, m)) {
                                        q.push(E);
                                        break
                                    }
                                s && (za = T)
                            }
                            c && ((E = !k && E) && ta--, f && G.push(E))
                        }
                        ta += l;
                        if (c && l !== ta) {
                            for (w =
                                0; k = e[w++];) k(G, C, h, m);
                            if (f) {
                                if (0 < ta)
                                    for (; l--;) !G[l] && !C[l] && (C[l] = M.call(q));
                                C = I(C)
                            }
                            K.apply(q, C);
                            s && (!f && 0 < C.length && 1 < ta + e.length) && d.uniqueSort(q)
                        }
                        s && (za = T, ja = N);
                        return G
                    };
                return c ? f(h) : h
            }
            var u, R, L, z, ea, Y, ja, n, t, qa, Z, v, x, V, y, Oa, Sb, la = "sizzle" + -new Date,
                A = b.document,
                za = 0,
                B = 0,
                pb = e(),
                D = e(),
                qb = e(),
                F = function(b, d) {
                    b === d && (t = !0);
                    return 0
                },
                H = "undefined",
                hc = -2147483648,
                yb = {}.hasOwnProperty,
                ya = [],
                M = ya.pop,
                P = ya.push,
                K = ya.push,
                Q = ya.slice,
                O = ya.indexOf || function(b) {
                    for (var d = 0, e = this.length; d < e; d++)
                        if (this[d] ===
                            b) return d;
                    return -1
                },
                ye = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w", "w#"),
                xe = "\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + ye + ")|)|)[\\x20\\t\\r\\n\\f]*\\]",
                Yc = ":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + xe.replace(3, 8) + ")*)|.*)\\)|)",
                S = /^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,
                zi = /^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
                yi =
                /^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,
                Bi = /=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,
                Ai = RegExp(Yc),
                X = RegExp("^" + ye + "$"),
                U = {
                    ID: /^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
                    CLASS: /^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
                    TAG: RegExp("^(" + "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w", "w*") + ")"),
                    ATTR: RegExp("^" + xe),
                    PSEUDO: RegExp("^" + Yc),
                    CHILD: RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
                        "i"),
                    bool: RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"),
                    needsContext: RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)", "i")
                },
                ba = /^(?:input|select|textarea|button)$/i,
                ca = /^h\d$/i,
                W = /^[^{]+\{\s*\[native \w/,
                fa = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                ha = /[+~]/,
                ia = /'|\\/g,
                aa = /\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
                da = function(b, d, e) {
                    b = "0x" + d - 65536;
                    return b !== b || e ? d : 0 > b ? String.fromCharCode(b + 65536) : String.fromCharCode(b >> 10 | 55296, b & 1023 | 56320)
                };
            try {
                K.apply(ya = Q.call(A.childNodes), A.childNodes), ya[A.childNodes.length].nodeType
            } catch (ka) {
                K = {
                    apply: ya.length ? function(b, d) {
                        P.apply(b, Q.call(d))
                    } : function(b, d) {
                        for (var e = b.length, f = 0; b[e++] = d[f++];);
                        b.length = e - 1
                    }
                }
            }
            R = d.support = {};
            ea = d.isXML = function(b) {
                return (b = b && (b.ownerDocument || b).documentElement) ? "HTML" !== b.nodeName : !1
            };
            qa = d.setDocument = function(b) {
                var d = b ? b.ownerDocument ||
                    b : A;
                b = d.defaultView;
                if (d === Z || 9 !== d.nodeType || !d.documentElement) return Z;
                Z = d;
                v = d.documentElement;
                x = !ea(d);
                b && b !== b.top && (b.addEventListener ? b.addEventListener("unload", function() {
                    qa()
                }, !1) : b.attachEvent && b.attachEvent("onunload", function() {
                    qa()
                }));
                R.attributes = c(function(b) {
                    b.className = "i";
                    return !b.getAttribute("className")
                });
                R.getElementsByTagName = c(function(b) {
                    b.appendChild(d.createComment(""));
                    return !b.getElementsByTagName("*").length
                });
                R.getElementsByClassName = W.test(d.getElementsByClassName) &&
                    c(function(b) {
                        b.innerHTML = "<div class='a'></div><div class='a i'></div>";
                        b.firstChild.className = "i";
                        return 2 === b.getElementsByClassName("i").length
                    });
                R.getById = c(function(b) {
                    v.appendChild(b).id = la;
                    return !d.getElementsByName || !d.getElementsByName(la).length
                });
                R.getById ? (L.find.ID = function(b, d) {
                    if (typeof d.getElementById !== H && x) {
                        var e = d.getElementById(b);
                        return e && e.parentNode ? [e] : []
                    }
                }, L.filter.ID = function(b) {
                    var d = b.replace(aa, da);
                    return function(b) {
                        return b.getAttribute("id") === d
                    }
                }) : (delete L.find.ID,
                    L.filter.ID = function(b) {
                        var d = b.replace(aa, da);
                        return function(b) {
                            return (b = typeof b.getAttributeNode !== H && b.getAttributeNode("id")) && b.value === d
                        }
                    });
                L.find.TAG = R.getElementsByTagName ? function(b, d) {
                    if (typeof d.getElementsByTagName !== H) return d.getElementsByTagName(b)
                } : function(b, d) {
                    var e, f = [],
                        c = 0,
                        g = d.getElementsByTagName(b);
                    if ("*" === b) {
                        for (; e = g[c++];) 1 === e.nodeType && f.push(e);
                        return f
                    }
                    return g
                };
                L.find.CLASS = R.getElementsByClassName && function(b, d) {
                    if (typeof d.getElementsByClassName !== H && x) return d.getElementsByClassName(b)
                };
                y = [];
                V = [];
                if (R.qsa = W.test(d.querySelectorAll)) c(function(b) {
                    b.innerHTML = "<select t=''><option selected=''></option></select>";
                    b.querySelectorAll("[t^='']").length && V.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
                    b.querySelectorAll("[selected]").length || V.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
                    b.querySelectorAll(":checked").length || V.push(":checked")
                }), c(function(b) {
                    var e = d.createElement("input");
                    e.setAttribute("type", "hidden");
                    b.appendChild(e).setAttribute("name", "D");
                    b.querySelectorAll("[name=d]").length && V.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");
                    b.querySelectorAll(":enabled").length || V.push(":enabled", ":disabled");
                    b.querySelectorAll("*,:x");
                    V.push(",.*:")
                });
                (R.matchesSelector = W.test(Oa = v.webkitMatchesSelector || v.mozMatchesSelector || v.oMatchesSelector || v.msMatchesSelector)) && c(function(b) {
                    R.disconnectedMatch = Oa.call(b, "div");
                    Oa.call(b, "[s!='']:x");
                    y.push("!=", Yc)
                });
                V = V.length && RegExp(V.join("|"));
                y = y.length && RegExp(y.join("|"));
                Sb = (b = W.test(v.compareDocumentPosition)) || W.test(v.contains) ? function(b, d) {
                    var e = 9 === b.nodeType ? b.documentElement : b,
                        f = d && d.parentNode;
                    return b === f || !(!f || !(1 === f.nodeType && (e.contains ? e.contains(f) : b.compareDocumentPosition && b.compareDocumentPosition(f) & 16)))
                } : function(b, d) {
                    if (d)
                        for (; d = d.parentNode;)
                            if (d === b) return !0;
                    return !1
                };
                F = b ? function(b, e) {
                    if (b === e) return t = !0, 0;
                    var f = !b.compareDocumentPosition - !e.compareDocumentPosition;
                    if (f) return f;
                    f = (b.ownerDocument || b) ===
                        (e.ownerDocument || e) ? b.compareDocumentPosition(e) : 1;
                    return f & 1 || !R.sortDetached && e.compareDocumentPosition(b) === f ? b === d || b.ownerDocument === A && Sb(A, b) ? -1 : e === d || e.ownerDocument === A && Sb(A, e) ? 1 : n ? O.call(n, b) - O.call(n, e) : 0 : f & 4 ? -1 : 1
                } : function(b, e) {
                    if (b === e) return t = !0, 0;
                    var f, c = 0;
                    f = b.parentNode;
                    var g = e.parentNode,
                        m = [b],
                        q = [e];
                    if (!f || !g) return b === d ? -1 : e === d ? 1 : f ? -1 : g ? 1 : n ? O.call(n, b) - O.call(n, e) : 0;
                    if (f === g) return h(b, e);
                    for (f = b; f = f.parentNode;) m.unshift(f);
                    for (f = e; f = f.parentNode;) q.unshift(f);
                    for (; m[c] ===
                        q[c];) c++;
                    return c ? h(m[c], q[c]) : m[c] === A ? -1 : q[c] === A ? 1 : 0
                };
                return d
            };
            d.matches = function(b, e) {
                return d(b, null, null, e)
            };
            d.matchesSelector = function(b, e) {
                (b.ownerDocument || b) !== Z && qa(b);
                e = e.replace(Bi, "='$1']");
                if (R.matchesSelector && x && (!y || !y.test(e)) && (!V || !V.test(e))) try {
                    var f = Oa.call(b, e);
                    if (f || R.disconnectedMatch || b.document && 11 !== b.document.nodeType) return f
                } catch (c) {}
                return 0 < d(e, Z, null, [b]).length
            };
            d.contains = function(b, d) {
                (b.ownerDocument || b) !== Z && qa(b);
                return Sb(b, d)
            };
            d.attr = function(b, d) {
                (b.ownerDocument ||
                    b) !== Z && qa(b);
                var e = L.attrHandle[d.toLowerCase()],
                    e = e && yb.call(L.attrHandle, d.toLowerCase()) ? e(b, d, !x) : void 0;
                return void 0 !== e ? e : R.attributes || !x ? b.getAttribute(d) : (e = b.getAttributeNode(d)) && e.specified ? e.value : null
            };
            d.error = function(b) {
                throw Error("Syntax error, unrecognized expression: " + b);
            };
            d.uniqueSort = function(b) {
                var d, e = [],
                    f = 0,
                    c = 0;
                t = !R.detectDuplicates;
                n = !R.sortStable && b.slice(0);
                b.sort(F);
                if (t) {
                    for (; d = b[c++];) d === b[c] && (f = e.push(c));
                    for (; f--;) b.splice(e[f], 1)
                }
                n = null;
                return b
            };
            z = d.getText =
                function(b) {
                    var d, e = "",
                        f = 0;
                    if (d = b.nodeType)
                        if (1 === d || 9 === d || 11 === d) {
                            if ("string" === typeof b.textContent) return b.textContent;
                            for (b = b.firstChild; b; b = b.nextSibling) e += z(b)
                        } else {
                            if (3 === d || 4 === d) return b.nodeValue
                        } else
                        for (; d = b[f++];) e += z(d);
                    return e
                };
            L = d.selectors = {
                cacheLength: 50,
                createPseudo: f,
                match: U,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(b) {
                        b[1] = b[1].replace(aa,
                            da);
                        b[3] = (b[4] || b[5] || "").replace(aa, da);
                        "~=" === b[2] && (b[3] = " " + b[3] + " ");
                        return b.slice(0, 4)
                    },
                    CHILD: function(b) {
                        b[1] = b[1].toLowerCase();
                        "nth" === b[1].slice(0, 3) ? (b[3] || d.error(b[0]), b[4] = +(b[4] ? b[5] + (b[6] || 1) : 2 * ("even" === b[3] || "odd" === b[3])), b[5] = +(b[7] + b[8] || "odd" === b[3])) : b[3] && d.error(b[0]);
                        return b
                    },
                    PSEUDO: function(b) {
                        var d, e = !b[5] && b[2];
                        if (U.CHILD.test(b[0])) return null;
                        if (b[3] && void 0 !== b[4]) b[2] = b[4];
                        else if (e && Ai.test(e) && (d = k(e, !0)) && (d = e.indexOf(")", e.length - d) - e.length)) b[0] = b[0].slice(0,
                            d), b[2] = e.slice(0, d);
                        return b.slice(0, 3)
                    }
                },
                filter: {
                    TAG: function(b) {
                        var d = b.replace(aa, da).toLowerCase();
                        return "*" === b ? function() {
                            return !0
                        } : function(b) {
                            return b.nodeName && b.nodeName.toLowerCase() === d
                        }
                    },
                    CLASS: function(b) {
                        var d = pb[b + " "];
                        return d || (d = RegExp("(^|[\\x20\\t\\r\\n\\f])" + b + "([\\x20\\t\\r\\n\\f]|$)")) && pb(b, function(b) {
                            return d.test("string" === typeof b.className && b.className || typeof b.getAttribute !== H && b.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(b, e, f) {
                        return function(c) {
                            c = d.attr(c, b);
                            if (null ==
                                c) return "!=" === e;
                            if (!e) return !0;
                            c += "";
                            return "=" === e ? c === f : "!=" === e ? c !== f : "^=" === e ? f && 0 === c.indexOf(f) : "*=" === e ? f && -1 < c.indexOf(f) : "$=" === e ? f && c.slice(-f.length) === f : "~=" === e ? -1 < (" " + c + " ").indexOf(f) : "|=" === e ? c === f || c.slice(0, f.length + 1) === f + "-" : !1
                        }
                    },
                    CHILD: function(b, d, e, f, c) {
                        var g = "nth" !== b.slice(0, 3),
                            h = "last" !== b.slice(-4),
                            m = "of-type" === d;
                        return 1 === f && 0 === c ? function(b) {
                            return !!b.parentNode
                        } : function(d, e, q) {
                            var s, E, w, k, ta;
                            e = g !== h ? "nextSibling" : "previousSibling";
                            var l = d.parentNode,
                                G = m && d.nodeName.toLowerCase();
                            q = !q && !m;
                            if (l) {
                                if (g) {
                                    for (; e;) {
                                        for (E = d; E = E[e];)
                                            if (m ? E.nodeName.toLowerCase() === G : 1 === E.nodeType) return !1;
                                        ta = e = "only" === b && !ta && "nextSibling"
                                    }
                                    return !0
                                }
                                ta = [h ? l.firstChild : l.lastChild];
                                if (h && q) {
                                    q = l[la] || (l[la] = {});
                                    s = q[b] || [];
                                    k = s[0] === za && s[1];
                                    w = s[0] === za && s[2];
                                    for (E = k && l.childNodes[k]; E = ++k && E && E[e] || (w = k = 0) || ta.pop();)
                                        if (1 === E.nodeType && ++w && E === d) {
                                            q[b] = [za, k, w];
                                            break
                                        }
                                } else if (q && (s = (d[la] || (d[la] = {}))[b]) && s[0] === za) w = s[1];
                                else
                                    for (; E = ++k && E && E[e] || (w = k = 0) || ta.pop();)
                                        if ((m ? E.nodeName.toLowerCase() ===
                                            G : 1 === E.nodeType) && ++w)
                                            if (q && ((E[la] || (E[la] = {}))[b] = [za, w]), E === d) break;
                                w -= c;
                                return w === f || 0 === w % f && 0 <= w / f
                            }
                        }
                    },
                    PSEUDO: function(b, e) {
                        var c, g = L.pseudos[b] || L.setFilters[b.toLowerCase()] || d.error("unsupported pseudo: " + b);
                        return g[la] ? g(e) : 1 < g.length ? (c = [b, b, "", e], L.setFilters.hasOwnProperty(b.toLowerCase()) ? f(function(b, d) {
                            for (var f, c = g(b, e), h = c.length; h--;) f = O.call(b, c[h]), b[f] = !(d[f] = c[h])
                        }) : function(b) {
                            return g(b, 0, c)
                        }) : g
                    }
                },
                pseudos: {
                    not: f(function(b) {
                        var d = [],
                            e = [],
                            c = Y(b.replace(S, "$1"));
                        return c[la] ?
                            f(function(b, d, e, f) {
                                f = c(b, null, f, []);
                                for (var g = b.length; g--;)
                                    if (e = f[g]) b[g] = !(d[g] = e)
                            }) : function(b, f, g) {
                                d[0] = b;
                                c(d, null, g, e);
                                return !e.pop()
                            }
                    }),
                    has: f(function(b) {
                        return function(e) {
                            return 0 < d(b, e).length
                        }
                    }),
                    contains: f(function(b) {
                        return function(d) {
                            return -1 < (d.textContent || d.innerText || z(d)).indexOf(b)
                        }
                    }),
                    lang: f(function(b) {
                        X.test(b || "") || d.error("unsupported lang: " + b);
                        b = b.replace(aa, da).toLowerCase();
                        return function(d) {
                            var e;
                            do
                                if (e = x ? d.lang : d.getAttribute("xml:lang") || d.getAttribute("lang")) return e =
                                    e.toLowerCase(), e === b || 0 === e.indexOf(b + "-");
                            while ((d = d.parentNode) && 1 === d.nodeType);
                            return !1
                        }
                    }),
                    target: function(d) {
                        var e = b.location && b.location.hash;
                        return e && e.slice(1) === d.id
                    },
                    root: function(b) {
                        return b === v
                    },
                    focus: function(b) {
                        return b === Z.activeElement && (!Z.hasFocus || Z.hasFocus()) && !(!b.type && !b.href && !~b.tabIndex)
                    },
                    enabled: function(b) {
                        return !1 === b.disabled
                    },
                    disabled: function(b) {
                        return !0 === b.disabled
                    },
                    checked: function(b) {
                        var d = b.nodeName.toLowerCase();
                        return "input" === d && !!b.checked || "option" === d &&
                            !!b.selected
                    },
                    selected: function(b) {
                        b.parentNode && b.parentNode.selectedIndex;
                        return !0 === b.selected
                    },
                    empty: function(b) {
                        for (b = b.firstChild; b; b = b.nextSibling)
                            if (6 > b.nodeType) return !1;
                        return !0
                    },
                    parent: function(b) {
                        return !L.pseudos.empty(b)
                    },
                    header: function(b) {
                        return ca.test(b.nodeName)
                    },
                    input: function(b) {
                        return ba.test(b.nodeName)
                    },
                    button: function(b) {
                        var d = b.nodeName.toLowerCase();
                        return "input" === d && "button" === b.type || "button" === d
                    },
                    text: function(b) {
                        var d;
                        return "input" === b.nodeName.toLowerCase() && "text" ===
                            b.type && (null == (d = b.getAttribute("type")) || "text" === d.toLowerCase())
                    },
                    first: s(function() {
                        return [0]
                    }),
                    last: s(function(b, d) {
                        return [d - 1]
                    }),
                    eq: s(function(b, d, e) {
                        return [0 > e ? e + d : e]
                    }),
                    even: s(function(b, d) {
                        for (var e = 0; e < d; e += 2) b.push(e);
                        return b
                    }),
                    odd: s(function(b, d) {
                        for (var e = 1; e < d; e += 2) b.push(e);
                        return b
                    }),
                    lt: s(function(b, d, e) {
                        for (d = 0 > e ? e + d : e; 0 <= --d;) b.push(d);
                        return b
                    }),
                    gt: s(function(b, d, e) {
                        for (e = 0 > e ? e + d : e; ++e < d;) b.push(e);
                        return b
                    })
                }
            };
            L.pseudos.nth = L.pseudos.eq;
            for (u in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) L.pseudos[u] = m(u);
            for (u in {
                submit: !0,
                reset: !0
            }) L.pseudos[u] = q(u);
            w.prototype = L.filters = L.pseudos;
            L.setFilters = new w;
            Y = d.compile = function(b, d) {
                var e, f = [],
                    c = [],
                    g = qb[b + " "];
                if (!g) {
                    d || (d = k(b));
                    for (e = d.length; e--;) g = J(d[e]), g[la] ? f.push(g) : c.push(g);
                    g = qb(b, T(c, f))
                }
                return g
            };
            R.sortStable = la.split("").sort(F).join("") === la;
            R.detectDuplicates = !!t;
            qa();
            R.sortDetached = c(function(b) {
                return b.compareDocumentPosition(Z.createElement("div")) & 1
            });
            c(function(b) {
                b.innerHTML = "<a href='#'></a>";
                return "#" ===
                    b.firstChild.getAttribute("href")
            }) || g("type|href|height|width", function(b, d, e) {
                if (!e) return b.getAttribute(d, "type" === d.toLowerCase() ? 1 : 2)
            });
            (!R.attributes || !c(function(b) {
                b.innerHTML = "<input/>";
                b.firstChild.setAttribute("value", "");
                return "" === b.firstChild.getAttribute("value")
            })) && g("value", function(b, d, e) {
                if (!e && "input" === b.nodeName.toLowerCase()) return b.defaultValue
            });
            c(function(b) {
                return null == b.getAttribute("disabled")
            }) || g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                function(b, d, e) {
                    var f;
                    if (!e) return !0 === b[d] ? d.toLowerCase() : (f = b.getAttributeNode(d)) && f.specified ? f.value : null
                });
            return d
        }(c);
        u.find = fa;
        u.expr = fa.selectors;
        u.expr[":"] = u.expr.pseudos;
        u.unique = fa.uniqueSort;
        u.text = fa.getText;
        u.isXMLDoc = fa.isXML;
        u.contains = fa.contains;
        var ha = u.expr.match.needsContext,
            da = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
            ka = /^.[^:#\[\.,]*$/;
        u.filter = function(b, d, e) {
            var f = d[0];
            e && (b = ":not(" + b + ")");
            return 1 === d.length && 1 === f.nodeType ? u.find.matchesSelector(f, b) ? [f] : [] : u.find.matches(b, u.grep(d,
                function(b) {
                    return 1 === b.nodeType
                }))
        };
        u.fn.extend({
            find: function(b) {
                var d, e = this.length,
                    f = [],
                    c = this;
                if ("string" !== typeof b) return this.pushStack(u(b).filter(function() {
                    for (d = 0; d < e; d++)
                        if (u.contains(c[d], this)) return !0
                }));
                for (d = 0; d < e; d++) u.find(b, c[d], f);
                f = this.pushStack(1 < e ? u.unique(f) : f);
                f.selector = this.selector ? this.selector + " " + b : b;
                return f
            },
            filter: function(b) {
                return this.pushStack(e(this, b || [], !1))
            },
            not: function(b) {
                return this.pushStack(e(this, b || [], !0))
            },
            is: function(b) {
                return !!e(this, "string" ===
                    typeof b && ha.test(b) ? u(b) : b || [], !1).length
            }
        });
        var aa, na = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
        (u.fn.init = function(b, d) {
            var e;
            if (!b) return this;
            if ("string" === typeof b) {
                if ((e = "<" === b[0] && ">" === b[b.length - 1] && 3 <= b.length ? [null, b, null] : na.exec(b)) && (e[1] || !d)) {
                    if (e[1]) {
                        if (d = d instanceof u ? d[0] : d, u.merge(this, u.parseHTML(e[1], d && d.nodeType ? d.ownerDocument || d : Q, !0)), da.test(e[1]) && u.isPlainObject(d))
                            for (e in d)
                                if (u.isFunction(this[e])) this[e](d[e]);
                                else this.attr(e, d[e])
                    } else {
                        if ((e = Q.getElementById(e[2])) &&
                            e.parentNode) this.length = 1, this[0] = e;
                        this.context = Q;
                        this.selector = b
                    }
                    return this
                }
                return !d || d.jquery ? (d || aa).find(b) : this.constructor(d).find(b)
            }
            if (b.nodeType) return this.context = this[0] = b, this.length = 1, this;
            if (u.isFunction(b)) return "undefined" !== typeof aa.ready ? aa.ready(b) : b(u);
            void 0 !== b.selector && (this.selector = b.selector, this.context = b.context);
            return u.makeArray(b, this)
        }).prototype = u.fn;
        aa = u(Q);
        var oa = /^(?:parents|prev(?:Until|All))/,
            ra = {
                children: !0,
                contents: !0,
                next: !0,
                prev: !0
            };
        u.extend({
            dir: function(b,
                d, e) {
                for (var f = [], c = void 0 !== e;
                    (b = b[d]) && 9 !== b.nodeType;)
                    if (1 === b.nodeType) {
                        if (c && u(b).is(e)) break;
                        f.push(b)
                    }
                return f
            },
            sibling: function(b, d) {
                for (var e = []; b; b = b.nextSibling) 1 === b.nodeType && b !== d && e.push(b);
                return e
            }
        });
        u.fn.extend({
            has: function(b) {
                var d = u(b, this),
                    e = d.length;
                return this.filter(function() {
                    for (var b = 0; b < e; b++)
                        if (u.contains(this, d[b])) return !0
                })
            },
            closest: function(b, d) {
                for (var e, f = 0, c = this.length, g = [], h = ha.test(b) || "string" !== typeof b ? u(b, d || this.context) : 0; f < c; f++)
                    for (e = this[f]; e && e !==
                        d; e = e.parentNode)
                        if (11 > e.nodeType && (h ? -1 < h.index(e) : 1 === e.nodeType && u.find.matchesSelector(e, b))) {
                            g.push(e);
                            break
                        }
                return this.pushStack(1 < g.length ? u.unique(g) : g)
            },
            index: function(b) {
                return !b ? this[0] && this[0].parentNode ? this.first().prevAll().length : -1 : "string" === typeof b ? ya.call(u(b), this[0]) : ya.call(this, b.jquery ? b[0] : b)
            },
            add: function(b, d) {
                return this.pushStack(u.unique(u.merge(this.get(), u(b, d))))
            },
            addBack: function(b) {
                return this.add(null == b ? this.prevObject : this.prevObject.filter(b))
            }
        });
        u.each({
            parent: function(b) {
                return (b =
                    b.parentNode) && 11 !== b.nodeType ? b : null
            },
            parents: function(b) {
                return u.dir(b, "parentNode")
            },
            parentsUntil: function(b, d, e) {
                return u.dir(b, "parentNode", e)
            },
            next: function(b) {
                return g(b, "nextSibling")
            },
            prev: function(b) {
                return g(b, "previousSibling")
            },
            nextAll: function(b) {
                return u.dir(b, "nextSibling")
            },
            prevAll: function(b) {
                return u.dir(b, "previousSibling")
            },
            nextUntil: function(b, d, e) {
                return u.dir(b, "nextSibling", e)
            },
            prevUntil: function(b, d, e) {
                return u.dir(b, "previousSibling", e)
            },
            siblings: function(b) {
                return u.sibling((b.parentNode || {}).firstChild, b)
            },
            children: function(b) {
                return u.sibling(b.firstChild)
            },
            contents: function(b) {
                return b.contentDocument || u.merge([], b.childNodes)
            }
        }, function(b, d) {
            u.fn[b] = function(e, f) {
                var c = u.map(this, d, e);
                "Until" !== b.slice(-5) && (f = e);
                f && "string" === typeof f && (c = u.filter(f, c));
                1 < this.length && (ra[b] || u.unique(c), oa.test(b) && c.reverse());
                return this.pushStack(c)
            }
        });
        var ia = /\S+/g,
            sa = {};
        u.Callbacks = function(b) {
            b = "string" === typeof b ? sa[b] || f(b) : u.extend({}, b);
            var d, e, c, g, h, m, q = [],
                s = !b.once && [],
                E = function(f) {
                    d =
                        b.memory && f;
                    e = !0;
                    m = g || 0;
                    g = 0;
                    h = q.length;
                    for (c = !0; q && m < h; m++)
                        if (!1 === q[m].apply(f[0], f[1]) && b.stopOnFalse) {
                            d = !1;
                            break
                        }
                    c = !1;
                    q && (s ? s.length && E(s.shift()) : d ? q = [] : w.disable())
                },
                w = {
                    add: function() {
                        if (q) {
                            var e = q.length;
                            (function Ci(d) {
                                u.each(d, function(d, e) {
                                    var f = u.type(e);
                                    "function" === f ? (!b.unique || !w.has(e)) && q.push(e) : e && (e.length && "string" !== f) && Ci(e)
                                })
                            })(arguments);
                            c ? h = q.length : d && (g = e, E(d))
                        }
                        return this
                    },
                    remove: function() {
                        q && u.each(arguments, function(b, d) {
                            for (var e; - 1 < (e = u.inArray(d, q, e));) q.splice(e,
                                1), c && (e <= h && h--, e <= m && m--)
                        });
                        return this
                    },
                    has: function(b) {
                        return b ? -1 < u.inArray(b, q) : !(!q || !q.length)
                    },
                    empty: function() {
                        q = [];
                        h = 0;
                        return this
                    },
                    disable: function() {
                        q = s = d = void 0;
                        return this
                    },
                    disabled: function() {
                        return !q
                    },
                    lock: function() {
                        s = void 0;
                        d || w.disable();
                        return this
                    },
                    locked: function() {
                        return !s
                    },
                    fireWith: function(b, d) {
                        if (q && (!e || s)) d = d || [], d = [b, d.slice ? d.slice() : d], c ? s.push(d) : E(d);
                        return this
                    },
                    fire: function() {
                        w.fireWith(this, arguments);
                        return this
                    },
                    fired: function() {
                        return !!e
                    }
                };
            return w
        };
        u.extend({
            Deferred: function(b) {
                var d = [
                        ["resolve", "done", u.Callbacks("once memory"), "resolved"],
                        ["reject", "fail", u.Callbacks("once memory"), "rejected"],
                        ["notify", "progress", u.Callbacks("memory")]
                    ],
                    e = "pending",
                    f = {
                        state: function() {
                            return e
                        },
                        always: function() {
                            c.done(arguments).fail(arguments);
                            return this
                        },
                        then: function() {
                            var b = arguments;
                            return u.Deferred(function(e) {
                                u.each(d, function(d, g) {
                                    var h = u.isFunction(b[d]) && b[d];
                                    c[g[1]](function() {
                                        var b = h && h.apply(this, arguments);
                                        if (b && u.isFunction(b.promise)) b.promise().done(e.resolve).fail(e.reject).progress(e.notify);
                                        else e[g[0] + "With"](this === f ? e.promise() : this, h ? [b] : arguments)
                                    })
                                });
                                b = null
                            }).promise()
                        },
                        promise: function(b) {
                            return null != b ? u.extend(b, f) : f
                        }
                    },
                    c = {};
                f.pipe = f.then;
                u.each(d, function(b, g) {
                    var h = g[2],
                        m = g[3];
                    f[g[1]] = h.add;
                    m && h.add(function() {
                        e = m
                    }, d[b ^ 1][2].disable, d[2][2].lock);
                    c[g[0]] = function() {
                        c[g[0] + "With"](this === c ? f : this, arguments);
                        return this
                    };
                    c[g[0] + "With"] = h.fireWith
                });
                f.promise(c);
                b && b.call(c, c);
                return c
            },
            when: function(b) {
                var d = 0,
                    e = la.call(arguments),
                    f = e.length,
                    c = 1 !== f || b && u.isFunction(b.promise) ?
                    f : 0,
                    g = 1 === c ? b : u.Deferred(),
                    h = function(b, d, e) {
                        return function(f) {
                            d[b] = this;
                            e[b] = 1 < arguments.length ? la.call(arguments) : f;
                            e === m ? g.notifyWith(d, e) : --c || g.resolveWith(d, e)
                        }
                    },
                    m, q, s;
                if (1 < f) {
                    m = Array(f);
                    q = Array(f);
                    for (s = Array(f); d < f; d++) e[d] && u.isFunction(e[d].promise) ? e[d].promise().done(h(d, s, e)).fail(g.reject).progress(h(d, q, m)) : --c
                }
                c || g.resolveWith(s, e);
                return g.promise()
            }
        });
        var pa;
        u.fn.ready = function(b) {
            u.ready.promise().done(b);
            return this
        };
        u.extend({
            isReady: !1,
            readyWait: 1,
            holdReady: function(b) {
                b ? u.readyWait++ :
                    u.ready(!0)
            },
            ready: function(b) {
                if (!(!0 === b ? --u.readyWait : u.isReady)) u.isReady = !0, !0 !== b && 0 < --u.readyWait || (pa.resolveWith(Q, [u]), u.fn.trigger && u(Q).trigger("ready").off("ready"))
            }
        });
        u.ready.promise = function(b) {
            pa || (pa = u.Deferred(), "complete" === Q.readyState ? setTimeout(u.ready) : (Q.addEventListener("DOMContentLoaded", h, !1), c.addEventListener("load", h, !1)));
            return pa.promise(b)
        };
        u.ready.promise();
        var ma = u.access = function(b, d, e, f, c, g, h) {
            var m = 0,
                q = b.length,
                s = null == e;
            if ("object" === u.type(e))
                for (m in c = !0,
                    e) u.access(b, d, m, e[m], !0, g, h);
            else if (void 0 !== f && (c = !0, u.isFunction(f) || (h = !0), s && (h ? (d.call(b, f), d = null) : (s = d, d = function(b, d, e) {
                return s.call(u(b), e)
            })), d))
                for (; m < q; m++) d(b[m], e, h ? f : f.call(b[m], m, d(b[m], e)));
            return c ? b : s ? d.call(b) : q ? d(b[0], e) : g
        };
        u.acceptData = function(b) {
            return 1 === b.nodeType || 9 === b.nodeType || !+b.nodeType
        };
        m.uid = 1;
        m.accepts = u.acceptData;
        m.prototype = {
            key: function(b) {
                if (!m.accepts(b)) return 0;
                var d = {},
                    e = b[this.expando];
                if (!e) {
                    e = m.uid++;
                    try {
                        d[this.expando] = {
                            value: e
                        }, Object.defineProperties(b,
                            d)
                    } catch (f) {
                        d[this.expando] = e, u.extend(b, d)
                    }
                }
                this.cache[e] || (this.cache[e] = {});
                return e
            },
            set: function(b, d, e) {
                var f;
                b = this.key(b);
                var c = this.cache[b];
                if ("string" === typeof d) c[d] = e;
                else if (u.isEmptyObject(c)) u.extend(this.cache[b], d);
                else
                    for (f in d) c[f] = d[f];
                return c
            },
            get: function(b, d) {
                var e = this.cache[this.key(b)];
                return void 0 === d ? e : e[d]
            },
            access: function(b, d, e) {
                if (void 0 === d || d && "string" === typeof d && void 0 === e) return e = this.get(b, d), void 0 !== e ? e : this.get(b, u.camelCase(d));
                this.set(b, d, e);
                return void 0 !==
                    e ? e : d
            },
            remove: function(b, d) {
                var e, f;
                e = this.key(b);
                var c = this.cache[e];
                if (void 0 === d) this.cache[e] = {};
                else {
                    u.isArray(d) ? f = d.concat(d.map(u.camelCase)) : (e = u.camelCase(d), d in c ? f = [d, e] : (f = e, f = f in c ? [f] : f.match(ia) || []));
                    for (e = f.length; e--;) delete c[f[e]]
                }
            },
            hasData: function(b) {
                return !u.isEmptyObject(this.cache[b[this.expando]] || {})
            },
            discard: function(b) {
                b[this.expando] && delete this.cache[b[this.expando]]
            }
        };
        var U = new m,
            W = new m,
            wa = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
            Aa = /([A-Z])/g;
        u.extend({
            hasData: function(b) {
                return W.hasData(b) ||
                    U.hasData(b)
            },
            data: function(b, d, e) {
                return W.access(b, d, e)
            },
            removeData: function(b, d) {
                W.remove(b, d)
            },
            _data: function(b, d, e) {
                return U.access(b, d, e)
            },
            _removeData: function(b, d) {
                U.remove(b, d)
            }
        });
        u.fn.extend({
            data: function(b, d) {
                var e, f, c, g = this[0],
                    h = g && g.attributes;
                if (void 0 === b) {
                    if (this.length && (c = W.get(g), 1 === g.nodeType && !U.get(g, "hasDataAttrs"))) {
                        for (e = h.length; e--;) f = h[e].name, 0 === f.indexOf("data-") && (f = u.camelCase(f.slice(5)), q(g, f, c[f]));
                        U.set(g, "hasDataAttrs", !0)
                    }
                    return c
                }
                return "object" === typeof b ?
                    this.each(function() {
                        W.set(this, b)
                    }) : ma(this, function(d) {
                        var e, f = u.camelCase(b);
                        if (g && void 0 === d) {
                            e = W.get(g, b);
                            if (void 0 !== e) return e;
                            e = W.get(g, f);
                            if (void 0 !== e) return e;
                            e = q(g, f, void 0);
                            if (void 0 !== e) return e
                        } else this.each(function() {
                            var e = W.get(this, f);
                            W.set(this, f, d); - 1 !== b.indexOf("-") && void 0 !== e && W.set(this, b, d)
                        })
                    }, null, d, 1 < arguments.length, null, !0)
            },
            removeData: function(b) {
                return this.each(function() {
                    W.remove(this, b)
                })
            }
        });
        u.extend({
            queue: function(b, d, e) {
                var f;
                if (b) return d = (d || "fx") + "queue",
                    f = U.get(b, d), e && (!f || u.isArray(e) ? f = U.access(b, d, u.makeArray(e)) : f.push(e)), f || []
            },
            dequeue: function(b, d) {
                d = d || "fx";
                var e = u.queue(b, d),
                    f = e.length,
                    c = e.shift(),
                    g = u._queueHooks(b, d),
                    h = function() {
                        u.dequeue(b, d)
                    };
                "inprogress" === c && (c = e.shift(), f--);
                c && ("fx" === d && e.unshift("inprogress"), delete g.stop, c.call(b, h, g));
                !f && g && g.empty.fire()
            },
            _queueHooks: function(b, d) {
                var e = d + "queueHooks";
                return U.get(b, e) || U.access(b, e, {
                    empty: u.Callbacks("once memory").add(function() {
                        U.remove(b, [d + "queue", e])
                    })
                })
            }
        });
        u.fn.extend({
            queue: function(b,
                d) {
                var e = 2;
                "string" !== typeof b && (d = b, b = "fx", e--);
                return arguments.length < e ? u.queue(this[0], b) : void 0 === d ? this : this.each(function() {
                    var e = u.queue(this, b, d);
                    u._queueHooks(this, b);
                    "fx" === b && "inprogress" !== e[0] && u.dequeue(this, b)
                })
            },
            dequeue: function(b) {
                return this.each(function() {
                    u.dequeue(this, b)
                })
            },
            clearQueue: function(b) {
                return this.queue(b || "fx", [])
            },
            promise: function(b, d) {
                var e, f = 1,
                    c = u.Deferred(),
                    g = this,
                    h = this.length,
                    m = function() {
                        --f || c.resolveWith(g, [g])
                    };
                "string" !== typeof b && (d = b, b = void 0);
                for (b =
                    b || "fx"; h--;)
                    if ((e = U.get(g[h], b + "queueHooks")) && e.empty) f++, e.empty.add(m);
                m();
                return c.promise(d)
            }
        });
        var va = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            ua = ["Top", "Right", "Bottom", "Left"],
            xa = function(b, d) {
                b = d || b;
                return "none" === u.css(b, "display") || !u.contains(b.ownerDocument, b)
            },
            Ba = /^(?:checkbox|radio)$/i;
        (function() {
            var b = Q.createDocumentFragment().appendChild(Q.createElement("div"));
            b.innerHTML = "<input type='radio' checked='checked' name='t'/>";
            O.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked;
            b.innerHTML = "<textarea>x</textarea>";
            O.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
        })();
        O.focusinBubbles = "onfocusin" in c;
        var Ca = /^key/,
            Fa = /^(?:mouse|contextmenu)|click/,
            Da = /^(?:focusinfocus|focusoutblur)$/,
            Ea = /^([^.]*)(?:\.(.+)|)$/;
        u.event = {
            global: {},
            add: function(b, d, e, f, c) {
                var g, h, m, q, s, E, w, k, l;
                if (s = U.get(b)) {
                    e.handler && (g = e, e = g.handler, c = g.selector);
                    e.guid || (e.guid = u.guid++);
                    if (!(q = s.events)) q = s.events = {};
                    if (!(h = s.handle)) h = s.handle = function(d) {
                        return "undefined" !== typeof u && u.event.triggered !==
                            d.type ? u.event.dispatch.apply(b, arguments) : void 0
                    };
                    d = (d || "").match(ia) || [""];
                    for (s = d.length; s--;)
                        if (m = Ea.exec(d[s]) || [], k = E = m[1], l = (m[2] || "").split(".").sort(), k) {
                            m = u.event.special[k] || {};
                            k = (c ? m.delegateType : m.bindType) || k;
                            m = u.event.special[k] || {};
                            E = u.extend({
                                type: k,
                                origType: E,
                                data: f,
                                handler: e,
                                guid: e.guid,
                                selector: c,
                                needsContext: c && u.expr.match.needsContext.test(c),
                                namespace: l.join(".")
                            }, g);
                            if (!(w = q[k])) w = q[k] = [], w.delegateCount = 0, (!m.setup || !1 === m.setup.call(b, f, l, h)) && b.addEventListener && b.addEventListener(k,
                                h, !1);
                            m.add && (m.add.call(b, E), E.handler.guid || (E.handler.guid = e.guid));
                            c ? w.splice(w.delegateCount++, 0, E) : w.push(E);
                            u.event.global[k] = !0
                        }
                }
            },
            remove: function(b, d, e, f, c) {
                var g, h, m, q, s, E, w, k, l, G, C, I = U.hasData(b) && U.get(b);
                if (I && (q = I.events)) {
                    d = (d || "").match(ia) || [""];
                    for (s = d.length; s--;)
                        if (m = Ea.exec(d[s]) || [], l = C = m[1], G = (m[2] || "").split(".").sort(), l) {
                            w = u.event.special[l] || {};
                            l = (f ? w.delegateType : w.bindType) || l;
                            k = q[l] || [];
                            m = m[2] && RegExp("(^|\\.)" + G.join("\\.(?:.*\\.|)") + "(\\.|$)");
                            for (h = g = k.length; g--;)
                                if (E =
                                    k[g], (c || C === E.origType) && (!e || e.guid === E.guid) && (!m || m.test(E.namespace)) && (!f || f === E.selector || "**" === f && E.selector)) k.splice(g, 1), E.selector && k.delegateCount--, w.remove && w.remove.call(b, E);
                            h && !k.length && ((!w.teardown || !1 === w.teardown.call(b, G, I.handle)) && u.removeEvent(b, l, I.handle), delete q[l])
                        } else
                            for (l in q) u.event.remove(b, l + d[s], e, f, !0);
                    u.isEmptyObject(q) && (delete I.handle, U.remove(b, "events"))
                }
            },
            trigger: function(b, d, e, f) {
                var g, h, m, q, s, E, w = [e || Q],
                    k = K.call(b, "type") ? b.type : b;
                E = K.call(b, "namespace") ?
                    b.namespace.split(".") : [];
                h = g = e = e || Q;
                if (!(3 === e.nodeType || 8 === e.nodeType) && !Da.test(k + u.event.triggered))
                    if (0 <= k.indexOf(".") && (E = k.split("."), k = E.shift(), E.sort()), q = 0 > k.indexOf(":") && "on" + k, b = b[u.expando] ? b : new u.Event(k, "object" === typeof b && b), b.isTrigger = f ? 2 : 3, b.namespace = E.join("."), b.namespace_re = b.namespace ? RegExp("(^|\\.)" + E.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = e), d = null == d ? [b] : u.makeArray(d, [b]), E = u.event.special[k] || {}, f || !(E.trigger && !1 === E.trigger.apply(e,
                        d))) {
                        if (!f && !E.noBubble && !u.isWindow(e)) {
                            m = E.delegateType || k;
                            Da.test(m + k) || (h = h.parentNode);
                            for (; h; h = h.parentNode) w.push(h), g = h;
                            if (g === (e.ownerDocument || Q)) w.push(g.defaultView || g.parentWindow || c)
                        }
                        for (g = 0;
                            (h = w[g++]) && !b.isPropagationStopped();)
                            if (b.type = 1 < g ? m : E.bindType || k, (s = (U.get(h, "events") || {})[b.type] && U.get(h, "handle")) && s.apply(h, d), (s = q && h[q]) && s.apply && u.acceptData(h)) b.result = s.apply(h, d), !1 === b.result && b.preventDefault();
                        b.type = k;
                        if (!f && !b.isDefaultPrevented() && (!E._default || !1 === E._default.apply(w.pop(),
                            d)) && u.acceptData(e) && q && u.isFunction(e[k]) && !u.isWindow(e))(g = e[q]) && (e[q] = null), u.event.triggered = k, e[k](), u.event.triggered = void 0, g && (e[q] = g);
                        return b.result
                    }
            },
            dispatch: function(b) {
                b = u.event.fix(b);
                var d, e, f, c, g = [],
                    h = la.call(arguments);
                d = (U.get(this, "events") || {})[b.type] || [];
                var m = u.event.special[b.type] || {};
                h[0] = b;
                b.delegateTarget = this;
                if (!(m.preDispatch && !1 === m.preDispatch.call(this, b))) {
                    g = u.event.handlers.call(this, b, d);
                    for (d = 0;
                        (c = g[d++]) && !b.isPropagationStopped();) {
                        b.currentTarget = c.elem;
                        for (e = 0;
                            (f = c.handlers[e++]) && !b.isImmediatePropagationStopped();)
                            if (!b.namespace_re || b.namespace_re.test(f.namespace))
                                if (b.handleObj = f, b.data = f.data, f = ((u.event.special[f.origType] || {}).handle || f.handler).apply(c.elem, h), void 0 !== f && !1 === (b.result = f)) b.preventDefault(), b.stopPropagation()
                    }
                    m.postDispatch && m.postDispatch.call(this, b);
                    return b.result
                }
            },
            handlers: function(b, d) {
                var e, f, c, g, h = [],
                    m = d.delegateCount,
                    q = b.target;
                if (m && q.nodeType && (!b.button || "click" !== b.type))
                    for (; q !== this; q = q.parentNode || this)
                        if (!0 !==
                            q.disabled || "click" !== b.type) {
                            f = [];
                            for (e = 0; e < m; e++) g = d[e], c = g.selector + " ", void 0 === f[c] && (f[c] = g.needsContext ? 0 <= u(c, this).index(q) : u.find(c, this, null, [q]).length), f[c] && f.push(g);
                            f.length && h.push({
                                elem: q,
                                handlers: f
                            })
                        }
                m < d.length && h.push({
                    elem: this,
                    handlers: d.slice(m)
                });
                return h
            },
            props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
            fixHooks: {},
            keyHooks: {
                props: ["char", "charCode", "key", "keyCode"],
                filter: function(b, d) {
                    null ==
                        b.which && (b.which = null != d.charCode ? d.charCode : d.keyCode);
                    return b
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function(b, d) {
                    var e, f, c = d.button;
                    null == b.pageX && null != d.clientX && (e = b.target.ownerDocument || Q, f = e.documentElement, e = e.body, b.pageX = d.clientX + (f && f.scrollLeft || e && e.scrollLeft || 0) - (f && f.clientLeft || e && e.clientLeft || 0), b.pageY = d.clientY + (f && f.scrollTop || e && e.scrollTop || 0) - (f && f.clientTop || e && e.clientTop || 0));
                    !b.which &&
                        void 0 !== c && (b.which = c & 1 ? 1 : c & 2 ? 3 : c & 4 ? 2 : 0);
                    return b
                }
            },
            fix: function(b) {
                if (b[u.expando]) return b;
                var d, e, f;
                d = b.type;
                var c = b,
                    g = this.fixHooks[d];
                g || (this.fixHooks[d] = g = Fa.test(d) ? this.mouseHooks : Ca.test(d) ? this.keyHooks : {});
                f = g.props ? this.props.concat(g.props) : this.props;
                b = new u.Event(c);
                for (d = f.length; d--;) e = f[d], b[e] = c[e];
                b.target || (b.target = Q);
                3 === b.target.nodeType && (b.target = b.target.parentNode);
                return g.filter ? g.filter(b, c) : b
            },
            special: {
                load: {
                    noBubble: !0
                },
                focus: {
                    trigger: function() {
                        if (this !== k() && this.focus) return this.focus(), !1
                    },
                    delegateType: "focusin"
                },
                blur: {
                    trigger: function() {
                        if (this === k() && this.blur) return this.blur(), !1
                    },
                    delegateType: "focusout"
                },
                click: {
                    trigger: function() {
                        if ("checkbox" === this.type && this.click && u.nodeName(this, "input")) return this.click(), !1
                    },
                    _default: function(b) {
                        return u.nodeName(b.target, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(b) {
                        void 0 !== b.result && (b.originalEvent.returnValue = b.result)
                    }
                }
            },
            simulate: function(b, d, e, f) {
                b = u.extend(new u.Event, e, {
                    type: b,
                    isSimulated: !0,
                    originalEvent: {}
                });
                f ? u.event.trigger(b,
                    null, d) : u.event.dispatch.call(d, b);
                b.isDefaultPrevented() && e.preventDefault()
            }
        };
        u.removeEvent = function(b, d, e) {
            b.removeEventListener && b.removeEventListener(d, e, !1)
        };
        u.Event = function(b, d) {
            if (!(this instanceof u.Event)) return new u.Event(b, d);
            b && b.type ? (this.originalEvent = b, this.type = b.type, this.isDefaultPrevented = b.defaultPrevented || void 0 === b.defaultPrevented && b.getPreventDefault && b.getPreventDefault() ? s : w) : this.type = b;
            d && u.extend(this, d);
            this.timeStamp = b && b.timeStamp || u.now();
            this[u.expando] = !0
        };
        u.Event.prototype = {
            isDefaultPrevented: w,
            isPropagationStopped: w,
            isImmediatePropagationStopped: w,
            preventDefault: function() {
                var b = this.originalEvent;
                this.isDefaultPrevented = s;
                b && b.preventDefault && b.preventDefault()
            },
            stopPropagation: function() {
                var b = this.originalEvent;
                this.isPropagationStopped = s;
                b && b.stopPropagation && b.stopPropagation()
            },
            stopImmediatePropagation: function() {
                this.isImmediatePropagationStopped = s;
                this.stopPropagation()
            }
        };
        u.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout"
        }, function(b, d) {
            u.event.special[b] = {
                delegateType: d,
                bindType: d,
                handle: function(b) {
                    var e, f = b.relatedTarget,
                        c = b.handleObj;
                    if (!f || f !== this && !u.contains(this, f)) b.type = c.origType, e = c.handler.apply(this, arguments), b.type = d;
                    return e
                }
            }
        });
        O.focusinBubbles || u.each({
            focus: "focusin",
            blur: "focusout"
        }, function(b, d) {
            var e = function(b) {
                u.event.simulate(d, b.target, u.event.fix(b), !0)
            };
            u.event.special[d] = {
                setup: function() {
                    var f = this.ownerDocument || this,
                        c = U.access(f, d);
                    c || f.addEventListener(b, e, !0);
                    U.access(f, d, (c || 0) + 1)
                },
                teardown: function() {
                    var f = this.ownerDocument ||
                        this,
                        c = U.access(f, d) - 1;
                    c ? U.access(f, d, c) : (f.removeEventListener(b, e, !0), U.remove(f, d))
                }
            }
        });
        u.fn.extend({
            on: function(b, d, e, f, c) {
                var g, h;
                if ("object" === typeof b) {
                    "string" !== typeof d && (e = e || d, d = void 0);
                    for (h in b) this.on(h, d, e, b[h], c);
                    return this
                }
                null == e && null == f ? (f = d, e = d = void 0) : null == f && ("string" === typeof d ? (f = e, e = void 0) : (f = e, e = d, d = void 0));
                if (!1 === f) f = w;
                else if (!f) return this;
                1 === c && (g = f, f = function(b) {
                    u().off(b);
                    return g.apply(this, arguments)
                }, f.guid = g.guid || (g.guid = u.guid++));
                return this.each(function() {
                    u.event.add(this,
                        b, f, e, d)
                })
            },
            one: function(b, d, e, f) {
                return this.on(b, d, e, f, 1)
            },
            off: function(b, d, e) {
                var f;
                if (b && b.preventDefault && b.handleObj) return f = b.handleObj, u(b.delegateTarget).off(f.namespace ? f.origType + "." + f.namespace : f.origType, f.selector, f.handler), this;
                if ("object" === typeof b) {
                    for (f in b) this.off(f, d, b[f]);
                    return this
                }
                if (!1 === d || "function" === typeof d) e = d, d = void 0;
                !1 === e && (e = w);
                return this.each(function() {
                    u.event.remove(this, b, e, d)
                })
            },
            trigger: function(b, d) {
                return this.each(function() {
                    u.event.trigger(b, d, this)
                })
            },
            triggerHandler: function(b, d) {
                var e = this[0];
                if (e) return u.event.trigger(b, d, e, !0)
            }
        });
        var Ga = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
            Ha = /<([\w:]+)/,
            Ja = /<|&#?\w+;/,
            La = /<(?:script|style|link)/i,
            Ma = /checked\s*(?:[^=]|=\s*.checked.)/i,
            Na = /^$|\/(?:java|ecma)script/i,
            Wa = /^true\/(.*)/,
            Za = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
            Ya = {
                option: [1, "<select multiple='multiple'>", "</select>"],
                thead: [1, "<table>", "</table>"],
                col: [2, "<table><colgroup>", "</colgroup></table>"],
                tr: [2,
                    "<table><tbody>", "</tbody></table>"
                ],
                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                _default: [0, "", ""]
            };
        Ya.optgroup = Ya.option;
        Ya.tbody = Ya.tfoot = Ya.colgroup = Ya.caption = Ya.thead;
        Ya.th = Ya.td;
        u.extend({
            clone: function(b, d, e) {
                var f, c, g, h, m = b.cloneNode(!0),
                    q = u.contains(b.ownerDocument, b);
                if (!O.noCloneChecked && (1 === b.nodeType || 11 === b.nodeType) && !u.isXMLDoc(b)) {
                    h = J(m);
                    g = J(b);
                    f = 0;
                    for (c = g.length; f < c; f++) {
                        var s = g[f],
                            w = h[f],
                            k = w.nodeName.toLowerCase();
                        if ("input" === k && Ba.test(s.type)) w.checked = s.checked;
                        else if ("input" ===
                            k || "textarea" === k) w.defaultValue = s.defaultValue
                    }
                }
                if (d)
                    if (e) {
                        g = g || J(b);
                        h = h || J(m);
                        f = 0;
                        for (c = g.length; f < c; f++) N(g[f], h[f])
                    } else N(b, m);
                h = J(m, "script");
                0 < h.length && E(h, !q && J(b, "script"));
                return m
            },
            buildFragment: function(b, d, e, f) {
                for (var c, g, h, m = d.createDocumentFragment(), q = [], s = 0, w = b.length; s < w; s++)
                    if ((c = b[s]) || 0 === c)
                        if ("object" === u.type(c)) u.merge(q, c.nodeType ? [c] : c);
                        else if (Ja.test(c)) {
                    g = g || m.appendChild(d.createElement("div"));
                    h = (Ha.exec(c) || ["", ""])[1].toLowerCase();
                    h = Ya[h] || Ya._default;
                    g.innerHTML =
                        h[1] + c.replace(Ga, "<$1></$2>") + h[2];
                    for (h = h[0]; h--;) g = g.lastChild;
                    u.merge(q, g.childNodes);
                    g = m.firstChild;
                    g.textContent = ""
                } else q.push(d.createTextNode(c));
                m.textContent = "";
                for (s = 0; c = q[s++];)
                    if (!(f && -1 !== u.inArray(c, f)) && (b = u.contains(c.ownerDocument, c), g = J(m.appendChild(c), "script"), b && E(g), e))
                        for (h = 0; c = g[h++];) Na.test(c.type || "") && e.push(c);
                return m
            },
            cleanData: function(b) {
                for (var d, e, f, c, g, h, m = u.event.special, q = 0; void 0 !== (e = b[q]); q++) {
                    if (u.acceptData(e) && (g = e[U.expando]) && (d = U.cache[g])) {
                        f = Object.keys(d.events || {});
                        if (f.length)
                            for (h = 0; void 0 !== (c = f[h]); h++) m[c] ? u.event.remove(e, c) : u.removeEvent(e, c, d.handle);
                        U.cache[g] && delete U.cache[g]
                    }
                    delete W.cache[e[W.expando]]
                }
            }
        });
        u.fn.extend({
            text: function(b) {
                return ma(this, function(b) {
                    return void 0 === b ? u.text(this) : this.empty().each(function() {
                        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) this.textContent = b
                    })
                }, null, b, arguments.length)
            },
            append: function() {
                return this.domManip(arguments, function(b) {
                    (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) &&
                    l(this, b).appendChild(b)
                })
            },
            prepend: function() {
                return this.domManip(arguments, function(b) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var d = l(this, b);
                        d.insertBefore(b, d.firstChild)
                    }
                })
            },
            before: function() {
                return this.domManip(arguments, function(b) {
                    this.parentNode && this.parentNode.insertBefore(b, this)
                })
            },
            after: function() {
                return this.domManip(arguments, function(b) {
                    this.parentNode && this.parentNode.insertBefore(b, this.nextSibling)
                })
            },
            remove: function(b, d) {
                for (var e, f = b ? u.filter(b, this) :
                    this, c = 0; null != (e = f[c]); c++) !d && 1 === e.nodeType && u.cleanData(J(e)), e.parentNode && (d && u.contains(e.ownerDocument, e) && E(J(e, "script")), e.parentNode.removeChild(e));
                return this
            },
            empty: function() {
                for (var b, d = 0; null != (b = this[d]); d++) 1 === b.nodeType && (u.cleanData(J(b, !1)), b.textContent = "");
                return this
            },
            clone: function(b, d) {
                b = null == b ? !1 : b;
                d = null == d ? b : d;
                return this.map(function() {
                    return u.clone(this, b, d)
                })
            },
            html: function(b) {
                return ma(this, function(b) {
                    var d = this[0] || {},
                        e = 0,
                        f = this.length;
                    if (void 0 === b && 1 === d.nodeType) return d.innerHTML;
                    if ("string" === typeof b && !La.test(b) && !Ya[(Ha.exec(b) || ["", ""])[1].toLowerCase()]) {
                        b = b.replace(Ga, "<$1></$2>");
                        try {
                            for (; e < f; e++) d = this[e] || {}, 1 === d.nodeType && (u.cleanData(J(d, !1)), d.innerHTML = b);
                            d = 0
                        } catch (c) {}
                    }
                    d && this.empty().append(b)
                }, null, b, arguments.length)
            },
            replaceWith: function() {
                var b = arguments[0];
                this.domManip(arguments, function(d) {
                    b = this.parentNode;
                    u.cleanData(J(this));
                    b && b.replaceChild(d, this)
                });
                return b && (b.length || b.nodeType) ? this : this.remove()
            },
            detach: function(b) {
                return this.remove(b, !0)
            },
            domManip: function(b, d) {
                b = qb.apply([], b);
                var e, f, c, g, h = 0,
                    m = this.length,
                    q = this,
                    s = m - 1,
                    E = b[0],
                    w = u.isFunction(E);
                if (w || 1 < m && "string" === typeof E && !O.checkClone && Ma.test(E)) return this.each(function(e) {
                    var f = q.eq(e);
                    w && (b[0] = E.call(this, e, f.html()));
                    f.domManip(b, d)
                });
                if (m && (e = u.buildFragment(b, this[0].ownerDocument, !1, this), f = e.firstChild, 1 === e.childNodes.length && (e = f), f)) {
                    f = u.map(J(e, "script"), C);
                    for (c = f.length; h < m; h++) g = e, h !== s && (g = u.clone(g, !0, !0), c && u.merge(f, J(g, "script"))), d.call(this[h], g, h);
                    if (c) {
                        e =
                            f[f.length - 1].ownerDocument;
                        u.map(f, G);
                        for (h = 0; h < c; h++)
                            if (g = f[h], Na.test(g.type || "") && !U.access(g, "globalEval") && u.contains(e, g)) g.src ? u._evalUrl && u._evalUrl(g.src) : u.globalEval(g.textContent.replace(Za, ""))
                    }
                }
                return this
            }
        });
        u.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(b, d) {
            u.fn[b] = function(b) {
                for (var e = [], f = u(b), c = f.length - 1, g = 0; g <= c; g++) b = g === c ? this : this.clone(!0), u(f[g])[d](b), H.apply(e, b.get());
                return this.pushStack(e)
            }
        });
        var Ia, Sa = {},
            Va = /^margin/,
            Qa = RegExp("^(" + va + ")(?!px)[a-z%]+$", "i"),
            Pa = function(b) {
                return b.ownerDocument.defaultView.getComputedStyle(b, null)
            };
        (function() {
            function b() {
                h.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%";
                f.appendChild(g);
                var m = c.getComputedStyle(h, null);
                d = "1%" !== m.top;
                e = "4px" === m.width;
                f.removeChild(g)
            }
            var d, e, f = Q.documentElement,
                g = Q.createElement("div"),
                h = Q.createElement("div");
            h.style.backgroundClip = "content-box";
            h.cloneNode(!0).style.backgroundClip = "";
            O.clearCloneStyle = "content-box" === h.style.backgroundClip;
            g.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";
            g.appendChild(h);
            c.getComputedStyle && u.extend(O, {
                pixelPosition: function() {
                    b();
                    return d
                },
                boxSizingReliable: function() {
                    null == e && b();
                    return e
                },
                reliableMarginRight: function() {
                    var b;
                    b = h.appendChild(Q.createElement("div"));
                    b.style.cssText = h.style.cssText =
                        "padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box";
                    b.style.marginRight = b.style.width = "0";
                    h.style.width = "1px";
                    f.appendChild(g);
                    b = !parseFloat(c.getComputedStyle(b, null).marginRight);
                    f.removeChild(g);
                    h.innerHTML = "";
                    return b
                }
            })
        })();
        u.swap = function(b, d, e, f) {
            var c, g = {};
            for (c in d) g[c] = b.style[c], b.style[c] = d[c];
            e = e.apply(b, f || []);
            for (c in d) b.style[c] = g[c];
            return e
        };
        var cb = /^(none|table(?!-c[ea]).+)/,
            eb = RegExp("^(" + va + ")(.*)$", "i"),
            gb = RegExp("^([+-])=(" + va + ")", "i"),
            ib = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            },
            $a = {
                letterSpacing: 0,
                fontWeight: 400
            },
            bb = ["Webkit", "O", "Moz", "ms"];
        u.extend({
            cssHooks: {
                opacity: {
                    get: function(b, d) {
                        if (d) {
                            var e = ja(b, "opacity");
                            return "" === e ? "1" : e
                        }
                    }
                }
            },
            cssNumber: {
                columnCount: !0,
                fillOpacity: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {
                "float": "cssFloat"
            },
            style: function(b, d, e, f) {
                if (b && !(3 === b.nodeType || 8 === b.nodeType || !b.style)) {
                    var c, g, h,
                        m = u.camelCase(d),
                        q = b.style;
                    d = u.cssProps[m] || (u.cssProps[m] = n(q, m));
                    h = u.cssHooks[d] || u.cssHooks[m];
                    if (void 0 !== e) {
                        g = typeof e;
                        if ("string" === g && (c = gb.exec(e))) e = (c[1] + 1) * c[2] + parseFloat(u.css(b, d)), g = "number";
                        if (!(null == e || e !== e))
                            if ("number" === g && !u.cssNumber[m] && (e += "px"), !O.clearCloneStyle && ("" === e && 0 === d.indexOf("background")) && (q[d] = "inherit"), !h || !("set" in h) || void 0 !== (e = h.set(b, e, f))) q[d] = "", q[d] = e
                    } else return h && "get" in h && void 0 !== (c = h.get(b, !1, f)) ? c : q[d]
                }
            },
            css: function(b, d, e, f) {
                var c, g;
                g = u.camelCase(d);
                d = u.cssProps[g] || (u.cssProps[g] = n(b.style, g));
                (g = u.cssHooks[d] || u.cssHooks[g]) && "get" in g && (c = g.get(b, !0, e));
                void 0 === c && (c = ja(b, d, f));
                "normal" === c && d in $a && (c = $a[d]);
                return "" === e || e ? (b = parseFloat(c), !0 === e || u.isNumeric(b) ? b || 0 : c) : c
            }
        });
        u.each(["height", "width"], function(b, d) {
            u.cssHooks[d] = {
                get: function(b, e, f) {
                    if (e) return 0 === b.offsetWidth && cb.test(u.css(b, "display")) ? u.swap(b, ib, function() {
                        return x(b, d, f)
                    }) : x(b, d, f)
                },
                set: function(b, e, f) {
                    var c = f && Pa(b);
                    return t(b, e, f ? v(b, d, f, "border-box" === u.css(b,
                        "boxSizing", !1, c), c) : 0)
                }
            }
        });
        u.cssHooks.marginRight = z(O.reliableMarginRight, function(b, d) {
            if (d) return u.swap(b, {
                display: "inline-block"
            }, ja, [b, "marginRight"])
        });
        u.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(b, d) {
            u.cssHooks[b + d] = {
                expand: function(e) {
                    var f = 0,
                        c = {};
                    for (e = "string" === typeof e ? e.split(" ") : [e]; 4 > f; f++) c[b + ua[f] + d] = e[f] || e[f - 2] || e[0];
                    return c
                }
            };
            Va.test(b) || (u.cssHooks[b + d].set = t)
        });
        u.fn.extend({
            css: function(b, d) {
                return ma(this, function(b, d, e) {
                    var f, c = {},
                        g = 0;
                    if (u.isArray(d)) {
                        e = Pa(b);
                        for (f = d.length; g < f; g++) c[d[g]] = u.css(b, d[g], !1, e);
                        return c
                    }
                    return void 0 !== e ? u.style(b, d, e) : u.css(b, d)
                }, b, d, 1 < arguments.length)
            },
            show: function() {
                return y(this, !0)
            },
            hide: function() {
                return y(this)
            },
            toggle: function(b) {
                return "boolean" === typeof b ? b ? this.show() : this.hide() : this.each(function() {
                    xa(this) ? u(this).show() : u(this).hide()
                })
            }
        });
        u.Tween = A;
        A.prototype = {
            constructor: A,
            init: function(b, d, e, f, c, g) {
                this.elem = b;
                this.prop = e;
                this.easing = c || "swing";
                this.options = d;
                this.start = this.now = this.cur();
                this.end = f;
                this.unit = g || (u.cssNumber[e] ? "" : "px")
            },
            cur: function() {
                var b = A.propHooks[this.prop];
                return b && b.get ? b.get(this) : A.propHooks._default.get(this)
            },
            run: function(b) {
                var d, e = A.propHooks[this.prop];
                this.pos = this.options.duration ? d = u.easing[this.easing](b, this.options.duration * b, 0, 1, this.options.duration) : d = b;
                this.now = (this.end - this.start) * d + this.start;
                this.options.step && this.options.step.call(this.elem, this.now, this);
                e && e.set ? e.set(this) : A.propHooks._default.set(this);
                return this
            }
        };
        A.prototype.init.prototype =
            A.prototype;
        A.propHooks = {
            _default: {
                get: function(b) {
                    if (null != b.elem[b.prop] && (!b.elem.style || null == b.elem.style[b.prop])) return b.elem[b.prop];
                    b = u.css(b.elem, b.prop, "");
                    return !b || "auto" === b ? 0 : b
                },
                set: function(b) {
                    if (u.fx.step[b.prop]) u.fx.step[b.prop](b);
                    else b.elem.style && (null != b.elem.style[u.cssProps[b.prop]] || u.cssHooks[b.prop]) ? u.style(b.elem, b.prop, b.now + b.unit) : b.elem[b.prop] = b.now
                }
            }
        };
        A.propHooks.scrollTop = A.propHooks.scrollLeft = {
            set: function(b) {
                b.elem.nodeType && b.elem.parentNode && (b.elem[b.prop] =
                    b.now)
            }
        };
        u.easing = {
            linear: function(b) {
                return b
            },
            swing: function(b) {
                return 0.5 - Math.cos(b * Math.PI) / 2
            }
        };
        u.fx = A.prototype.init;
        u.fx.step = {};
        var Ka, Ua, mb = /^(?:toggle|show|hide)$/,
            db = RegExp("^(?:([+-])=|)(" + va + ")([a-z%]*)$", "i"),
            ob = /queueHooks$/,
            Xa = [
                function(b, d, e) {
                    var f, c, g, h, m, q = this,
                        s = {},
                        E = b.style,
                        w = b.nodeType && xa(b),
                        k = U.get(b, "fxshow");
                    e.queue || (h = u._queueHooks(b, "fx"), null == h.unqueued && (h.unqueued = 0, m = h.empty.fire, h.empty.fire = function() {
                        h.unqueued || m()
                    }), h.unqueued++, q.always(function() {
                        q.always(function() {
                            h.unqueued--;
                            u.queue(b, "fx").length || h.empty.fire()
                        })
                    }));
                    if (1 === b.nodeType && ("height" in d || "width" in d)) e.overflow = [E.overflow, E.overflowX, E.overflowY], c = u.css(b, "display"), "none" === c && (c = ea(b.nodeName)), "inline" === c && "none" === u.css(b, "float") && (E.display = "inline-block");
                    e.overflow && (E.overflow = "hidden", q.always(function() {
                        E.overflow = e.overflow[0];
                        E.overflowX = e.overflow[1];
                        E.overflowY = e.overflow[2]
                    }));
                    for (f in d)
                        if (c = d[f], mb.exec(c)) {
                            delete d[f];
                            g = g || "toggle" === c;
                            if (c === (w ? "hide" : "show"))
                                if ("show" === c && k && void 0 !==
                                    k[f]) w = !0;
                                else continue;
                            s[f] = k && k[f] || u.style(b, f)
                        }
                    if (!u.isEmptyObject(s))
                        for (f in k ? "hidden" in k && (w = k.hidden) : k = U.access(b, "fxshow", {}), g && (k.hidden = !w), w ? u(b).show() : q.done(function() {
                            u(b).hide()
                        }), q.done(function() {
                            var d;
                            U.remove(b, "fxshow");
                            for (d in s) u.style(b, d, s[d])
                        }), s) d = Oa(w ? k[f] : 0, f, q), f in k || (k[f] = d.start, w && (d.end = d.start, d.start = "width" === f || "height" === f ? 1 : 0))
                }
            ],
            Ra = {
                "*": [
                    function(b, d) {
                        var e = this.createTween(b, d),
                            f = e.cur(),
                            c = db.exec(d),
                            g = c && c[3] || (u.cssNumber[b] ? "" : "px"),
                            h = (u.cssNumber[b] ||
                                "px" !== g && +f) && db.exec(u.css(e.elem, b)),
                            m = 1,
                            q = 20;
                        if (h && h[3] !== g) {
                            g = g || h[3];
                            c = c || [];
                            h = +f || 1;
                            do m = m || ".5", h /= m, u.style(e.elem, b, h + g); while (m !== (m = e.cur() / f) && 1 !== m && --q)
                        }
                        c && (h = e.start = +h || +f || 0, e.unit = g, e.end = c[1] ? h + (c[1] + 1) * c[2] : +c[2]);
                        return e
                    }
                ]
            };
        u.Animation = u.extend(B, {
            tweener: function(b, d) {
                u.isFunction(b) ? (d = b, b = ["*"]) : b = b.split(" ");
                for (var e, f = 0, c = b.length; f < c; f++) e = b[f], Ra[e] = Ra[e] || [], Ra[e].unshift(d)
            },
            prefilter: function(b, d) {
                d ? Xa.unshift(b) : Xa.push(b)
            }
        });
        u.speed = function(b, d, e) {
            var f = b && "object" ===
                typeof b ? u.extend({}, b) : {
                    complete: e || !e && d || u.isFunction(b) && b,
                    duration: b,
                    easing: e && d || d && !u.isFunction(d) && d
                };
            f.duration = u.fx.off ? 0 : "number" === typeof f.duration ? f.duration : f.duration in u.fx.speeds ? u.fx.speeds[f.duration] : u.fx.speeds._default;
            if (null == f.queue || !0 === f.queue) f.queue = "fx";
            f.old = f.complete;
            f.complete = function() {
                u.isFunction(f.old) && f.old.call(this);
                f.queue && u.dequeue(this, f.queue)
            };
            return f
        };
        u.fn.extend({
            fadeTo: function(b, d, e, f) {
                return this.filter(xa).css("opacity", 0).show().end().animate({
                        opacity: d
                    },
                    b, e, f)
            },
            animate: function(b, d, e, f) {
                var c = u.isEmptyObject(b),
                    g = u.speed(d, e, f);
                d = function() {
                    var d = B(this, u.extend({}, b), g);
                    (c || U.get(this, "finish")) && d.stop(!0)
                };
                d.finish = d;
                return c || !1 === g.queue ? this.each(d) : this.queue(g.queue, d)
            },
            stop: function(b, d, e) {
                var f = function(b) {
                    var d = b.stop;
                    delete b.stop;
                    d(e)
                };
                "string" !== typeof b && (e = d, d = b, b = void 0);
                d && !1 !== b && this.queue(b || "fx", []);
                return this.each(function() {
                    var d = !0,
                        c = null != b && b + "queueHooks",
                        g = u.timers,
                        h = U.get(this);
                    if (c) h[c] && h[c].stop && f(h[c]);
                    else
                        for (c in h) h[c] &&
                            (h[c].stop && ob.test(c)) && f(h[c]);
                    for (c = g.length; c--;)
                        if (g[c].elem === this && (null == b || g[c].queue === b)) g[c].anim.stop(e), d = !1, g.splice(c, 1);
                        (d || !e) && u.dequeue(this, b)
                })
            },
            finish: function(b) {
                !1 !== b && (b = b || "fx");
                return this.each(function() {
                    var d, e = U.get(this),
                        f = e[b + "queue"];
                    d = e[b + "queueHooks"];
                    var c = u.timers,
                        g = f ? f.length : 0;
                    e.finish = !0;
                    u.queue(this, b, []);
                    d && d.stop && d.stop.call(this, !0);
                    for (d = c.length; d--;) c[d].elem === this && c[d].queue === b && (c[d].anim.stop(!0), c.splice(d, 1));
                    for (d = 0; d < g; d++) f[d] && f[d].finish &&
                        f[d].finish.call(this);
                    delete e.finish
                })
            }
        });
        u.each(["toggle", "show", "hide"], function(b, d) {
            var e = u.fn[d];
            u.fn[d] = function(b, f, c) {
                return null == b || "boolean" === typeof b ? e.apply(this, arguments) : this.animate(qa(d, !0), b, f, c)
            }
        });
        u.each({
            slideDown: qa("show"),
            slideUp: qa("hide"),
            slideToggle: qa("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(b, d) {
            u.fn[b] = function(b, e, f) {
                return this.animate(d, b, e, f)
            }
        });
        u.timers = [];
        u.fx.tick = function() {
            var b, d = 0,
                e = u.timers;
            for (Ka =
                u.now(); d < e.length; d++) b = e[d], !b() && e[d] === b && e.splice(d--, 1);
            e.length || u.fx.stop();
            Ka = void 0
        };
        u.fx.timer = function(b) {
            u.timers.push(b);
            b() ? u.fx.start() : u.timers.pop()
        };
        u.fx.interval = 13;
        u.fx.start = function() {
            Ua || (Ua = setInterval(u.fx.tick, u.fx.interval))
        };
        u.fx.stop = function() {
            clearInterval(Ua);
            Ua = null
        };
        u.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        };
        u.fn.delay = function(b, d) {
            b = u.fx ? u.fx.speeds[b] || b : b;
            return this.queue(d || "fx", function(d, e) {
                var f = setTimeout(d, b);
                e.stop = function() {
                    clearTimeout(f)
                }
            })
        };
        (function() {
            var b =
                Q.createElement("input"),
                d = Q.createElement("select"),
                e = d.appendChild(Q.createElement("option"));
            b.type = "checkbox";
            O.checkOn = "" !== b.value;
            O.optSelected = e.selected;
            d.disabled = !0;
            O.optDisabled = !e.disabled;
            b = Q.createElement("input");
            b.value = "t";
            b.type = "radio";
            O.radioValue = "t" === b.value
        })();
        var lb, Ta = u.expr.attrHandle;
        u.fn.extend({
            attr: function(b, d) {
                return ma(this, u.attr, b, d, 1 < arguments.length)
            },
            removeAttr: function(b) {
                return this.each(function() {
                    u.removeAttr(this, b)
                })
            }
        });
        u.extend({
            attr: function(b, d, e) {
                var f,
                    c, g = b.nodeType;
                if (b && !(3 === g || 8 === g || 2 === g)) {
                    if ("undefined" === typeof b.getAttribute) return u.prop(b, d, e);
                    if (1 !== g || !u.isXMLDoc(b)) d = d.toLowerCase(), f = u.attrHooks[d] || (u.expr.match.bool.test(d) ? lb : void 0);
                    if (void 0 !== e)
                        if (null === e) u.removeAttr(b, d);
                        else {
                            if (f && "set" in f && void 0 !== (c = f.set(b, e, d))) return c;
                            b.setAttribute(d, e + "");
                            return e
                        } else {
                        if (f && "get" in f && null !== (c = f.get(b, d))) return c;
                        c = u.find.attr(b, d);
                        return null == c ? void 0 : c
                    }
                }
            },
            removeAttr: function(b, d) {
                var e, f, c = 0,
                    g = d && d.match(ia);
                if (g && 1 === b.nodeType)
                    for (; e =
                        g[c++];) f = u.propFix[e] || e, u.expr.match.bool.test(e) && (b[f] = !1), b.removeAttribute(e)
            },
            attrHooks: {
                type: {
                    set: function(b, d) {
                        if (!O.radioValue && "radio" === d && u.nodeName(b, "input")) {
                            var e = b.value;
                            b.setAttribute("type", d);
                            e && (b.value = e);
                            return d
                        }
                    }
                }
            }
        });
        lb = {
            set: function(b, d, e) {
                !1 === d ? u.removeAttr(b, e) : b.setAttribute(e, e);
                return e
            }
        };
        u.each(u.expr.match.bool.source.match(/\w+/g), function(b, d) {
            var e = Ta[d] || u.find.attr;
            Ta[d] = function(b, d, f) {
                var c, g;
                f || (g = Ta[d], Ta[d] = c, c = null != e(b, d, f) ? d.toLowerCase() : null, Ta[d] =
                    g);
                return c
            }
        });
        var ub = /^(?:input|select|textarea|button)$/i;
        u.fn.extend({
            prop: function(b, d) {
                return ma(this, u.prop, b, d, 1 < arguments.length)
            },
            removeProp: function(b) {
                return this.each(function() {
                    delete this[u.propFix[b] || b]
                })
            }
        });
        u.extend({
            propFix: {
                "for": "htmlFor",
                "class": "className"
            },
            prop: function(b, d, e) {
                var f, c, g;
                g = b.nodeType;
                if (b && !(3 === g || 8 === g || 2 === g)) {
                    if (g = 1 !== g || !u.isXMLDoc(b)) d = u.propFix[d] || d, c = u.propHooks[d];
                    return void 0 !== e ? c && "set" in c && void 0 !== (f = c.set(b, e, d)) ? f : b[d] = e : c && "get" in c && null !==
                        (f = c.get(b, d)) ? f : b[d]
                }
            },
            propHooks: {
                tabIndex: {
                    get: function(b) {
                        return b.hasAttribute("tabindex") || ub.test(b.nodeName) || b.href ? b.tabIndex : -1
                    }
                }
            }
        });
        O.optSelected || (u.propHooks.selected = {
            get: function(b) {
                (b = b.parentNode) && b.parentNode && b.parentNode.selectedIndex;
                return null
            }
        });
        u.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "), function() {
            u.propFix[this.toLowerCase()] = this
        });
        var fb = /[\t\r\n\f]/g;
        u.fn.extend({
            addClass: function(b) {
                var d,
                    e, f, c, g;
                d = "string" === typeof b && b;
                var h = 0,
                    m = this.length;
                if (u.isFunction(b)) return this.each(function(d) {
                    u(this).addClass(b.call(this, d, this.className))
                });
                if (d)
                    for (d = (b || "").match(ia) || []; h < m; h++)
                        if (e = this[h], f = 1 === e.nodeType && (e.className ? (" " + e.className + " ").replace(fb, " ") : " ")) {
                            for (g = 0; c = d[g++];) 0 > f.indexOf(" " + c + " ") && (f += c + " ");
                            f = u.trim(f);
                            e.className !== f && (e.className = f)
                        }
                return this
            },
            removeClass: function(b) {
                var d, e, f, c, g;
                d = 0 === arguments.length || "string" === typeof b && b;
                var h = 0,
                    m = this.length;
                if (u.isFunction(b)) return this.each(function(d) {
                    u(this).removeClass(b.call(this,
                        d, this.className))
                });
                if (d)
                    for (d = (b || "").match(ia) || []; h < m; h++)
                        if (e = this[h], f = 1 === e.nodeType && (e.className ? (" " + e.className + " ").replace(fb, " ") : "")) {
                            for (g = 0; c = d[g++];)
                                for (; 0 <= f.indexOf(" " + c + " ");) f = f.replace(" " + c + " ", " ");
                            f = b ? u.trim(f) : "";
                            e.className !== f && (e.className = f)
                        }
                return this
            },
            toggleClass: function(b, d) {
                var e = typeof b;
                return "boolean" === typeof d && "string" === e ? d ? this.addClass(b) : this.removeClass(b) : u.isFunction(b) ? this.each(function(e) {
                        u(this).toggleClass(b.call(this, e, this.className, d), d)
                    }) :
                    this.each(function() {
                        if ("string" === e)
                            for (var d, f = 0, c = u(this), g = b.match(ia) || []; d = g[f++];) c.hasClass(d) ? c.removeClass(d) : c.addClass(d);
                        else if ("undefined" === e || "boolean" === e) this.className && U.set(this, "__className__", this.className), this.className = this.className || !1 === b ? "" : U.get(this, "__className__") || ""
                    })
            },
            hasClass: function(b) {
                b = " " + b + " ";
                for (var d = 0, e = this.length; d < e; d++)
                    if (1 === this[d].nodeType && 0 <= (" " + this[d].className + " ").replace(fb, " ").indexOf(b)) return !0;
                return !1
            }
        });
        var Ab = /\r/g;
        u.fn.extend({
            val: function(b) {
                var d,
                    e, f, c = this[0];
                if (arguments.length) return f = u.isFunction(b), this.each(function(e) {
                    if (1 === this.nodeType && (e = f ? b.call(this, e, u(this).val()) : b, null == e ? e = "" : "number" === typeof e ? e += "" : u.isArray(e) && (e = u.map(e, function(b) {
                        return null == b ? "" : b + ""
                    })), d = u.valHooks[this.type] || u.valHooks[this.nodeName.toLowerCase()], !d || !("set" in d) || void 0 === d.set(this, e, "value"))) this.value = e
                });
                if (c) {
                    if ((d = u.valHooks[c.type] || u.valHooks[c.nodeName.toLowerCase()]) && "get" in d && void 0 !== (e = d.get(c, "value"))) return e;
                    e = c.value;
                    return "string" === typeof e ? e.replace(Ab, "") : null == e ? "" : e
                }
            }
        });
        u.extend({
            valHooks: {
                select: {
                    get: function(b) {
                        for (var d, e = b.options, f = b.selectedIndex, c = (b = "select-one" === b.type || 0 > f) ? null : [], g = b ? f + 1 : e.length, h = 0 > f ? g : b ? f : 0; h < g; h++)
                            if (d = e[h], (d.selected || h === f) && (O.optDisabled ? !d.disabled : null === d.getAttribute("disabled")) && (!d.parentNode.disabled || !u.nodeName(d.parentNode, "optgroup"))) {
                                d = u(d).val();
                                if (b) return d;
                                c.push(d)
                            }
                        return c
                    },
                    set: function(b, d) {
                        for (var e, f, c = b.options, g = u.makeArray(d), h = c.length; h--;)
                            if (f =
                                c[h], f.selected = 0 <= u.inArray(u(f).val(), g)) e = !0;
                        e || (b.selectedIndex = -1);
                        return g
                    }
                }
            }
        });
        u.each(["radio", "checkbox"], function() {
            u.valHooks[this] = {
                set: function(b, d) {
                    if (u.isArray(d)) return b.checked = 0 <= u.inArray(u(b).val(), d)
                }
            };
            O.checkOn || (u.valHooks[this].get = function(b) {
                return null === b.getAttribute("value") ? "on" : b.value
            })
        });
        u.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
            function(b, d) {
                u.fn[d] = function(b, e) {
                    return 0 < arguments.length ? this.on(d, null, b, e) : this.trigger(d)
                }
            });
        u.fn.extend({
            hover: function(b, d) {
                return this.mouseenter(b).mouseleave(d || b)
            },
            bind: function(b, d, e) {
                return this.on(b, null, d, e)
            },
            unbind: function(b, d) {
                return this.off(b, null, d)
            },
            delegate: function(b, d, e, f) {
                return this.on(d, b, e, f)
            },
            undelegate: function(b, d, e) {
                return 1 === arguments.length ? this.off(b, "**") : this.off(d, b || "**", e)
            }
        });
        var hb = u.now(),
            jb = /\?/;
        u.parseJSON = function(b) {
            return JSON.parse(b + "")
        };
        u.parseXML =
            function(b) {
                var d, e;
                if (!b || "string" !== typeof b) return null;
                try {
                    e = new DOMParser, d = e.parseFromString(b, "text/xml")
                } catch (f) {
                    d = void 0
                }(!d || d.getElementsByTagName("parsererror").length) && u.error("Invalid XML: " + b);
                return d
            };
        var Kb, zb, Bb = /#.*$/,
            rb = /([?&])_=[^&]*/,
            Db = /^(.*?):[ \t]*([^\r\n]*)$/mg,
            Fb = /^(?:GET|HEAD)$/,
            Hb = /^\/\//,
            tb = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
            vb = {},
            nb = {},
            wb = "*/".concat("*");
        try {
            zb = location.href
        } catch (Rb) {
            zb = Q.createElement("a"), zb.href = "", zb = zb.href
        }
        Kb = tb.exec(zb.toLowerCase()) || [];
        u.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: zb,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Kb[1]),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": wb,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /xml/,
                    html: /html/,
                    json: /json/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": u.parseJSON,
                    "text xml": u.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(b, d) {
                return d ? L(L(b, u.ajaxSettings), d) : L(u.ajaxSettings, b)
            },
            ajaxPrefilter: D(vb),
            ajaxTransport: D(nb),
            ajax: function(b, d) {
                function e(b, d, h, q) {
                    var E, N, J, R;
                    R = d;
                    if (2 !== T) {
                        T = 2;
                        m && clearTimeout(m);
                        f = void 0;
                        g = q || "";
                        L.readyState = 0 < b ? 4 : 0;
                        q = 200 <= b && 300 > b || 304 === b;
                        if (h) {
                            J = w;
                            for (var z = L, ea, Y, n, ja, t = J.contents, Z = J.dataTypes;
                                "*" === Z[0];) Z.shift(), void 0 === ea && (ea = J.mimeType || z.getResponseHeader("Content-Type"));
                            if (ea)
                                for (Y in t)
                                    if (t[Y] && t[Y].test(ea)) {
                                        Z.unshift(Y);
                                        break
                                    }
                            if (Z[0] in h) n = Z[0];
                            else {
                                for (Y in h) {
                                    if (!Z[0] || J.converters[Y + " " + Z[0]]) {
                                        n = Y;
                                        break
                                    }
                                    ja || (ja = Y)
                                }
                                n = n || ja
                            }
                            n ? (n !== Z[0] && Z.unshift(n), J = h[n]) : J = void 0
                        }
                        a: {
                            h = w;
                            ea = J;
                            Y = L;
                            n = q;
                            var qa, v, x, z = {},
                                t = h.dataTypes.slice();
                            if (t[1])
                                for (v in h.converters) z[v.toLowerCase()] = h.converters[v];
                            for (ja = t.shift(); ja;)
                                if (h.responseFields[ja] && (Y[h.responseFields[ja]] = ea), !x && (n && h.dataFilter) && (ea = h.dataFilter(ea, h.dataType)), x = ja, ja = t.shift())
                                    if ("*" === ja) ja = x;
                                    else if ("*" !==
                                x && x !== ja) {
                                v = z[x + " " + ja] || z["* " + ja];
                                if (!v)
                                    for (qa in z)
                                        if (J = qa.split(" "), J[1] === ja && (v = z[x + " " + J[0]] || z["* " + J[0]])) {
                                            !0 === v ? v = z[qa] : !0 !== z[qa] && (ja = J[0], t.unshift(J[1]));
                                            break
                                        }
                                if (!0 !== v)
                                    if (v && h["throws"]) ea = v(ea);
                                    else try {
                                        ea = v(ea)
                                    } catch (V) {
                                        J = {
                                            state: "parsererror",
                                            error: v ? V : "No conversion from " + x + " to " + ja
                                        };
                                        break a
                                    }
                            }
                            J = {
                                state: "success",
                                data: ea
                            }
                        }
                        if (q) w.ifModified && ((R = L.getResponseHeader("Last-Modified")) && (u.lastModified[c] = R), (R = L.getResponseHeader("etag")) && (u.etag[c] = R)), 204 === b || "HEAD" === w.type ?
                            R = "nocontent" : 304 === b ? R = "notmodified" : (R = J.state, E = J.data, N = J.error, q = !N);
                        else if (N = R, b || !R) R = "error", 0 > b && (b = 0);
                        L.status = b;
                        L.statusText = (d || R) + "";
                        q ? G.resolveWith(k, [E, R, L]) : G.rejectWith(k, [L, R, N]);
                        L.statusCode(I);
                        I = void 0;
                        s && l.trigger(q ? "ajaxSuccess" : "ajaxError", [L, w, q ? E : N]);
                        C.fireWith(k, [L, R]);
                        s && (l.trigger("ajaxComplete", [L, w]), --u.active || u.event.trigger("ajaxStop"))
                    }
                }
                "object" === typeof b && (d = b, b = void 0);
                d = d || {};
                var f, c, g, h, m, q, s, E, w = u.ajaxSetup({}, d),
                    k = w.context || w,
                    l = w.context && (k.nodeType || k.jquery) ?
                    u(k) : u.event,
                    G = u.Deferred(),
                    C = u.Callbacks("once memory"),
                    I = w.statusCode || {},
                    N = {},
                    J = {},
                    T = 0,
                    R = "canceled",
                    L = {
                        readyState: 0,
                        getResponseHeader: function(b) {
                            var d;
                            if (2 === T) {
                                if (!h)
                                    for (h = {}; d = Db.exec(g);) h[d[1].toLowerCase()] = d[2];
                                d = h[b.toLowerCase()]
                            }
                            return null == d ? null : d
                        },
                        getAllResponseHeaders: function() {
                            return 2 === T ? g : null
                        },
                        setRequestHeader: function(b, d) {
                            var e = b.toLowerCase();
                            T || (b = J[e] = J[e] || b, N[b] = d);
                            return this
                        },
                        overrideMimeType: function(b) {
                            T || (w.mimeType = b);
                            return this
                        },
                        statusCode: function(b) {
                            var d;
                            if (b)
                                if (2 > T)
                                    for (d in b) I[d] = [I[d], b[d]];
                                else L.always(b[L.status]);
                            return this
                        },
                        abort: function(b) {
                            b = b || R;
                            f && f.abort(b);
                            e(0, b);
                            return this
                        }
                    };
                G.promise(L).complete = C.add;
                L.success = L.done;
                L.error = L.fail;
                w.url = ((b || w.url || zb) + "").replace(Bb, "").replace(Hb, Kb[1] + "//");
                w.type = d.method || d.type || w.method || w.type;
                w.dataTypes = u.trim(w.dataType || "*").toLowerCase().match(ia) || [""];
                null == w.crossDomain && (q = tb.exec(w.url.toLowerCase()), w.crossDomain = !(!q || !(q[1] !== Kb[1] || q[2] !== Kb[2] || (q[3] || ("http:" === q[1] ? "80" :
                    "443")) !== (Kb[3] || ("http:" === Kb[1] ? "80" : "443")))));
                w.data && (w.processData && "string" !== typeof w.data) && (w.data = u.param(w.data, w.traditional));
                F(vb, w, d, L);
                if (2 === T) return L;
                (s = w.global) && 0 === u.active++ && u.event.trigger("ajaxStart");
                w.type = w.type.toUpperCase();
                w.hasContent = !Fb.test(w.type);
                c = w.url;
                w.hasContent || (w.data && (c = w.url += (jb.test(c) ? "&" : "?") + w.data, delete w.data), !1 === w.cache && (w.url = rb.test(c) ? c.replace(rb, "$1_=" + hb++) : c + (jb.test(c) ? "&" : "?") + "_=" + hb++));
                w.ifModified && (u.lastModified[c] && L.setRequestHeader("If-Modified-Since",
                    u.lastModified[c]), u.etag[c] && L.setRequestHeader("If-None-Match", u.etag[c]));
                (w.data && w.hasContent && !1 !== w.contentType || d.contentType) && L.setRequestHeader("Content-Type", w.contentType);
                L.setRequestHeader("Accept", w.dataTypes[0] && w.accepts[w.dataTypes[0]] ? w.accepts[w.dataTypes[0]] + ("*" !== w.dataTypes[0] ? ", " + wb + "; q=0.01" : "") : w.accepts["*"]);
                for (E in w.headers) L.setRequestHeader(E, w.headers[E]);
                if (w.beforeSend && (!1 === w.beforeSend.call(k, L, w) || 2 === T)) return L.abort();
                R = "abort";
                for (E in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) L[E](w[E]);
                if (f = F(nb, w, d, L)) {
                    L.readyState = 1;
                    s && l.trigger("ajaxSend", [L, w]);
                    w.async && 0 < w.timeout && (m = setTimeout(function() {
                        L.abort("timeout")
                    }, w.timeout));
                    try {
                        T = 1, f.send(N, e)
                    } catch (z) {
                        if (2 > T) e(-1, z);
                        else throw z;
                    }
                } else e(-1, "No Transport");
                return L
            },
            getJSON: function(b, d, e) {
                return u.get(b, d, e, "json")
            },
            getScript: function(b, d) {
                return u.get(b, void 0, d, "script")
            }
        });
        u.each(["get", "post"], function(b, d) {
            u[d] = function(b, e, f, c) {
                u.isFunction(e) && (c = c || f, f = e, e = void 0);
                return u.ajax({
                    url: b,
                    type: d,
                    dataType: c,
                    data: e,
                    success: f
                })
            }
        });
        u.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function(b, d) {
            u.fn[d] = function(b) {
                return this.on(d, b)
            }
        });
        u._evalUrl = function(b) {
            return u.ajax({
                url: b,
                type: "GET",
                dataType: "script",
                async: !1,
                global: !1,
                "throws": !0
            })
        };
        u.fn.extend({
            wrapAll: function(b) {
                var d;
                if (u.isFunction(b)) return this.each(function(d) {
                    u(this).wrapAll(b.call(this, d))
                });
                this[0] && (d = u(b, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && d.insertBefore(this[0]), d.map(function() {
                    for (var b =
                        this; b.firstElementChild;) b = b.firstElementChild;
                    return b
                }).append(this));
                return this
            },
            wrapInner: function(b) {
                return u.isFunction(b) ? this.each(function(d) {
                    u(this).wrapInner(b.call(this, d))
                }) : this.each(function() {
                    var d = u(this),
                        e = d.contents();
                    e.length ? e.wrapAll(b) : d.append(b)
                })
            },
            wrap: function(b) {
                var d = u.isFunction(b);
                return this.each(function(e) {
                    u(this).wrapAll(d ? b.call(this, e) : b)
                })
            },
            unwrap: function() {
                return this.parent().each(function() {
                    u.nodeName(this, "body") || u(this).replaceWith(this.childNodes)
                }).end()
            }
        });
        u.expr.filters.hidden = function(b) {
            return 0 >= b.offsetWidth && 0 >= b.offsetHeight
        };
        u.expr.filters.visible = function(b) {
            return !u.expr.filters.hidden(b)
        };
        var Ib = /%20/g,
            Jb = /\[\]$/,
            xb = /\r?\n/g,
            Lb = /^(?:submit|button|image|reset|file)$/i,
            Mb = /^(?:input|select|textarea|keygen)/i;
        u.param = function(b, d) {
            var e, f = [],
                c = function(b, d) {
                    d = u.isFunction(d) ? d() : null == d ? "" : d;
                    f[f.length] = encodeURIComponent(b) + "=" + encodeURIComponent(d)
                };
            void 0 === d && (d = u.ajaxSettings && u.ajaxSettings.traditional);
            if (u.isArray(b) || b.jquery && !u.isPlainObject(b)) u.each(b,
                function() {
                    c(this.name, this.value)
                });
            else
                for (e in b) Z(e, b[e], d, c);
            return f.join("&").replace(Ib, "+")
        };
        u.fn.extend({
            serialize: function() {
                return u.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map(function() {
                    var b = u.prop(this, "elements");
                    return b ? u.makeArray(b) : this
                }).filter(function() {
                    var b = this.type;
                    return this.name && !u(this).is(":disabled") && Mb.test(this.nodeName) && !Lb.test(b) && (this.checked || !Ba.test(b))
                }).map(function(b, d) {
                    var e = u(this).val();
                    return null == e ? null : u.isArray(e) ?
                        u.map(e, function(b) {
                            return {
                                name: d.name,
                                value: b.replace(xb, "\r\n")
                            }
                        }) : {
                            name: d.name,
                            value: e.replace(xb, "\r\n")
                        }
                }).get()
            }
        });
        u.ajaxSettings.xhr = function() {
            try {
                return new XMLHttpRequest
            } catch (b) {}
        };
        var Nb = 0,
            kb = {},
            Ob = {
                0: 200,
                1223: 204
            },
            ab = u.ajaxSettings.xhr();
        if (c.ActiveXObject) u(c).on("unload", function() {
            for (var b in kb) kb[b]()
        });
        O.cors = !!ab && "withCredentials" in ab;
        O.ajax = ab = !!ab;
        u.ajaxTransport(function(b) {
            var d;
            if (O.cors || ab && !b.crossDomain) return {
                send: function(e, f) {
                    var c, g = b.xhr(),
                        h = ++Nb;
                    g.open(b.type,
                        b.url, b.async, b.username, b.password);
                    if (b.xhrFields)
                        for (c in b.xhrFields) g[c] = b.xhrFields[c];
                    b.mimeType && g.overrideMimeType && g.overrideMimeType(b.mimeType);
                    !b.crossDomain && !e["X-Requested-With"] && (e["X-Requested-With"] = "XMLHttpRequest");
                    for (c in e) g.setRequestHeader(c, e[c]);
                    d = function(b) {
                        return function() {
                            d && (delete kb[h], d = g.onload = g.onerror = null, "abort" === b ? g.abort() : "error" === b ? f(g.status, g.statusText) : f(Ob[g.status] || g.status, g.statusText, "string" === typeof g.responseText ? {
                                    text: g.responseText
                                } :
                                void 0, g.getAllResponseHeaders()))
                        }
                    };
                    g.onload = d();
                    g.onerror = d("error");
                    d = kb[h] = d("abort");
                    g.send(b.hasContent && b.data || null)
                },
                abort: function() {
                    d && d()
                }
            }
        });
        u.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /(?:java|ecma)script/
            },
            converters: {
                "text script": function(b) {
                    u.globalEval(b);
                    return b
                }
            }
        });
        u.ajaxPrefilter("script", function(b) {
            void 0 === b.cache && (b.cache = !1);
            b.crossDomain && (b.type = "GET")
        });
        u.ajaxTransport("script",
            function(b) {
                if (b.crossDomain) {
                    var d, e;
                    return {
                        send: function(f, c) {
                            d = u("<script>").prop({
                                async: !0,
                                charset: b.scriptCharset,
                                src: b.url
                            }).on("load error", e = function(b) {
                                d.remove();
                                e = null;
                                b && c("error" === b.type ? 404 : 200, b.type)
                            });
                            Q.head.appendChild(d[0])
                        },
                        abort: function() {
                            e && e()
                        }
                    }
                }
            });
        var Cb = [],
            sb = /(=)\?(?=&|$)|\?\?/;
        u.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var b = Cb.pop() || u.expando + "_" + hb++;
                this[b] = !0;
                return b
            }
        });
        u.ajaxPrefilter("json jsonp", function(b, d, e) {
            var f, g, h, m = !1 !== b.jsonp && (sb.test(b.url) ?
                "url" : "string" === typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && sb.test(b.data) && "data");
            if (m || "jsonp" === b.dataTypes[0]) return f = b.jsonpCallback = u.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, m ? b[m] = b[m].replace(sb, "$1" + f) : !1 !== b.jsonp && (b.url += (jb.test(b.url) ? "&" : "?") + b.jsonp + "=" + f), b.converters["script json"] = function() {
                h || u.error(f + " was not called");
                return h[0]
            }, b.dataTypes[0] = "json", g = c[f], c[f] = function() {
                h = arguments
            }, e.always(function() {
                c[f] =
                    g;
                b[f] && (b.jsonpCallback = d.jsonpCallback, Cb.push(f));
                h && u.isFunction(g) && g(h[0]);
                h = g = void 0
            }), "script"
        });
        u.parseHTML = function(b, d, e) {
            if (!b || "string" !== typeof b) return null;
            "boolean" === typeof d && (e = d, d = !1);
            d = d || Q;
            var f = da.exec(b);
            e = !e && [];
            if (f) return [d.createElement(f[1])];
            f = u.buildFragment([b], d, e);
            e && e.length && u(e).remove();
            return u.merge([], f.childNodes)
        };
        var Eb = u.fn.load;
        u.fn.load = function(b, d, e) {
            if ("string" !== typeof b && Eb) return Eb.apply(this, arguments);
            var f, c, g, h = this,
                m = b.indexOf(" ");
            0 <= m &&
                (f = b.slice(m), b = b.slice(0, m));
            u.isFunction(d) ? (e = d, d = void 0) : d && "object" === typeof d && (c = "POST");
            0 < h.length && u.ajax({
                url: b,
                type: c,
                dataType: "html",
                data: d
            }).done(function(b) {
                g = arguments;
                h.html(f ? u("<div>").append(u.parseHTML(b)).find(f) : b)
            }).complete(e && function(b, d) {
                h.each(e, g || [b.responseText, d, b])
            });
            return this
        };
        u.expr.filters.animated = function(b) {
            return u.grep(u.timers, function(d) {
                return b === d.elem
            }).length
        };
        var Gb = c.document.documentElement;
        u.offset = {
            setOffset: function(b, d, e) {
                var f, c, g, h = u.css(b,
                        "position"),
                    m = u(b),
                    q = {};
                "static" === h && (b.style.position = "relative");
                g = m.offset();
                c = u.css(b, "top");
                f = u.css(b, "left");
                ("absolute" === h || "fixed" === h) && -1 < (c + f).indexOf("auto") ? (f = m.position(), c = f.top, f = f.left) : (c = parseFloat(c) || 0, f = parseFloat(f) || 0);
                u.isFunction(d) && (d = d.call(b, e, g));
                null != d.top && (q.top = d.top - g.top + c);
                null != d.left && (q.left = d.left - g.left + f);
                "using" in d ? d.using.call(b, q) : m.css(q)
            }
        };
        u.fn.extend({
            offset: function(b) {
                if (arguments.length) return void 0 === b ? this : this.each(function(d) {
                    u.offset.setOffset(this,
                        b, d)
                });
                var d, e;
                e = this[0];
                var f = {
                        top: 0,
                        left: 0
                    },
                    c = e && e.ownerDocument;
                if (c) {
                    d = c.documentElement;
                    if (!u.contains(d, e)) return f;
                    "undefined" !== typeof e.getBoundingClientRect && (f = e.getBoundingClientRect());
                    e = u.isWindow(c) ? c : 9 === c.nodeType && c.defaultView;
                    return {
                        top: f.top + e.pageYOffset - d.clientTop,
                        left: f.left + e.pageXOffset - d.clientLeft
                    }
                }
            },
            position: function() {
                if (this[0]) {
                    var b, d, e = this[0],
                        f = {
                            top: 0,
                            left: 0
                        };
                    "fixed" === u.css(e, "position") ? d = e.getBoundingClientRect() : (b = this.offsetParent(), d = this.offset(), u.nodeName(b[0],
                        "html") || (f = b.offset()), f.top += u.css(b[0], "borderTopWidth", !0), f.left += u.css(b[0], "borderLeftWidth", !0));
                    return {
                        top: d.top - f.top - u.css(e, "marginTop", !0),
                        left: d.left - f.left - u.css(e, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var b = this.offsetParent || Gb; b && !u.nodeName(b, "html") && "static" === u.css(b, "position");) b = b.offsetParent;
                    return b || Gb
                })
            }
        });
        u.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(b, d) {
            var e = "pageYOffset" === d;
            u.fn[b] = function(f) {
                return ma(this,
                    function(b, f, g) {
                        var h = u.isWindow(b) ? b : 9 === b.nodeType && b.defaultView;
                        if (void 0 === g) return h ? h[d] : b[f];
                        h ? h.scrollTo(!e ? g : c.pageXOffset, e ? g : c.pageYOffset) : b[f] = g
                    }, b, f, arguments.length, null)
            }
        });
        u.each(["top", "left"], function(b, d) {
            u.cssHooks[d] = z(O.pixelPosition, function(b, e) {
                if (e) return e = ja(b, d), Qa.test(e) ? u(b).position()[d] + "px" : e
            })
        });
        u.each({
            Height: "height",
            Width: "width"
        }, function(b, d) {
            u.each({
                padding: "inner" + b,
                content: d,
                "": "outer" + b
            }, function(e, f) {
                u.fn[f] = function(f, c) {
                    var g = arguments.length && (e ||
                            "boolean" !== typeof f),
                        h = e || (!0 === f || !0 === c ? "margin" : "border");
                    return ma(this, function(d, e, f) {
                        return u.isWindow(d) ? d.document.documentElement["client" + b] : 9 === d.nodeType ? (e = d.documentElement, Math.max(d.body["scroll" + b], e["scroll" + b], d.body["offset" + b], e["offset" + b], e["client" + b])) : void 0 === f ? u.css(d, e, h) : u.style(d, e, f, h)
                    }, d, g ? f : void 0, g, null)
                }
            })
        });
        u.fn.size = function() {
            return this.length
        };
        u.fn.andSelf = u.fn.addBack;
        "function" === typeof define && define.amd && define("jquery", [], function() {
            return u
        });
        var Pb =
            c.jQuery,
            Qb = c.$;
        u.noConflict = function(b) {
            c.$ === u && (c.$ = Qb);
            b && c.jQuery === u && (c.jQuery = Pb);
            return u
        };
        "undefined" === typeof b && (c.jQuery = c.$ = u);
        return u
    });
    (function(c, b) {
        function d(b, d) {
            var f, g;
            f = b.nodeName.toLowerCase();
            if ("area" === f) {
                f = b.parentNode;
                g = f.name;
                if (!b.href || !g || "map" !== f.nodeName.toLowerCase()) return !1;
                f = c("img[usemap=#" + g + "]")[0];
                return !!f && e(f)
            }
            return (/input|select|textarea|button|object/.test(f) ? !b.disabled : "a" === f ? b.href || d : d) && e(b)
        }

        function e(b) {
            return c.expr.filters.visible(b) && !c(b).parents().addBack().filter(function() {
                return "hidden" ===
                    c.css(this, "visibility")
            }).length
        }
        var g = 0,
            f = /^ui-id-\d+$/;
        c.ui = c.ui || {};
        c.extend(c.ui, {
            version: "1.10.3",
            keyCode: {
                BACKSPACE: 8,
                COMMA: 188,
                DELETE: 46,
                DOWN: 40,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                HOME: 36,
                LEFT: 37,
                NUMPAD_ADD: 107,
                NUMPAD_DECIMAL: 110,
                NUMPAD_DIVIDE: 111,
                NUMPAD_ENTER: 108,
                NUMPAD_MULTIPLY: 106,
                NUMPAD_SUBTRACT: 109,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                RIGHT: 39,
                SPACE: 32,
                TAB: 9,
                UP: 38
            }
        });
        c.fn.extend({
            focus: function(b) {
                return function(d, e) {
                    return "number" === typeof d ? this.each(function() {
                        var b = this;
                        setTimeout(function() {
                            c(b).focus();
                            e && e.call(b)
                        }, d)
                    }) : b.apply(this, arguments)
                }
            }(c.fn.focus),
            scrollParent: function() {
                var b;
                b = c.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function() {
                    return /(relative|absolute|fixed)/.test(c.css(this, "position")) && /(auto|scroll)/.test(c.css(this, "overflow") + c.css(this, "overflow-y") + c.css(this, "overflow-x"))
                }).eq(0) : this.parents().filter(function() {
                    return /(auto|scroll)/.test(c.css(this, "overflow") + c.css(this, "overflow-y") + c.css(this,
                        "overflow-x"))
                }).eq(0);
                return /fixed/.test(this.css("position")) || !b.length ? c(document) : b
            },
            zIndex: function(d) {
                if (d !== b) return this.css("zIndex", d);
                if (this.length) {
                    d = c(this[0]);
                    for (var e; d.length && d[0] !== document;) {
                        e = d.css("position");
                        if ("absolute" === e || "relative" === e || "fixed" === e)
                            if (e = parseInt(d.css("zIndex"), 10), !isNaN(e) && 0 !== e) return e;
                        d = d.parent()
                    }
                }
                return 0
            },
            uniqueId: function() {
                return this.each(function() {
                    this.id || (this.id = "ui-id-" + ++g)
                })
            },
            removeUniqueId: function() {
                return this.each(function() {
                    f.test(this.id) &&
                        c(this).removeAttr("id")
                })
            }
        });
        c.extend(c.expr[":"], {
            data: c.expr.createPseudo ? c.expr.createPseudo(function(b) {
                return function(d) {
                    return !!c.data(d, b)
                }
            }) : function(b, d, e) {
                return !!c.data(b, e[3])
            },
            focusable: function(b) {
                return d(b, !isNaN(c.attr(b, "tabindex")))
            },
            tabbable: function(b) {
                var e = c.attr(b, "tabindex"),
                    f = isNaN(e);
                return (f || 0 <= e) && d(b, !f)
            }
        });
        c("<a>").outerWidth(1).jquery || c.each(["Width", "Height"], function(d, e) {
            function f(b, d, e, h) {
                c.each(g, function() {
                    d -= parseFloat(c.css(b, "padding" + this)) || 0;
                    e && (d -=
                        parseFloat(c.css(b, "border" + this + "Width")) || 0);
                    h && (d -= parseFloat(c.css(b, "margin" + this)) || 0)
                });
                return d
            }
            var g = "Width" === e ? ["Left", "Right"] : ["Top", "Bottom"],
                w = e.toLowerCase(),
                k = {
                    innerWidth: c.fn.innerWidth,
                    innerHeight: c.fn.innerHeight,
                    outerWidth: c.fn.outerWidth,
                    outerHeight: c.fn.outerHeight
                };
            c.fn["inner" + e] = function(d) {
                return d === b ? k["inner" + e].call(this) : this.each(function() {
                    c(this).css(w, f(this, d) + "px")
                })
            };
            c.fn["outer" + e] = function(b, d) {
                return "number" !== typeof b ? k["outer" + e].call(this, b) : this.each(function() {
                    c(this).css(w,
                        f(this, b, !0, d) + "px")
                })
            }
        });
        c.fn.addBack || (c.fn.addBack = function(b) {
            return this.add(null == b ? this.prevObject : this.prevObject.filter(b))
        });
        c("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (c.fn.removeData = function(b) {
            return function(d) {
                return arguments.length ? b.call(this, c.camelCase(d)) : b.call(this)
            }
        }(c.fn.removeData));
        c.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
        c.support.selectstart = "onselectstart" in document.createElement("div");
        c.fn.extend({
            disableSelection: function() {
                return this.bind((c.support.selectstart ?
                    "selectstart" : "mousedown") + ".ui-disableSelection", function(b) {
                    b.preventDefault()
                })
            },
            enableSelection: function() {
                return this.unbind(".ui-disableSelection")
            }
        });
        c.extend(c.ui, {
            plugin: {
                add: function(b, d, e) {
                    var f;
                    b = c.ui[b].prototype;
                    for (f in e) b.plugins[f] = b.plugins[f] || [], b.plugins[f].push([d, e[f]])
                },
                call: function(b, d, e) {
                    var f = b.plugins[d];
                    if (f && b.element[0].parentNode && 11 !== b.element[0].parentNode.nodeType)
                        for (d = 0; d < f.length; d++) b.options[f[d][0]] && f[d][1].apply(b.element, e)
                }
            },
            hasScroll: function(b, d) {
                if ("hidden" ===
                    c(b).css("overflow")) return !1;
                var e = d && "left" === d ? "scrollLeft" : "scrollTop",
                    f = !1;
                if (0 < b[e]) return !0;
                b[e] = 1;
                f = 0 < b[e];
                b[e] = 0;
                return f
            }
        })
    })(jQuery);
    (function(c, b) {
        var d = 0,
            e = Array.prototype.slice,
            g = c.cleanData;
        c.cleanData = function(b) {
            for (var d = 0, e; null != (e = b[d]); d++) try {
                c(e).triggerHandler("remove")
            } catch (q) {}
            g(b)
        };
        c.widget = function(b, d, e) {
            var g, s, w, k, l = {},
                C = b.split(".")[0];
            b = b.split(".")[1];
            g = C + "-" + b;
            e || (e = d, d = c.Widget);
            c.expr[":"][g.toLowerCase()] = function(b) {
                return !!c.data(b, g)
            };
            c[C] = c[C] || {};
            s = c[C][b];
            w = c[C][b] = function(b, d) {
                if (!this._createWidget) return new w(b, d);
                arguments.length && this._createWidget(b, d)
            };
            c.extend(w, s, {
                version: e.version,
                _proto: c.extend({}, e),
                _childConstructors: []
            });
            k = new d;
            k.options = c.widget.extend({}, k.options);
            c.each(e, function(b, e) {
                c.isFunction(e) ? l[b] = function() {
                    var f = function() {
                            return d.prototype[b].apply(this, arguments)
                        },
                        c = function(e) {
                            return d.prototype[b].apply(this, e)
                        };
                    return function() {
                        var b = this._super,
                            d = this._superApply,
                            g;
                        this._super = f;
                        this._superApply = c;
                        g = e.apply(this,
                            arguments);
                        this._super = b;
                        this._superApply = d;
                        return g
                    }
                }() : l[b] = e
            });
            w.prototype = c.widget.extend(k, {
                widgetEventPrefix: s ? k.widgetEventPrefix : b
            }, l, {
                constructor: w,
                namespace: C,
                widgetName: b,
                widgetFullName: g
            });
            s ? (c.each(s._childConstructors, function(b, d) {
                var e = d.prototype;
                c.widget(e.namespace + "." + e.widgetName, w, d._proto)
            }), delete s._childConstructors) : d._childConstructors.push(w);
            c.widget.bridge(b, w)
        };
        c.widget.extend = function(d) {
            for (var g = e.call(arguments, 1), m = 0, q = g.length, s, w; m < q; m++)
                for (s in g[m]) w = g[m][s],
                    g[m].hasOwnProperty(s) && w !== b && (c.isPlainObject(w) ? d[s] = c.isPlainObject(d[s]) ? c.widget.extend({}, d[s], w) : c.widget.extend({}, w) : d[s] = w);
            return d
        };
        c.widget.bridge = function(d, g) {
            var m = g.prototype.widgetFullName || d;
            c.fn[d] = function(q) {
                var s = "string" === typeof q,
                    w = e.call(arguments, 1),
                    k = this;
                q = !s && w.length ? c.widget.extend.apply(null, [q].concat(w)) : q;
                s ? this.each(function() {
                    var e, g = c.data(this, m);
                    if (!g) return c.error("cannot call methods on " + d + " prior to initialization; attempted to call method '" + q + "'");
                    if (!c.isFunction(g[q]) || "_" === q.charAt(0)) return c.error("no such method '" + q + "' for " + d + " widget instance");
                    e = g[q].apply(g, w);
                    if (e !== g && e !== b) return k = e && e.jquery ? k.pushStack(e.get()) : e, !1
                }) : this.each(function() {
                    var b = c.data(this, m);
                    b ? b.option(q || {})._init() : c.data(this, m, new g(q, this))
                });
                return k
            }
        };
        c.Widget = function() {};
        c.Widget._childConstructors = [];
        c.Widget.prototype = {
            widgetName: "widget",
            widgetEventPrefix: "",
            defaultElement: "<div>",
            options: {
                disabled: !1,
                create: null
            },
            _createWidget: function(b, e) {
                e =
                    c(e || this.defaultElement || this)[0];
                this.element = c(e);
                this.uuid = d++;
                this.eventNamespace = "." + this.widgetName + this.uuid;
                this.options = c.widget.extend({}, this.options, this._getCreateOptions(), b);
                this.bindings = c();
                this.hoverable = c();
                this.focusable = c();
                e !== this && (c.data(e, this.widgetFullName, this), this._on(!0, this.element, {
                    remove: function(b) {
                        b.target === e && this.destroy()
                    }
                }), this.document = c(e.style ? e.ownerDocument : e.document || e), this.window = c(this.document[0].defaultView || this.document[0].parentWindow));
                this._create();
                this._trigger("create", null, this._getCreateEventData());
                this._init()
            },
            _getCreateOptions: c.noop,
            _getCreateEventData: c.noop,
            _create: c.noop,
            _init: c.noop,
            destroy: function() {
                this._destroy();
                this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));
                this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled");
                this.bindings.unbind(this.eventNamespace);
                this.hoverable.removeClass("ui-state-hover");
                this.focusable.removeClass("ui-state-focus")
            },
            _destroy: c.noop,
            widget: function() {
                return this.element
            },
            option: function(d, e) {
                var g = d,
                    q, s, w;
                if (0 === arguments.length) return c.widget.extend({}, this.options);
                if ("string" === typeof d)
                    if (g = {}, q = d.split("."), d = q.shift(), q.length) {
                        s = g[d] = c.widget.extend({}, this.options[d]);
                        for (w = 0; w < q.length - 1; w++) s[q[w]] = s[q[w]] || {}, s = s[q[w]];
                        d = q.pop();
                        if (e === b) return s[d] === b ? null : s[d];
                        s[d] = e
                    } else {
                        if (e === b) return this.options[d] ===
                            b ? null : this.options[d];
                        g[d] = e
                    }
                this._setOptions(g);
                return this
            },
            _setOptions: function(b) {
                for (var d in b) this._setOption(d, b[d]);
                return this
            },
            _setOption: function(b, d) {
                this.options[b] = d;
                "disabled" === b && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!d).attr("aria-disabled", d), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"));
                return this
            },
            enable: function() {
                return this._setOption("disabled", !1)
            },
            disable: function() {
                return this._setOption("disabled", !0)
            },
            _on: function(b, d, e) {
                var g, s = this;
                "boolean" !== typeof b && (e = d, d = b, b = !1);
                e ? (d = g = c(d), this.bindings = this.bindings.add(d)) : (e = d, d = this.element, g = this.widget());
                c.each(e, function(e, m) {
                    function k() {
                        if (b || !(!0 === s.options.disabled || c(this).hasClass("ui-state-disabled"))) return ("string" === typeof m ? s[m] : m).apply(s, arguments)
                    }
                    "string" !== typeof m && (k.guid = m.guid = m.guid || k.guid || c.guid++);
                    var l = e.match(/^(\w+)\s*(.*)$/),
                        G = l[1] + s.eventNamespace;
                    (l = l[2]) ? g.delegate(l, G, k): d.bind(G, k)
                })
            },
            _off: function(b, d) {
                d =
                    (d || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace;
                b.unbind(d).undelegate(d)
            },
            _delay: function(b, d) {
                var e = this;
                return setTimeout(function() {
                    return ("string" === typeof b ? e[b] : b).apply(e, arguments)
                }, d || 0)
            },
            _hoverable: function(b) {
                this.hoverable = this.hoverable.add(b);
                this._on(b, {
                    mouseenter: function(b) {
                        c(b.currentTarget).addClass("ui-state-hover")
                    },
                    mouseleave: function(b) {
                        c(b.currentTarget).removeClass("ui-state-hover")
                    }
                })
            },
            _focusable: function(b) {
                this.focusable = this.focusable.add(b);
                this._on(b, {
                    focusin: function(b) {
                        c(b.currentTarget).addClass("ui-state-focus")
                    },
                    focusout: function(b) {
                        c(b.currentTarget).removeClass("ui-state-focus")
                    }
                })
            },
            _trigger: function(b, d, e) {
                var g, s = this.options[b];
                e = e || {};
                d = c.Event(d);
                d.type = (b === this.widgetEventPrefix ? b : this.widgetEventPrefix + b).toLowerCase();
                d.target = this.element[0];
                if (b = d.originalEvent)
                    for (g in b) g in d || (d[g] = b[g]);
                this.element.trigger(d, e);
                return !(c.isFunction(s) && !1 === s.apply(this.element[0], [d].concat(e)) || d.isDefaultPrevented())
            }
        };
        c.each({
            show: "fadeIn",
            hide: "fadeOut"
        }, function(b, d) {
            c.Widget.prototype["_" + b] = function(e, g, s) {
                "string" === typeof g && (g = {
                    effect: g
                });
                var w, k = !g ? b : !0 === g || "number" === typeof g ? d : g.effect || d;
                g = g || {};
                "number" === typeof g && (g = {
                    duration: g
                });
                w = !c.isEmptyObject(g);
                g.complete = s;
                g.delay && e.delay(g.delay);
                if (w && c.effects && c.effects.effect[k]) e[b](g);
                else if (k !== b && e[k]) e[k](g.duration, g.easing, s);
                else e.queue(function(d) {
                    c(this)[b]();
                    s && s.call(e[0]);
                    d()
                })
            }
        })
    })(jQuery);
    (function(c, b) {
        var d = !1;
        c(document).mouseup(function() {
            d = !1
        });
        c.widget("ui.mouse", {
            version: "1.10.3",
            options: {
                cancel: "input,textarea,button,select,option",
                distance: 1,
                delay: 0
            },
            _mouseInit: function() {
                var b = this;
                this.element.bind("mousedown." + this.widgetName, function(d) {
                    return b._mouseDown(d)
                }).bind("click." + this.widgetName, function(d) {
                    if (!0 === c.data(d.target, b.widgetName + ".preventClickEvent")) return c.removeData(d.target, b.widgetName + ".preventClickEvent"), d.stopImmediatePropagation(), !1
                });
                this.started = !1
            },
            _mouseDestroy: function() {
                this.element.unbind("." + this.widgetName);
                this._mouseMoveDelegate &&
                    c(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
            },
            _mouseDown: function(b) {
                if (!d) {
                    this._mouseStarted && this._mouseUp(b);
                    this._mouseDownEvent = b;
                    var g = this,
                        f = 1 === b.which,
                        h = "string" === typeof this.options.cancel && b.target.nodeName ? c(b.target).closest(this.options.cancel).length : !1;
                    if (!f || h || !this._mouseCapture(b)) return !0;
                    this.mouseDelayMet = !this.options.delay;
                    this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                        g.mouseDelayMet = !0
                    }, this.options.delay));
                    if (this._mouseDistanceMet(b) && this._mouseDelayMet(b) && (this._mouseStarted = !1 !== this._mouseStart(b), !this._mouseStarted)) return b.preventDefault(), !0;
                    !0 === c.data(b.target, this.widgetName + ".preventClickEvent") && c.removeData(b.target, this.widgetName + ".preventClickEvent");
                    this._mouseMoveDelegate = function(b) {
                        return g._mouseMove(b)
                    };
                    this._mouseUpDelegate = function(b) {
                        return g._mouseUp(b)
                    };
                    c(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName,
                        this._mouseUpDelegate);
                    b.preventDefault();
                    return d = !0
                }
            },
            _mouseMove: function(b) {
                if (c.ui.ie && (!document.documentMode || 9 > document.documentMode) && !b.button) return this._mouseUp(b);
                if (this._mouseStarted) return this._mouseDrag(b), b.preventDefault();
                this._mouseDistanceMet(b) && this._mouseDelayMet(b) && ((this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, b)) ? this._mouseDrag(b) : this._mouseUp(b));
                return !this._mouseStarted
            },
            _mouseUp: function(b) {
                c(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." +
                    this.widgetName, this._mouseUpDelegate);
                this._mouseStarted && (this._mouseStarted = !1, b.target === this._mouseDownEvent.target && c.data(b.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(b));
                return !1
            },
            _mouseDistanceMet: function(b) {
                return Math.max(Math.abs(this._mouseDownEvent.pageX - b.pageX), Math.abs(this._mouseDownEvent.pageY - b.pageY)) >= this.options.distance
            },
            _mouseDelayMet: function() {
                return this.mouseDelayMet
            },
            _mouseStart: function() {},
            _mouseDrag: function() {},
            _mouseStop: function() {},
            _mouseCapture: function() {
                return !0
            }
        })
    })(jQuery);
    (function(c, b) {
        function d(b, d, e) {
            return [parseFloat(b[0]) * (l.test(b[0]) ? d / 100 : 1), parseFloat(b[1]) * (l.test(b[1]) ? e / 100 : 1)]
        }

        function e(b) {
            var d = b[0];
            return 9 === d.nodeType ? {
                width: b.width(),
                height: b.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            } : c.isWindow(d) ? {
                width: b.width(),
                height: b.height(),
                offset: {
                    top: b.scrollTop(),
                    left: b.scrollLeft()
                }
            } : d.preventDefault ? {
                width: 0,
                height: 0,
                offset: {
                    top: d.pageY,
                    left: d.pageX
                }
            } : {
                width: b.outerWidth(),
                height: b.outerHeight(),
                offset: b.offset()
            }
        }
        c.ui = c.ui || {};
        var g, f = Math.max,
            h = Math.abs,
            m =
            Math.round,
            q = /left|center|right/,
            s = /top|center|bottom/,
            w = /[\+\-]\d+(\.[\d]+)?%?/,
            k = /^\w+/,
            l = /%$/,
            C = c.fn.position;
        c.position = {
            scrollbarWidth: function() {
                if (g !== b) return g;
                var d, e, f = c("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
                e = f.children()[0];
                c("body").append(f);
                d = e.offsetWidth;
                f.css("overflow", "scroll");
                e = e.offsetWidth;
                d === e && (e = f[0].clientWidth);
                f.remove();
                return g = d - e
            },
            getScrollInfo: function(b) {
                var d = b.isWindow ? "" : b.element.css("overflow-x"),
                    e = b.isWindow ? "" : b.element.css("overflow-y"),
                    d = "scroll" === d || "auto" === d && b.width < b.element[0].scrollWidth;
                return {
                    width: "scroll" === e || "auto" === e && b.height < b.element[0].scrollHeight ? c.position.scrollbarWidth() : 0,
                    height: d ? c.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function(b) {
                b = c(b || window);
                var d = c.isWindow(b[0]);
                return {
                    element: b,
                    isWindow: d,
                    offset: b.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: b.scrollLeft(),
                    scrollTop: b.scrollTop(),
                    width: d ? b.width() : b.outerWidth(),
                    height: d ? b.height() : b.outerHeight()
                }
            }
        };
        c.fn.position =
            function(b) {
                if (!b || !b.of) return C.apply(this, arguments);
                b = c.extend({}, b);
                var g, l, J, T, ea, ja, z = c(b.of),
                    n = c.position.getWithinInfo(b.within),
                    t = c.position.getScrollInfo(n),
                    v = (b.collision || "flip").split(" "),
                    x = {};
                ja = e(z);
                z[0].preventDefault && (b.at = "left top");
                l = ja.width;
                J = ja.height;
                T = ja.offset;
                ea = c.extend({}, T);
                c.each(["my", "at"], function() {
                    var d = (b[this] || "").split(" "),
                        e, f;
                    1 === d.length && (d = q.test(d[0]) ? d.concat(["center"]) : s.test(d[0]) ? ["center"].concat(d) : ["center", "center"]);
                    d[0] = q.test(d[0]) ? d[0] :
                        "center";
                    d[1] = s.test(d[1]) ? d[1] : "center";
                    e = w.exec(d[0]);
                    f = w.exec(d[1]);
                    x[this] = [e ? e[0] : 0, f ? f[0] : 0];
                    b[this] = [k.exec(d[0])[0], k.exec(d[1])[0]]
                });
                1 === v.length && (v[1] = v[0]);
                "right" === b.at[0] ? ea.left += l : "center" === b.at[0] && (ea.left += l / 2);
                "bottom" === b.at[1] ? ea.top += J : "center" === b.at[1] && (ea.top += J / 2);
                g = d(x.at, l, J);
                ea.left += g[0];
                ea.top += g[1];
                return this.each(function() {
                    var e, q, s = c(this),
                        w = s.outerWidth(),
                        k = s.outerHeight(),
                        C = parseInt(c.css(this, "marginLeft"), 10) || 0,
                        I = parseInt(c.css(this, "marginTop"), 10) ||
                        0,
                        ja = w + C + (parseInt(c.css(this, "marginRight"), 10) || 0) + t.width,
                        y = k + I + (parseInt(c.css(this, "marginBottom"), 10) || 0) + t.height,
                        L = c.extend({}, ea),
                        Z = d(x.my, s.outerWidth(), s.outerHeight());
                    "right" === b.my[0] ? L.left -= w : "center" === b.my[0] && (L.left -= w / 2);
                    "bottom" === b.my[1] ? L.top -= k : "center" === b.my[1] && (L.top -= k / 2);
                    L.left += Z[0];
                    L.top += Z[1];
                    c.support.offsetFractions || (L.left = m(L.left), L.top = m(L.top));
                    e = {
                        marginLeft: C,
                        marginTop: I
                    };
                    c.each(["left", "top"], function(d, f) {
                        if (c.ui.position[v[d]]) c.ui.position[v[d]][f](L, {
                            targetWidth: l,
                            targetHeight: J,
                            elemWidth: w,
                            elemHeight: k,
                            collisionPosition: e,
                            collisionWidth: ja,
                            collisionHeight: y,
                            offset: [g[0] + Z[0], g[1] + Z[1]],
                            my: b.my,
                            at: b.at,
                            within: n,
                            elem: s
                        })
                    });
                    b.using && (q = function(d) {
                        var e = T.left - L.left,
                            c = e + l - w,
                            g = T.top - L.top,
                            m = g + J - k,
                            q = {
                                target: {
                                    element: z,
                                    left: T.left,
                                    top: T.top,
                                    width: l,
                                    height: J
                                },
                                element: {
                                    element: s,
                                    left: L.left,
                                    top: L.top,
                                    width: w,
                                    height: k
                                },
                                horizontal: 0 > c ? "left" : 0 < e ? "right" : "center",
                                vertical: 0 > m ? "top" : 0 < g ? "bottom" : "middle"
                            };
                        l < w && h(e + c) < l && (q.horizontal = "center");
                        J < k && h(g +
                            m) < J && (q.vertical = "middle");
                        f(h(e), h(c)) > f(h(g), h(m)) ? q.important = "horizontal" : q.important = "vertical";
                        b.using.call(this, d, q)
                    });
                    s.offset(c.extend(L, {
                        using: q
                    }))
                })
            };
        c.ui.position = {
            fit: {
                left: function(b, d) {
                    var e = d.within,
                        c = e.isWindow ? e.scrollLeft : e.offset.left,
                        g = e.width,
                        h = b.left - d.collisionPosition.marginLeft,
                        e = c - h,
                        m = h + d.collisionWidth - g - c;
                    d.collisionWidth > g ? 0 < e && 0 >= m ? (c = b.left + e + d.collisionWidth - g - c, b.left += e - c) : b.left = 0 < m && 0 >= e ? c : e > m ? c + g - d.collisionWidth : c : b.left = 0 < e ? b.left + e : 0 < m ? b.left - m : f(b.left - h,
                        b.left)
                },
                top: function(b, d) {
                    var e = d.within,
                        c = e.isWindow ? e.scrollTop : e.offset.top,
                        g = d.within.height,
                        h = b.top - d.collisionPosition.marginTop,
                        e = c - h,
                        m = h + d.collisionHeight - g - c;
                    d.collisionHeight > g ? 0 < e && 0 >= m ? (c = b.top + e + d.collisionHeight - g - c, b.top += e - c) : b.top = 0 < m && 0 >= e ? c : e > m ? c + g - d.collisionHeight : c : b.top = 0 < e ? b.top + e : 0 < m ? b.top - m : f(b.top - h, b.top)
                }
            },
            flip: {
                left: function(b, d) {
                    var e = d.within,
                        f = e.offset.left + e.scrollLeft,
                        c = e.width,
                        g = e.isWindow ? e.scrollLeft : e.offset.left,
                        m = b.left - d.collisionPosition.marginLeft,
                        e = m -
                        g,
                        q = m + d.collisionWidth - c - g,
                        m = "left" === d.my[0] ? -d.elemWidth : "right" === d.my[0] ? d.elemWidth : 0,
                        s = "left" === d.at[0] ? d.targetWidth : "right" === d.at[0] ? -d.targetWidth : 0,
                        w = -2 * d.offset[0];
                    if (0 > e) {
                        if (f = b.left + m + s + w + d.collisionWidth - c - f, 0 > f || f < h(e)) b.left += m + s + w
                    } else if (0 < q && (f = b.left - d.collisionPosition.marginLeft + m + s + w - g, 0 < f || h(f) < q)) b.left += m + s + w
                },
                top: function(b, d) {
                    var e = d.within,
                        f = e.offset.top + e.scrollTop,
                        c = e.height,
                        g = e.isWindow ? e.scrollTop : e.offset.top,
                        m = b.top - d.collisionPosition.marginTop,
                        e = m - g,
                        q = m + d.collisionHeight -
                        c - g,
                        m = "top" === d.my[1] ? -d.elemHeight : "bottom" === d.my[1] ? d.elemHeight : 0,
                        s = "top" === d.at[1] ? d.targetHeight : "bottom" === d.at[1] ? -d.targetHeight : 0,
                        w = -2 * d.offset[1];
                    if (0 > e) {
                        if (f = b.top + m + s + w + d.collisionHeight - c - f, b.top + m + s + w > e && (0 > f || f < h(e))) b.top += m + s + w
                    } else if (0 < q && (f = b.top - d.collisionPosition.marginTop + m + s + w - g, b.top + m + s + w > q && (0 < f || h(f) < q))) b.top += m + s + w
                }
            },
            flipfit: {
                left: function() {
                    c.ui.position.flip.left.apply(this, arguments);
                    c.ui.position.fit.left.apply(this, arguments)
                },
                top: function() {
                    c.ui.position.flip.top.apply(this,
                        arguments);
                    c.ui.position.fit.top.apply(this, arguments)
                }
            }
        };
        (function() {
            var b, d, e, f, g = document.getElementsByTagName("body")[0];
            e = document.createElement("div");
            b = document.createElement(g ? "div" : "body");
            d = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            };
            g && c.extend(d, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (f in d) b.style[f] = d[f];
            b.appendChild(e);
            d = g || document.documentElement;
            d.insertBefore(b, d.firstChild);
            e.style.cssText = "position: absolute; left: 10.7432222px;";
            e = c(e).offset().left;
            c.support.offsetFractions = 10 < e && 11 > e;
            b.innerHTML = "";
            d.removeChild(b)
        })()
    })(jQuery);
    (function(c, b) {
        c.widget("ui.draggable", c.ui.mouse, {
            version: "1.10.3",
            widgetEventPrefix: "drag",
            options: {
                addClasses: !0,
                appendTo: "parent",
                axis: !1,
                connectToSortable: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                iframeFix: !1,
                opacity: !1,
                refreshPositions: !1,
                revert: !1,
                revertDuration: 500,
                scope: "default",
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                snap: !1,
                snapMode: "both",
                snapTolerance: 20,
                stack: !1,
                zIndex: !1,
                drag: null,
                start: null,
                stop: null
            },
            _create: function() {
                "original" === this.options.helper && !/^(?:r|a|f)/.test(this.element.css("position")) && (this.element[0].style.position = "relative");
                this.options.addClasses && this.element.addClass("ui-draggable");
                this.options.disabled && this.element.addClass("ui-draggable-disabled");
                this._mouseInit()
            },
            _destroy: function() {
                this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
                this._mouseDestroy()
            },
            _mouseCapture: function(b) {
                var e =
                    this.options;
                if (this.helper || e.disabled || 0 < c(b.target).closest(".ui-resizable-handle").length) return !1;
                this.handle = this._getHandle(b);
                if (!this.handle) return !1;
                c(!0 === e.iframeFix ? "iframe" : e.iframeFix).each(function() {
                    c("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
                        width: this.offsetWidth + "px",
                        height: this.offsetHeight + "px",
                        position: "absolute",
                        opacity: "0.001",
                        zIndex: 1E3
                    }).css(c(this).offset()).appendTo("body")
                });
                return !0
            },
            _mouseStart: function(b) {
                var e = this.options;
                this.helper =
                    this._createHelper(b);
                this.helper.addClass("ui-draggable-dragging");
                this._cacheHelperProportions();
                c.ui.ddmanager && (c.ui.ddmanager.current = this);
                this._cacheMargins();
                this.cssPosition = this.helper.css("position");
                this.scrollParent = this.helper.scrollParent();
                this.offsetParent = this.helper.offsetParent();
                this.offsetParentCssPosition = this.offsetParent.css("position");
                this.offset = this.positionAbs = this.element.offset();
                this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                };
                this.offset.scroll = !1;
                c.extend(this.offset, {
                    click: {
                        left: b.pageX - this.offset.left,
                        top: b.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                });
                this.originalPosition = this.position = this._generatePosition(b);
                this.originalPageX = b.pageX;
                this.originalPageY = b.pageY;
                e.cursorAt && this._adjustOffsetFromHelper(e.cursorAt);
                this._setContainment();
                if (!1 === this._trigger("start", b)) return this._clear(), !1;
                this._cacheHelperProportions();
                c.ui.ddmanager && !e.dropBehaviour && c.ui.ddmanager.prepareOffsets(this,
                    b);
                this._mouseDrag(b, !0);
                c.ui.ddmanager && c.ui.ddmanager.dragStart(this, b);
                return !0
            },
            _mouseDrag: function(b, e) {
                "fixed" === this.offsetParentCssPosition && (this.offset.parent = this._getParentOffset());
                this.position = this._generatePosition(b);
                this.positionAbs = this._convertPositionTo("absolute");
                if (!e) {
                    var g = this._uiHash();
                    if (!1 === this._trigger("drag", b, g)) return this._mouseUp({}), !1;
                    this.position = g.position
                }
                if (!this.options.axis || "y" !== this.options.axis) this.helper[0].style.left = this.position.left + "px";
                if (!this.options.axis ||
                    "x" !== this.options.axis) this.helper[0].style.top = this.position.top + "px";
                c.ui.ddmanager && c.ui.ddmanager.drag(this, b);
                return !1
            },
            _mouseStop: function(b) {
                var e = this,
                    g = !1;
                c.ui.ddmanager && !this.options.dropBehaviour && (g = c.ui.ddmanager.drop(this, b));
                this.dropped && (g = this.dropped, this.dropped = !1);
                if ("original" === this.options.helper && !c.contains(this.element[0].ownerDocument, this.element[0])) return !1;
                "invalid" === this.options.revert && !g || "valid" === this.options.revert && g || !0 === this.options.revert || c.isFunction(this.options.revert) &&
                    this.options.revert.call(this.element, g) ? c(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                        !1 !== e._trigger("stop", b) && e._clear()
                    }) : !1 !== this._trigger("stop", b) && this._clear();
                return !1
            },
            _mouseUp: function(b) {
                c("div.ui-draggable-iframeFix").each(function() {
                    this.parentNode.removeChild(this)
                });
                c.ui.ddmanager && c.ui.ddmanager.dragStop(this, b);
                return c.ui.mouse.prototype._mouseUp.call(this, b)
            },
            cancel: function() {
                this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) :
                    this._clear();
                return this
            },
            _getHandle: function(b) {
                return this.options.handle ? !!c(b.target).closest(this.element.find(this.options.handle)).length : !0
            },
            _createHelper: function(b) {
                var e = this.options;
                b = c.isFunction(e.helper) ? c(e.helper.apply(this.element[0], [b])) : "clone" === e.helper ? this.element.clone().removeAttr("id") : this.element;
                b.parents("body").length || b.appendTo("parent" === e.appendTo ? this.element[0].parentNode : e.appendTo);
                b[0] !== this.element[0] && !/(fixed|absolute)/.test(b.css("position")) && b.css("position",
                    "absolute");
                return b
            },
            _adjustOffsetFromHelper: function(b) {
                "string" === typeof b && (b = b.split(" "));
                c.isArray(b) && (b = {
                    left: +b[0],
                    top: +b[1] || 0
                });
                "left" in b && (this.offset.click.left = b.left + this.margins.left);
                "right" in b && (this.offset.click.left = this.helperProportions.width - b.right + this.margins.left);
                "top" in b && (this.offset.click.top = b.top + this.margins.top);
                "bottom" in b && (this.offset.click.top = this.helperProportions.height - b.bottom + this.margins.top)
            },
            _getParentOffset: function() {
                var b = this.offsetParent.offset();
                "absolute" === this.cssPosition && (this.scrollParent[0] !== document && c.contains(this.scrollParent[0], this.offsetParent[0])) && (b.left += this.scrollParent.scrollLeft(), b.top += this.scrollParent.scrollTop());
                if (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && c.ui.ie) b = {
                    top: 0,
                    left: 0
                };
                return {
                    top: b.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: b.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function() {
                if ("relative" ===
                    this.cssPosition) {
                    var b = this.element.position();
                    return {
                        top: b.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                        left: b.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                    }
                }
                return {
                    top: 0,
                    left: 0
                }
            },
            _cacheMargins: function() {
                this.margins = {
                    left: parseInt(this.element.css("marginLeft"), 10) || 0,
                    top: parseInt(this.element.css("marginTop"), 10) || 0,
                    right: parseInt(this.element.css("marginRight"), 10) || 0,
                    bottom: parseInt(this.element.css("marginBottom"), 10) || 0
                }
            },
            _cacheHelperProportions: function() {
                this.helperProportions = {
                    width: this.helper.outerWidth(),
                    height: this.helper.outerHeight()
                }
            },
            _setContainment: function() {
                var b, e, g;
                b = this.options;
                if (b.containment)
                    if ("window" === b.containment) this.containment = [c(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, c(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, c(window).scrollLeft() + c(window).width() - this.helperProportions.width - this.margins.left, c(window).scrollTop() + (c(window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height -
                        this.margins.top
                    ];
                    else if ("document" === b.containment) this.containment = [0, 0, c(document).width() - this.helperProportions.width - this.margins.left, (c(document).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
                else if (b.containment.constructor === Array) this.containment = b.containment;
                else {
                    if ("parent" === b.containment && (b.containment = this.helper[0].parentNode), e = c(b.containment), g = e[0]) b = "hidden" !== e.css("overflow"), this.containment = [(parseInt(e.css("borderLeftWidth"),
                            10) || 0) + (parseInt(e.css("paddingLeft"), 10) || 0), (parseInt(e.css("borderTopWidth"), 10) || 0) + (parseInt(e.css("paddingTop"), 10) || 0), (b ? Math.max(g.scrollWidth, g.offsetWidth) : g.offsetWidth) - (parseInt(e.css("borderRightWidth"), 10) || 0) - (parseInt(e.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (b ? Math.max(g.scrollHeight, g.offsetHeight) : g.offsetHeight) - (parseInt(e.css("borderBottomWidth"), 10) || 0) - (parseInt(e.css("paddingBottom"), 10) || 0) - this.helperProportions.height -
                        this.margins.top - this.margins.bottom
                    ], this.relative_container = e
                } else this.containment = null
            },
            _convertPositionTo: function(b, e) {
                e || (e = this.position);
                var g = "absolute" === b ? 1 : -1,
                    f = "absolute" === this.cssPosition && !(this.scrollParent[0] !== document && c.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent;
                this.offset.scroll || (this.offset.scroll = {
                    top: f.scrollTop(),
                    left: f.scrollLeft()
                });
                return {
                    top: e.top + this.offset.relative.top * g + this.offset.parent.top * g - ("fixed" === this.cssPosition ?
                        -this.scrollParent.scrollTop() : this.offset.scroll.top) * g,
                    left: e.left + this.offset.relative.left * g + this.offset.parent.left * g - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left) * g
                }
            },
            _generatePosition: function(b) {
                var e, g, f, h = this.options,
                    m = "absolute" === this.cssPosition && !(this.scrollParent[0] !== document && c.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent;
                f = b.pageX;
                g = b.pageY;
                this.offset.scroll || (this.offset.scroll = {
                    top: m.scrollTop(),
                    left: m.scrollLeft()
                });
                this.originalPosition && (this.containment && (this.relative_container ? (e = this.relative_container.offset(), e = [this.containment[0] + e.left, this.containment[1] + e.top, this.containment[2] + e.left, this.containment[3] + e.top]) : e = this.containment, b.pageX - this.offset.click.left < e[0] && (f = e[0] + this.offset.click.left), b.pageY - this.offset.click.top < e[1] && (g = e[1] + this.offset.click.top), b.pageX - this.offset.click.left > e[2] && (f = e[2] + this.offset.click.left), b.pageY - this.offset.click.top > e[3] && (g = e[3] +
                    this.offset.click.top)), h.grid && (g = h.grid[1] ? this.originalPageY + Math.round((g - this.originalPageY) / h.grid[1]) * h.grid[1] : this.originalPageY, g = e ? g - this.offset.click.top >= e[1] || g - this.offset.click.top > e[3] ? g : g - this.offset.click.top >= e[1] ? g - h.grid[1] : g + h.grid[1] : g, f = h.grid[0] ? this.originalPageX + Math.round((f - this.originalPageX) / h.grid[0]) * h.grid[0] : this.originalPageX, f = e ? f - this.offset.click.left >= e[0] || f - this.offset.click.left > e[2] ? f : f - this.offset.click.left >= e[0] ? f - h.grid[0] : f + h.grid[0] : f));
                return {
                    top: g -
                        this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : this.offset.scroll.top),
                    left: f - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left)
                }
            },
            _clear: function() {
                this.helper.removeClass("ui-draggable-dragging");
                this.helper[0] !== this.element[0] && !this.cancelHelperRemoval && this.helper.remove();
                this.helper = null;
                this.cancelHelperRemoval = !1
            },
            _trigger: function(b, e, g) {
                g = g || this._uiHash();
                c.ui.plugin.call(this, b, [e, g]);
                "drag" === b && (this.positionAbs = this._convertPositionTo("absolute"));
                return c.Widget.prototype._trigger.call(this, b, e, g)
            },
            plugins: {},
            _uiHash: function() {
                return {
                    helper: this.helper,
                    position: this.position,
                    originalPosition: this.originalPosition,
                    offset: this.positionAbs
                }
            }
        });
        c.ui.plugin.add("draggable", "connectToSortable", {
            start: function(b, e) {
                var g = c(this).data("ui-draggable"),
                    f = g.options,
                    h = c.extend({}, e, {
                        item: g.element
                    });
                g.sortables = [];
                c(f.connectToSortable).each(function() {
                    var e = c.data(this, "ui-sortable");
                    e && !e.options.disabled && (g.sortables.push({
                        instance: e,
                        shouldRevert: e.options.revert
                    }), e.refreshPositions(), e._trigger("activate", b, h))
                })
            },
            stop: function(b, e) {
                var g = c(this).data("ui-draggable"),
                    f = c.extend({}, e, {
                        item: g.element
                    });
                c.each(g.sortables, function() {
                    this.instance.isOver ? (this.instance.isOver = 0, g.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert && (this.instance.options.revert = this.shouldRevert),
                        this.instance._mouseStop(b), this.instance.options.helper = this.instance.options._helper, "original" === g.options.helper && this.instance.currentItem.css({
                            top: "auto",
                            left: "auto"
                        })) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate", b, f))
                })
            },
            drag: function(b, e) {
                var g = c(this).data("ui-draggable"),
                    f = this;
                c.each(g.sortables, function() {
                    var h = !1,
                        m = this;
                    this.instance.positionAbs = g.positionAbs;
                    this.instance.helperProportions = g.helperProportions;
                    this.instance.offset.click = g.offset.click;
                    this.instance._intersectsWith(this.instance.containerCache) &&
                        (h = !0, c.each(g.sortables, function() {
                            this.instance.positionAbs = g.positionAbs;
                            this.instance.helperProportions = g.helperProportions;
                            this.instance.offset.click = g.offset.click;
                            this !== m && (this.instance._intersectsWith(this.instance.containerCache) && c.contains(m.instance.element[0], this.instance.element[0])) && (h = !1);
                            return h
                        }));
                    h ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = c(f).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0), this.instance.options._helper =
                        this.instance.options.helper, this.instance.options.helper = function() {
                            return e.helper[0]
                        }, b.target = this.instance.currentItem[0], this.instance._mouseCapture(b, !0), this.instance._mouseStart(b, !0, !0), this.instance.offset.click.top = g.offset.click.top, this.instance.offset.click.left = g.offset.click.left, this.instance.offset.parent.left -= g.offset.parent.left - this.instance.offset.parent.left, this.instance.offset.parent.top -= g.offset.parent.top - this.instance.offset.parent.top, g._trigger("toSortable", b), g.dropped =
                        this.instance.element, g.currentItem = g.element, this.instance.fromOutside = g), this.instance.currentItem && this.instance._mouseDrag(b)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", b, this.instance._uiHash(this.instance)), this.instance._mouseStop(b, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder && this.instance.placeholder.remove(),
                        g._trigger("fromSortable", b), g.dropped = !1)
                })
            }
        });
        c.ui.plugin.add("draggable", "cursor", {
            start: function() {
                var b = c("body"),
                    e = c(this).data("ui-draggable").options;
                b.css("cursor") && (e._cursor = b.css("cursor"));
                b.css("cursor", e.cursor)
            },
            stop: function() {
                var b = c(this).data("ui-draggable").options;
                b._cursor && c("body").css("cursor", b._cursor)
            }
        });
        c.ui.plugin.add("draggable", "opacity", {
            start: function(b, e) {
                var g = c(e.helper),
                    f = c(this).data("ui-draggable").options;
                g.css("opacity") && (f._opacity = g.css("opacity"));
                g.css("opacity",
                    f.opacity)
            },
            stop: function(b, e) {
                var g = c(this).data("ui-draggable").options;
                g._opacity && c(e.helper).css("opacity", g._opacity)
            }
        });
        c.ui.plugin.add("draggable", "scroll", {
            start: function() {
                var b = c(this).data("ui-draggable");
                b.scrollParent[0] !== document && "HTML" !== b.scrollParent[0].tagName && (b.overflowOffset = b.scrollParent.offset())
            },
            drag: function(b) {
                var e = c(this).data("ui-draggable"),
                    g = e.options,
                    f = !1;
                if (e.scrollParent[0] !== document && "HTML" !== e.scrollParent[0].tagName) {
                    if (!g.axis || "x" !== g.axis) e.overflowOffset.top +
                        e.scrollParent[0].offsetHeight - b.pageY < g.scrollSensitivity ? e.scrollParent[0].scrollTop = f = e.scrollParent[0].scrollTop + g.scrollSpeed : b.pageY - e.overflowOffset.top < g.scrollSensitivity && (e.scrollParent[0].scrollTop = f = e.scrollParent[0].scrollTop - g.scrollSpeed);
                    if (!g.axis || "y" !== g.axis) e.overflowOffset.left + e.scrollParent[0].offsetWidth - b.pageX < g.scrollSensitivity ? e.scrollParent[0].scrollLeft = f = e.scrollParent[0].scrollLeft + g.scrollSpeed : b.pageX - e.overflowOffset.left < g.scrollSensitivity && (e.scrollParent[0].scrollLeft =
                        f = e.scrollParent[0].scrollLeft - g.scrollSpeed)
                } else {
                    if (!g.axis || "x" !== g.axis) b.pageY - c(document).scrollTop() < g.scrollSensitivity ? f = c(document).scrollTop(c(document).scrollTop() - g.scrollSpeed) : c(window).height() - (b.pageY - c(document).scrollTop()) < g.scrollSensitivity && (f = c(document).scrollTop(c(document).scrollTop() + g.scrollSpeed));
                    if (!g.axis || "y" !== g.axis) b.pageX - c(document).scrollLeft() < g.scrollSensitivity ? f = c(document).scrollLeft(c(document).scrollLeft() - g.scrollSpeed) : c(window).width() - (b.pageX - c(document).scrollLeft()) <
                        g.scrollSensitivity && (f = c(document).scrollLeft(c(document).scrollLeft() + g.scrollSpeed))
                }!1 !== f && (c.ui.ddmanager && !g.dropBehaviour) && c.ui.ddmanager.prepareOffsets(e, b)
            }
        });
        c.ui.plugin.add("draggable", "snap", {
            start: function() {
                var b = c(this).data("ui-draggable"),
                    e = b.options;
                b.snapElements = [];
                c(e.snap.constructor !== String ? e.snap.items || ":data(ui-draggable)" : e.snap).each(function() {
                    var e = c(this),
                        f = e.offset();
                    this !== b.element[0] && b.snapElements.push({
                        item: this,
                        width: e.outerWidth(),
                        height: e.outerHeight(),
                        top: f.top,
                        left: f.left
                    })
                })
            },
            drag: function(b, e) {
                var g, f, h, m, q, s, w, k, l, C, G = c(this).data("ui-draggable"),
                    E = G.options,
                    N = E.snapTolerance,
                    J = e.offset.left,
                    R = J + G.helperProportions.width,
                    ea = e.offset.top,
                    n = ea + G.helperProportions.height;
                for (l = G.snapElements.length - 1; 0 <= l; l--) q = G.snapElements[l].left, s = q + G.snapElements[l].width, w = G.snapElements[l].top, k = w + G.snapElements[l].height, R < q - N || J > s + N || n < w - N || ea > k + N || !c.contains(G.snapElements[l].item.ownerDocument, G.snapElements[l].item) ? (G.snapElements[l].snapping &&
                    G.options.snap.release && G.options.snap.release.call(G.element, b, c.extend(G._uiHash(), {
                        snapItem: G.snapElements[l].item
                    })), G.snapElements[l].snapping = !1) : ("inner" !== E.snapMode && (g = Math.abs(w - n) <= N, f = Math.abs(k - ea) <= N, h = Math.abs(q - R) <= N, m = Math.abs(s - J) <= N, g && (e.position.top = G._convertPositionTo("relative", {
                    top: w - G.helperProportions.height,
                    left: 0
                }).top - G.margins.top), f && (e.position.top = G._convertPositionTo("relative", {
                    top: k,
                    left: 0
                }).top - G.margins.top), h && (e.position.left = G._convertPositionTo("relative", {
                    top: 0,
                    left: q - G.helperProportions.width
                }).left - G.margins.left), m && (e.position.left = G._convertPositionTo("relative", {
                    top: 0,
                    left: s
                }).left - G.margins.left)), C = g || f || h || m, "outer" !== E.snapMode && (g = Math.abs(w - ea) <= N, f = Math.abs(k - n) <= N, h = Math.abs(q - J) <= N, m = Math.abs(s - R) <= N, g && (e.position.top = G._convertPositionTo("relative", {
                    top: w,
                    left: 0
                }).top - G.margins.top), f && (e.position.top = G._convertPositionTo("relative", {
                    top: k - G.helperProportions.height,
                    left: 0
                }).top - G.margins.top), h && (e.position.left = G._convertPositionTo("relative", {
                    top: 0,
                    left: q
                }).left - G.margins.left), m && (e.position.left = G._convertPositionTo("relative", {
                    top: 0,
                    left: s - G.helperProportions.width
                }).left - G.margins.left)), !G.snapElements[l].snapping && (g || f || h || m || C) && G.options.snap.snap && G.options.snap.snap.call(G.element, b, c.extend(G._uiHash(), {
                    snapItem: G.snapElements[l].item
                })), G.snapElements[l].snapping = g || f || h || m || C)
            }
        });
        c.ui.plugin.add("draggable", "stack", {
            start: function() {
                var b, e = this.data("ui-draggable").options,
                    e = c.makeArray(c(e.stack)).sort(function(b, d) {
                        return (parseInt(c(b).css("zIndex"),
                            10) || 0) - (parseInt(c(d).css("zIndex"), 10) || 0)
                    });
                e.length && (b = parseInt(c(e[0]).css("zIndex"), 10) || 0, c(e).each(function(e) {
                    c(this).css("zIndex", b + e)
                }), this.css("zIndex", b + e.length))
            }
        });
        c.ui.plugin.add("draggable", "zIndex", {
            start: function(b, e) {
                var g = c(e.helper),
                    f = c(this).data("ui-draggable").options;
                g.css("zIndex") && (f._zIndex = g.css("zIndex"));
                g.css("zIndex", f.zIndex)
            },
            stop: function(b, e) {
                var g = c(this).data("ui-draggable").options;
                g._zIndex && c(e.helper).css("zIndex", g._zIndex)
            }
        })
    })(jQuery);
    (function(c,
        b) {
        c.widget("ui.droppable", {
            version: "1.10.3",
            widgetEventPrefix: "drop",
            options: {
                accept: "*",
                activeClass: !1,
                addClasses: !0,
                greedy: !1,
                hoverClass: !1,
                scope: "default",
                tolerance: "intersect",
                activate: null,
                deactivate: null,
                drop: null,
                out: null,
                over: null
            },
            _create: function() {
                var b = this.options,
                    e = b.accept;
                this.isover = !1;
                this.isout = !0;
                this.accept = c.isFunction(e) ? e : function(b) {
                    return b.is(e)
                };
                this.proportions = {
                    width: this.element[0].offsetWidth,
                    height: this.element[0].offsetHeight
                };
                c.ui.ddmanager.droppables[b.scope] =
                    c.ui.ddmanager.droppables[b.scope] || [];
                c.ui.ddmanager.droppables[b.scope].push(this);
                b.addClasses && this.element.addClass("ui-droppable")
            },
            _destroy: function() {
                for (var b = 0, e = c.ui.ddmanager.droppables[this.options.scope]; b < e.length; b++) e[b] === this && e.splice(b, 1);
                this.element.removeClass("ui-droppable ui-droppable-disabled")
            },
            _setOption: function(b, e) {
                "accept" === b && (this.accept = c.isFunction(e) ? e : function(b) {
                    return b.is(e)
                });
                c.Widget.prototype._setOption.apply(this, arguments)
            },
            _activate: function(b) {
                var e =
                    c.ui.ddmanager.current;
                this.options.activeClass && this.element.addClass(this.options.activeClass);
                e && this._trigger("activate", b, this.ui(e))
            },
            _deactivate: function(b) {
                var e = c.ui.ddmanager.current;
                this.options.activeClass && this.element.removeClass(this.options.activeClass);
                e && this._trigger("deactivate", b, this.ui(e))
            },
            _over: function(b) {
                var e = c.ui.ddmanager.current;
                if (e && (e.currentItem || e.element)[0] !== this.element[0])
                    if (this.accept.call(this.element[0], e.currentItem || e.element)) this.options.hoverClass &&
                        this.element.addClass(this.options.hoverClass), this._trigger("over", b, this.ui(e))
            },
            _out: function(b) {
                var e = c.ui.ddmanager.current;
                if (e && (e.currentItem || e.element)[0] !== this.element[0])
                    if (this.accept.call(this.element[0], e.currentItem || e.element)) this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", b, this.ui(e))
            },
            _drop: function(b, e) {
                var g = e || c.ui.ddmanager.current,
                    f = !1;
                if (!g || (g.currentItem || g.element)[0] === this.element[0]) return !1;
                this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                    var b =
                        c.data(this, "ui-droppable");
                    if (b.options.greedy && !b.options.disabled && b.options.scope === g.options.scope && b.accept.call(b.element[0], g.currentItem || g.element) && c.ui.intersect(g, c.extend(b, {
                        offset: b.element.offset()
                    }), b.options.tolerance)) return f = !0, !1
                });
                return f ? !1 : this.accept.call(this.element[0], g.currentItem || g.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", b,
                    this.ui(g)), this.element) : !1
            },
            ui: function(b) {
                return {
                    draggable: b.currentItem || b.element,
                    helper: b.helper,
                    position: b.position,
                    offset: b.positionAbs
                }
            },
            _inBounds: function(b) {
                return "function" === typeof this.options.inBounds ? this.options.inBounds(b) : !1
            }
        });
        c.ui.intersect = function(b, e, c) {
            if (!e.offset) return !1;
            var f = (b.positionAbs || b.position.absolute).left,
                h = f + b.helperProportions.width,
                m = (b.positionAbs || b.position.absolute).top,
                q = m + b.helperProportions.height,
                s = e.offset.left,
                w = s + e.proportions.width,
                k = e.offset.top,
                l = k + e.proportions.height;
            switch (c) {
                case "fit":
                    return s <= f && h <= w && k <= m && q <= l;
                case "intersect":
                    return s < f + b.helperProportions.width / 2 && h - b.helperProportions.width / 2 < w && k < m + b.helperProportions.height / 2 && q - b.helperProportions.height / 2 < l;
                case "pointer":
                    return c = (b.positionAbs || b.position.absolute).left + (b.clickOffset || b.offset.click).left, b = (b.positionAbs || b.position.absolute).top + (b.clickOffset || b.offset.click).top, b > k && b < k + e.proportions.height && c > s && c < s + e.proportions.width;
                case "touch":
                    return (m >= k &&
                        m <= l || q >= k && q <= l || m < k && q > l) && (f >= s && f <= w || h >= s && h <= w || f < s && h > w);
                default:
                    return !1
            }
        };
        c.ui.ddmanager = {
            current: null,
            droppables: {
                "default": []
            },
            prepareOffsets: function(b, e) {
                var g, f, h = c.ui.ddmanager.droppables[b.options.scope] || [],
                    m = e ? e.type : null,
                    q = (b.currentItem || b.element).find(":data(ui-droppable)").addBack();
                g = 0;
                a: for (; g < h.length; g++)
                    if (!(h[g].options.disabled || b && !h[g].accept.call(h[g].element[0], b.currentItem || b.element))) {
                        for (f = 0; f < q.length; f++)
                            if (q[f] === h[g].element[0]) {
                                h[g].proportions.height = 0;
                                continue a
                            }
                        h[g].visible = "none" !== h[g].element.css("display");
                        h[g].visible && ("mousedown" === m && h[g]._activate.call(h[g], e), h[g].offset = h[g].element.offset(), h[g].proportions = {
                            width: h[g].element[0].offsetWidth,
                            height: h[g].element[0].offsetHeight
                        })
                    }
            },
            drop: function(b, e) {
                var g = !1;
                c.each((c.ui.ddmanager.droppables[b.options.scope] || []).slice(), function() {
                    if (this.options && (!this.options.disabled && (this.visible && this._inBounds(e) && c.ui.intersect(b, this, this.options.tolerance)) && (g = this._drop.call(this, e) ||
                        g), !this.options.disabled && this.visible && this.accept.call(this.element[0], b.currentItem || b.element))) this.isout = !0, this.isover = !1, this._deactivate.call(this, e)
                });
                return g
            },
            dragStart: function(b, e) {
                b.element.parentsUntil("body").bind("scroll.droppable", function() {
                    b.options.refreshPositions || c.ui.ddmanager.prepareOffsets(b, e)
                })
            },
            drag: function(b, e) {
                b.options.refreshPositions && c.ui.ddmanager.prepareOffsets(b, e);
                c.each(c.ui.ddmanager.droppables[b.options.scope] || [], function() {
                    if (!this.options.disabled &&
                        !this.greedyChild && this.visible) {
                        var g, f, h;
                        h = this._inBounds(e) && c.ui.intersect(b, this, this.options.tolerance);
                        var m = !h && this.isover ? "isout" : h && !this.isover ? "isover" : null;
                        m && (this.options.greedy && (f = this.options.scope, h = this.element.parents(":data(ui-droppable)").filter(function() {
                            return c.data(this, "ui-droppable").options.scope === f
                        }), h.length && (g = c.data(h[0], "ui-droppable"), g.greedyChild = "isover" === m)), g && "isover" === m && (g.isover = !1, g.isout = !0, g._out.call(g, e)), this[m] = !0, this["isout" === m ? "isover" :
                            "isout"] = !1, this["isover" === m ? "_over" : "_out"].call(this, e), g && "isout" === m && (g.isout = !1, g.isover = !0, g._over.call(g, e)))
                    }
                })
            },
            dragStop: function(b, e) {
                b.element.parentsUntil("body").unbind("scroll.droppable");
                b.options.refreshPositions || c.ui.ddmanager.prepareOffsets(b, e)
            }
        }
    })(jQuery);
    (function(c, b) {
        function d(b) {
            return /left|right/.test(b.css("float")) || /inline|table-cell/.test(b.css("display"))
        }
        c.widget("ui.sortable", c.ui.mouse, {
            version: "1.10.3",
            widgetEventPrefix: "sort",
            ready: !1,
            options: {
                appendTo: "parent",
                axis: !1,
                connectWith: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                dropOnEmpty: !0,
                forcePlaceholderSize: !1,
                forceHelperSize: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                items: "> *",
                opacity: !1,
                placeholder: !1,
                revert: !1,
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                scope: "default",
                tolerance: "intersect",
                zIndex: 1E3,
                activate: null,
                beforeStop: null,
                change: null,
                deactivate: null,
                out: null,
                over: null,
                receive: null,
                remove: null,
                sort: null,
                start: null,
                stop: null,
                update: null
            },
            _create: function() {
                var b = this.options;
                this.containerCache = {};
                this.element.addClass("ui-sortable");
                this.refresh();
                this.floating = this.items.length ? "x" === b.axis || d(this.items[0].item) : !1;
                this.offset = this.element.offset();
                this._mouseInit();
                this.ready = !0
            },
            _destroy: function() {
                this.element.removeClass("ui-sortable ui-sortable-disabled");
                this._mouseDestroy();
                for (var b = this.items.length - 1; 0 <= b; b--) this.items[b].item.removeData(this.widgetName + "-item");
                return this
            },
            _setOption: function(b, d) {
                "disabled" === b ? (this.options[b] = d, this.widget().toggleClass("ui-sortable-disabled", !!d)) : c.Widget.prototype._setOption.apply(this, arguments)
            },
            _mouseCapture: function(b, d) {
                var f = null,
                    h = !1,
                    m = this;
                if (this.reverting || this.options.disabled || "static" === this.options.type) return !1;
                this._refreshItems(b);
                c(b.target).parents().each(function() {
                    if (c.data(this, m.widgetName + "-item") === m) return f = c(this), !1
                });
                c.data(b.target, m.widgetName + "-item") === m && (f = c(b.target));
                if (!f || this.options.handle && !d && (c(this.options.handle, f).find("*").addBack().each(function() {
                    this === b.target && (h = !0)
                }), !h)) return !1;
                this.currentItem = f;
                this._removeCurrentsFromItems();
                return !0
            },
            _mouseStart: function(b, d, f) {
                var h;
                d = this.options;
                this.currentContainer = this;
                this.refreshPositions();
                this.helper = this._createHelper(b);
                this._cacheHelperProportions();
                this._cacheMargins();
                this.scrollParent = this.helper.scrollParent();
                this.offset = this.currentItem.offset();
                this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                };
                c.extend(this.offset, {
                    click: {
                        left: b.pageX - this.offset.left,
                        top: b.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                });
                this.helper.css("position", "absolute");
                this.cssPosition = this.helper.css("position");
                this.originalPosition = this._generatePosition(b);
                this.originalPageX = b.pageX;
                this.originalPageY = b.pageY;
                d.cursorAt && this._adjustOffsetFromHelper(d.cursorAt);
                this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                };
                this.helper[0] !== this.currentItem[0] && this.currentItem.hide();
                this._createPlaceholder();
                d.containment && this._setContainment();
                d.cursor && "auto" !== d.cursor && (h = this.document.find("body"), this.storedCursor = h.css("cursor"), h.css("cursor", d.cursor), this.storedStylesheet = c("<style>*{ cursor: " + d.cursor + " !important; }</style>").appendTo(h));
                d.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", d.opacity));
                d.zIndex && (this.helper.css("zIndex") ? this._storedZIndex = this.helper.css("zIndex") : this._storedZIndex = "auto", this.helper.css("zIndex", d.zIndex));
                this.scrollParent[0] !==
                    document && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset());
                this._trigger("start", b, this._uiHash());
                this._preserveHelperProportions || this._cacheHelperProportions();
                if (!f)
                    for (f = this.containers.length - 1; 0 <= f; f--) this.containers[f]._trigger("activate", b, this._uiHash(this));
                c.ui.ddmanager && (c.ui.ddmanager.current = this);
                c.ui.ddmanager && !d.dropBehaviour && c.ui.ddmanager.prepareOffsets(this, b);
                this.dragging = !0;
                this.helper.addClass("ui-sortable-helper");
                this._mouseDrag(b);
                return !0
            },
            _mouseDrag: function(b) {
                var d, f, h, m;
                d = this.options;
                f = !1;
                this.position = this._generatePosition(b);
                this.positionAbs = this._convertPositionTo("absolute");
                this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs);
                this.options.scroll && (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - b.pageY < d.scrollSensitivity ? this.scrollParent[0].scrollTop = f = this.scrollParent[0].scrollTop + d.scrollSpeed : b.pageY - this.overflowOffset.top <
                    d.scrollSensitivity && (this.scrollParent[0].scrollTop = f = this.scrollParent[0].scrollTop - d.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - b.pageX < d.scrollSensitivity ? this.scrollParent[0].scrollLeft = f = this.scrollParent[0].scrollLeft + d.scrollSpeed : b.pageX - this.overflowOffset.left < d.scrollSensitivity && (this.scrollParent[0].scrollLeft = f = this.scrollParent[0].scrollLeft - d.scrollSpeed)) : (b.pageY - c(document).scrollTop() < d.scrollSensitivity ? f = c(document).scrollTop(c(document).scrollTop() -
                    d.scrollSpeed) : c(window).height() - (b.pageY - c(document).scrollTop()) < d.scrollSensitivity && (f = c(document).scrollTop(c(document).scrollTop() + d.scrollSpeed)), b.pageX - c(document).scrollLeft() < d.scrollSensitivity ? f = c(document).scrollLeft(c(document).scrollLeft() - d.scrollSpeed) : c(window).width() - (b.pageX - c(document).scrollLeft()) < d.scrollSensitivity && (f = c(document).scrollLeft(c(document).scrollLeft() + d.scrollSpeed))), !1 !== f && (c.ui.ddmanager && !d.dropBehaviour) && c.ui.ddmanager.prepareOffsets(this, b));
                this.positionAbs =
                    this._convertPositionTo("absolute");
                if (!this.options.axis || "y" !== this.options.axis) this.helper[0].style.left = this.position.left + "px";
                if (!this.options.axis || "x" !== this.options.axis) this.helper[0].style.top = this.position.top + "px";
                for (d = this.items.length - 1; 0 <= d; d--)
                    if (f = this.items[d], h = f.item[0], (m = this._intersectsWithPointer(f)) && f.instance === this.currentContainer && h !== this.currentItem[0] && this.placeholder[1 === m ? "next" : "prev"]()[0] !== h && !c.contains(this.placeholder[0], h) && ("semi-dynamic" === this.options.type ?
                        !c.contains(this.element[0], h) : 1)) {
                        this.direction = 1 === m ? "down" : "up";
                        if ("pointer" === this.options.tolerance || this._intersectsWithSides(f)) this._rearrange(b, f);
                        else break;
                        this._trigger("change", b, this._uiHash());
                        break
                    }
                this._contactContainers(b);
                c.ui.ddmanager && c.ui.ddmanager.drag(this, b);
                this._trigger("sort", b, this._uiHash());
                this.lastPositionAbs = this.positionAbs;
                return !1
            },
            _mouseStop: function(b, d) {
                if (b) {
                    c.ui.ddmanager && !this.options.dropBehaviour && c.ui.ddmanager.drop(this, b);
                    if (this.options.revert) {
                        var f =
                            this,
                            h = this.placeholder.offset(),
                            m = this.options.axis,
                            q = {};
                        if (!m || "x" === m) q.left = h.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft);
                        if (!m || "y" === m) q.top = h.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop);
                        this.reverting = !0;
                        c(this.helper).animate(q, parseInt(this.options.revert, 10) || 500, function() {
                            f._clear(b)
                        })
                    } else this._clear(b, d);
                    return !1
                }
            },
            cancel: function() {
                if (this.dragging) {
                    this._mouseUp({
                        target: null
                    });
                    "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                    for (var b = this.containers.length - 1; 0 <= b; b--) this.containers[b]._trigger("deactivate", null, this._uiHash(this)), this.containers[b].containerCache.over && (this.containers[b]._trigger("out", null, this._uiHash(this)), this.containers[b].containerCache.over = 0)
                }
                this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !==
                    this.options.helper && (this.helper && this.helper[0].parentNode) && this.helper.remove(), c.extend(this, {
                        helper: null,
                        dragging: !1,
                        reverting: !1,
                        _noFinalSort: null
                    }), this.domPosition.prev ? c(this.domPosition.prev).after(this.currentItem) : c(this.domPosition.parent).prepend(this.currentItem));
                return this
            },
            serialize: function(b) {
                var d = this._getItemsAsjQuery(b && b.connected),
                    f = [];
                b = b || {};
                c(d).each(function() {
                    var d = (c(b.item || this).attr(b.attribute || "id") || "").match(b.expression || /(.+)[\-=_](.+)/);
                    d && f.push((b.key ||
                        d[1] + "[]") + "=" + (b.key && b.expression ? d[1] : d[2]))
                });
                !f.length && b.key && f.push(b.key + "=");
                return f.join("&")
            },
            toArray: function(b) {
                var d = this._getItemsAsjQuery(b && b.connected),
                    f = [];
                b = b || {};
                d.each(function() {
                    f.push(c(b.item || this).attr(b.attribute || "id") || "")
                });
                return f
            },
            _intersectsWith: function(b) {
                var d = this.positionAbs.left,
                    f = d + this.helperProportions.width,
                    c = this.positionAbs.top,
                    m = c + this.helperProportions.height,
                    q = b.left,
                    s = q + b.width,
                    w = b.top,
                    k = w + b.height,
                    l = this.offset.click.top,
                    C = this.offset.click.left,
                    C = "y" === this.options.axis || d + C > q && d + C < s,
                    l = ("x" === this.options.axis || c + l > w && c + l < k) && C;
                return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > b[this.floating ? "width" : "height"] ? l : q < d + this.helperProportions.width / 2 && f - this.helperProportions.width / 2 < s && w < c + this.helperProportions.height / 2 && m - this.helperProportions.height / 2 < k
            },
            _intersectsWithPointer: function(b) {
                var d = "y" === this.options.axis ||
                    this.positionAbs.left + this.offset.click.left > b.left && this.positionAbs.left + this.offset.click.left < b.left + b.width;
                b = ("x" === this.options.axis || this.positionAbs.top + this.offset.click.top > b.top && this.positionAbs.top + this.offset.click.top < b.top + b.height) && d;
                var d = this._getDragVerticalDirection(),
                    f = this._getDragHorizontalDirection();
                return !b ? !1 : this.floating ? f && "right" === f || "down" === d ? 2 : 1 : d && ("down" === d ? 2 : 1)
            },
            _intersectsWithSides: function(b) {
                var d = this.positionAbs.top + this.offset.click.top > b.top + b.height /
                    2 && this.positionAbs.top + this.offset.click.top < b.top + b.height / 2 + b.height;
                b = this.positionAbs.left + this.offset.click.left > b.left + b.width / 2 && this.positionAbs.left + this.offset.click.left < b.left + b.width / 2 + b.width;
                var f = this._getDragVerticalDirection(),
                    c = this._getDragHorizontalDirection();
                return this.floating && c ? "right" === c && b || "left" === c && !b : f && ("down" === f && d || "up" === f && !d)
            },
            _getDragVerticalDirection: function() {
                var b = this.positionAbs.top - this.lastPositionAbs.top;
                return 0 !== b && (0 < b ? "down" : "up")
            },
            _getDragHorizontalDirection: function() {
                var b =
                    this.positionAbs.left - this.lastPositionAbs.left;
                return 0 !== b && (0 < b ? "right" : "left")
            },
            refresh: function(b) {
                this._refreshItems(b);
                this.refreshPositions();
                return this
            },
            _connectWith: function() {
                var b = this.options;
                return b.connectWith.constructor === String ? [b.connectWith] : b.connectWith
            },
            _getItemsAsjQuery: function(b) {
                var d, f, h, m = [],
                    q = [],
                    s = this._connectWith();
                if (s && b)
                    for (b = s.length - 1; 0 <= b; b--) {
                        f = c(s[b]);
                        for (d = f.length - 1; 0 <= d; d--)(h = c.data(f[d], this.widgetFullName)) && (h !== this && !h.options.disabled) && q.push([c.isFunction(h.options.items) ?
                            h.options.items.call(h.element) : c(h.options.items, h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), h
                        ])
                    }
                q.push([c.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                    options: this.options,
                    item: this.currentItem
                }) : c(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);
                for (b = q.length - 1; 0 <= b; b--) q[b][0].each(function() {
                    m.push(this)
                });
                return c(m)
            },
            _removeCurrentsFromItems: function() {
                var b = this.currentItem.find(":data(" +
                    this.widgetName + "-item)");
                this.items = c.grep(this.items, function(d) {
                    for (var f = 0; f < b.length; f++)
                        if (b[f] === d.item[0]) return !1;
                    return !0
                })
            },
            _refreshItems: function(b) {
                this.items = [];
                this.containers = [this];
                var d, f, h, m, q, s = this.items,
                    w = [
                        [c.isFunction(this.options.items) ? this.options.items.call(this.element[0], b, {
                            item: this.currentItem
                        }) : c(this.options.items, this.element), this]
                    ];
                if ((q = this._connectWith()) && this.ready)
                    for (d = q.length - 1; 0 <= d; d--) {
                        h = c(q[d]);
                        for (f = h.length - 1; 0 <= f; f--)
                            if ((m = c.data(h[f], this.widgetFullName)) &&
                                m !== this && !m.options.disabled) w.push([c.isFunction(m.options.items) ? m.options.items.call(m.element[0], b, {
                                item: this.currentItem
                            }) : c(m.options.items, m.element), m]), this.containers.push(m)
                    }
                for (d = w.length - 1; 0 <= d; d--) {
                    b = w[d][1];
                    h = w[d][0];
                    f = 0;
                    for (q = h.length; f < q; f++) m = c(h[f]), m.data(this.widgetName + "-item", b), s.push({
                        item: m,
                        instance: b,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    })
                }
            },
            refreshPositions: function(b) {
                this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
                var d, f, h;
                for (d = this.items.length -
                    1; 0 <= d; d--) f = this.items[d], f.instance !== this.currentContainer && this.currentContainer && f.item[0] !== this.currentItem[0] || (h = this.options.toleranceElement ? c(this.options.toleranceElement, f.item) : f.item, b || (f.width = h.outerWidth(), f.height = h.outerHeight()), h = h.offset(), f.left = h.left, f.top = h.top);
                if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
                else
                    for (d = this.containers.length - 1; 0 <= d; d--) h = this.containers[d].element.offset(), this.containers[d].containerCache.left =
                        h.left, this.containers[d].containerCache.top = h.top, this.containers[d].containerCache.width = this.containers[d].element.outerWidth(), this.containers[d].containerCache.height = this.containers[d].element.outerHeight();
                return this
            },
            _createPlaceholder: function(b) {
                b = b || this;
                var d, f = b.options;
                if (!f.placeholder || f.placeholder.constructor === String) d = f.placeholder, f.placeholder = {
                    element: function() {
                        var f = b.currentItem[0].nodeName.toLowerCase(),
                            m = c("<" + f + ">", b.document[0]).addClass(d || b.currentItem[0].className +
                                " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                        "tr" === f ? b.currentItem.children().each(function() {
                            c("<td>&#160;</td>", b.document[0]).attr("colspan", c(this).attr("colspan") || 1).appendTo(m)
                        }) : "img" === f && m.attr("src", b.currentItem.attr("src"));
                        d || m.css("visibility", "hidden");
                        return m
                    },
                    update: function(c, m) {
                        if (!d || f.forcePlaceholderSize) m.height() || m.height(b.currentItem.innerHeight() - parseInt(b.currentItem.css("paddingTop") || 0, 10) - parseInt(b.currentItem.css("paddingBottom") || 0, 10)), m.width() ||
                            m.width(b.currentItem.innerWidth() - parseInt(b.currentItem.css("paddingLeft") || 0, 10) - parseInt(b.currentItem.css("paddingRight") || 0, 10))
                    }
                };
                b.placeholder = c(f.placeholder.element.call(b.element, b.currentItem));
                b.currentItem.after(b.placeholder);
                f.placeholder.update(b, b.placeholder)
            },
            _contactContainers: function(b) {
                var g, f, h, m, q, s, w, k, l, C = f = null;
                for (g = this.containers.length - 1; 0 <= g; g--)
                    if (!c.contains(this.currentItem[0], this.containers[g].element[0]))
                        if (this._intersectsWith(this.containers[g].containerCache)) {
                            if (!f ||
                                !c.contains(this.containers[g].element[0], f.element[0])) f = this.containers[g], C = g
                        } else this.containers[g].containerCache.over && (this.containers[g]._trigger("out", b, this._uiHash(this)), this.containers[g].containerCache.over = 0);
                if (f)
                    if (1 === this.containers.length) this.containers[C].containerCache.over || (this.containers[C]._trigger("over", b, this._uiHash(this)), this.containers[C].containerCache.over = 1);
                    else {
                        g = 1E4;
                        h = null;
                        m = (l = f.floating || d(this.currentItem)) ? "left" : "top";
                        q = l ? "width" : "height";
                        s = this.positionAbs[m] +
                            this.offset.click[m];
                        for (f = this.items.length - 1; 0 <= f; f--)
                            if (c.contains(this.containers[C].element[0], this.items[f].item[0]) && this.items[f].item[0] !== this.currentItem[0] && (!l || this.positionAbs.top + this.offset.click.top > this.items[f].top && this.positionAbs.top + this.offset.click.top < this.items[f].top + this.items[f].height)) w = this.items[f].item.offset()[m], k = !1, Math.abs(w - s) > Math.abs(w + this.items[f][q] - s) && (k = !0, w += this.items[f][q]), Math.abs(w - s) < g && (g = Math.abs(w - s), h = this.items[f], this.direction = k ? "up" :
                                "down");
                        if ((h || this.options.dropOnEmpty) && this.currentContainer !== this.containers[C]) h ? this._rearrange(b, h, null, !0) : this._rearrange(b, null, this.containers[C].element, !0), this._trigger("change", b, this._uiHash()), this.containers[C]._trigger("change", b, this._uiHash(this)), this.currentContainer = this.containers[C], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[C]._trigger("over", b, this._uiHash(this)), this.containers[C].containerCache.over = 1
                    }
            },
            _createHelper: function(b) {
                var d =
                    this.options;
                b = c.isFunction(d.helper) ? c(d.helper.apply(this.element[0], [b, this.currentItem])) : "clone" === d.helper ? this.currentItem.clone() : this.currentItem;
                b.parents("body").length || c("parent" !== d.appendTo ? d.appendTo : this.currentItem[0].parentNode)[0].appendChild(b[0]);
                b[0] === this.currentItem[0] && (this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                });
                (!b[0].style.width || d.forceHelperSize) && b.width(this.currentItem.width());
                (!b[0].style.height || d.forceHelperSize) && b.height(this.currentItem.height());
                return b
            },
            _adjustOffsetFromHelper: function(b) {
                "string" === typeof b && (b = b.split(" "));
                c.isArray(b) && (b = {
                    left: +b[0],
                    top: +b[1] || 0
                });
                "left" in b && (this.offset.click.left = b.left + this.margins.left);
                "right" in b && (this.offset.click.left = this.helperProportions.width - b.right + this.margins.left);
                "top" in b && (this.offset.click.top = b.top + this.margins.top);
                "bottom" in
                b && (this.offset.click.top = this.helperProportions.height - b.bottom + this.margins.top)
            },
            _getParentOffset: function() {
                this.offsetParent = this.helper.offsetParent();
                var b = this.offsetParent.offset();
                "absolute" === this.cssPosition && (this.scrollParent[0] !== document && c.contains(this.scrollParent[0], this.offsetParent[0])) && (b.left += this.scrollParent.scrollLeft(), b.top += this.scrollParent.scrollTop());
                if (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() &&
                    c.ui.ie) b = {
                    top: 0,
                    left: 0
                };
                return {
                    top: b.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: b.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function() {
                if ("relative" === this.cssPosition) {
                    var b = this.currentItem.position();
                    return {
                        top: b.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                        left: b.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                    }
                }
                return {
                    top: 0,
                    left: 0
                }
            },
            _cacheMargins: function() {
                this.margins = {
                    left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                    top: parseInt(this.currentItem.css("marginTop"), 10) || 0
                }
            },
            _cacheHelperProportions: function() {
                this.helperProportions = {
                    width: this.helper.outerWidth(),
                    height: this.helper.outerHeight()
                }
            },
            _setContainment: function() {
                var b, d, f;
                d = this.options;
                "parent" === d.containment && (d.containment = this.helper[0].parentNode);
                if ("document" === d.containment || "window" === d.containment) this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top -
                    this.offset.parent.top, c("document" === d.containment ? document : window).width() - this.helperProportions.width - this.margins.left, (c("document" === d.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
                ];
                /^(document|window|parent)$/.test(d.containment) || (b = c(d.containment)[0], d = c(d.containment).offset(), f = "hidden" !== c(b).css("overflow"), this.containment = [d.left + (parseInt(c(b).css("borderLeftWidth"), 10) || 0) + (parseInt(c(b).css("paddingLeft"),
                        10) || 0) - this.margins.left, d.top + (parseInt(c(b).css("borderTopWidth"), 10) || 0) + (parseInt(c(b).css("paddingTop"), 10) || 0) - this.margins.top, d.left + (f ? Math.max(b.scrollWidth, b.offsetWidth) : b.offsetWidth) - (parseInt(c(b).css("borderLeftWidth"), 10) || 0) - (parseInt(c(b).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, d.top + (f ? Math.max(b.scrollHeight, b.offsetHeight) : b.offsetHeight) - (parseInt(c(b).css("borderTopWidth"), 10) || 0) - (parseInt(c(b).css("paddingBottom"), 10) || 0) - this.helperProportions.height -
                    this.margins.top
                ])
            },
            _convertPositionTo: function(b, d) {
                d || (d = this.position);
                var f = "absolute" === b ? 1 : -1,
                    h = "absolute" === this.cssPosition && !(this.scrollParent[0] !== document && c.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
                    m = /(html|body)/i.test(h[0].tagName);
                return {
                    top: d.top + this.offset.relative.top * f + this.offset.parent.top * f - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : m ? 0 : h.scrollTop()) * f,
                    left: d.left + this.offset.relative.left * f + this.offset.parent.left *
                        f - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : m ? 0 : h.scrollLeft()) * f
                }
            },
            _generatePosition: function(b) {
                var d, f, h = this.options;
                f = b.pageX;
                d = b.pageY;
                var m = "absolute" === this.cssPosition && !(this.scrollParent[0] !== document && c.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
                    q = /(html|body)/i.test(m[0].tagName);
                "relative" === this.cssPosition && !(this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0]) && (this.offset.relative = this._getRelativeOffset());
                this.originalPosition && (this.containment && (b.pageX - this.offset.click.left < this.containment[0] && (f = this.containment[0] + this.offset.click.left), b.pageY - this.offset.click.top < this.containment[1] && (d = this.containment[1] + this.offset.click.top), b.pageX - this.offset.click.left > this.containment[2] && (f = this.containment[2] + this.offset.click.left), b.pageY - this.offset.click.top > this.containment[3] && (d = this.containment[3] + this.offset.click.top)), h.grid && (d = this.originalPageY + Math.round((d - this.originalPageY) / h.grid[1]) *
                    h.grid[1], d = this.containment ? d - this.offset.click.top >= this.containment[1] && d - this.offset.click.top <= this.containment[3] ? d : d - this.offset.click.top >= this.containment[1] ? d - h.grid[1] : d + h.grid[1] : d, f = this.originalPageX + Math.round((f - this.originalPageX) / h.grid[0]) * h.grid[0], f = this.containment ? f - this.offset.click.left >= this.containment[0] && f - this.offset.click.left <= this.containment[2] ? f : f - this.offset.click.left >= this.containment[0] ? f - h.grid[0] : f + h.grid[0] : f));
                return {
                    top: d - this.offset.click.top - this.offset.relative.top -
                        this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : q ? 0 : m.scrollTop()),
                    left: f - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : q ? 0 : m.scrollLeft())
                }
            },
            _rearrange: function(b, d, f, c) {
                f ? f[0].appendChild(this.placeholder[0]) : d.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? d.item[0] : d.item[0].nextSibling);
                var m = this.counter = this.counter ? ++this.counter : 1;
                this._delay(function() {
                    m ===
                        this.counter && this.refreshPositions(!c)
                })
            },
            _clear: function(b, d) {
                this.reverting = !1;
                var f, c = [];
                !this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem);
                this._noFinalSort = null;
                if (this.helper[0] === this.currentItem[0]) {
                    for (f in this._storedCSS)
                        if ("auto" === this._storedCSS[f] || "static" === this._storedCSS[f]) this._storedCSS[f] = "";
                    this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
                } else this.currentItem.show();
                this.fromOutside && !d && c.push(function(b) {
                    this._trigger("receive",
                        b, this._uiHash(this.fromOutside))
                });
                (this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !d && c.push(function(b) {
                    this._trigger("update", b, this._uiHash())
                });
                this !== this.currentContainer && !d && (c.push(function(b) {
                    this._trigger("remove", b, this._uiHash())
                }), c.push(function(b) {
                    return function(d) {
                        b._trigger("receive", d, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)), c.push(function(b) {
                    return function(d) {
                        b._trigger("update",
                            d, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)));
                for (f = this.containers.length - 1; 0 <= f; f--) d || c.push(function(b) {
                    return function(d) {
                        b._trigger("deactivate", d, this._uiHash(this))
                    }
                }.call(this, this.containers[f])), this.containers[f].containerCache.over && (c.push(function(b) {
                    return function(d) {
                        b._trigger("out", d, this._uiHash(this))
                    }
                }.call(this, this.containers[f])), this.containers[f].containerCache.over = 0);
                this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove());
                this._storedOpacity && this.helper.css("opacity", this._storedOpacity);
                this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex);
                this.dragging = !1;
                if (this.cancelHelperRemoval) {
                    if (!d) {
                        this._trigger("beforeStop", b, this._uiHash());
                        for (f = 0; f < c.length; f++) c[f].call(this, b);
                        this._trigger("stop", b, this._uiHash())
                    }
                    return this.fromOutside = !1
                }
                d || this._trigger("beforeStop", b, this._uiHash());
                this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
                this.helper[0] !== this.currentItem[0] && this.helper.remove();
                this.helper = null;
                if (!d) {
                    for (f = 0; f < c.length; f++) c[f].call(this, b);
                    this._trigger("stop", b, this._uiHash())
                }
                this.fromOutside = !1;
                return !0
            },
            _trigger: function() {
                !1 === c.Widget.prototype._trigger.apply(this, arguments) && this.cancel()
            },
            _uiHash: function(b) {
                var d = b || this;
                return {
                    helper: d.helper,
                    placeholder: d.placeholder || c([]),
                    position: d.position,
                    originalPosition: d.originalPosition,
                    offset: d.positionAbs,
                    item: d.currentItem,
                    sender: b ? b.element : null
                }
            }
        })
    })(jQuery);
    (function(c, b) {
        function d() {
            this._curInst = null;
            this._keyEvent = !1;
            this._disabledInputs = [];
            this._inDialog = this._datepickerShowing = !1;
            this._mainDivId = "ui-datepicker-div";
            this._inlineClass = "ui-datepicker-inline";
            this._appendClass = "ui-datepicker-append";
            this._triggerClass = "ui-datepicker-trigger";
            this._dialogClass = "ui-datepicker-dialog";
            this._disableClass = "ui-datepicker-disabled";
            this._unselectableClass = "ui-datepicker-unselectable";
            this._currentClass = "ui-datepicker-current-day";
            this._dayOverClass = "ui-datepicker-days-cell-over";
            this.regional = [];
            this.regional[""] = {
                closeText: "Done",
                prevText: "Prev",
                nextText: "Next",
                currentText: "Today",
                monthNames: "January February March April May June July August September October November December".split(" "),
                monthNamesShort: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
                dayNames: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
                dayNamesShort: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
                dayNamesMin: "Su Mo Tu We Th Fr Sa".split(" "),
                weekHeader: "Wk",
                dateFormat: "mm/dd/yy",
                firstDay: 0,
                isRTL: !1,
                showMonthAfterYear: !1,
                yearSuffix: ""
            };
            this._defaults = {
                showOn: "focus",
                showAnim: "fadeIn",
                showOptions: {},
                defaultDate: null,
                appendText: "",
                buttonText: "...",
                buttonImage: "",
                buttonImageOnly: !1,
                hideIfNoPrevNext: !1,
                navigationAsDateFormat: !1,
                gotoCurrent: !1,
                changeMonth: !1,
                changeYear: !1,
                yearRange: "c-10:c+10",
                showOtherMonths: !1,
                selectOtherMonths: !1,
                showWeek: !1,
                calculateWeek: this.iso8601Week,
                shortYearCutoff: "+10",
                minDate: null,
                maxDate: null,
                duration: "fast",
                beforeShowDay: null,
                beforeShow: null,
                onSelect: null,
                onChangeMonthYear: null,
                onClose: null,
                numberOfMonths: 1,
                showCurrentAtPos: 0,
                stepMonths: 1,
                stepBigMonths: 12,
                altField: "",
                altFormat: "",
                constrainInput: !0,
                showButtonPanel: !1,
                autoSize: !1,
                disabled: !1
            };
            c.extend(this._defaults, this.regional[""]);
            this.dpDiv = e(c("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
        }

        function e(b) {
            return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a", "mouseout", function() {
                c(this).removeClass("ui-state-hover"); - 1 !== this.className.indexOf("ui-datepicker-prev") && c(this).removeClass("ui-datepicker-prev-hover"); - 1 !== this.className.indexOf("ui-datepicker-next") && c(this).removeClass("ui-datepicker-next-hover")
            }).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a", "mouseover", function() {
                if (!c.datepicker._isDisabledDatepicker(f.inline ? b.parent()[0] : f.input[0])) c(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), c(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && c(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && c(this).addClass("ui-datepicker-next-hover")
            })
        }

        function g(b, d) {
            c.extend(b, d);
            for (var e in d) null == d[e] && (b[e] = d[e]);
            return b
        }
        c.extend(c.ui, {
            datepicker: {
                version: "1.10.3"
            }
        });
        var f;
        c.extend(d.prototype, {
            markerClassName: "hasDatepicker",
            maxRows: 4,
            _widgetDatepicker: function() {
                return this.dpDiv
            },
            setDefaults: function(b) {
                g(this._defaults, b || {});
                return this
            },
            _attachDatepicker: function(b,
                d) {
                var e, f, g;
                e = b.nodeName.toLowerCase();
                f = "div" === e || "span" === e;
                b.id || (this.uuid += 1, b.id = "dp" + this.uuid);
                g = this._newInst(c(b), f);
                g.settings = c.extend({}, d || {});
                "input" === e ? this._connectDatepicker(b, g) : f && this._inlineDatepicker(b, g)
            },
            _newInst: function(b, d) {
                return {
                    id: b[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"),
                    input: b,
                    selectedDay: 0,
                    selectedMonth: 0,
                    selectedYear: 0,
                    drawMonth: 0,
                    drawYear: 0,
                    inline: d,
                    dpDiv: !d ? this.dpDiv : e(c("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
                }
            },
            _connectDatepicker: function(b, d) {
                var e = c(b);
                d.append = c([]);
                d.trigger = c([]);
                e.hasClass(this.markerClassName) || (this._attachments(e, d), e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(d), c.data(b, "datepicker", d), d.settings.disabled && this._disableDatepicker(b))
            },
            _attachments: function(b, d) {
                var e, f;
                e = this._get(d, "appendText");
                var g = this._get(d, "isRTL");
                d.append && d.append.remove();
                e && (d.append = c("<span class='" + this._appendClass + "'>" +
                    e + "</span>"), b[g ? "before" : "after"](d.append));
                b.unbind("focus", this._showDatepicker);
                d.trigger && d.trigger.remove();
                e = this._get(d, "showOn");
                ("focus" === e || "both" === e) && b.focus(this._showDatepicker);
                if ("button" === e || "both" === e) e = this._get(d, "buttonText"), f = this._get(d, "buttonImage"), d.trigger = c(this._get(d, "buttonImageOnly") ? c("<img/>").addClass(this._triggerClass).attr({
                        src: f,
                        alt: e,
                        title: e
                    }) : c("<button type='button'></button>").addClass(this._triggerClass).html(!f ? e : c("<img/>").attr({
                        src: f,
                        alt: e,
                        title: e
                    }))),
                    b[g ? "before" : "after"](d.trigger), d.trigger.click(function() {
                        c.datepicker._datepickerShowing && c.datepicker._lastInput === b[0] ? c.datepicker._hideDatepicker() : (c.datepicker._datepickerShowing && c.datepicker._lastInput !== b[0] && c.datepicker._hideDatepicker(), c.datepicker._showDatepicker(b[0]));
                        return !1
                    })
            },
            _autoSize: function(b) {
                if (this._get(b, "autoSize") && !b.inline) {
                    var d, e, f, c, g = new Date(2009, 11, 20),
                        k = this._get(b, "dateFormat");
                    k.match(/[DM]/) && (d = function(b) {
                        for (c = f = e = 0; c < b.length; c++) b[c].length > e && (e =
                            b[c].length, f = c);
                        return f
                    }, g.setMonth(d(this._get(b, k.match(/MM/) ? "monthNames" : "monthNamesShort"))), g.setDate(d(this._get(b, k.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - g.getDay()));
                    b.input.attr("size", this._formatDate(b, g).length)
                }
            },
            _inlineDatepicker: function(b, d) {
                var e = c(b);
                e.hasClass(this.markerClassName) || (e.addClass(this.markerClassName).append(d.dpDiv), c.data(b, "datepicker", d), this._setDate(d, this._getDefaultDate(d), !0), this._updateDatepicker(d), this._updateAlternate(d), d.settings.disabled &&
                    this._disableDatepicker(b), d.dpDiv.css("display", "block"))
            },
            _dialogDatepicker: function(b, d, e, f, w) {
                var k;
                b = this._dialogInst;
                b || (this.uuid += 1, b = "dp" + this.uuid, this._dialogInput = c("<input type='text' id='" + b + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), c("body").append(this._dialogInput), b = this._dialogInst = this._newInst(this._dialogInput, !1), b.settings = {}, c.data(this._dialogInput[0], "datepicker", b));
                g(b.settings, f || {});
                d = d && d.constructor === Date ?
                    this._formatDate(b, d) : d;
                this._dialogInput.val(d);
                this._pos = w ? w.length ? w : [w.pageX, w.pageY] : null;
                this._pos || (d = document.documentElement.clientWidth, f = document.documentElement.clientHeight, w = document.documentElement.scrollLeft || document.body.scrollLeft, k = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [d / 2 - 100 + w, f / 2 - 150 + k]);
                this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px");
                b.settings.onSelect = e;
                this._inDialog = !0;
                this.dpDiv.addClass(this._dialogClass);
                this._showDatepicker(this._dialogInput[0]);
                c.blockUI && c.blockUI(this.dpDiv);
                c.data(this._dialogInput[0], "datepicker", b);
                return this
            },
            _destroyDatepicker: function(b) {
                var d, e = c(b),
                    f = c.data(b, "datepicker");
                e.hasClass(this.markerClassName) && (d = b.nodeName.toLowerCase(), c.removeData(b, "datepicker"), "input" === d ? (f.append.remove(), f.trigger.remove(), e.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup",
                    this._doKeyUp)) : ("div" === d || "span" === d) && e.removeClass(this.markerClassName).empty())
            },
            _enableDatepicker: function(b) {
                var d, e = c(b),
                    f = c.data(b, "datepicker");
                if (e.hasClass(this.markerClassName)) {
                    d = b.nodeName.toLowerCase();
                    if ("input" === d) b.disabled = !1, f.trigger.filter("button").each(function() {
                        this.disabled = !1
                    }).end().filter("img").css({
                        opacity: "1.0",
                        cursor: ""
                    });
                    else if ("div" === d || "span" === d) d = e.children("." + this._inlineClass), d.children().removeClass("ui-state-disabled"), d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1);
                    this._disabledInputs = c.map(this._disabledInputs, function(d) {
                        return d === b ? null : d
                    })
                }
            },
            _disableDatepicker: function(b) {
                var d, e = c(b),
                    f = c.data(b, "datepicker");
                if (e.hasClass(this.markerClassName)) {
                    d = b.nodeName.toLowerCase();
                    if ("input" === d) b.disabled = !0, f.trigger.filter("button").each(function() {
                        this.disabled = !0
                    }).end().filter("img").css({
                        opacity: "0.5",
                        cursor: "default"
                    });
                    else if ("div" === d || "span" === d) d = e.children("." + this._inlineClass), d.children().addClass("ui-state-disabled"), d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0);
                    this._disabledInputs = c.map(this._disabledInputs, function(d) {
                        return d === b ? null : d
                    });
                    this._disabledInputs[this._disabledInputs.length] = b
                }
            },
            _isDisabledDatepicker: function(b) {
                if (!b) return !1;
                for (var d = 0; d < this._disabledInputs.length; d++)
                    if (this._disabledInputs[d] === b) return !0;
                return !1
            },
            _getInst: function(b) {
                try {
                    return c.data(b, "datepicker")
                } catch (d) {
                    throw "Missing instance data for this datepicker";
                }
            },
            _optionDatepicker: function(d, e, f) {
                var s, w, k, l, C = this._getInst(d);
                if (2 === arguments.length && "string" ===
                    typeof e) return "defaults" === e ? c.extend({}, c.datepicker._defaults) : C ? "all" === e ? c.extend({}, C.settings) : this._get(C, e) : null;
                s = e || {};
                "string" === typeof e && (s = {}, s[e] = f);
                C && (this._curInst === C && this._hideDatepicker(), w = this._getDateDatepicker(d, !0), k = this._getMinMaxDate(C, "min"), l = this._getMinMaxDate(C, "max"), g(C.settings, s), null !== k && (s.dateFormat !== b && s.minDate === b) && (C.settings.minDate = this._formatDate(C, k)), null !== l && (s.dateFormat !== b && s.maxDate === b) && (C.settings.maxDate = this._formatDate(C, l)), "disabled" in
                    s && (s.disabled ? this._disableDatepicker(d) : this._enableDatepicker(d)), this._attachments(c(d), C), this._autoSize(C), this._setDate(C, w), this._updateAlternate(C), this._updateDatepicker(C))
            },
            _changeDatepicker: function(b, d, e) {
                this._optionDatepicker(b, d, e)
            },
            _refreshDatepicker: function(b) {
                (b = this._getInst(b)) && this._updateDatepicker(b)
            },
            _setDateDatepicker: function(b, d) {
                var e = this._getInst(b);
                e && (this._setDate(e, d), this._updateDatepicker(e), this._updateAlternate(e))
            },
            _getDateDatepicker: function(b, d) {
                var e =
                    this._getInst(b);
                e && !e.inline && this._setDateFromField(e, d);
                return e ? this._getDate(e) : null
            },
            _doKeyDown: function(b) {
                var d, e = c.datepicker._getInst(b.target);
                d = !0;
                var f = e.dpDiv.is(".ui-datepicker-rtl");
                e._keyEvent = !0;
                if (c.datepicker._datepickerShowing) switch (b.keyCode) {
                    case 9:
                        c.datepicker._hideDatepicker();
                        d = !1;
                        break;
                    case 13:
                        return d = c("td." + c.datepicker._dayOverClass + ":not(." + c.datepicker._currentClass + ")", e.dpDiv), d[0] && c.datepicker._selectDay(b.target, e.selectedMonth, e.selectedYear, d[0]), (b = c.datepicker._get(e,
                            "onSelect")) ? (d = c.datepicker._formatDate(e), b.apply(e.input ? e.input[0] : null, [d, e])) : c.datepicker._hideDatepicker(), !1;
                    case 27:
                        c.datepicker._hideDatepicker();
                        break;
                    case 33:
                        c.datepicker._adjustDate(b.target, b.ctrlKey ? -c.datepicker._get(e, "stepBigMonths") : -c.datepicker._get(e, "stepMonths"), "M");
                        break;
                    case 34:
                        c.datepicker._adjustDate(b.target, b.ctrlKey ? +c.datepicker._get(e, "stepBigMonths") : +c.datepicker._get(e, "stepMonths"), "M");
                        break;
                    case 35:
                        (b.ctrlKey || b.metaKey) && c.datepicker._clearDate(b.target);
                        d = b.ctrlKey || b.metaKey;
                        break;
                    case 36:
                        (b.ctrlKey || b.metaKey) && c.datepicker._gotoToday(b.target);
                        d = b.ctrlKey || b.metaKey;
                        break;
                    case 37:
                        if (b.ctrlKey || b.metaKey) c.datepicker._adjustDate(b.target, f ? 1 : -1, "D");
                        d = b.ctrlKey || b.metaKey;
                        b.originalEvent.altKey && c.datepicker._adjustDate(b.target, b.ctrlKey ? -c.datepicker._get(e, "stepBigMonths") : -c.datepicker._get(e, "stepMonths"), "M");
                        break;
                    case 38:
                        (b.ctrlKey || b.metaKey) && c.datepicker._adjustDate(b.target, -7, "D");
                        d = b.ctrlKey || b.metaKey;
                        break;
                    case 39:
                        if (b.ctrlKey ||
                            b.metaKey) c.datepicker._adjustDate(b.target, f ? -1 : 1, "D");
                        d = b.ctrlKey || b.metaKey;
                        b.originalEvent.altKey && c.datepicker._adjustDate(b.target, b.ctrlKey ? +c.datepicker._get(e, "stepBigMonths") : +c.datepicker._get(e, "stepMonths"), "M");
                        break;
                    case 40:
                        (b.ctrlKey || b.metaKey) && c.datepicker._adjustDate(b.target, 7, "D");
                        d = b.ctrlKey || b.metaKey;
                        break;
                    default:
                        d = !1
                } else 36 === b.keyCode && b.ctrlKey ? c.datepicker._showDatepicker(this) : d = !1;
                d && (b.preventDefault(), b.stopPropagation())
            },
            _doKeyPress: function(b) {
                var d, e;
                d = c.datepicker._getInst(b.target);
                if (c.datepicker._get(d, "constrainInput")) return d = c.datepicker._possibleChars(c.datepicker._get(d, "dateFormat")), e = String.fromCharCode(null == b.charCode ? b.keyCode : b.charCode), b.ctrlKey || b.metaKey || " " > e || !d || -1 < d.indexOf(e)
            },
            _doKeyUp: function(b) {
                var d;
                b = c.datepicker._getInst(b.target);
                if (b.input.val() !== b.lastVal) try {
                    if (d = c.datepicker.parseDate(c.datepicker._get(b, "dateFormat"), b.input ? b.input.val() : null, c.datepicker._getFormatConfig(b))) c.datepicker._setDateFromField(b), c.datepicker._updateAlternate(b),
                        c.datepicker._updateDatepicker(b)
                } catch (e) {}
                return !0
            },
            _showDatepicker: function(b) {
                b = b.target || b;
                "input" !== b.nodeName.toLowerCase() && (b = c("input", b.parentNode)[0]);
                if (!(c.datepicker._isDisabledDatepicker(b) || c.datepicker._lastInput === b)) {
                    var d, e, f, w;
                    d = c.datepicker._getInst(b);
                    c.datepicker._curInst && c.datepicker._curInst !== d && (c.datepicker._curInst.dpDiv.stop(!0, !0), d && c.datepicker._datepickerShowing && c.datepicker._hideDatepicker(c.datepicker._curInst.input[0]));
                    e = (e = c.datepicker._get(d, "beforeShow")) ?
                        e.apply(b, [b, d]) : {};
                    if (!1 !== e && (g(d.settings, e), d.lastVal = null, c.datepicker._lastInput = b, c.datepicker._setDateFromField(d), c.datepicker._inDialog && (b.value = ""), c.datepicker._pos || (c.datepicker._pos = c.datepicker._findPos(b), c.datepicker._pos[1] += b.offsetHeight), f = !1, c(b).parents().each(function() {
                            f |= "fixed" === c(this).css("position");
                            return !f
                        }), e = {
                            left: c.datepicker._pos[0],
                            top: c.datepicker._pos[1]
                        }, c.datepicker._pos = null, d.dpDiv.empty(), d.dpDiv.css({
                            position: "absolute",
                            display: "block",
                            top: "-1000px"
                        }),
                        c.datepicker._updateDatepicker(d), e = c.datepicker._checkOffset(d, e, f), d.dpDiv.css({
                            position: c.datepicker._inDialog && c.blockUI ? "static" : f ? "fixed" : "absolute",
                            display: "none",
                            left: e.left + "px",
                            top: e.top + "px"
                        }), !d.inline)) {
                        e = c.datepicker._get(d, "showAnim");
                        w = c.datepicker._get(d, "duration");
                        d.dpDiv.zIndex(c(b).zIndex() + 1);
                        c.datepicker._datepickerShowing = !0;
                        if (c.effects && c.effects.effect[e]) d.dpDiv.show(e, c.datepicker._get(d, "showOptions"), w);
                        else d.dpDiv[e || "show"](e ? w : null);
                        c.datepicker._shouldFocusInput(d) &&
                            d.input.focus();
                        c.datepicker._curInst = d
                    }
                }
            },
            _updateDatepicker: function(b) {
                this.maxRows = 4;
                f = b;
                b.dpDiv.empty().append(this._generateHTML(b));
                this._attachHandlers(b);
                b.dpDiv.find("." + this._dayOverClass + " a").mouseover();
                var d, e = this._getNumberOfMonths(b),
                    g = e[1];
                b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
                1 < g && b.dpDiv.addClass("ui-datepicker-multi-" + g).css("width", 17 * g + "em");
                b.dpDiv[(1 !== e[0] || 1 !== e[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi");
                b.dpDiv[(this._get(b, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl");
                b === c.datepicker._curInst && (c.datepicker._datepickerShowing && c.datepicker._shouldFocusInput(b)) && b.input.focus();
                b.yearshtml && (d = b.yearshtml, setTimeout(function() {
                    d === b.yearshtml && b.yearshtml && b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);
                    d = b.yearshtml = null
                }, 0))
            },
            _shouldFocusInput: function(b) {
                return b.input && b.input.is(":visible") && !b.input.is(":disabled") && !b.input.is(":focus")
            },
            _checkOffset: function(b,
                d, e) {
                var f = b.dpDiv.outerWidth(),
                    g = b.dpDiv.outerHeight(),
                    k = b.input ? b.input.outerWidth() : 0,
                    l = b.input ? b.input.outerHeight() : 0,
                    C = document.documentElement.clientWidth + (e ? 0 : c(document).scrollLeft()),
                    G = document.documentElement.clientHeight + (e ? 0 : c(document).scrollTop());
                d.left -= this._get(b, "isRTL") ? f - k : 0;
                d.left -= e && d.left === b.input.offset().left ? c(document).scrollLeft() : 0;
                d.top -= e && d.top === b.input.offset().top + l ? c(document).scrollTop() : 0;
                d.left -= Math.min(d.left, d.left + f > C && C > f ? Math.abs(d.left + f - C) : 0);
                d.top -=
                    Math.min(d.top, d.top + g > G && G > g ? Math.abs(g + l) : 0);
                return d
            },
            _findPos: function(b) {
                for (var d = this._getInst(b), d = this._get(d, "isRTL"); b && ("hidden" === b.type || 1 !== b.nodeType || c.expr.filters.hidden(b));) b = b[d ? "previousSibling" : "nextSibling"];
                b = c(b).offset();
                return [b.left, b.top]
            },
            _hideDatepicker: function(b) {
                var d, e, f = this._curInst;
                if (f && !(b && f !== c.data(b, "datepicker")) && this._datepickerShowing) {
                    b = this._get(f, "showAnim");
                    d = this._get(f, "duration");
                    e = function() {
                        c.datepicker._tidyDialog(f)
                    };
                    if (c.effects && (c.effects.effect[b] ||
                        c.effects[b])) f.dpDiv.hide(b, c.datepicker._get(f, "showOptions"), d, e);
                    else f.dpDiv["slideDown" === b ? "slideUp" : "fadeIn" === b ? "fadeOut" : "hide"](b ? d : null, e);
                    b || e();
                    this._datepickerShowing = !1;
                    (b = this._get(f, "onClose")) && b.apply(f.input ? f.input[0] : null, [f.input ? f.input.val() : "", f]);
                    this._lastInput = null;
                    this._inDialog && (this._dialogInput.css({
                        position: "absolute",
                        left: "0",
                        top: "-100px"
                    }), c.blockUI && (c.unblockUI(), c("body").append(this.dpDiv)));
                    this._inDialog = !1
                }
            },
            _tidyDialog: function(b) {
                b.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
            },
            _checkExternalClick: function(b) {
                if (c.datepicker._curInst) {
                    b = c(b.target);
                    var d = c.datepicker._getInst(b[0]);
                    (b[0].id !== c.datepicker._mainDivId && 0 === b.parents("#" + c.datepicker._mainDivId).length && !b.hasClass(c.datepicker.markerClassName) && !b.closest("." + c.datepicker._triggerClass).length && c.datepicker._datepickerShowing && (!c.datepicker._inDialog || !c.blockUI) || b.hasClass(c.datepicker.markerClassName) && c.datepicker._curInst !== d) && c.datepicker._hideDatepicker()
                }
            },
            _adjustDate: function(b, d, e) {
                b = c(b);
                var f =
                    this._getInst(b[0]);
                this._isDisabledDatepicker(b[0]) || (this._adjustInstDate(f, d + ("M" === e ? this._get(f, "showCurrentAtPos") : 0), e), this._updateDatepicker(f))
            },
            _gotoToday: function(b) {
                var d = c(b),
                    e = this._getInst(d[0]);
                this._get(e, "gotoCurrent") && e.currentDay ? (e.selectedDay = e.currentDay, e.drawMonth = e.selectedMonth = e.currentMonth, e.drawYear = e.selectedYear = e.currentYear) : (b = new Date, e.selectedDay = b.getDate(), e.drawMonth = e.selectedMonth = b.getMonth(), e.drawYear = e.selectedYear = b.getFullYear());
                this._notifyChange(e);
                this._adjustDate(d)
            },
            _selectMonthYear: function(b, d, e) {
                b = c(b);
                var f = this._getInst(b[0]);
                f["selected" + ("M" === e ? "Month" : "Year")] = f["draw" + ("M" === e ? "Month" : "Year")] = parseInt(d.options[d.selectedIndex].value, 10);
                this._notifyChange(f);
                this._adjustDate(b)
            },
            _selectDay: function(b, d, e, f) {
                var g;
                g = c(b);
                !c(f).hasClass(this._unselectableClass) && !this._isDisabledDatepicker(g[0]) && (g = this._getInst(g[0]), g.selectedDay = g.currentDay = c("a", f).html(), g.selectedMonth = g.currentMonth = d, g.selectedYear = g.currentYear = e, this._selectDate(b,
                    this._formatDate(g, g.currentDay, g.currentMonth, g.currentYear)))
            },
            _clearDate: function(b) {
                b = c(b);
                this._selectDate(b, "")
            },
            _selectDate: function(b, d) {
                var e;
                e = c(b);
                var f = this._getInst(e[0]);
                d = null != d ? d : this._formatDate(f);
                f.input && f.input.val(d);
                this._updateAlternate(f);
                (e = this._get(f, "onSelect")) ? e.apply(f.input ? f.input[0] : null, [d, f]): f.input && f.input.trigger("change");
                f.inline ? this._updateDatepicker(f) : (this._hideDatepicker(), this._lastInput = f.input[0], "object" !== typeof f.input[0] && f.input.focus(), this._lastInput =
                    null)
            },
            _updateAlternate: function(b) {
                var d, e, f, g = this._get(b, "altField");
                g && (d = this._get(b, "altFormat") || this._get(b, "dateFormat"), e = this._getDate(b), f = this.formatDate(d, e, this._getFormatConfig(b)), c(g).each(function() {
                    c(this).val(f)
                }))
            },
            noWeekends: function(b) {
                b = b.getDay();
                return [0 < b && 6 > b, ""]
            },
            iso8601Week: function(b) {
                var d = new Date(b.getTime());
                d.setDate(d.getDate() + 4 - (d.getDay() || 7));
                b = d.getTime();
                d.setMonth(0);
                d.setDate(1);
                return Math.floor(Math.round((b - d) / 864E5) / 7) + 1
            },
            parseDate: function(b, d, e) {
                if (null ==
                    b || null == d) throw "Invalid arguments";
                d = "object" === typeof d ? d.toString() : d + "";
                if ("" === d) return null;
                var f, g, k, l = 0;
                g = (e ? e.shortYearCutoff : null) || this._defaults.shortYearCutoff;
                g = "string" !== typeof g ? g : (new Date).getFullYear() % 100 + parseInt(g, 10);
                k = (e ? e.dayNamesShort : null) || this._defaults.dayNamesShort;
                var C = (e ? e.dayNames : null) || this._defaults.dayNames,
                    G = (e ? e.monthNamesShort : null) || this._defaults.monthNamesShort,
                    E = (e ? e.monthNames : null) || this._defaults.monthNames,
                    N = e = -1,
                    J = -1,
                    R = -1,
                    ea = !1,
                    n, z = function(d) {
                        (d =
                            f + 1 < b.length && b.charAt(f + 1) === d) && f++;
                        return d
                    },
                    t = function(b) {
                        var e = z(b);
                        b = RegExp("^\\d{1," + ("@" === b ? 14 : "!" === b ? 20 : "y" === b && e ? 4 : "o" === b ? 3 : 2) + "}");
                        b = d.substring(l).match(b);
                        if (!b) throw "Missing number at position " + l;
                        l += b[0].length;
                        return parseInt(b[0], 10)
                    },
                    v = function(b, e, f) {
                        var g = -1;
                        b = c.map(z(b) ? f : e, function(b, d) {
                            return [
                                [d, b]
                            ]
                        }).sort(function(b, d) {
                            return -(b[1].length - d[1].length)
                        });
                        c.each(b, function(b, e) {
                            var f = e[1];
                            if (d.substr(l, f.length).toLowerCase() === f.toLowerCase()) return g = e[0], l += f.length, !1
                        });
                        if (-1 !== g) return g + 1;
                        throw "Unknown name at position " + l;
                    },
                    x = function() {
                        if (d.charAt(l) !== b.charAt(f)) throw "Unexpected literal at position " + l;
                        l++
                    };
                for (f = 0; f < b.length; f++)
                    if (ea) "'" === b.charAt(f) && !z("'") ? ea = !1 : x();
                    else switch (b.charAt(f)) {
                        case "d":
                            J = t("d");
                            break;
                        case "D":
                            v("D", k, C);
                            break;
                        case "o":
                            R = t("o");
                            break;
                        case "m":
                            N = t("m");
                            break;
                        case "M":
                            N = v("M", G, E);
                            break;
                        case "y":
                            e = t("y");
                            break;
                        case "@":
                            n = new Date(t("@"));
                            e = n.getFullYear();
                            N = n.getMonth() + 1;
                            J = n.getDate();
                            break;
                        case "!":
                            n = new Date((t("!") - this._ticksTo1970) /
                                1E4);
                            e = n.getFullYear();
                            N = n.getMonth() + 1;
                            J = n.getDate();
                            break;
                        case "'":
                            z("'") ? x() : ea = !0;
                            break;
                        default:
                            x()
                    }
                    if (l < d.length && (k = d.substr(l), !/^\s+/.test(k))) throw "Extra/unparsed characters found in date: " + k; - 1 === e ? e = (new Date).getFullYear() : 100 > e && (e += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (e <= g ? 0 : -100));
                if (-1 < R) {
                    N = 1;
                    J = R;
                    do {
                        g = this._getDaysInMonth(e, N - 1);
                        if (J <= g) break;
                        N++;
                        J -= g
                    } while (1)
                }
                n = this._daylightSavingAdjust(new Date(e, N - 1, J));
                if (n.getFullYear() !== e || n.getMonth() + 1 !== N || n.getDate() !==
                    J) throw "Invalid date";
                return n
            },
            ATOM: "yy-mm-dd",
            COOKIE: "D, dd M yy",
            ISO_8601: "yy-mm-dd",
            RFC_822: "D, d M y",
            RFC_850: "DD, dd-M-y",
            RFC_1036: "D, d M y",
            RFC_1123: "D, d M yy",
            RFC_2822: "D, d M yy",
            RSS: "D, d M y",
            TICKS: "!",
            TIMESTAMP: "@",
            W3C: "yy-mm-dd",
            _ticksTo1970: 864E9 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
            formatDate: function(b, d, e) {
                if (!d) return "";
                var f, c = (e ? e.dayNamesShort : null) || this._defaults.dayNamesShort,
                    g = (e ? e.dayNames : null) || this._defaults.dayNames,
                    k = (e ? e.monthNamesShort : null) ||
                    this._defaults.monthNamesShort;
                e = (e ? e.monthNames : null) || this._defaults.monthNames;
                var l = function(d) {
                        (d = f + 1 < b.length && b.charAt(f + 1) === d) && f++;
                        return d
                    },
                    G = function(b, d, e) {
                        d = "" + d;
                        if (l(b))
                            for (; d.length < e;) d = "0" + d;
                        return d
                    },
                    E = function(b, d, e, f) {
                        return l(b) ? f[d] : e[d]
                    },
                    N = "",
                    J = !1;
                if (d)
                    for (f = 0; f < b.length; f++)
                        if (J) "'" === b.charAt(f) && !l("'") ? J = !1 : N += b.charAt(f);
                        else switch (b.charAt(f)) {
                            case "d":
                                N += G("d", d.getDate(), 2);
                                break;
                            case "D":
                                N += E("D", d.getDay(), c, g);
                                break;
                            case "o":
                                N += G("o", Math.round(((new Date(d.getFullYear(),
                                    d.getMonth(), d.getDate())).getTime() - (new Date(d.getFullYear(), 0, 0)).getTime()) / 864E5), 3);
                                break;
                            case "m":
                                N += G("m", d.getMonth() + 1, 2);
                                break;
                            case "M":
                                N += E("M", d.getMonth(), k, e);
                                break;
                            case "y":
                                N += l("y") ? d.getFullYear() : (10 > d.getYear() % 100 ? "0" : "") + d.getYear() % 100;
                                break;
                            case "@":
                                N += d.getTime();
                                break;
                            case "!":
                                N += 1E4 * d.getTime() + this._ticksTo1970;
                                break;
                            case "'":
                                l("'") ? N += "'" : J = !0;
                                break;
                            default:
                                N += b.charAt(f)
                        }
                        return N
            },
            _possibleChars: function(b) {
                var d, e = "",
                    f = !1,
                    c = function(e) {
                        (e = d + 1 < b.length && b.charAt(d + 1) ===
                            e) && d++;
                        return e
                    };
                for (d = 0; d < b.length; d++)
                    if (f) "'" === b.charAt(d) && !c("'") ? f = !1 : e += b.charAt(d);
                    else switch (b.charAt(d)) {
                        case "d":
                        case "m":
                        case "y":
                        case "@":
                            e += "0123456789";
                            break;
                        case "D":
                        case "M":
                            return null;
                        case "'":
                            c("'") ? e += "'" : f = !0;
                            break;
                        default:
                            e += b.charAt(d)
                    }
                    return e
            },
            _get: function(d, e) {
                return d.settings[e] !== b ? d.settings[e] : this._defaults[e]
            },
            _setDateFromField: function(b, d) {
                if (b.input.val() !== b.lastVal) {
                    var e = this._get(b, "dateFormat"),
                        f = b.lastVal = b.input ? b.input.val() : null,
                        c = this._getDefaultDate(b),
                        g = c,
                        k = this._getFormatConfig(b);
                    try {
                        g = this.parseDate(e, f, k) || c
                    } catch (l) {
                        f = d ? "" : f
                    }
                    b.selectedDay = g.getDate();
                    b.drawMonth = b.selectedMonth = g.getMonth();
                    b.drawYear = b.selectedYear = g.getFullYear();
                    b.currentDay = f ? g.getDate() : 0;
                    b.currentMonth = f ? g.getMonth() : 0;
                    b.currentYear = f ? g.getFullYear() : 0;
                    this._adjustInstDate(b)
                }
            },
            _getDefaultDate: function(b) {
                return this._restrictMinMax(b, this._determineDate(b, this._get(b, "defaultDate"), new Date))
            },
            _determineDate: function(b, d, e) {
                var f = function(b) {
                        var d = new Date;
                        d.setDate(d.getDate() +
                            b);
                        return d
                    },
                    g = function(d) {
                        try {
                            return c.datepicker.parseDate(c.datepicker._get(b, "dateFormat"), d, c.datepicker._getFormatConfig(b))
                        } catch (e) {}
                        for (var f = (d.toLowerCase().match(/^c/) ? c.datepicker._getDate(b) : null) || new Date, g = f.getFullYear(), m = f.getMonth(), f = f.getDate(), q = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, s = q.exec(d); s;) {
                            switch (s[2] || "d") {
                                case "d":
                                case "D":
                                    f += parseInt(s[1], 10);
                                    break;
                                case "w":
                                case "W":
                                    f += 7 * parseInt(s[1], 10);
                                    break;
                                case "m":
                                case "M":
                                    m += parseInt(s[1], 10);
                                    f = Math.min(f, c.datepicker._getDaysInMonth(g,
                                        m));
                                    break;
                                case "y":
                                case "Y":
                                    g += parseInt(s[1], 10), f = Math.min(f, c.datepicker._getDaysInMonth(g, m))
                            }
                            s = q.exec(d)
                        }
                        return new Date(g, m, f)
                    };
                if (d = (d = null == d || "" === d ? e : "string" === typeof d ? g(d) : "number" === typeof d ? isNaN(d) ? e : f(d) : new Date(d.getTime())) && "Invalid Date" === d.toString() ? e : d) d.setHours(0), d.setMinutes(0), d.setSeconds(0), d.setMilliseconds(0);
                return this._daylightSavingAdjust(d)
            },
            _daylightSavingAdjust: function(b) {
                if (!b) return null;
                b.setHours(12 < b.getHours() ? b.getHours() + 2 : 0);
                return b
            },
            _setDate: function(b,
                d, e) {
                var f = !d,
                    c = b.selectedMonth,
                    g = b.selectedYear;
                d = this._restrictMinMax(b, this._determineDate(b, d, new Date));
                b.selectedDay = b.currentDay = d.getDate();
                b.drawMonth = b.selectedMonth = b.currentMonth = d.getMonth();
                b.drawYear = b.selectedYear = b.currentYear = d.getFullYear();
                (c !== b.selectedMonth || g !== b.selectedYear) && !e && this._notifyChange(b);
                this._adjustInstDate(b);
                b.input && b.input.val(f ? "" : this._formatDate(b))
            },
            _getDate: function(b) {
                return !b.currentYear || b.input && "" === b.input.val() ? null : this._daylightSavingAdjust(new Date(b.currentYear,
                    b.currentMonth, b.currentDay))
            },
            _attachHandlers: function(b) {
                var d = this._get(b, "stepMonths"),
                    e = "#" + b.id.replace(/\\\\/g, "\\");
                b.dpDiv.find("[data-handler]").map(function() {
                    c(this).bind(this.getAttribute("data-event"), {
                        prev: function() {
                            c.datepicker._adjustDate(e, -d, "M")
                        },
                        next: function() {
                            c.datepicker._adjustDate(e, +d, "M")
                        },
                        hide: function() {
                            c.datepicker._hideDatepicker()
                        },
                        today: function() {
                            c.datepicker._gotoToday(e)
                        },
                        selectDay: function() {
                            c.datepicker._selectDay(e, +this.getAttribute("data-month"), +this.getAttribute("data-year"),
                                this);
                            return !1
                        },
                        selectMonth: function() {
                            c.datepicker._selectMonthYear(e, this, "M");
                            return !1
                        },
                        selectYear: function() {
                            c.datepicker._selectMonthYear(e, this, "Y");
                            return !1
                        }
                    }[this.getAttribute("data-handler")])
                })
            },
            _generateHTML: function(b) {
                var d, e, f, c, g, k, l, G, E, N, J, R, n, t, z, v, x, y, A, B, D, Y, qa, Oa, za, pb, F, H = new Date,
                    H = this._daylightSavingAdjust(new Date(H.getFullYear(), H.getMonth(), H.getDate())),
                    L = this._get(b, "isRTL");
                k = this._get(b, "showButtonPanel");
                f = this._get(b, "hideIfNoPrevNext");
                g = this._get(b, "navigationAsDateFormat");
                var Z = this._getNumberOfMonths(b),
                    V = this._get(b, "showCurrentAtPos");
                c = this._get(b, "stepMonths");
                var la = 1 !== Z[0] || 1 !== Z[1],
                    qb = this._daylightSavingAdjust(!b.currentDay ? new Date(9999, 9, 9) : new Date(b.currentYear, b.currentMonth, b.currentDay)),
                    yb = this._getMinMaxDate(b, "min"),
                    ya = this._getMinMaxDate(b, "max"),
                    V = b.drawMonth - V,
                    K = b.drawYear;
                0 > V && (V += 12, K--);
                if (ya) {
                    d = this._daylightSavingAdjust(new Date(ya.getFullYear(), ya.getMonth() - Z[0] * Z[1] + 1, ya.getDate()));
                    for (d = yb && d < yb ? yb : d; this._daylightSavingAdjust(new Date(K,
                        V, 1)) > d;) V--, 0 > V && (V = 11, K--)
                }
                b.drawMonth = V;
                b.drawYear = K;
                d = this._get(b, "prevText");
                d = !g ? d : this.formatDate(d, this._daylightSavingAdjust(new Date(K, V - c, 1)), this._getFormatConfig(b));
                d = this._canAdjustMonth(b, -1, K, V) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + d + "'><span class='ui-icon ui-icon-circle-triangle-" + (L ? "e" : "w") + "'>" + d + "</span></a>" : f ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + d + "'><span class='ui-icon ui-icon-circle-triangle-" +
                    (L ? "e" : "w") + "'>" + d + "</span></a>";
                e = this._get(b, "nextText");
                e = !g ? e : this.formatDate(e, this._daylightSavingAdjust(new Date(K, V + c, 1)), this._getFormatConfig(b));
                f = this._canAdjustMonth(b, 1, K, V) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + e + "'><span class='ui-icon ui-icon-circle-triangle-" + (L ? "w" : "e") + "'>" + e + "</span></a>" : f ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + e + "'><span class='ui-icon ui-icon-circle-triangle-" + (L ? "w" :
                    "e") + "'>" + e + "</span></a>";
                c = this._get(b, "currentText");
                e = this._get(b, "gotoCurrent") && b.currentDay ? qb : H;
                c = !g ? c : this.formatDate(c, e, this._getFormatConfig(b));
                g = !b.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(b, "closeText") + "</button>" : "";
                k = k ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (L ? g : "") + (this._isInRange(b, e) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" +
                    c + "</button>" : "") + (L ? "" : g) + "</div>" : "";
                g = parseInt(this._get(b, "firstDay"), 10);
                g = isNaN(g) ? 0 : g;
                c = this._get(b, "showWeek");
                e = this._get(b, "dayNames");
                l = this._get(b, "dayNamesMin");
                G = this._get(b, "monthNames");
                E = this._get(b, "monthNamesShort");
                N = this._get(b, "beforeShowDay");
                J = this._get(b, "showOtherMonths");
                R = this._get(b, "selectOtherMonths");
                n = this._getDefaultDate(b);
                t = "";
                z;
                for (v = 0; v < Z[0]; v++) {
                    x = "";
                    this.maxRows = 4;
                    for (y = 0; y < Z[1]; y++) {
                        A = this._daylightSavingAdjust(new Date(K, V, b.selectedDay));
                        z = " ui-corner-all";
                        B = "";
                        if (la) {
                            B += "<div class='ui-datepicker-group";
                            if (1 < Z[1]) switch (y) {
                                case 0:
                                    B += " ui-datepicker-group-first";
                                    z = " ui-corner-" + (L ? "right" : "left");
                                    break;
                                case Z[1] - 1:
                                    B += " ui-datepicker-group-last";
                                    z = " ui-corner-" + (L ? "left" : "right");
                                    break;
                                default:
                                    B += " ui-datepicker-group-middle", z = ""
                            }
                            B += "'>"
                        }
                        B += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + z + "'>" + (/all|left/.test(z) && 0 === v ? L ? f : d : "") + (/all|right/.test(z) && 0 === v ? L ? d : f : "") + this._generateMonthYearHeader(b, V, K, yb, ya, 0 < v || 0 < y, G, E) + "</div><table class='ui-datepicker-calendar'><thead><tr>";
                        D = c ? "<th class='ui-datepicker-week-col'>" + this._get(b, "weekHeader") + "</th>" : "";
                        for (z = 0; 7 > z; z++) Y = (z + g) % 7, D += "<th" + (5 <= (z + g + 6) % 7 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + e[Y] + "'>" + l[Y] + "</span></th>";
                        B += D + "</tr></thead><tbody>";
                        D = this._getDaysInMonth(K, V);
                        K === b.selectedYear && V === b.selectedMonth && (b.selectedDay = Math.min(b.selectedDay, D));
                        z = (this._getFirstDayOfMonth(K, V) - g + 7) % 7;
                        D = Math.ceil((z + D) / 7);
                        this.maxRows = D = la ? this.maxRows > D ? this.maxRows : D : D;
                        Y = this._daylightSavingAdjust(new Date(K,
                            V, 1 - z));
                        for (qa = 0; qa < D; qa++) {
                            B += "<tr>";
                            Oa = !c ? "" : "<td class='ui-datepicker-week-col'>" + this._get(b, "calculateWeek")(Y) + "</td>";
                            for (z = 0; 7 > z; z++) za = N ? N.apply(b.input ? b.input[0] : null, [Y]) : [!0, ""], F = (pb = Y.getMonth() !== V) && !R || !za[0] || yb && Y < yb || ya && Y > ya, Oa += "<td class='" + (5 <= (z + g + 6) % 7 ? " ui-datepicker-week-end" : "") + (pb ? " ui-datepicker-other-month" : "") + (Y.getTime() === A.getTime() && V === b.selectedMonth && b._keyEvent || n.getTime() === Y.getTime() && n.getTime() === A.getTime() ? " " + this._dayOverClass : "") + (F ? " " + this._unselectableClass +
                                " ui-state-disabled" : "") + (pb && !J ? "" : " " + za[1] + (Y.getTime() === qb.getTime() ? " " + this._currentClass : "") + (Y.getTime() === H.getTime() ? " ui-datepicker-today" : "")) + "'" + ((!pb || J) && za[2] ? " title='" + za[2].replace(/'/g, "&#39;") + "'" : "") + (F ? "" : " data-handler='selectDay' data-event='click' data-month='" + Y.getMonth() + "' data-year='" + Y.getFullYear() + "'") + ">" + (pb && !J ? "&#xa0;" : F ? "<span class='ui-state-default'>" + Y.getDate() + "</span>" : "<a class='ui-state-default" + (Y.getTime() === H.getTime() ? " ui-state-highlight" : "") +
                                (Y.getTime() === qb.getTime() ? " ui-state-active" : "") + (pb ? " ui-priority-secondary" : "") + "' href='#'>" + Y.getDate() + "</a>") + "</td>", Y.setDate(Y.getDate() + 1), Y = this._daylightSavingAdjust(Y);
                            B += Oa + "</tr>"
                        }
                        V++;
                        11 < V && (V = 0, K++);
                        B += "</tbody></table>" + (la ? "</div>" + (0 < Z[0] && y === Z[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : "");
                        x += B
                    }
                    t += x
                }
                b._keyEvent = !1;
                return t + k
            },
            _generateMonthYearHeader: function(b, d, e, f, c, g, k, l) {
                var G, E, N, J = this._get(b, "changeMonth"),
                    R = this._get(b, "changeYear"),
                    n = this._get(b, "showMonthAfterYear"),
                    t = "<div class='ui-datepicker-title'>",
                    z = "";
                if (g || !J) z += "<span class='ui-datepicker-month'>" + k[d] + "</span>";
                else {
                    k = f && f.getFullYear() === e;
                    G = c && c.getFullYear() === e;
                    z += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
                    for (E = 0; 12 > E; E++)
                        if ((!k || E >= f.getMonth()) && (!G || E <= c.getMonth())) z += "<option value='" + E + "'" + (E === d ? " selected='selected'" : "") + ">" + l[E] + "</option>";
                    z += "</select>"
                }
                n || (t += z + (g || !J || !R ? "&#xa0;" : ""));
                if (!b.yearshtml)
                    if (b.yearshtml = "", g || !R) t += "<span class='ui-datepicker-year'>" +
                        e + "</span>";
                    else {
                        l = this._get(b, "yearRange").split(":");
                        N = (new Date).getFullYear();
                        k = function(b) {
                            b = b.match(/c[+\-].*/) ? e + parseInt(b.substring(1), 10) : b.match(/[+\-].*/) ? N + parseInt(b, 10) : parseInt(b, 10);
                            return isNaN(b) ? N : b
                        };
                        d = k(l[0]);
                        l = Math.max(d, k(l[1] || ""));
                        d = f ? Math.max(d, f.getFullYear()) : d;
                        l = c ? Math.min(l, c.getFullYear()) : l;
                        for (b.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; d <= l; d++) b.yearshtml += "<option value='" + d + "'" + (d === e ? " selected='selected'" :
                            "") + ">" + d + "</option>";
                        b.yearshtml += "</select>";
                        t += b.yearshtml;
                        b.yearshtml = null
                    }
                t += this._get(b, "yearSuffix");
                n && (t += (g || !J || !R ? "&#xa0;" : "") + z);
                return t + "</div>"
            },
            _adjustInstDate: function(b, d, e) {
                var f = b.drawYear + ("Y" === e ? d : 0),
                    c = b.drawMonth + ("M" === e ? d : 0);
                d = Math.min(b.selectedDay, this._getDaysInMonth(f, c)) + ("D" === e ? d : 0);
                f = this._restrictMinMax(b, this._daylightSavingAdjust(new Date(f, c, d)));
                b.selectedDay = f.getDate();
                b.drawMonth = b.selectedMonth = f.getMonth();
                b.drawYear = b.selectedYear = f.getFullYear();
                ("M" ===
                    e || "Y" === e) && this._notifyChange(b)
            },
            _restrictMinMax: function(b, d) {
                var e = this._getMinMaxDate(b, "min"),
                    f = this._getMinMaxDate(b, "max"),
                    e = e && d < e ? e : d;
                return f && e > f ? f : e
            },
            _notifyChange: function(b) {
                var d = this._get(b, "onChangeMonthYear");
                d && d.apply(b.input ? b.input[0] : null, [b.selectedYear, b.selectedMonth + 1, b])
            },
            _getNumberOfMonths: function(b) {
                b = this._get(b, "numberOfMonths");
                return null == b ? [1, 1] : "number" === typeof b ? [1, b] : b
            },
            _getMinMaxDate: function(b, d) {
                return this._determineDate(b, this._get(b, d + "Date"), null)
            },
            _getDaysInMonth: function(b, d) {
                return 32 - this._daylightSavingAdjust(new Date(b, d, 32)).getDate()
            },
            _getFirstDayOfMonth: function(b, d) {
                return (new Date(b, d, 1)).getDay()
            },
            _canAdjustMonth: function(b, d, e, f) {
                var c = this._getNumberOfMonths(b);
                e = this._daylightSavingAdjust(new Date(e, f + (0 > d ? d : c[0] * c[1]), 1));
                0 > d && e.setDate(this._getDaysInMonth(e.getFullYear(), e.getMonth()));
                return this._isInRange(b, e)
            },
            _isInRange: function(b, d) {
                var e, f, c = this._getMinMaxDate(b, "min"),
                    g = this._getMinMaxDate(b, "max"),
                    k = null,
                    l = null;
                if (e =
                    this._get(b, "yearRange")) e = e.split(":"), f = (new Date).getFullYear(), k = parseInt(e[0], 10), l = parseInt(e[1], 10), e[0].match(/[+\-].*/) && (k += f), e[1].match(/[+\-].*/) && (l += f);
                return (!c || d.getTime() >= c.getTime()) && (!g || d.getTime() <= g.getTime()) && (!k || d.getFullYear() >= k) && (!l || d.getFullYear() <= l)
            },
            _getFormatConfig: function(b) {
                var d = this._get(b, "shortYearCutoff"),
                    d = "string" !== typeof d ? d : (new Date).getFullYear() % 100 + parseInt(d, 10);
                return {
                    shortYearCutoff: d,
                    dayNamesShort: this._get(b, "dayNamesShort"),
                    dayNames: this._get(b,
                        "dayNames"),
                    monthNamesShort: this._get(b, "monthNamesShort"),
                    monthNames: this._get(b, "monthNames")
                }
            },
            _formatDate: function(b, d, e, f) {
                d || (b.currentDay = b.selectedDay, b.currentMonth = b.selectedMonth, b.currentYear = b.selectedYear);
                d = d ? "object" === typeof d ? d : this._daylightSavingAdjust(new Date(f, e, d)) : this._daylightSavingAdjust(new Date(b.currentYear, b.currentMonth, b.currentDay));
                return this.formatDate(this._get(b, "dateFormat"), d, this._getFormatConfig(b))
            }
        });
        c.fn.datepicker = function(b) {
            if (!this.length) return this;
            c.datepicker.initialized || (c(document).mousedown(c.datepicker._checkExternalClick), c.datepicker.initialized = !0);
            0 === c("#" + c.datepicker._mainDivId).length && c("body").append(c.datepicker.dpDiv);
            var d = Array.prototype.slice.call(arguments, 1);
            return "string" === typeof b && ("isDisabled" === b || "getDate" === b || "widget" === b) || "option" === b && 2 === arguments.length && "string" === typeof arguments[1] ? c.datepicker["_" + b + "Datepicker"].apply(c.datepicker, [this[0]].concat(d)) : this.each(function() {
                "string" === typeof b ? c.datepicker["_" +
                    b + "Datepicker"].apply(c.datepicker, [this].concat(d)) : c.datepicker._attachDatepicker(this, b)
            })
        };
        c.datepicker = new d;
        c.datepicker.initialized = !1;
        c.datepicker.uuid = (new Date).getTime();
        c.datepicker.version = "1.10.3"
    })(jQuery);
    jQuery.cookie = function(c, b, d) {
        if ("undefined" != typeof b) {
            d = d || {};
            null === b && (b = "", d.expires = -1);
            var e = "";
            if (d.expires && ("number" == typeof d.expires || d.expires.toUTCString)) "number" == typeof d.expires ? (e = new Date, e.setTime(e.getTime() + 864E5 * d.expires)) : e = d.expires, e = "; expires=" + e.toUTCString();
            var g = d.path ? "; path=" + d.path : "",
                f = d.domain ? "; domain=" + d.domain : "";
            d = d.secure ? "; secure" : "";
            document.cookie = [c, "=", encodeURIComponent(b), e, g, f, d].join("")
        } else {
            b = null;
            if (document.cookie && "" != document.cookie) {
                d = document.cookie.split(";");
                for (e = 0; e < d.length; e++)
                    if (g = jQuery.trim(d[e]), g.substring(0, c.length + 1) == c + "=") {
                        b = decodeURIComponent(g.substring(c.length + 1));
                        break
                    }
            }
            return b
        }
    };
    (function(c) {
        var b = function(b, g) {
                var f = this;
                c.extend(this.options, g);
                this.$image = c(b).wrap('<div class="' + d + 'Frame"/>');
                this.$frame = this.$image.parent();
                this.$image.hide().addClass(d + "Image").data(d, this).on("mousedown." + d, function(b) {
                    b.preventDefault();
                    c(document).on("mousemove." + d, {
                        mouse: {
                            x: b.pageX,
                            y: b.pageY
                        },
                        image: {
                            x: parseInt(f.$image.css("left"), 10),
                            y: parseInt(f.$image.css("top"), 10)
                        }
                    }, c.proxy(f.drag, f)).on("mouseup." + d, function() {
                        c(document).off("." + d)
                    })
                }).on("load." + d, function() {
                    f.width || (f.width = f.$image.width(), f.height = f.$image.height());
                    if (f.width) {
                        var b = f.options.width / f.width,
                            d = f.options.height / f.height;
                        f.minPercent = b >= d ? f.width < f.options.width ? f.options.width / f.width : b : f.height < f.options.height ? f.options.height / f.height : d;
                        f.focal = {
                            x: Math.round(f.width / 2),
                            y: Math.round(f.height / 2)
                        };
                        f.zoom(f.minPercent);
                        f.$image.fadeIn("fast")
                    }
                }).load();
                this.$frame.css({
                    width: this.options.width,
                    height: this.options.height
                }).append(this.options.loading);
                !1 !== this.options.controls && this.$frame.append(c("<div/>", {
                    "class": d + "Controls"
                }).append(c("<span/>").append(this.options.controls)).append(c("<a/>", {
                    "class": d + "ZoomIn"
                }).on("click." +
                    d, c.proxy(this.zoomIn, this))).append(c("<a/>", {
                    "class": d + "ZoomOut"
                }).on("click." + d, c.proxy(this.zoomOut, this))))
            },
            d = "crop";
        c[d] = c.extend(b, {
            prototype: {
                width: 0,
                height: 0,
                result: {},
                percent: null,
                options: {
                    width: 320,
                    height: 180,
                    zoom: 10,
                    loading: "Loading...",
                    controls: "Click to drag"
                },
                zoom: function(d) {
                    this.percent = Math.max(this.minPercent, Math.min(1, d));
                    this.$image.width(Math.ceil(this.width * this.percent));
                    this.$image.css({
                        left: b.fill(-Math.round(this.focal.x * this.percent - this.options.width / 2), this.$image.width(),
                            this.options.width),
                        top: b.fill(-Math.round(this.focal.y * this.percent - this.options.height / 2), this.$image.height(), this.options.height)
                    });
                    this.update()
                },
                drag: function(d) {
                    this.$image.css({
                        left: b.fill(d.data.image.x + d.pageX - d.data.mouse.x, this.$image.width(), this.options.width),
                        top: b.fill(d.data.image.y + d.pageY - d.data.mouse.y, this.$image.height(), this.options.height)
                    });
                    this.update()
                },
                zoomIn: function() {
                    return !!this.zoom(this.percent + (1 - this.minPercent) / (this.options.zoom - 1 || 1))
                },
                zoomOut: function() {
                    return !!this.zoom(this.percent -
                        (1 - this.minPercent) / (this.options.zoom - 1 || 1))
                },
                update: function() {
                    this.focal = {
                        x: Math.round((this.options.width / 2 - parseInt(this.$image.css("left"), 10)) / this.percent),
                        y: Math.round((this.options.height / 2 - parseInt(this.$image.css("top"), 10)) / this.percent)
                    };
                    this.$image.trigger(c.Event("crop", this.result = {
                        cropX: -Math.floor(parseInt(this.$image.css("left"), 10) / this.percent),
                        cropY: -Math.floor(parseInt(this.$image.css("top"), 10) / this.percent),
                        cropW: Math.round(this.options.width / this.percent),
                        cropH: Math.round(this.options.height /
                            this.percent),
                        stretch: 1 < this.minPercent
                    }))
                }
            },
            fill: function(b, d, f) {
                b + d < f && (b = f - d);
                return 0 < b ? 0 : b
            }
        });
        c.fn[d] = function(d) {
            return this.each(function() {
                new b(this, d)
            })
        }
    })(jQuery);
    (function(c) {
        function b(b) {
            var d = b || window.event,
                e = [].slice.call(arguments, 1),
                m = 0,
                q = 0,
                s = 0;
            b = c.event.fix(d);
            b.type = "mousewheel";
            d.wheelDelta && (m = d.wheelDelta / 120);
            d.detail && (m = -d.detail / 3);
            s = m;
            void 0 !== d.axis && d.axis === d.HORIZONTAL_AXIS && (s = 0, q = -1 * m);
            void 0 !== d.wheelDeltaY && (s = d.wheelDeltaY / 120);
            void 0 !== d.wheelDeltaX && (q = -1 * d.wheelDeltaX /
                120);
            e.unshift(b, m, q, s);
            return (c.event.dispatch || c.event.handle).apply(this, e)
        }
        var d = ["DOMMouseScroll", "mousewheel"];
        if (c.event.fixHooks)
            for (var e = d.length; e;) c.event.fixHooks[d[--e]] = c.event.mouseHooks;
        c.event.special.mousewheel = {
            setup: function() {
                if (this.addEventListener)
                    for (var e = d.length; e;) this.addEventListener(d[--e], b, !1);
                else this.onmousewheel = b
            },
            teardown: function() {
                if (this.removeEventListener)
                    for (var e = d.length; e;) this.removeEventListener(d[--e], b, !1);
                else this.onmousewheel = null
            }
        };
        c.fn.extend({
            mousewheel: function(b) {
                return b ?
                    this.bind("mousewheel", b) : this.trigger("mousewheel")
            },
            unmousewheel: function(b) {
                return this.unbind("mousewheel", b)
            }
        })
    })(jQuery);
    this.JSON || (this.JSON = {});
    (function() {
        function c(b) {
            return 10 > b ? "0" + b : b
        }

        function b(b) {
            g.lastIndex = 0;
            return g.test(b) ? '"' + b.replace(g, function(b) {
                var d = m[b];
                return "string" === typeof d ? d : "\\u" + ("0000" + b.charCodeAt(0).toString(16)).slice(-4)
            }) + '"' : '"' + b + '"'
        }

        function d(e, c) {
            var g, m, k, l, E = f,
                N, J = c[e];
            J && ("object" === typeof J && "function" === typeof J.toJSON) && (J = J.toJSON(e));
            "function" ===
            typeof q && (J = q.call(c, e, J));
            switch (typeof J) {
                case "string":
                    return b(J);
                case "number":
                    return isFinite(J) ? String(J) : "null";
                case "boolean":
                case "null":
                    return String(J);
                case "object":
                    if (!J) return "null";
                    f += h;
                    N = [];
                    if ("[object Array]" === Object.prototype.toString.apply(J)) {
                        l = J.length;
                        for (g = 0; g < l; g += 1) N[g] = d(g, J) || "null";
                        k = 0 === N.length ? "[]" : f ? "[\n" + f + N.join(",\n" + f) + "\n" + E + "]" : "[" + N.join(",") + "]";
                        f = E;
                        return k
                    }
                    if (q && "object" === typeof q) {
                        l = q.length;
                        for (g = 0; g < l; g += 1) m = q[g], "string" === typeof m && (k = d(m, J)) && N.push(b(m) +
                            (f ? ": " : ":") + k)
                    } else
                        for (m in J) Object.hasOwnProperty.call(J, m) && (k = d(m, J)) && N.push(b(m) + (f ? ": " : ":") + k);
                    k = 0 === N.length ? "{}" : f ? "{\n" + f + N.join(",\n" + f) + "\n" + E + "}" : "{" + N.join(",") + "}";
                    f = E;
                    return k
            }
        }
        "function" !== typeof Date.prototype.toJSON && (Date.prototype.toJSON = function(b) {
                return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + c(this.getUTCMonth() + 1) + "-" + c(this.getUTCDate()) + "T" + c(this.getUTCHours()) + ":" + c(this.getUTCMinutes()) + ":" + c(this.getUTCSeconds()) + "Z" : null
            }, String.prototype.toJSON = Number.prototype.toJSON =
            Boolean.prototype.toJSON = function(b) {
                return this.valueOf()
            });
        var e = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
            g = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
            f, h, m = {
                "\b": "\\b",
                "\t": "\\t",
                "\n": "\\n",
                "\f": "\\f",
                "\r": "\\r",
                '"': '\\"',
                "\\": "\\\\"
            },
            q;
        "function" !== typeof JSON.stringify && (JSON.stringify = function(b, e, c) {
            var g;
            h = f = "";
            if ("number" === typeof c)
                for (g = 0; g < c; g +=
                    1) h += " ";
            else "string" === typeof c && (h = c); if ((q = e) && "function" !== typeof e && ("object" !== typeof e || "number" !== typeof e.length)) throw Error("JSON.stringify");
            return d("", {
                "": b
            })
        });
        "function" !== typeof JSON.parse && (JSON.parse = function(b, d) {
            function f(b, e) {
                var c, g, h = b[e];
                if (h && "object" === typeof h)
                    for (c in h) Object.hasOwnProperty.call(h, c) && (g = f(h, c), void 0 !== g ? h[c] = g : delete h[c]);
                return d.call(b, e, h)
            }
            var c;
            b = String(b);
            e.lastIndex = 0;
            e.test(b) && (b = b.replace(e, function(b) {
                return "\\u" + ("0000" + b.charCodeAt(0).toString(16)).slice(-4)
            }));
            if (/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return c = eval("(" + b + ")"), "function" === typeof d ? f({
                "": c
            }, "") : c;
            throw new SyntaxError("JSON.parse");
        })
    })();
    Date.CultureInfo = {
        name: "en-US",
        englishName: "English (United States)",
        nativeName: "English (United States)",
        dayNames: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
        abbreviatedDayNames: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
        shortestDayNames: "Su Mo Tu We Th Fr Sa".split(" "),
        firstLetterDayNames: "SMTWTFS".split(""),
        monthNames: "January February March April May June July August September October November December".split(" "),
        abbreviatedMonthNames: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
        amDesignator: "AM",
        pmDesignator: "PM",
        firstDayOfWeek: 0,
        twoDigitYearMax: 2029,
        dateElementOrder: "mdy",
        formatPatterns: {
            shortDate: "M/d/yyyy",
            longDate: "dddd, MMMM dd, yyyy",
            shortTime: "h:mm tt",
            longTime: "h:mm:ss tt",
            fullDateTime: "dddd, MMMM dd, yyyy h:mm:ss tt",
            sortableDateTime: "yyyy-MM-ddTHH:mm:ss",
            universalSortableDateTime: "yyyy-MM-dd HH:mm:ssZ",
            rfc1123: "ddd, dd MMM yyyy HH:mm:ss GMT",
            monthDay: "MMMM dd",
            yearMonth: "MMMM, yyyy"
        },
        regexPatterns: {
            jan: /^jan(uary)?/i,
            feb: /^feb(ruary)?/i,
            mar: /^mar(ch)?/i,
            apr: /^apr(il)?/i,
            may: /^may/i,
            jun: /^jun(e)?/i,
            jul: /^jul(y)?/i,
            aug: /^aug(ust)?/i,
            sep: /^sep(t(ember)?)?/i,
            oct: /^oct(ober)?/i,
            nov: /^nov(ember)?/i,
            dec: /^dec(ember)?/i,
            sun: /^su(n(day)?)?/i,
            mon: /^mo(n(day)?)?/i,
            tue: /^tu(e(s(day)?)?)?/i,
            wed: /^we(d(nesday)?)?/i,
            thu: /^th(u(r(s(day)?)?)?)?/i,
            fri: /^fr(i(day)?)?/i,
            sat: /^sa(t(urday)?)?/i,
            future: /^next/i,
            past: /^last|past|prev(ious)?/i,
            add: /^(\+|aft(er)?|from|hence)/i,
            subtract: /^(\-|bef(ore)?|ago)/i,
            yesterday: /^yes(terday)?/i,
            today: /^t(od(ay)?)?/i,
            tomorrow: /^tom(orrow)?/i,
            now: /^n(ow)?/i,
            millisecond: /^ms|milli(second)?s?/i,
            second: /^sec(ond)?s?/i,
            minute: /^mn|min(ute)?s?/i,
            hour: /^h(our)?s?/i,
            week: /^w(eek)?s?/i,
            month: /^m(onth)?s?/i,
            day: /^d(ay)?s?/i,
            year: /^y(ear)?s?/i,
            shortMeridian: /^(a|p)/i,
            longMeridian: /^(a\.?m?\.?|p\.?m?\.?)/i,
            timezone: /^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,
            ordinalSuffix: /^\s*(st|nd|rd|th)/i,
            timeContext: /^\s*(\:|a(?!u|p)|p)/i
        },
        timezones: [{
            name: "UTC",
            offset: "-000"
        }, {
            name: "GMT",
            offset: "-000"
        }, {
            name: "EST",
            offset: "-0500"
        }, {
            name: "EDT",
            offset: "-0400"
        }, {
            name: "CST",
            offset: "-0600"
        }, {
            name: "CDT",
            offset: "-0500"
        }, {
            name: "MST",
            offset: "-0700"
        }, {
            name: "MDT",
            offset: "-0600"
        }, {
            name: "PST",
            offset: "-0800"
        }, {
            name: "PDT",
            offset: "-0700"
        }]
    };
    (function() {
        var c = Date,
            b = c.prototype,
            d = c.CultureInfo,
            e = function(b, d) {
                d || (d = 2);
                return ("000" + b).slice(-1 * d)
            };
        b.clearTime = function() {
            this.setHours(0);
            this.setMinutes(0);
            this.setSeconds(0);
            this.setMilliseconds(0);
            return this
        };
        b.setTimeToNow = function() {
            var b = new Date;
            this.setHours(b.getHours());
            this.setMinutes(b.getMinutes());
            this.setSeconds(b.getSeconds());
            this.setMilliseconds(b.getMilliseconds());
            return this
        };
        c.today = function() {
            return (new Date).clearTime()
        };
        c.compare = function(b, d) {
            if (isNaN(b) || isNaN(d)) throw Error(b + " - " + d);
            if (b instanceof Date && d instanceof Date) return b < d ? -1 : b > d ? 1 : 0;
            throw new TypeError(b + " - " + d);
        };
        c.equals = function(b, d) {
            return 0 ===
                b.compareTo(d)
        };
        c.getDayNumberFromName = function(b) {
            var e = d.dayNames,
                f = d.abbreviatedDayNames,
                c = d.shortestDayNames;
            b = b.toLowerCase();
            for (var g = 0; g < e.length; g++)
                if (e[g].toLowerCase() == b || f[g].toLowerCase() == b || c[g].toLowerCase() == b) return g;
            return -1
        };
        c.getMonthNumberFromName = function(b) {
            var e = d.monthNames,
                f = d.abbreviatedMonthNames;
            b = b.toLowerCase();
            for (var c = 0; c < e.length; c++)
                if (e[c].toLowerCase() == b || f[c].toLowerCase() == b) return c;
            return -1
        };
        c.isLeapYear = function(b) {
            return 0 === b % 4 && 0 !== b % 100 || 0 === b % 400
        };
        c.getDaysInMonth = function(b, d) {
            return [31, c.isLeapYear(b) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][d]
        };
        c.getTimezoneAbbreviation = function(b) {
            for (var e = d.timezones, f = 0; f < e.length; f++)
                if (e[f].offset === b) return e[f].name;
            return null
        };
        c.getTimezoneOffset = function(b) {
            for (var e = d.timezones, f = 0; f < e.length; f++)
                if (e[f].name === b.toUpperCase()) return e[f].offset;
            return null
        };
        b.clone = function() {
            return new Date(this.getTime())
        };
        b.compareTo = function(b) {
            return Date.compare(this, b)
        };
        b.equals = function(b) {
            return Date.equals(this,
                b || new Date)
        };
        b.between = function(b, d) {
            return this.getTime() >= b.getTime() && this.getTime() <= d.getTime()
        };
        b.isAfter = function(b) {
            return 1 === this.compareTo(b || new Date)
        };
        b.isBefore = function(b) {
            return -1 === this.compareTo(b || new Date)
        };
        b.isToday = function() {
            return this.isSameDay(new Date)
        };
        b.isSameDay = function(b) {
            return this.clone().clearTime().equals(b.clone().clearTime())
        };
        b.addMilliseconds = function(b) {
            this.setMilliseconds(this.getMilliseconds() + b);
            return this
        };
        b.addSeconds = function(b) {
            return this.addMilliseconds(1E3 *
                b)
        };
        b.addMinutes = function(b) {
            return this.addMilliseconds(6E4 * b)
        };
        b.addHours = function(b) {
            return this.addMilliseconds(36E5 * b)
        };
        b.addDays = function(b) {
            this.setDate(this.getDate() + b);
            return this
        };
        b.addWeeks = function(b) {
            return this.addDays(7 * b)
        };
        b.addMonths = function(b) {
            var d = this.getDate();
            this.setDate(1);
            this.setMonth(this.getMonth() + b);
            this.setDate(Math.min(d, c.getDaysInMonth(this.getFullYear(), this.getMonth())));
            return this
        };
        b.addYears = function(b) {
            return this.addMonths(12 * b)
        };
        b.add = function(b) {
            if ("number" ==
                typeof b) return this._orient = b, this;
            b.milliseconds && this.addMilliseconds(b.milliseconds);
            b.seconds && this.addSeconds(b.seconds);
            b.minutes && this.addMinutes(b.minutes);
            b.hours && this.addHours(b.hours);
            b.weeks && this.addWeeks(b.weeks);
            b.months && this.addMonths(b.months);
            b.years && this.addYears(b.years);
            b.days && this.addDays(b.days);
            return this
        };
        var g, f, h;
        b.getWeek = function() {
            var b, d, e, c, k;
            g = !g ? this.getFullYear() : g;
            f = !f ? this.getMonth() + 1 : f;
            h = !h ? this.getDate() : h;
            2 >= f ? (b = g - 1, d = (b / 4 | 0) - (b / 100 | 0) + (b / 400 | 0), k = d -
                (((b - 1) / 4 | 0) - ((b - 1) / 100 | 0) + ((b - 1) / 400 | 0)), e = 0, c = h - 1 + 31 * (f - 1)) : (b = g, d = (b / 4 | 0) - (b / 100 | 0) + (b / 400 | 0), k = d - (((b - 1) / 4 | 0) - ((b - 1) / 100 | 0) + ((b - 1) / 400 | 0)), e = k + 1, c = h + (153 * (f - 3) + 2) / 5 + 58 + k);
            b = (b + d) % 7;
            e = c + 3 - (c + b - e) % 7 | 0;
            g = f = h = null;
            return 0 > e ? 53 - ((b - k) / 5 | 0) : e > 364 + k ? 1 : (e / 7 | 0) + 1
        };
        b.getISOWeek = function() {
            g = this.getUTCFullYear();
            f = this.getUTCMonth() + 1;
            h = this.getUTCDate();
            return e(this.getWeek())
        };
        b.setWeek = function(b) {
            return this.moveToDayOfWeek(1).addWeeks(b - this.getWeek())
        };
        c._validate = function(b, d, e, f) {
            if ("undefined" ==
                typeof b) return !1;
            if ("number" != typeof b) throw new TypeError(b + " is not a Number.");
            if (b < d || b > e) throw new RangeError(b + " is not a valid value for " + f + ".");
            return !0
        };
        c.validateMillisecond = function(b) {
            return c._validate(b, 0, 999, "millisecond")
        };
        c.validateSecond = function(b) {
            return c._validate(b, 0, 59, "second")
        };
        c.validateMinute = function(b) {
            return c._validate(b, 0, 59, "minute")
        };
        c.validateHour = function(b) {
            return c._validate(b, 0, 23, "hour")
        };
        c.validateDay = function(b, d, e) {
            return c._validate(b, 1, c.getDaysInMonth(d,
                e), "day")
        };
        c.validateMonth = function(b) {
            return c._validate(b, 0, 11, "month")
        };
        c.validateYear = function(b) {
            return c._validate(b, 0, 9999, "year")
        };
        b.set = function(b) {
            c.validateMillisecond(b.millisecond) && this.addMilliseconds(b.millisecond - this.getMilliseconds());
            c.validateSecond(b.second) && this.addSeconds(b.second - this.getSeconds());
            c.validateMinute(b.minute) && this.addMinutes(b.minute - this.getMinutes());
            c.validateHour(b.hour) && this.addHours(b.hour - this.getHours());
            c.validateMonth(b.month) && this.addMonths(b.month -
                this.getMonth());
            c.validateYear(b.year) && this.addYears(b.year - this.getFullYear());
            c.validateDay(b.day, this.getFullYear(), this.getMonth()) && this.addDays(b.day - this.getDate());
            b.timezone && this.setTimezone(b.timezone);
            b.timezoneOffset && this.setTimezoneOffset(b.timezoneOffset);
            b.week && c._validate(b.week, 0, 53, "week") && this.setWeek(b.week);
            return this
        };
        b.moveToFirstDayOfMonth = function() {
            return this.set({
                day: 1
            })
        };
        b.moveToLastDayOfMonth = function() {
            return this.set({
                day: c.getDaysInMonth(this.getFullYear(),
                    this.getMonth())
            })
        };
        b.moveToNthOccurrence = function(b, d) {
            var e = 0;
            if (0 < d) e = d - 1;
            else if (-1 === d) return this.moveToLastDayOfMonth(), this.getDay() !== b && this.moveToDayOfWeek(b, -1), this;
            return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(b, 1).addWeeks(e)
        };
        b.moveToDayOfWeek = function(b, d) {
            var e = (b - this.getDay() + 7 * (d || 1)) % 7;
            return this.addDays(0 === e ? e + 7 * (d || 1) : e)
        };
        b.moveToMonth = function(b, d) {
            var e = (b - this.getMonth() + 12 * (d || 1)) % 12;
            return this.addMonths(0 === e ? e + 12 * (d || 1) : e)
        };
        b.getOrdinalNumber = function() {
            return Math.ceil((this.clone().clearTime() -
                new Date(this.getFullYear(), 0, 1)) / 864E5) + 1
        };
        b.getTimezone = function() {
            return c.getTimezoneAbbreviation(this.getUTCOffset())
        };
        b.setTimezoneOffset = function(b) {
            var d = this.getTimezoneOffset();
            return this.addMinutes(-6 * Number(b) / 10 - d)
        };
        b.setTimezone = function(b) {
            return this.setTimezoneOffset(c.getTimezoneOffset(b))
        };
        b.hasDaylightSavingTime = function() {
            return Date.today().set({
                month: 0,
                day: 1
            }).getTimezoneOffset() !== Date.today().set({
                month: 6,
                day: 1
            }).getTimezoneOffset()
        };
        b.isDaylightSavingTime = function() {
            return this.hasDaylightSavingTime() &&
                (new Date).getTimezoneOffset() === Date.today().set({
                    month: 6,
                    day: 1
                }).getTimezoneOffset()
        };
        b.getUTCOffset = function() {
            var b = -10 * this.getTimezoneOffset() / 6;
            if (0 > b) return b = (b - 1E4).toString(), b.charAt(0) + b.substr(2);
            b = (b + 1E4).toString();
            return "+" + b.substr(1)
        };
        b.getElapsed = function(b) {
            return (b || new Date) - this
        };
        b.toISOString || (b.toISOString = function() {
            function b(d) {
                return 10 > d ? "0" + d : d
            }
            return '"' + this.getUTCFullYear() + "-" + b(this.getUTCMonth() + 1) + "-" + b(this.getUTCDate()) + "T" + b(this.getUTCHours()) + ":" + b(this.getUTCMinutes()) +
                ":" + b(this.getUTCSeconds()) + 'Z"'
        });
        b._toString = b.toString;
        b.toString = function(b) {
            var f = this;
            if (b && 1 == b.length) {
                var c = d.formatPatterns;
                f.t = f.toString;
                switch (b) {
                    case "d":
                        return f.t(c.shortDate);
                    case "D":
                        return f.t(c.longDate);
                    case "F":
                        return f.t(c.fullDateTime);
                    case "m":
                        return f.t(c.monthDay);
                    case "r":
                        return f.t(c.rfc1123);
                    case "s":
                        return f.t(c.sortableDateTime);
                    case "t":
                        return f.t(c.shortTime);
                    case "T":
                        return f.t(c.longTime);
                    case "u":
                        return f.t(c.universalSortableDateTime);
                    case "y":
                        return f.t(c.yearMonth)
                }
            }
            var g =
                function(b) {
                    switch (1 * b) {
                        case 1:
                        case 21:
                        case 31:
                            return "st";
                        case 2:
                        case 22:
                            return "nd";
                        case 3:
                        case 23:
                            return "rd";
                        default:
                            return "th"
                    }
                };
            return b ? b.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g, function(b) {
                if ("\\" === b.charAt(0)) return b.replace("\\", "");
                f.h = f.getHours;
                switch (b) {
                    case "hh":
                        return e(13 > f.h() ? 0 === f.h() ? 12 : f.h() : f.h() - 12);
                    case "h":
                        return 13 > f.h() ? 0 === f.h() ? 12 : f.h() : f.h() - 12;
                    case "HH":
                        return e(f.h());
                    case "H":
                        return f.h();
                    case "mm":
                        return e(f.getMinutes());
                    case "m":
                        return f.getMinutes();
                    case "ss":
                        return e(f.getSeconds());
                    case "s":
                        return f.getSeconds();
                    case "yyyy":
                        return e(f.getFullYear(), 4);
                    case "yy":
                        return e(f.getFullYear());
                    case "dddd":
                        return d.dayNames[f.getDay()];
                    case "ddd":
                        return d.abbreviatedDayNames[f.getDay()];
                    case "dd":
                        return e(f.getDate());
                    case "d":
                        return f.getDate();
                    case "MMMM":
                        return d.monthNames[f.getMonth()];
                    case "MMM":
                        return d.abbreviatedMonthNames[f.getMonth()];
                    case "MM":
                        return e(f.getMonth() + 1);
                    case "M":
                        return f.getMonth() + 1;
                    case "t":
                        return 12 > f.h() ? d.amDesignator.substring(0,
                            1) : d.pmDesignator.substring(0, 1);
                    case "tt":
                        return 12 > f.h() ? d.amDesignator : d.pmDesignator;
                    case "S":
                        return g(f.getDate());
                    default:
                        return b
                }
            }) : this._toString()
        }
    })();
    (function() {
        var c = Date,
            b = c.prototype,
            d = c.CultureInfo,
            e = Number.prototype;
        b._orient = 1;
        b._nth = null;
        b._is = !1;
        b._same = !1;
        b._isSecond = !1;
        e._dateElement = "day";
        b.next = function() {
            this._orient = 1;
            return this
        };
        c.next = function() {
            return c.today().next()
        };
        b.last = b.prev = b.previous = function() {
            this._orient = -1;
            return this
        };
        c.last = c.prev = c.previous = function() {
            return c.today().last()
        };
        b.is = function() {
            this._is = !0;
            return this
        };
        b.same = function() {
            this._same = !0;
            this._isSecond = !1;
            return this
        };
        b.today = function() {
            return this.same().day()
        };
        b.weekday = function() {
            return this._is ? (this._is = !1, !this.is().sat() && !this.is().sun()) : !1
        };
        b.at = function(b) {
            return "string" === typeof b ? c.parse(this.toString("d") + " " + b) : this.set(b)
        };
        e.fromNow = e.after = function(b) {
            var d = {};
            d[this._dateElement] = this;
            return (!b ? new Date : b.clone()).add(d)
        };
        e.ago = e.before = function(b) {
            var d = {};
            d[this._dateElement] = -1 * this;
            return (!b ?
                new Date : b.clone()).add(d)
        };
        var g = "sunday monday tuesday wednesday thursday friday saturday".split(/\s/),
            f = "january february march april may june july august september october november december".split(/\s/),
            h = "Millisecond Second Minute Hour Day Week Month Year".split(/\s/),
            m = "Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),
            q = "final first second third fourth fifth".split(/\s/);
        b.toObject = function() {
            for (var b = {}, d = 0; d < h.length; d++) b[h[d].toLowerCase()] = this["get" + m[d]]();
            return b
        };
        c.fromObject = function(b) {
            b.week = null;
            return Date.today().set(b)
        };
        for (var s = function(b) {
            return function() {
                if (this._is) return this._is = !1, this.getDay() == b;
                if (null !== this._nth) {
                    this._isSecond && this.addSeconds(-1 * this._orient);
                    this._isSecond = !1;
                    var d = this._nth;
                    this._nth = null;
                    var e = this.clone().moveToLastDayOfMonth();
                    this.moveToNthOccurrence(b, d);
                    if (this > e) throw new RangeError(c.getDayName(b) + " does not occur " + d + " times in the month of " + c.getMonthName(e.getMonth()) + " " + e.getFullYear() + ".");
                    return this
                }
                return this.moveToDayOfWeek(b,
                    this._orient)
            }
        }, k = function(b) {
            return function() {
                var e = c.today(),
                    f = b - e.getDay();
                0 === b && (1 === d.firstDayOfWeek && 0 !== e.getDay()) && (f += 7);
                return e.addDays(f)
            }
        }, l = 0; l < g.length; l++) c[g[l].toUpperCase()] = c[g[l].toUpperCase().substring(0, 3)] = l, c[g[l]] = c[g[l].substring(0, 3)] = k(l), b[g[l]] = b[g[l].substring(0, 3)] = s(l);
        g = function(b) {
            return function() {
                return this._is ? (this._is = !1, this.getMonth() === b) : this.moveToMonth(b, this._orient)
            }
        };
        s = function(b) {
            return function() {
                return c.today().set({
                    month: b,
                    day: 1
                })
            }
        };
        for (k =
            0; k < f.length; k++) c[f[k].toUpperCase()] = c[f[k].toUpperCase().substring(0, 3)] = k, c[f[k]] = c[f[k].substring(0, 3)] = s(k), b[f[k]] = b[f[k].substring(0, 3)] = g(k);
        g = function(b) {
            return function(d) {
                if (this._isSecond) return this._isSecond = !1, this;
                if (this._same) {
                    this._same = this._is = !1;
                    var e = this.toObject();
                    d = (d || new Date).toObject();
                    for (var f = "", c = b.toLowerCase(), g = h.length - 1; - 1 < g; g--) {
                        f = h[g].toLowerCase();
                        if (e[f] != d[f]) return !1;
                        if (c == f) break
                    }
                    return !0
                }
                "s" != b.substring(b.length - 1) && (b += "s");
                return this["add" + b](this._orient)
            }
        };
        s = function(b) {
            return function() {
                this._dateElement = b;
                return this
            }
        };
        for (k = 0; k < h.length; k++) f = h[k].toLowerCase(), b[f] = b[f + "s"] = g(h[k]), e[f] = e[f + "s"] = s(f);
        b._ss = g("Second");
        e = function(b) {
            return function(d) {
                if (this._same) return this._ss(d);
                if (d || 0 === d) return this.moveToNthOccurrence(d, b);
                this._nth = b;
                return 2 === b && (void 0 === d || null === d) ? (this._isSecond = !0, this.addSeconds(this._orient)) : this
            }
        };
        for (f = 0; f < q.length; f++) b[q[f]] = 0 === f ? e(-1) : e(f)
    })();
    (function() {
        Date.Parsing = {
            Exception: function(b) {
                this.message =
                    "Parse error at '" + b.substring(0, 10) + " ...'"
            }
        };
        for (var c = Date.Parsing, b = c.Operators = {
            rtoken: function(b) {
                return function(d) {
                    var e = d.match(b);
                    if (e) return [e[0], d.substring(e[0].length)];
                    throw new c.Exception(d);
                }
            },
            token: function(d) {
                return function(d) {
                    return b.rtoken(RegExp("^s*" + d + "s*"))(d)
                }
            },
            stoken: function(d) {
                return b.rtoken(RegExp("^" + d))
            },
            until: function(b) {
                return function(d) {
                    for (var e = [], c = null; d.length;) {
                        try {
                            c = b.call(this, d)
                        } catch (g) {
                            e.push(c[0]);
                            d = c[1];
                            continue
                        }
                        break
                    }
                    return [e, d]
                }
            },
            many: function(b) {
                return function(d) {
                    for (var e = [], c = null; d.length;) {
                        try {
                            c = b.call(this, d)
                        } catch (g) {
                            break
                        }
                        e.push(c[0]);
                        d = c[1]
                    }
                    return [e, d]
                }
            },
            optional: function(b) {
                return function(d) {
                    var e = null;
                    try {
                        e = b.call(this, d)
                    } catch (c) {
                        return [null, d]
                    }
                    return [e[0], e[1]]
                }
            },
            not: function(b) {
                return function(d) {
                    try {
                        b.call(this, d)
                    } catch (e) {
                        return [null, d]
                    }
                    throw new c.Exception(d);
                }
            },
            ignore: function(b) {
                return b ? function(d) {
                    var e = null,
                        e = b.call(this, d);
                    return [null, e[1]]
                } : null
            },
            product: function() {
                for (var d = arguments[0], e = Array.prototype.slice.call(arguments, 1), c = [], g = 0; g <
                    d.length; g++) c.push(b.each(d[g], e));
                return c
            },
            cache: function(b) {
                var d = {},
                    e = null;
                return function(g) {
                    try {
                        e = d[g] = d[g] || b.call(this, g)
                    } catch (s) {
                        e = d[g] = s
                    }
                    if (e instanceof c.Exception) throw e;
                    return e
                }
            },
            any: function() {
                var b = arguments;
                return function(d) {
                    for (var e = null, g = 0; g < b.length; g++)
                        if (null != b[g]) {
                            try {
                                e = b[g].call(this, d)
                            } catch (s) {
                                e = null
                            }
                            if (e) return e
                        }
                    throw new c.Exception(d);
                }
            },
            each: function() {
                var b = arguments;
                return function(d) {
                    for (var e = [], g = null, s = 0; s < b.length; s++)
                        if (null != b[s]) {
                            try {
                                g = b[s].call(this,
                                    d)
                            } catch (k) {
                                throw new c.Exception(d);
                            }
                            e.push(g[0]);
                            d = g[1]
                        }
                    return [e, d]
                }
            },
            all: function() {
                var b = b;
                return b.each(b.optional(arguments))
            },
            sequence: function(d, e, g) {
                e = e || b.rtoken(/^\s*/);
                g = g || null;
                return 1 == d.length ? d[0] : function(b) {
                    for (var s = null, k = null, l = [], T = 0; T < d.length; T++) {
                        try {
                            s = d[T].call(this, b)
                        } catch (C) {
                            break
                        }
                        l.push(s[0]);
                        try {
                            k = e.call(this, s[1])
                        } catch (G) {
                            k = null;
                            break
                        }
                        b = k[1]
                    }
                    if (!s) throw new c.Exception(b);
                    if (k) throw new c.Exception(k[1]);
                    if (g) try {
                        s = g.call(this, s[1])
                    } catch (E) {
                        throw new c.Exception(s[1]);
                    }
                    return [l, s ? s[1] : b]
                }
            },
            between: function(d, e, c) {
                c = c || d;
                var g = b.each(b.ignore(d), e, b.ignore(c));
                return function(b) {
                    b = g.call(this, b);
                    return [
                        [b[0][0], r[0][2]], b[1]
                    ]
                }
            },
            list: function(d, e, c) {
                e = e || b.rtoken(/^\s*/);
                c = c || null;
                return d instanceof Array ? b.each(b.product(d.slice(0, -1), b.ignore(e)), d.slice(-1), b.ignore(c)) : b.each(b.many(b.each(d, b.ignore(e))), px, b.ignore(c))
            },
            set: function(d, e, g) {
                e = e || b.rtoken(/^\s*/);
                g = g || null;
                return function(q) {
                    for (var s = null, k = s = null, l = null, T = [
                        [], q
                    ], C = !1, G = 0; G < d.length; G++) {
                        s =
                            k = null;
                        C = 1 == d.length;
                        try {
                            s = d[G].call(this, q)
                        } catch (E) {
                            continue
                        }
                        l = [
                            [s[0]], s[1]
                        ];
                        if (0 < s[1].length && !C) try {
                            k = e.call(this, s[1])
                        } catch (N) {
                            C = !0
                        } else C = !0;
                        !C && 0 === k[1].length && (C = !0);
                        if (!C) {
                            s = [];
                            for (C = 0; C < d.length; C++) G != C && s.push(d[C]);
                            s = b.set(s, e).call(this, k[1]);
                            0 < s[0].length && (l[0] = l[0].concat(s[0]), l[1] = s[1])
                        }
                        l[1].length < T[1].length && (T = l);
                        if (0 === T[1].length) break
                    }
                    if (0 === T[0].length) return T;
                    if (g) {
                        try {
                            k = g.call(this, T[1])
                        } catch (J) {
                            throw new c.Exception(T[1]);
                        }
                        T[1] = k[1]
                    }
                    return T
                }
            },
            forward: function(b,
                d) {
                return function(e) {
                    return b[d].call(this, e)
                }
            },
            replace: function(b, d) {
                return function(e) {
                    e = b.call(this, e);
                    return [d, e[1]]
                }
            },
            process: function(b, d) {
                return function(e) {
                    e = b.call(this, e);
                    return [d.call(this, e[0]), e[1]]
                }
            },
            min: function(b, d) {
                return function(e) {
                    var g = d.call(this, e);
                    if (g[0].length < b) throw new c.Exception(e);
                    return g
                }
            }
        }, d = function(b) {
            return function() {
                var d = null,
                    e = [];
                1 < arguments.length ? d = Array.prototype.slice.call(arguments) : arguments[0] instanceof Array && (d = arguments[0]);
                if (d)
                    for (var c = d.shift(); 0 <
                        c.length;) return d.unshift(c[0]), e.push(b.apply(null, d)), d.shift(), e;
                else return b.apply(null, arguments)
            }
        }, e = "optional not ignore cache".split(/\s/), g = 0; g < e.length; g++) b[e[g]] = d(b[e[g]]);
        d = function(b) {
            return function() {
                return arguments[0] instanceof Array ? b.apply(null, arguments[0]) : b.apply(null, arguments)
            }
        };
        e = "each any all".split(/\s/);
        for (g = 0; g < e.length; g++) b[e[g]] = d(b[e[g]])
    })();
    (function() {
        var c = Date,
            b = c.CultureInfo,
            d = function(b) {
                for (var e = [], f = 0; f < b.length; f++) b[f] instanceof Array ? e = e.concat(d(b[f])) :
                    b[f] && e.push(b[f]);
                return e
            };
        c.Grammar = {};
        c.Translator = {
            hour: function(b) {
                return function() {
                    this.hour = Number(b)
                }
            },
            minute: function(b) {
                return function() {
                    this.minute = Number(b)
                }
            },
            second: function(b) {
                return function() {
                    this.second = Number(b)
                }
            },
            meridian: function(b) {
                return function() {
                    this.meridian = b.slice(0, 1).toLowerCase()
                }
            },
            timezone: function(b) {
                return function() {
                    var d = b.replace(/[^\d\+\-]/g, "");
                    d.length ? this.timezoneOffset = Number(d) : this.timezone = b.toLowerCase()
                }
            },
            day: function(b) {
                var d = b[0];
                return function() {
                    this.day =
                        Number(d.match(/\d+/)[0])
                }
            },
            month: function(b) {
                return function() {
                    this.month = 3 == b.length ? "jan feb mar apr may jun jul aug sep oct nov dec".indexOf(b) / 4 : Number(b) - 1
                }
            },
            year: function(d) {
                return function() {
                    var e = Number(d);
                    this.year = 2 < d.length ? e : e + (e + 2E3 < b.twoDigitYearMax ? 2E3 : 1900)
                }
            },
            rday: function(b) {
                return function() {
                    switch (b) {
                        case "yesterday":
                            this.days = -1;
                            break;
                        case "tomorrow":
                            this.days = 1;
                            break;
                        case "today":
                            this.days = 0;
                            break;
                        case "now":
                            this.days = 0, this.now = !0
                    }
                }
            },
            finishExact: function(b) {
                b = b instanceof Array ?
                    b : [b];
                for (var d = 0; d < b.length; d++) b[d] && b[d].call(this);
                b = new Date;
                if ((this.hour || this.minute) && !this.month && !this.year && !this.day) this.day = b.getDate();
                this.year || (this.year = b.getFullYear());
                !this.month && 0 !== this.month && (this.month = b.getMonth());
                this.day || (this.day = 1);
                this.hour || (this.hour = 0);
                this.minute || (this.minute = 0);
                this.second || (this.second = 0);
                this.meridian && this.hour && ("p" == this.meridian && 12 > this.hour ? this.hour += 12 : "a" == this.meridian && 12 == this.hour && (this.hour = 0));
                if (this.day > c.getDaysInMonth(this.year,
                    this.month)) throw new RangeError(this.day + " is not a valid value for days.");
                b = new Date(this.year, this.month, this.day, this.hour, this.minute, this.second);
                this.timezone ? b.set({
                    timezone: this.timezone
                }) : this.timezoneOffset && b.set({
                    timezoneOffset: this.timezoneOffset
                });
                return b
            },
            finish: function(b) {
                b = b instanceof Array ? d(b) : [b];
                if (0 === b.length) return null;
                for (var e = 0; e < b.length; e++) "function" == typeof b[e] && b[e].call(this);
                b = c.today();
                if (this.now && !this.unit && !this.operator) return new Date;
                this.now && (b = new Date);
                var e = !!(this.days && null !== this.days || this.orient || this.operator),
                    f, g, h;
                h = "past" == this.orient || "subtract" == this.operator ? -1 : 1;
                !this.now && -1 != "hour minute second".indexOf(this.unit) && b.setTimeToNow();
                if ((this.month || 0 === this.month) && -1 != "year day hour minute second".indexOf(this.unit)) this.value = this.month + 1, this.month = null, e = !0;
                !e && (this.weekday && !this.day && !this.days) && (f = Date[this.weekday](), this.day = f.getDate(), this.month || (this.month = f.getMonth()), this.year = f.getFullYear());
                e && (this.weekday &&
                    "month" != this.unit) && (this.unit = "day", f = c.getDayNumberFromName(this.weekday) - b.getDay(), g = 7, this.days = f ? (f + h * g) % g : h * g);
                this.month && ("day" == this.unit && this.operator) && (this.value = this.month + 1, this.month = null);
                null != this.value && (null != this.month && null != this.year) && (this.day = 1 * this.value);
                this.month && (!this.day && this.value) && (b.set({
                    day: 1 * this.value
                }), e || (this.day = 1 * this.value));
                !this.month && (this.value && "month" == this.unit && !this.now) && (this.month = this.value, e = !0);
                if (e && (this.month || 0 === this.month) &&
                    "year" != this.unit) this.unit = "month", f = this.month - b.getMonth(), g = 12, this.months = f ? (f + h * g) % g : h * g, this.month = null;
                this.unit || (this.unit = "day");
                if (!this.value && this.operator && null !== this.operator && this[this.unit + "s"] && null !== this[this.unit + "s"]) this[this.unit + "s"] = this[this.unit + "s"] + ("add" == this.operator ? 1 : -1) + (this.value || 0) * h;
                else if (null == this[this.unit + "s"] || null != this.operator) this.value || (this.value = 1), this[this.unit + "s"] = this.value * h;
                this.meridian && this.hour && ("p" == this.meridian && 12 > this.hour ?
                    this.hour += 12 : "a" == this.meridian && 12 == this.hour && (this.hour = 0));
                this.weekday && (!this.day && !this.days) && (f = Date[this.weekday](), this.day = f.getDate(), f.getMonth() !== b.getMonth() && (this.month = f.getMonth()));
                if ((this.month || 0 === this.month) && !this.day) this.day = 1;
                if (!this.orient && !this.operator && "week" == this.unit && this.value && !this.day && !this.month) return Date.today().setWeek(this.value);
                e && (this.timezone && this.day && this.days) && (this.day = this.days);
                return e ? b.add(this) : b.set(this)
            }
        };
        var e = c.Parsing.Operators,
            g = c.Grammar,
            f = c.Translator,
            h;
        g.datePartDelimiter = e.rtoken(/^([\s\-\.\,\/\x27]+)/);
        g.timePartDelimiter = e.stoken(":");
        g.whiteSpace = e.rtoken(/^\s*/);
        g.generalDelimiter = e.rtoken(/^(([\s\,]|at|@|on)+)/);
        var m = {};
        g.ctoken = function(d) {
            var f = m[d];
            if (!f) {
                for (var f = b.regexPatterns, c = d.split(/\s+/), g = [], h = 0; h < c.length; h++) g.push(e.replace(e.rtoken(f[c[h]]), c[h]));
                f = m[d] = e.any.apply(null, g)
            }
            return f
        };
        g.ctoken2 = function(d) {
            return e.rtoken(b.regexPatterns[d])
        };
        g.h = e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),
            f.hour));
        g.hh = e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2])/), f.hour));
        g.H = e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/), f.hour));
        g.HH = e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3])/), f.hour));
        g.m = e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/), f.minute));
        g.mm = e.cache(e.process(e.rtoken(/^[0-5][0-9]/), f.minute));
        g.s = e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/), f.second));
        g.ss = e.cache(e.process(e.rtoken(/^[0-5][0-9]/), f.second));
        g.hms = e.cache(e.sequence([g.H, g.m, g.s], g.timePartDelimiter));
        g.t = e.cache(e.process(g.ctoken2("shortMeridian"), f.meridian));
        g.tt = e.cache(e.process(g.ctoken2("longMeridian"), f.meridian));
        g.z = e.cache(e.process(e.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/), f.timezone));
        g.zz = e.cache(e.process(e.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/), f.timezone));
        g.zzz = e.cache(e.process(g.ctoken2("timezone"), f.timezone));
        g.timeSuffix = e.each(e.ignore(g.whiteSpace), e.set([g.tt, g.zzz]));
        g.time = e.each(e.optional(e.ignore(e.stoken("T"))), g.hms, g.timeSuffix);
        g.d =
            e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1]|\d)/), e.optional(g.ctoken2("ordinalSuffix"))), f.day));
        g.dd = e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1])/), e.optional(g.ctoken2("ordinalSuffix"))), f.day));
        g.ddd = g.dddd = e.cache(e.process(g.ctoken("sun mon tue wed thu fri sat"), function(b) {
            return function() {
                this.weekday = b
            }
        }));
        g.M = e.cache(e.process(e.rtoken(/^(1[0-2]|0\d|\d)/), f.month));
        g.MM = e.cache(e.process(e.rtoken(/^(1[0-2]|0\d)/), f.month));
        g.MMM = g.MMMM = e.cache(e.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),
            f.month));
        g.y = e.cache(e.process(e.rtoken(/^(\d\d?)/), f.year));
        g.yy = e.cache(e.process(e.rtoken(/^(\d\d)/), f.year));
        g.yyy = e.cache(e.process(e.rtoken(/^(\d\d?\d?\d?)/), f.year));
        g.yyyy = e.cache(e.process(e.rtoken(/^(\d\d\d\d)/), f.year));
        h = function() {
            return e.each(e.any.apply(null, arguments), e.not(g.ctoken2("timeContext")))
        };
        g.day = h(g.d, g.dd);
        g.month = h(g.M, g.MMM);
        g.year = h(g.yyyy, g.yy);
        g.orientation = e.process(g.ctoken("past future"), function(b) {
            return function() {
                this.orient = b
            }
        });
        g.operator = e.process(g.ctoken("add subtract"),
            function(b) {
                return function() {
                    this.operator = b
                }
            });
        g.rday = e.process(g.ctoken("yesterday tomorrow today now"), f.rday);
        g.unit = e.process(g.ctoken("second minute hour day week month year"), function(b) {
            return function() {
                this.unit = b
            }
        });
        g.value = e.process(e.rtoken(/^\d\d?(st|nd|rd|th)?/), function(b) {
            return function() {
                this.value = b.replace(/\D/g, "")
            }
        });
        g.expression = e.set([g.rday, g.operator, g.value, g.unit, g.orientation, g.ddd, g.MMM]);
        h = function() {
            return e.set(arguments, g.datePartDelimiter)
        };
        g.mdy = h(g.ddd, g.month,
            g.day, g.year);
        g.ymd = h(g.ddd, g.year, g.month, g.day);
        g.dmy = h(g.ddd, g.day, g.month, g.year);
        g.date = function(d) {
            return (g[b.dateElementOrder] || g.mdy).call(this, d)
        };
        g.format = e.process(e.many(e.any(e.process(e.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/), function(b) {
            if (g[b]) return g[b];
            throw c.Parsing.Exception(b);
        }), e.process(e.rtoken(/^[^dMyhHmstz]+/), function(b) {
            return e.ignore(e.stoken(b))
        }))), function(b) {
            return e.process(e.each.apply(null, b), f.finishExact)
        });
        var q = {};
        g.formats = function(b) {
            if (b instanceof Array) {
                for (var d = [], f = 0; f < b.length; f++) d.push(q[b[f]] = q[b[f]] || g.format(b[f])[0]);
                return e.any.apply(null, d)
            }
            return q[b] = q[b] || g.format(b)[0]
        };
        g._formats = g.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));
        g._start = e.process(e.set([g.date, g.time, g.expression], g.generalDelimiter,
            g.whiteSpace), f.finish);
        g.start = function(b) {
            try {
                var d = g._formats.call({}, b);
                if (0 === d[1].length) return d
            } catch (e) {}
            return g._start.call({}, b)
        };
        c._parse = c.parse;
        c.parse = function(b) {
            var d = null;
            if (!b) return null;
            if (b instanceof Date) return b;
            try {
                d = c.Grammar.start.call({}, b.replace(/^\s*(\S*(\s+\S+)*)\s*$/, "$1"))
            } catch (e) {
                return null
            }
            return 0 === d[1].length ? d[0] : null
        };
        c.getParseFunction = function(b) {
            var d = c.Grammar.formats(b);
            return function(b) {
                var e = null;
                try {
                    e = d.call({}, b)
                } catch (f) {
                    return null
                }
                return 0 ===
                    e[1].length ? e[0] : null
            }
        };
        c.parseExact = function(b, d) {
            return c.getParseFunction(d)(b)
        }
    })();
    (function() {
        var c = this,
            b = c._,
            d = {},
            e = Array.prototype,
            g = Object.prototype,
            f = e.push,
            h = e.slice,
            m = e.concat,
            q = g.toString,
            k = g.hasOwnProperty,
            l = e.forEach,
            I = e.map,
            T = e.reduce,
            C = e.reduceRight,
            G = e.filter,
            E = e.every,
            N = e.some,
            J = e.indexOf,
            R = e.lastIndexOf,
            g = Array.isArray,
            n = Object.keys,
            t = Function.prototype.bind,
            z = function(b) {
                if (b instanceof z) return b;
                if (!(this instanceof z)) return new z(b);
                this._wrapped = b
            };
        "undefined" !== typeof exports ?
            ("undefined" !== typeof module && module.exports && (exports = module.exports = z), exports._ = z) : c._ = z;
        z.VERSION = "1.6.0";
        var v = z.each = z.forEach = function(b, e, f) {
            if (null == b) return b;
            if (l && b.forEach === l) b.forEach(e, f);
            else if (b.length === +b.length)
                for (var c = 0, g = b.length; c < g; c++) {
                    if (e.call(f, b[c], c, b) === d) return
                } else
                    for (var h = z.keys(b), c = 0, g = h.length; c < g; c++)
                        if (e.call(f, b[h[c]], h[c], b) === d) return;
            return b
        };
        z.map = z.collect = function(b, d, e) {
            var f = [];
            if (null == b) return f;
            if (I && b.map === I) return b.map(d, e);
            v(b, function(b,
                c, g) {
                f.push(d.call(e, b, c, g))
            });
            return f
        };
        z.reduce = z.foldl = z.inject = function(b, d, e, f) {
            var c = 2 < arguments.length;
            null == b && (b = []);
            if (T && b.reduce === T) return f && (d = z.bind(d, f)), c ? b.reduce(d, e) : b.reduce(d);
            v(b, function(b, g, h) {
                c ? e = d.call(f, e, b, g, h) : (e = b, c = !0)
            });
            if (!c) throw new TypeError("Reduce of empty array with no initial value");
            return e
        };
        z.reduceRight = z.foldr = function(b, d, e, f) {
            var c = 2 < arguments.length;
            null == b && (b = []);
            if (C && b.reduceRight === C) return f && (d = z.bind(d, f)), c ? b.reduceRight(d, e) : b.reduceRight(d);
            var g = b.length;
            if (g !== +g) var h = z.keys(b),
                g = h.length;
            v(b, function(m, q, k) {
                q = h ? h[--g] : --g;
                c ? e = d.call(f, e, b[q], q, k) : (e = b[q], c = !0)
            });
            if (!c) throw new TypeError("Reduce of empty array with no initial value");
            return e
        };
        z.find = z.detect = function(b, d, e) {
            var f;
            x(b, function(b, c, g) {
                if (d.call(e, b, c, g)) return f = b, !0
            });
            return f
        };
        z.filter = z.select = function(b, d, e) {
            var f = [];
            if (null == b) return f;
            if (G && b.filter === G) return b.filter(d, e);
            v(b, function(b, c, g) {
                d.call(e, b, c, g) && f.push(b)
            });
            return f
        };
        z.reject = function(b, d, e) {
            return z.filter(b,
                function(b, f, c) {
                    return !d.call(e, b, f, c)
                }, e)
        };
        z.every = z.all = function(b, e, f) {
            e || (e = z.identity);
            var c = !0;
            if (null == b) return c;
            if (E && b.every === E) return b.every(e, f);
            v(b, function(b, g, h) {
                if (!(c = c && e.call(f, b, g, h))) return d
            });
            return !!c
        };
        var x = z.some = z.any = function(b, e, f) {
            e || (e = z.identity);
            var c = !1;
            if (null == b) return c;
            if (N && b.some === N) return b.some(e, f);
            v(b, function(b, g, h) {
                if (c || (c = e.call(f, b, g, h))) return d
            });
            return !!c
        };
        z.contains = z.include = function(b, d) {
            return null == b ? !1 : J && b.indexOf === J ? -1 != b.indexOf(d) :
                x(b, function(b) {
                    return b === d
                })
        };
        z.invoke = function(b, d) {
            var e = h.call(arguments, 2),
                f = z.isFunction(d);
            return z.map(b, function(b) {
                return (f ? d : b[d]).apply(b, e)
            })
        };
        z.pluck = function(b, d) {
            return z.map(b, z.property(d))
        };
        z.where = function(b, d) {
            return z.filter(b, z.matches(d))
        };
        z.findWhere = function(b, d) {
            return z.find(b, z.matches(d))
        };
        z.max = function(b, d, e) {
            if (!d && z.isArray(b) && b[0] === +b[0] && 65535 > b.length) return Math.max.apply(Math, b);
            var f = -Infinity,
                c = -Infinity;
            v(b, function(b, g, h) {
                g = d ? d.call(e, b, g, h) : b;
                g > c && (f =
                    b, c = g)
            });
            return f
        };
        z.min = function(b, d, e) {
            if (!d && z.isArray(b) && b[0] === +b[0] && 65535 > b.length) return Math.min.apply(Math, b);
            var f = Infinity,
                c = Infinity;
            v(b, function(b, g, h) {
                g = d ? d.call(e, b, g, h) : b;
                g < c && (f = b, c = g)
            });
            return f
        };
        z.shuffle = function(b) {
            var d, e = 0,
                f = [];
            v(b, function(b) {
                d = z.random(e++);
                f[e - 1] = f[d];
                f[d] = b
            });
            return f
        };
        z.sample = function(b, d, e) {
            return null == d || e ? (b.length !== +b.length && (b = z.values(b)), b[z.random(b.length - 1)]) : z.shuffle(b).slice(0, Math.max(0, d))
        };
        var y = function(b) {
            return null == b ? z.identity :
                z.isFunction(b) ? b : z.property(b)
        };
        z.sortBy = function(b, d, e) {
            d = y(d);
            return z.pluck(z.map(b, function(b, f, c) {
                return {
                    value: b,
                    index: f,
                    criteria: d.call(e, b, f, c)
                }
            }).sort(function(b, d) {
                var e = b.criteria,
                    f = d.criteria;
                if (e !== f) {
                    if (e > f || void 0 === e) return 1;
                    if (e < f || void 0 === f) return -1
                }
                return b.index - d.index
            }), "value")
        };
        var A = function(b) {
            return function(d, e, f) {
                var c = {};
                e = y(e);
                v(d, function(g, h) {
                    var m = e.call(f, g, h, d);
                    b(c, m, g)
                });
                return c
            }
        };
        z.groupBy = A(function(b, d, e) {
            z.has(b, d) ? b[d].push(e) : b[d] = [e]
        });
        z.indexBy = A(function(b,
            d, e) {
            b[d] = e
        });
        z.countBy = A(function(b, d) {
            z.has(b, d) ? b[d] ++ : b[d] = 1
        });
        z.sortedIndex = function(b, d, e, f) {
            e = y(e);
            d = e.call(f, d);
            for (var c = 0, g = b.length; c < g;) {
                var h = c + g >>> 1;
                e.call(f, b[h]) < d ? c = h + 1 : g = h
            }
            return c
        };
        z.toArray = function(b) {
            return !b ? [] : z.isArray(b) ? h.call(b) : b.length === +b.length ? z.map(b, z.identity) : z.values(b)
        };
        z.size = function(b) {
            return null == b ? 0 : b.length === +b.length ? b.length : z.keys(b).length
        };
        z.first = z.head = z.take = function(b, d, e) {
            return null == b ? void 0 : null == d || e ? b[0] : 0 > d ? [] : h.call(b, 0, d)
        };
        z.initial =
            function(b, d, e) {
                return h.call(b, 0, b.length - (null == d || e ? 1 : d))
            };
        z.last = function(b, d, e) {
            return null == b ? void 0 : null == d || e ? b[b.length - 1] : h.call(b, Math.max(b.length - d, 0))
        };
        z.rest = z.tail = z.drop = function(b, d, e) {
            return h.call(b, null == d || e ? 1 : d)
        };
        z.compact = function(b) {
            return z.filter(b, z.identity)
        };
        var B = function(b, d, e) {
            if (d && z.every(b, z.isArray)) return m.apply(e, b);
            v(b, function(b) {
                z.isArray(b) || z.isArguments(b) ? d ? f.apply(e, b) : B(b, d, e) : e.push(b)
            });
            return e
        };
        z.flatten = function(b, d) {
            return B(b, d, [])
        };
        z.without =
            function(b) {
                return z.difference(b, h.call(arguments, 1))
            };
        z.partition = function(b, d) {
            var e = [],
                f = [];
            v(b, function(b) {
                (d(b) ? e : f).push(b)
            });
            return [e, f]
        };
        z.uniq = z.unique = function(b, d, e, f) {
            z.isFunction(d) && (f = e, e = d, d = !1);
            e = e ? z.map(b, e, f) : b;
            var c = [],
                g = [];
            v(e, function(e, f) {
                if (d ? !f || g[g.length - 1] !== e : !z.contains(g, e)) g.push(e), c.push(b[f])
            });
            return c
        };
        z.union = function() {
            return z.uniq(z.flatten(arguments, !0))
        };
        z.intersection = function(b) {
            var d = h.call(arguments, 1);
            return z.filter(z.uniq(b), function(b) {
                return z.every(d,
                    function(d) {
                        return z.contains(d, b)
                    })
            })
        };
        z.difference = function(b) {
            var d = m.apply(e, h.call(arguments, 1));
            return z.filter(b, function(b) {
                return !z.contains(d, b)
            })
        };
        z.zip = function() {
            for (var b = z.max(z.pluck(arguments, "length").concat(0)), d = Array(b), e = 0; e < b; e++) d[e] = z.pluck(arguments, "" + e);
            return d
        };
        z.object = function(b, d) {
            if (null == b) return {};
            for (var e = {}, f = 0, c = b.length; f < c; f++) d ? e[b[f]] = d[f] : e[b[f][0]] = b[f][1];
            return e
        };
        z.indexOf = function(b, d, e) {
            if (null == b) return -1;
            var f = 0,
                c = b.length;
            if (e)
                if ("number" == typeof e) f =
                    0 > e ? Math.max(0, c + e) : e;
                else return f = z.sortedIndex(b, d), b[f] === d ? f : -1;
            if (J && b.indexOf === J) return b.indexOf(d, e);
            for (; f < c; f++)
                if (b[f] === d) return f;
            return -1
        };
        z.lastIndexOf = function(b, d, e) {
            if (null == b) return -1;
            var f = null != e;
            if (R && b.lastIndexOf === R) return f ? b.lastIndexOf(d, e) : b.lastIndexOf(d);
            for (e = f ? e : b.length; e--;)
                if (b[e] === d) return e;
            return -1
        };
        z.range = function(b, d, e) {
            1 >= arguments.length && (d = b || 0, b = 0);
            e = arguments[2] || 1;
            for (var f = Math.max(Math.ceil((d - b) / e), 0), c = 0, g = Array(f); c < f;) g[c++] = b, b += e;
            return g
        };
        var D = function() {};
        z.bind = function(b, d) {
            var e, f;
            if (t && b.bind === t) return t.apply(b, h.call(arguments, 1));
            if (!z.isFunction(b)) throw new TypeError;
            e = h.call(arguments, 2);
            return f = function() {
                if (!(this instanceof f)) return b.apply(d, e.concat(h.call(arguments)));
                D.prototype = b.prototype;
                var c = new D;
                D.prototype = null;
                var g = b.apply(c, e.concat(h.call(arguments)));
                return Object(g) === g ? g : c
            }
        };
        z.partial = function(b) {
            var d = h.call(arguments, 1);
            return function() {
                for (var e = 0, f = d.slice(), c = 0, g = f.length; c < g; c++) f[c] === z &&
                    (f[c] = arguments[e++]);
                for (; e < arguments.length;) f.push(arguments[e++]);
                return b.apply(this, f)
            }
        };
        z.bindAll = function(b) {
            var d = h.call(arguments, 1);
            if (0 === d.length) throw Error("bindAll must be passed function names");
            v(d, function(d) {
                b[d] = z.bind(b[d], b)
            });
            return b
        };
        z.memoize = function(b, d) {
            var e = {};
            d || (d = z.identity);
            return function() {
                var f = d.apply(this, arguments);
                return z.has(e, f) ? e[f] : e[f] = b.apply(this, arguments)
            }
        };
        z.delay = function(b, d) {
            var e = h.call(arguments, 2);
            return setTimeout(function() {
                return b.apply(null,
                    e)
            }, d)
        };
        z.defer = function(b) {
            return z.delay.apply(z, [b, 1].concat(h.call(arguments, 1)))
        };
        z.throttle = function(b, d, e) {
            var f, c, g, h = null,
                m = 0;
            e || (e = {});
            var q = function() {
                m = !1 === e.leading ? 0 : z.now();
                h = null;
                g = b.apply(f, c);
                f = c = null
            };
            return function() {
                var k = z.now();
                !m && !1 === e.leading && (m = k);
                var s = d - (k - m);
                f = this;
                c = arguments;
                0 >= s ? (clearTimeout(h), h = null, m = k, g = b.apply(f, c), f = c = null) : !h && !1 !== e.trailing && (h = setTimeout(q, s));
                return g
            }
        };
        z.debounce = function(b, d, e) {
            var f, c, g, h, m, q = function() {
                var k = z.now() - h;
                k < d ? f = setTimeout(q,
                    d - k) : (f = null, e || (m = b.apply(g, c), g = c = null))
            };
            return function() {
                g = this;
                c = arguments;
                h = z.now();
                var k = e && !f;
                f || (f = setTimeout(q, d));
                k && (m = b.apply(g, c), g = c = null);
                return m
            }
        };
        z.once = function(b) {
            var d = !1,
                e;
            return function() {
                if (d) return e;
                d = !0;
                e = b.apply(this, arguments);
                b = null;
                return e
            }
        };
        z.wrap = function(b, d) {
            return z.partial(d, b)
        };
        z.compose = function() {
            var b = arguments;
            return function() {
                for (var d = arguments, e = b.length - 1; 0 <= e; e--) d = [b[e].apply(this, d)];
                return d[0]
            }
        };
        z.after = function(b, d) {
            return function() {
                if (1 > --b) return d.apply(this,
                    arguments)
            }
        };
        z.keys = function(b) {
            if (!z.isObject(b)) return [];
            if (n) return n(b);
            var d = [],
                e;
            for (e in b) z.has(b, e) && d.push(e);
            return d
        };
        z.values = function(b) {
            for (var d = z.keys(b), e = d.length, f = Array(e), c = 0; c < e; c++) f[c] = b[d[c]];
            return f
        };
        z.pairs = function(b) {
            for (var d = z.keys(b), e = d.length, f = Array(e), c = 0; c < e; c++) f[c] = [d[c], b[d[c]]];
            return f
        };
        z.invert = function(b) {
            for (var d = {}, e = z.keys(b), f = 0, c = e.length; f < c; f++) d[b[e[f]]] = e[f];
            return d
        };
        z.functions = z.methods = function(b) {
            var d = [],
                e;
            for (e in b) z.isFunction(b[e]) &&
                d.push(e);
            return d.sort()
        };
        z.extend = function(b) {
            v(h.call(arguments, 1), function(d) {
                if (d)
                    for (var e in d) b[e] = d[e]
            });
            return b
        };
        z.pick = function(b) {
            var d = {},
                f = m.apply(e, h.call(arguments, 1));
            v(f, function(e) {
                e in b && (d[e] = b[e])
            });
            return d
        };
        z.omit = function(b) {
            var d = {},
                f = m.apply(e, h.call(arguments, 1)),
                c;
            for (c in b) z.contains(f, c) || (d[c] = b[c]);
            return d
        };
        z.defaults = function(b) {
            v(h.call(arguments, 1), function(d) {
                if (d)
                    for (var e in d) void 0 === b[e] && (b[e] = d[e])
            });
            return b
        };
        z.clone = function(b) {
            return !z.isObject(b) ?
                b : z.isArray(b) ? b.slice() : z.extend({}, b)
        };
        z.tap = function(b, d) {
            d(b);
            return b
        };
        var Y = function(b, d, e, f) {
            if (b === d) return 0 !== b || 1 / b == 1 / d;
            if (null == b || null == d) return b === d;
            b instanceof z && (b = b._wrapped);
            d instanceof z && (d = d._wrapped);
            var c = q.call(b);
            if (c != q.call(d)) return !1;
            switch (c) {
                case "[object String]":
                    return b == String(d);
                case "[object Number]":
                    return b != +b ? d != +d : 0 == b ? 1 / b == 1 / d : b == +d;
                case "[object Date]":
                case "[object Boolean]":
                    return +b == +d;
                case "[object RegExp]":
                    return b.source == d.source && b.global ==
                        d.global && b.multiline == d.multiline && b.ignoreCase == d.ignoreCase
            }
            if ("object" != typeof b || "object" != typeof d) return !1;
            for (var g = e.length; g--;)
                if (e[g] == b) return f[g] == d;
            var g = b.constructor,
                h = d.constructor;
            if (g !== h && (!z.isFunction(g) || !(g instanceof g && z.isFunction(h) && h instanceof h)) && "constructor" in b && "constructor" in d) return !1;
            e.push(b);
            f.push(d);
            g = 0;
            h = !0;
            if ("[object Array]" == c) {
                if (g = b.length, h = g == d.length)
                    for (; g-- && (h = Y(b[g], d[g], e, f)););
            } else {
                for (var m in b)
                    if (z.has(b, m) && (g++, !(h = z.has(d, m) && Y(b[m],
                        d[m], e, f)))) break;
                if (h) {
                    for (m in d)
                        if (z.has(d, m) && !g--) break;
                    h = !g
                }
            }
            e.pop();
            f.pop();
            return h
        };
        z.isEqual = function(b, d) {
            return Y(b, d, [], [])
        };
        z.isEmpty = function(b) {
            if (null == b) return !0;
            if (z.isArray(b) || z.isString(b)) return 0 === b.length;
            for (var d in b)
                if (z.has(b, d)) return !1;
            return !0
        };
        z.isElement = function(b) {
            return !!(b && 1 === b.nodeType)
        };
        z.isArray = g || function(b) {
            return "[object Array]" == q.call(b)
        };
        z.isObject = function(b) {
            return b === Object(b)
        };
        v("Arguments Function String Number Date RegExp".split(" "), function(b) {
            z["is" +
                b] = function(d) {
                return q.call(d) == "[object " + b + "]"
            }
        });
        z.isArguments(arguments) || (z.isArguments = function(b) {
            return !(!b || !z.has(b, "callee"))
        });
        "function" !== typeof / . / && (z.isFunction = function(b) {
            return "function" === typeof b
        });
        z.isFinite = function(b) {
            return isFinite(b) && !isNaN(parseFloat(b))
        };
        z.isNaN = function(b) {
            return z.isNumber(b) && b != +b
        };
        z.isBoolean = function(b) {
            return !0 === b || !1 === b || "[object Boolean]" == q.call(b)
        };
        z.isNull = function(b) {
            return null === b
        };
        z.isUndefined = function(b) {
            return void 0 === b
        };
        z.has =
            function(b, d) {
                return k.call(b, d)
            };
        z.noConflict = function() {
            c._ = b;
            return this
        };
        z.identity = function(b) {
            return b
        };
        z.constant = function(b) {
            return function() {
                return b
            }
        };
        z.property = function(b) {
            return function(d) {
                return d[b]
            }
        };
        z.matches = function(b) {
            return function(d) {
                if (d === b) return !0;
                for (var e in b)
                    if (b[e] !== d[e]) return !1;
                return !0
            }
        };
        z.times = function(b, d, e) {
            for (var f = Array(Math.max(0, b)), c = 0; c < b; c++) f[c] = d.call(e, c);
            return f
        };
        z.random = function(b, d) {
            null == d && (d = b, b = 0);
            return b + Math.floor(Math.random() * (d - b +
                1))
        };
        z.now = Date.now || function() {
            return (new Date).getTime()
        };
        var qa = {
            escape: {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;"
            }
        };
        qa.unescape = z.invert(qa.escape);
        var Oa = {
            escape: RegExp("[" + z.keys(qa.escape).join("") + "]", "g"),
            unescape: RegExp("(" + z.keys(qa.unescape).join("|") + ")", "g")
        };
        z.each(["escape", "unescape"], function(b) {
            z[b] = function(d) {
                return null == d ? "" : ("" + d).replace(Oa[b], function(d) {
                    return qa[b][d]
                })
            }
        });
        z.result = function(b, d) {
            if (null != b) {
                var e = b[d];
                return z.isFunction(e) ? e.call(b) :
                    e
            }
        };
        z.mixin = function(b) {
            v(z.functions(b), function(d) {
                var e = z[d] = b[d];
                z.prototype[d] = function() {
                    var b = [this._wrapped];
                    f.apply(b, arguments);
                    b = e.apply(z, b);
                    return this._chain ? z(b).chain() : b
                }
            })
        };
        var za = 0;
        z.uniqueId = function(b) {
            var d = ++za + "";
            return b ? b + d : d
        };
        z.templateSettings = {
            evaluate: /<%([\s\S]+?)%>/g,
            interpolate: /<%=([\s\S]+?)%>/g,
            escape: /<%-([\s\S]+?)%>/g
        };
        var F = /(.)^/,
            H = {
                "'": "'",
                "\\": "\\",
                "\r": "r",
                "\n": "n",
                "\t": "t",
                "\u2028": "u2028",
                "\u2029": "u2029"
            },
            K = /\\|'|\r|\n|\t|\u2028|\u2029/g;
        z.template = function(b,
            d, e) {
            var f;
            e = z.defaults({}, e, z.templateSettings);
            var c = RegExp([(e.escape || F).source, (e.interpolate || F).source, (e.evaluate || F).source].join("|") + "|$", "g"),
                g = 0,
                h = "__p+='";
            b.replace(c, function(d, e, f, c, m) {
                h += b.slice(g, m).replace(K, function(b) {
                    return "\\" + H[b]
                });
                e && (h += "'+\n((__t=(" + e + "))==null?'':_.escape(__t))+\n'");
                f && (h += "'+\n((__t=(" + f + "))==null?'':__t)+\n'");
                c && (h += "';\n" + c + "\n__p+='");
                g = m + d.length;
                return d
            });
            h += "';\n";
            e.variable || (h = "with(obj||{}){\n" + h + "}\n");
            h = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" +
                h + "return __p;\n";
            try {
                f = new Function(e.variable || "obj", "_", h)
            } catch (m) {
                throw m.source = h, m;
            }
            if (d) return f(d, z);
            d = function(b) {
                return f.call(this, b, z)
            };
            d.source = "function(" + (e.variable || "obj") + "){\n" + h + "}";
            return d
        };
        z.chain = function(b) {
            return z(b).chain()
        };
        z.mixin(z);
        v("pop push reverse shift sort splice unshift".split(" "), function(b) {
            var d = e[b];
            z.prototype[b] = function() {
                var e = this._wrapped;
                d.apply(e, arguments);
                ("shift" == b || "splice" == b) && 0 === e.length && delete e[0];
                return this._chain ? z(e).chain() : e
            }
        });
        v(["concat", "join", "slice"], function(b) {
            var d = e[b];
            z.prototype[b] = function() {
                var b = d.apply(this._wrapped, arguments);
                return this._chain ? z(b).chain() : b
            }
        });
        z.extend(z.prototype, {
            chain: function() {
                this._chain = !0;
                return this
            },
            value: function() {
                return this._wrapped
            }
        });
        "function" === typeof define && define.amd && define("underscore", [], function() {
            return z
        })
    }).call(this);
    (function() {
        var c = this,
            b = c.Backbone,
            d = [],
            e = d.push,
            g = d.slice,
            f = d.splice,
            h;
        h = "undefined" !== typeof exports ? exports : c.Backbone = {};
        h.VERSION = "0.9.10";
        var m = c._;
        !m && "undefined" !== typeof require && (m = require("underscore"));
        h.$ = c.jQuery || c.Zepto || c.ender;
        h.noConflict = function() {
            c.Backbone = b;
            return this
        };
        h.emulateHTTP = !1;
        h.emulateJSON = !1;
        var q = /\s+/,
            k = function(b, d, e, f) {
                if (!e) return !0;
                if ("object" === typeof e)
                    for (var c in e) b[d].apply(b, [c, e[c]].concat(f));
                else if (q.test(e)) {
                    e = e.split(q);
                    c = 0;
                    for (var g = e.length; c < g; c++) b[d].apply(b, [e[c]].concat(f))
                } else return !0
            },
            l = function(b, d) {
                var e, f = -1,
                    c = b.length;
                switch (d.length) {
                    case 0:
                        for (; ++f < c;)(e = b[f]).callback.call(e.ctx);
                        break;
                    case 1:
                        for (; ++f < c;)(e = b[f]).callback.call(e.ctx, d[0]);
                        break;
                    case 2:
                        for (; ++f < c;)(e = b[f]).callback.call(e.ctx, d[0], d[1]);
                        break;
                    case 3:
                        for (; ++f < c;)(e = b[f]).callback.call(e.ctx, d[0], d[1], d[2]);
                        break;
                    default:
                        for (; ++f < c;)(e = b[f]).callback.apply(e.ctx, d)
                }
            },
            d = h.Events = {
                on: function(b, d, e) {
                    if (!k(this, "on", b, [d, e]) || !d) return this;
                    this._events || (this._events = {});
                    (this._events[b] || (this._events[b] = [])).push({
                        callback: d,
                        context: e,
                        ctx: e || this
                    });
                    return this
                },
                once: function(b, d, e) {
                    if (!k(this, "once", b, [d, e]) ||
                        !d) return this;
                    var f = this,
                        c = m.once(function() {
                            f.off(b, c);
                            d.apply(this, arguments)
                        });
                    c._callback = d;
                    this.on(b, c, e);
                    return this
                },
                off: function(b, d, e) {
                    var f, c, g, h, q, l, E, w;
                    if (!this._events || !k(this, "off", b, [d, e])) return this;
                    if (!b && !d && !e) return this._events = {}, this;
                    h = b ? [b] : m.keys(this._events);
                    q = 0;
                    for (l = h.length; q < l; q++)
                        if (b = h[q], f = this._events[b]) {
                            g = [];
                            if (d || e) {
                                E = 0;
                                for (w = f.length; E < w; E++) c = f[E], (d && d !== c.callback && d !== c.callback._callback || e && e !== c.context) && g.push(c)
                            }
                            this._events[b] = g
                        }
                    return this
                },
                trigger: function(b) {
                    if (!this._events) return this;
                    var d = g.call(arguments, 1);
                    if (!k(this, "trigger", b, d)) return this;
                    var e = this._events[b],
                        f = this._events.all;
                    e && l(e, d);
                    f && l(f, arguments);
                    return this
                },
                listenTo: function(b, d, e) {
                    var f = this._listeners || (this._listeners = {}),
                        c = b._listenerId || (b._listenerId = m.uniqueId("l"));
                    f[c] = b;
                    b.on(d, "object" === typeof d ? this : e, this);
                    return this
                },
                stopListening: function(b, d, e) {
                    var f = this._listeners;
                    if (f) {
                        if (b) b.off(d, "object" === typeof d ? this : e, this), !d && !e && delete f[b._listenerId];
                        else {
                            "object" === typeof d && (e = this);
                            for (var c in f) f[c].off(d,
                                e, this);
                            this._listeners = {}
                        }
                        return this
                    }
                }
            };
        d.bind = d.on;
        d.unbind = d.off;
        m.extend(h, d);
        var I = h.Model = function(b, d) {
            var e, f = b || {};
            this.cid = m.uniqueId("c");
            this.attributes = {};
            d && d.collection && (this.collection = d.collection);
            d && d.parse && (f = this.parse(f, d) || {});
            if (e = m.result(this, "defaults")) f = m.defaults({}, f, e);
            this.set(f, d);
            this.changed = {};
            this.initialize.apply(this, arguments)
        };
        m.extend(I.prototype, d, {
            changed: null,
            idAttribute: "id",
            initialize: function() {},
            toJSON: function(b) {
                return m.clone(this.attributes)
            },
            sync: function() {
                return h.sync.apply(this, arguments)
            },
            get: function(b) {
                return this.attributes[b]
            },
            escape: function(b) {
                return m.escape(this.get(b))
            },
            has: function(b) {
                return null != this.get(b)
            },
            set: function(b, d, e) {
                var f, c, g, h, q, k, s;
                if (null == b) return this;
                "object" === typeof b ? (c = b, e = d) : (c = {})[b] = d;
                e || (e = {});
                if (!this._validate(c, e)) return !1;
                g = e.unset;
                h = e.silent;
                b = [];
                q = this._changing;
                this._changing = !0;
                q || (this._previousAttributes = m.clone(this.attributes), this.changed = {});
                s = this.attributes;
                k = this._previousAttributes;
                this.idAttribute in c && (this.id = c[this.idAttribute]);
                for (f in c) d = c[f], m.isEqual(s[f], d) || b.push(f), m.isEqual(k[f], d) ? delete this.changed[f] : this.changed[f] = d, g ? delete s[f] : s[f] = d;
                if (!h) {
                    b.length && (this._pending = !0);
                    d = 0;
                    for (f = b.length; d < f; d++) this.trigger("change:" + b[d], this, s[b[d]], e)
                }
                if (q) return this;
                if (!h)
                    for (; this._pending;) this._pending = !1, this.trigger("change", this, e);
                this._changing = this._pending = !1;
                return this
            },
            unset: function(b, d) {
                return this.set(b, void 0, m.extend({}, d, {
                    unset: !0
                }))
            },
            clear: function(b) {
                var d = {},
                    e;
                for (e in this.attributes) d[e] = void 0;
                return this.set(d, m.extend({}, b, {
                    unset: !0
                }))
            },
            hasChanged: function(b) {
                return null == b ? !m.isEmpty(this.changed) : m.has(this.changed, b)
            },
            changedAttributes: function(b) {
                if (!b) return this.hasChanged() ? m.clone(this.changed) : !1;
                var d, e = !1,
                    f = this._changing ? this._previousAttributes : this.attributes,
                    c;
                for (c in b)
                    if (!m.isEqual(f[c], d = b[c]))(e || (e = {}))[c] = d;
                return e
            },
            previous: function(b) {
                return null == b || !this._previousAttributes ? null : this._previousAttributes[b]
            },
            previousAttributes: function() {
                return m.clone(this._previousAttributes)
            },
            fetch: function(b) {
                b = b ? m.clone(b) : {};
                void 0 === b.parse && (b.parse = !0);
                var d = b.success;
                b.success = function(b, e, f) {
                    if (!b.set(b.parse(e, f), f)) return !1;
                    d && d(b, e, f)
                };
                return this.sync("read", this, b)
            },
            save: function(b, d, e) {
                var f, c, g = this.attributes;
                null == b || "object" === typeof b ? (f = b, e = d) : (f = {})[b] = d;
                if (f && (!e || !e.wait) && !this.set(f, e)) return !1;
                e = m.extend({
                    validate: !0
                }, e);
                if (!this._validate(f, e)) return !1;
                f && e.wait && (this.attributes = m.extend({}, g, f));
                void 0 === e.parse && (e.parse = !0);
                c = e.success;
                e.success = function(b,
                    d, e) {
                    b.attributes = g;
                    var h = b.parse(d, e);
                    e.wait && (h = m.extend(f || {}, h));
                    if (m.isObject(h) && !b.set(h, e)) return !1;
                    c && c(b, d, e)
                };
                b = this.isNew() ? "create" : e.patch ? "patch" : "update";
                "patch" === b && (e.attrs = f);
                b = this.sync(b, this, e);
                f && e.wait && (this.attributes = g);
                return b
            },
            destroy: function(b) {
                b = b ? m.clone(b) : {};
                var d = this,
                    e = b.success,
                    f = function() {
                        d.trigger("destroy", d, d.collection, b)
                    };
                b.success = function(b, d, c) {
                    (c.wait || b.isNew()) && f();
                    e && e(b, d, c)
                };
                if (this.isNew()) return b.success(this, null, b), !1;
                var c = this.sync("delete",
                    this, b);
                b.wait || f();
                return c
            },
            url: function() {
                var b = m.result(this, "urlRoot") || m.result(this.collection, "url") || D();
                return this.isNew() ? b : b + ("/" === b.charAt(b.length - 1) ? "" : "/") + encodeURIComponent(this.id)
            },
            parse: function(b, d) {
                return b
            },
            clone: function() {
                return new this.constructor(this.attributes)
            },
            isNew: function() {
                return null == this.id
            },
            isValid: function(b) {
                return !this.validate || !this.validate(this.attributes, b)
            },
            _validate: function(b, d) {
                if (!d.validate || !this.validate) return !0;
                b = m.extend({}, this.attributes,
                    b);
                var e = this.validationError = this.validate(b, d) || null;
                if (!e) return !0;
                this.trigger("invalid", this, e, d || {});
                return !1
            }
        });
        var T = h.Collection = function(b, d) {
            d || (d = {});
            d.model && (this.model = d.model);
            void 0 !== d.comparator && (this.comparator = d.comparator);
            this.models = [];
            this._reset();
            this.initialize.apply(this, arguments);
            b && this.reset(b, m.extend({
                silent: !0
            }, d))
        };
        m.extend(T.prototype, d, {
            model: I,
            initialize: function() {},
            toJSON: function(b) {
                return this.map(function(d) {
                    return d.toJSON(b)
                })
            },
            sync: function() {
                return h.sync.apply(this,
                    arguments)
            },
            add: function(b, d) {
                b = m.isArray(b) ? b.slice() : [b];
                d || (d = {});
                var c, g, h, q, k, s, l, E, w, G;
                l = [];
                E = d.at;
                w = this.comparator && null == E && !1 != d.sort;
                G = m.isString(this.comparator) ? this.comparator : null;
                c = 0;
                for (g = b.length; c < g; c++)(h = this._prepareModel(q = b[c], d)) ? (k = this.get(h)) ? d.merge && (k.set(q === h ? h.attributes : q, d), w && (!s && k.hasChanged(G)) && (s = !0)) : (l.push(h), h.on("all", this._onModelEvent, this), this._byId[h.cid] = h, null != h.id && (this._byId[h.id] = h)) : this.trigger("invalid", this, q, d);
                l.length && (w && (s = !0), this.length +=
                    l.length, null != E ? f.apply(this.models, [E, 0].concat(l)) : e.apply(this.models, l));
                s && this.sort({
                    silent: !0
                });
                if (d.silent) return this;
                c = 0;
                for (g = l.length; c < g; c++)(h = l[c]).trigger("add", h, this, d);
                s && this.trigger("sort", this, d);
                return this
            },
            remove: function(b, d) {
                b = m.isArray(b) ? b.slice() : [b];
                d || (d = {});
                var e, f, c, g;
                e = 0;
                for (f = b.length; e < f; e++)
                    if (g = this.get(b[e])) delete this._byId[g.id], delete this._byId[g.cid], c = this.indexOf(g), this.models.splice(c, 1), this.length--, d.silent || (d.index = c, g.trigger("remove", g, this,
                        d)), this._removeReference(g);
                return this
            },
            push: function(b, d) {
                b = this._prepareModel(b, d);
                this.add(b, m.extend({
                    at: this.length
                }, d));
                return b
            },
            pop: function(b) {
                var d = this.at(this.length - 1);
                this.remove(d, b);
                return d
            },
            unshift: function(b, d) {
                b = this._prepareModel(b, d);
                this.add(b, m.extend({
                    at: 0
                }, d));
                return b
            },
            shift: function(b) {
                var d = this.at(0);
                this.remove(d, b);
                return d
            },
            slice: function(b, d) {
                return this.models.slice(b, d)
            },
            get: function(b) {
                if (null != b) return this._idAttr || (this._idAttr = this.model.prototype.idAttribute),
                    this._byId[b.id || b.cid || b[this._idAttr] || b]
            },
            at: function(b) {
                return this.models[b]
            },
            where: function(b) {
                return m.isEmpty(b) ? [] : this.filter(function(d) {
                    for (var e in b)
                        if (b[e] !== d.get(e)) return !1;
                    return !0
                })
            },
            sort: function(b) {
                if (!this.comparator) throw Error("Cannot sort a set without a comparator");
                b || (b = {});
                m.isString(this.comparator) || 1 === this.comparator.length ? this.models = this.sortBy(this.comparator, this) : this.models.sort(m.bind(this.comparator, this));
                b.silent || this.trigger("sort", this, b);
                return this
            },
            pluck: function(b) {
                return m.invoke(this.models, "get", b)
            },
            update: function(b, d) {
                d = m.extend({
                    add: !0,
                    merge: !0,
                    remove: !0
                }, d);
                d.parse && (b = this.parse(b, d));
                var e, f, c, g, h = [],
                    q = [],
                    k = {};
                m.isArray(b) || (b = b ? [b] : []);
                if (d.add && !d.remove) return this.add(b, d);
                f = 0;
                for (c = b.length; f < c; f++) e = b[f], g = this.get(e), d.remove && g && (k[g.cid] = !0), (d.add && !g || d.merge && g) && h.push(e);
                if (d.remove) {
                    f = 0;
                    for (c = this.models.length; f < c; f++) e = this.models[f], k[e.cid] || q.push(e)
                }
                q.length && this.remove(q, d);
                h.length && this.add(h, d);
                return this
            },
            reset: function(b, d) {
                d || (d = {});
                d.parse && (b = this.parse(b, d));
                for (var e = 0, f = this.models.length; e < f; e++) this._removeReference(this.models[e]);
                d.previousModels = this.models.slice();
                this._reset();
                b && this.add(b, m.extend({
                    silent: !0
                }, d));
                d.silent || this.trigger("reset", this, d);
                return this
            },
            fetch: function(b) {
                b = b ? m.clone(b) : {};
                void 0 === b.parse && (b.parse = !0);
                var d = b.success;
                b.success = function(b, e, f) {
                    b[f.update ? "update" : "reset"](e, f);
                    d && d(b, e, f)
                };
                return this.sync("read", this, b)
            },
            create: function(b, d) {
                d = d ? m.clone(d) : {};
                if (!(b = this._prepareModel(b, d))) return !1;
                d.wait || this.add(b, d);
                var e = this,
                    f = d.success;
                d.success = function(b, d, c) {
                    c.wait && e.add(b, c);
                    f && f(b, d, c)
                };
                b.save(null, d);
                return b
            },
            parse: function(b, d) {
                return b
            },
            clone: function() {
                return new this.constructor(this.models)
            },
            _reset: function() {
                this.length = 0;
                this.models.length = 0;
                this._byId = {}
            },
            _prepareModel: function(b, d) {
                if (b instanceof I) return b.collection || (b.collection = this), b;
                d || (d = {});
                d.collection = this;
                var e = new this.model(b, d);
                return !e._validate(b, d) ? !1 : e
            },
            _removeReference: function(b) {
                this === b.collection && delete b.collection;
                b.off("all", this._onModelEvent, this)
            },
            _onModelEvent: function(b, d, e, f) {
                ("add" === b || "remove" === b) && e !== this || ("destroy" === b && this.remove(d, f), d && b === "change:" + d.idAttribute && (delete this._byId[d.previous(d.idAttribute)], null != d.id && (this._byId[d.id] = d)), this.trigger.apply(this, arguments))
            },
            sortedIndex: function(b, d, e) {
                d || (d = this.comparator);
                var f = m.isFunction(d) ? d : function(b) {
                    return b.get(d)
                };
                return m.sortedIndex(this.models, b, f, e)
            }
        });
        m.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "), function(b) {
            T.prototype[b] = function() {
                var d = g.call(arguments);
                d.unshift(this.models);
                return m[b].apply(m, d)
            }
        });
        m.each(["groupBy", "countBy", "sortBy"], function(b) {
            T.prototype[b] = function(d, e) {
                var f = m.isFunction(d) ? d : function(b) {
                    return b.get(d)
                };
                return m[b](this.models, f, e)
            }
        });
        var C = h.Router = function(b) {
                b || (b = {});
                b.routes && (this.routes = b.routes);
                this._bindRoutes();
                this.initialize.apply(this, arguments)
            },
            G = /\((.*?)\)/g,
            E = /(\(\?)?:\w+/g,
            N = /\*\w+/g,
            J = /[\-{}\[\]+?.,\\\^$|#\s]/g;
        m.extend(C.prototype, d, {
            initialize: function() {},
            route: function(b, d, e) {
                m.isRegExp(b) || (b = this._routeToRegExp(b));
                e || (e = this[d]);
                h.history.route(b, m.bind(function(f) {
                    f = this._extractParameters(b, f);
                    e && e.apply(this, f);
                    this.trigger.apply(this, ["route:" + d].concat(f));
                    this.trigger("route",
                        d, f);
                    h.history.trigger("route", this, d, f)
                }, this));
                return this
            },
            navigate: function(b, d) {
                h.history.navigate(b, d);
                return this
            },
            _bindRoutes: function() {
                if (this.routes)
                    for (var b, d = m.keys(this.routes); null != (b = d.pop());) this.route(b, this.routes[b])
            },
            _routeToRegExp: function(b) {
                b = b.replace(J, "\\$&").replace(G, "(?:$1)?").replace(E, function(b, d) {
                    return d ? b : "([^/]+)"
                }).replace(N, "(.*?)");
                return RegExp("^" + b + "$")
            },
            _extractParameters: function(b, d) {
                return b.exec(d).slice(1)
            }
        });
        var R = h.History = function() {
                this.handlers = [];
                m.bindAll(this, "checkUrl");
                "undefined" !== typeof window && (this.location = window.location, this.history = window.history)
            },
            n = /^[#\/]|\s+$/g,
            t = /^\/+|\/+$/g,
            z = /msie [\w.]+/,
            v = /\/$/;
        R.started = !1;
        m.extend(R.prototype, d, {
            interval: 50,
            getHash: function(b) {
                return (b = (b || this).location.href.match(/#(.*)$/)) ? b[1] : ""
            },
            getFragment: function(b, d) {
                if (null == b)
                    if (this._hasPushState || !this._wantsHashChange || d) {
                        b = this.location.pathname;
                        var e = this.root.replace(v, "");
                        b.indexOf(e) || (b = b.substr(e.length))
                    } else b = this.getHash();
                return b.replace(n, "")
            },
            start: function(b) {
                if (R.started) throw Error("Backbone.history has already been started");
                R.started = !0;
                this.options = m.extend({}, {
                    root: "/"
                }, this.options, b);
                this.root = this.options.root;
                this._wantsHashChange = !1 !== this.options.hashChange;
                this._wantsPushState = !!this.options.pushState;
                this._hasPushState = !(!this.options.pushState || !this.history || !this.history.pushState);
                b = this.getFragment();
                var d = document.documentMode,
                    d = z.exec(navigator.userAgent.toLowerCase()) && (!d || 7 >= d);
                this.root =
                    ("/" + this.root + "/").replace(t, "/");
                d && this._wantsHashChange && (this.iframe = h.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow, this.navigate(b));
                if (this._hasPushState) h.$(window).on("popstate", this.checkUrl);
                else if (this._wantsHashChange && "onhashchange" in window && !d) h.$(window).on("hashchange", this.checkUrl);
                else this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval));
                this.fragment = b;
                b = this.location;
                d = b.pathname.replace(/[^\/]$/,
                    "$&/") === this.root;
                if (this._wantsHashChange && this._wantsPushState && !this._hasPushState && !d) return this.fragment = this.getFragment(null, !0), this.location.replace(this.root + this.location.search + "#" + this.fragment), !0;
                this._wantsPushState && (this._hasPushState && d && b.hash) && (this.fragment = this.getHash().replace(n, ""), this.history.replaceState({}, document.title, this.root + this.fragment + b.search));
                if (!this.options.silent) return this.loadUrl()
            },
            stop: function() {
                h.$(window).off("popstate", this.checkUrl).off("hashchange",
                    this.checkUrl);
                clearInterval(this._checkUrlInterval);
                R.started = !1
            },
            route: function(b, d) {
                this.handlers.unshift({
                    route: b,
                    callback: d
                })
            },
            checkUrl: function(b) {
                b = this.getFragment();
                b === this.fragment && this.iframe && (b = this.getFragment(this.getHash(this.iframe)));
                if (b === this.fragment) return !1;
                this.iframe && this.navigate(b);
                this.loadUrl() || this.loadUrl(this.getHash())
            },
            loadUrl: function(b) {
                var d = this.fragment = this.getFragment(b);
                return m.any(this.handlers, function(b) {
                    if (b.route.test(d)) return b.callback(d), !0
                })
            },
            navigate: function(b, d) {
                if (!R.started) return !1;
                if (!d || !0 === d) d = {
                    trigger: d
                };
                b = this.getFragment(b || "");
                if (this.fragment !== b) {
                    this.fragment = b;
                    var e = this.root + b;
                    if (this._hasPushState) this.history[d.replace ? "replaceState" : "pushState"]({}, document.title, e);
                    else if (this._wantsHashChange) this._updateHash(this.location, b, d.replace), this.iframe && b !== this.getFragment(this.getHash(this.iframe)) && (d.replace || this.iframe.document.open().close(), this._updateHash(this.iframe.location, b, d.replace));
                    else return this.location.assign(e);
                    d.trigger && this.loadUrl(b)
                }
            },
            _updateHash: function(b, d, e) {
                e ? (e = b.href.replace(/(javascript:|#).*$/, ""), b.replace(e + "#" + d)) : b.hash = "#" + d
            }
        });
        h.history = new R;
        var x = h.View = function(b) {
                this.cid = m.uniqueId("view");
                this._configure(b || {});
                this._ensureElement();
                this.initialize.apply(this, arguments);
                this.delegateEvents()
            },
            y = /^(\S+)\s*(.*)$/,
            A = "model collection el id attributes className tagName events".split(" ");
        m.extend(x.prototype, d, {
            tagName: "div",
            $: function(b) {
                return this.$el.find(b)
            },
            initialize: function() {},
            render: function() {
                return this
            },
            remove: function() {
                this.$el.remove();
                this.stopListening();
                return this
            },
            setElement: function(b, d) {
                this.$el && this.undelegateEvents();
                this.$el = b instanceof h.$ ? b : h.$(b);
                this.el = this.$el[0];
                !1 !== d && this.delegateEvents();
                return this
            },
            delegateEvents: function(b) {
                if (b || (b = m.result(this, "events"))) {
                    this.undelegateEvents();
                    for (var d in b) {
                        var e = b[d];
                        m.isFunction(e) || (e = this[b[d]]);
                        if (!e) throw Error('Method "' + b[d] + '" does not exist');
                        var f = d.match(y),
                            c = f[1],
                            f = f[2],
                            e = m.bind(e, this),
                            c = c + (".delegateEvents" + this.cid);
                        if ("" === f) this.$el.on(c, e);
                        else this.$el.on(c, f, e)
                    }
                }
            },
            undelegateEvents: function() {
                this.$el.off(".delegateEvents" + this.cid)
            },
            _configure: function(b) {
                this.options && (b = m.extend({}, m.result(this, "options"), b));
                m.extend(this, m.pick(b, A));
                this.options = b
            },
            _ensureElement: function() {
                if (this.el) this.setElement(m.result(this, "el"), !1);
                else {
                    var b = m.extend({}, m.result(this, "attributes"));
                    this.id && (b.id = m.result(this, "id"));
                    this.className && (b["class"] = m.result(this, "className"));
                    b = h.$("<" + m.result(this, "tagName") + ">").attr(b);
                    this.setElement(b, !1)
                }
            }
        });
        var B = {
            create: "POST",
            update: "PUT",
            patch: "PATCH",
            "delete": "DELETE",
            read: "GET"
        };
        h.prepareData = function(b, d, e) {
            return "create" == b || "update" == b || "patch" == b ? JSON.stringify(d.toJSON(e)) : null
        };
        h.sync = function(b, d, e) {
            var f = B[b];
            m.defaults(e || (e = {}), {
                emulateHTTP: h.emulateHTTP,
                emulateJSON: h.emulateJSON
            });
            var c = {
                type: f,
                dataType: "json"
            };
            e.url || (c.url = m.result(d, "url") || D());
            null == e.data && d && (c.contentType = "application/json", c.data = h.prepareData(b,
                d, e));
            e.emulateJSON && (c.contentType = "application/x-www-form-urlencoded", c.data = c.data ? {
                model: c.data
            } : {});
            if (e.emulateHTTP && ("PUT" === f || "DELETE" === f || "PATCH" === f)) {
                c.type = "POST";
                e.emulateJSON && (c.data._method = f);
                var g = e.beforeSend;
                e.beforeSend = function(b) {
                    b.setRequestHeader("X-HTTP-Method-Override", f);
                    if (g) return g.apply(this, arguments)
                }
            }
            "GET" !== c.type && !e.emulateJSON && (c.processData = !1);
            var q = e.success;
            e.success = function(b) {
                q && q(d, b, e);
                d.trigger("sync", d, b, e)
            };
            var k = e.error;
            e.error = function(b) {
                k &&
                    k(d, b, e);
                d.trigger("error", d, b, e)
            };
            b = e.xhr = h.ajax(m.extend(c, e));
            d.trigger("request", d, b, e);
            return b
        };
        h.ajax = function() {
            return h.$.ajax.apply(h.$, arguments)
        };
        I.extend = T.extend = C.extend = x.extend = R.extend = function(b, d) {
            var e = this,
                f;
            f = b && m.has(b, "constructor") ? b.constructor : function() {
                return e.apply(this, arguments)
            };
            m.extend(f, e, d);
            var c = function() {
                this.constructor = f
            };
            c.prototype = e.prototype;
            f.prototype = new c;
            b && m.extend(f.prototype, b);
            f.__super__ = e.prototype;
            return f
        };
        var D = function() {
            throw Error('A "url" property or function must be specified');
        }
    }).call(this);
    var ze = {};
    (function(c, b) {
        function d(b) {
            return String(null === b || void 0 === b ? "" : b)
        }
        c.Template = function(d, e, f, c) {
            this.r = d || this.r;
            this.c = f;
            this.options = c;
            this.text = e || "";
            this.buf = b ? [] : ""
        };
        c.Template.prototype = {
            r: function(b, d, e) {
                return ""
            },
            v: function(b) {
                b = d(b);
                return q.test(b) ? b.replace(e, "&amp;").replace(g, "&lt;").replace(f, "&gt;").replace(h, "&#39;").replace(m, "&quot;") : b
            },
            t: d,
            render: function(b, d, e) {
                return this.ri([b], d || {}, e)
            },
            ri: function(b, d, e) {
                return this.r(b, d, e)
            },
            rp: function(b, d, e,
                f) {
                b = e[b];
                if (!b) return "";
                this.c && "string" == typeof b && (b = this.c.compile(b, this.options));
                return b.ri(d, e, f)
            },
            rs: function(b, d, e) {
                var f = b[b.length - 1];
                if (k(f))
                    for (var c = 0; c < f.length; c++) b.push(f[c]), e(b, d, this), b.pop();
                else e(b, d, this)
            },
            s: function(b, d, e, f, c, g, h) {
                if (k(b) && 0 === b.length) return !1;
                "function" == typeof b && (b = this.ls(b, d, e, f, c, g, h));
                e = !!b;
                !f && (e && d) && d.push("object" == typeof b ? b : d[d.length - 1]);
                return e
            },
            d: function(b, d, e, f) {
                var c = b.split("."),
                    g = this.f(c[0], d, e, f),
                    h = null;
                if ("." === b && k(d[d.length -
                    2])) return d[d.length - 1];
                for (b = 1; b < c.length; b++) g && "object" == typeof g && c[b] in g ? (h = g, g = g[c[b]]) : g = "";
                if (f && !g) return !1;
                !f && "function" == typeof g && (d.push(h), g = this.lv(g, d, e), d.pop());
                return g
            },
            f: function(b, d, e, f) {
                for (var c = !1, g = null, h = !1, m = d.length - 1; 0 <= m; m--)
                    if ((g = d[m]) && "object" == typeof g && b in g) {
                        c = g[b];
                        h = !0;
                        break
                    }
                if (!h) return f ? !1 : "";
                !f && "function" == typeof c && (c = this.lv(c, d, e));
                return c
            },
            ho: function(b, d, e, f, c) {
                var g = this.c;
                b = b.call(d, f, function(b) {
                    return g.compile(b, {
                        delimiters: c
                    }).render(d, e)
                });
                this.b(g.compile(b.toString(), {
                    delimiters: c
                }).render(d, e));
                return !1
            },
            b: b ? function(b) {
                this.buf.push(b)
            } : function(b) {
                this.buf += b
            },
            fl: b ? function() {
                var b = this.buf.join("");
                this.buf = [];
                return b
            } : function() {
                var b = this.buf;
                this.buf = "";
                return b
            },
            ls: function(b, d, e, f, c, g, h) {
                d = d[d.length - 1];
                var m = null;
                if (!f && this.c && 0 < b.length) return this.ho(b, d, e, this.text.substring(c, g), h);
                m = b.call(d);
                if ("function" == typeof m) {
                    if (f) return !0;
                    if (this.c) return this.ho(m, d, e, this.text.substring(c, g), h)
                }
                return m
            },
            lv: function(b,
                d, e) {
                d = d[d.length - 1];
                b = b.call(d);
                "function" == typeof b && (b = b.call(d));
                b = b.toString();
                return this.c && ~b.indexOf("{{") ? this.c.compile(b).render(d, e) : b
            }
        };
        var e = /&/g,
            g = /</g,
            f = />/g,
            h = /\'/g,
            m = /\"/g,
            q = /[&<>\"\']/,
            k = Array.isArray || function(b) {
                return "[object Array]" === Object.prototype.toString.call(b)
            }
    })("undefined" !== typeof exports ? exports : ze);
    var Zc;
    "undefined" === typeof exports ? (window.markdown = {}, Zc = window.markdown) : Zc = exports;
    (function(c) {
        function b(b) {
            for (var d = 0, e = -1; - 1 != (e = b.indexOf("\n", e + 1));) d++;
            return d
        }

        function d(b, d) {
            function e(b) {
                this.len_after = b;
                this.name = "close_" + d
            }
            var f = b + "_state",
                c = "strong" == b ? "em_state" : "strong_state";
            return function(g, h) {
                if (this[f][0] == d) return this[f].shift(), [g.length, new e(g.length - d.length)];
                var m = this[c].slice(),
                    q = this[f].slice();
                this[f].unshift(d);
                var k = this.processInline(g.substr(d.length)),
                    s = k[k.length - 1];
                this[f].shift();
                if (s instanceof e) return k.pop(), [g.length - s.len_after, [b].concat(k)];
                this[c] = m;
                this[f] = q;
                return [d.length, d]
            }
        }

        function e(b) {
            return I(b) &&
                1 < b.length && "object" === typeof b[1] && !I(b[1]) ? b[1] : void 0
        }

        function g(b) {
            var d = b.split("");
            b = [""];
            for (var e = !1; d.length;) {
                var f = d.shift();
                switch (f) {
                    case " ":
                        e ? b[b.length - 1] += f : b.push("");
                        break;
                    case "'":
                    case '"':
                        e = !e;
                        break;
                    case "\\":
                        f = d.shift();
                    default:
                        b[b.length - 1] += f
                }
            }
            d = {};
            for (e = 0; e < b.length; ++e) /^#/.test(b[e]) ? d.id = b[e].substring(1) : /^\./.test(b[e]) ? d["class"] = d["class"] ? d["class"] + b[e].replace(/./, " ") : b[e].substring(1) : /=/.test(b[e]) && (f = b[e].split(/=/), d[f[0]] = f[1]);
            return d
        }

        function f(b) {
            return b.replace(/&/g,
                "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;")
        }

        function h(b) {
            if ("string" === typeof b) return f(b);
            var d = b.shift(),
                e = {},
                c = [];
            for (b.length && ("object" === typeof b[0] && !(b[0] instanceof Array)) && (e = b.shift()); b.length;) c.push(arguments.callee(b.shift()));
            var g = "",
                h;
            for (h in e) var m = "",
                m = ("href" == h || "src" == h) && !/^(\/|(https?|ftp):\/\/|mailto:)/.test(e[h]) ? "#" : e[h],
                g = g + (" " + h + '="' + f(m) + '"');
            return "br" == d ? "<" + d + g + " />" : "<" + d + g + ">" + c.join("") + "</" + d + ">"
        }

        function m(b,
            d, f) {
            f = f || {};
            var c = b.slice(0);
            "function" === typeof f.preprocessTreeNode && (c = f.preprocessTreeNode(c, d));
            var g = e(c);
            if (g) {
                c[1] = {};
                for (var h in g) c[1][h] = g[h];
                g = c[1]
            }
            if ("string" === typeof c) return c;
            switch (c[0]) {
                case "header":
                    c[0] = "h" + c[1].level;
                    delete c[1].level;
                    break;
                case "bulletlist":
                    c[0] = "ul";
                    break;
                case "numberlist":
                    c[0] = "ol";
                    break;
                case "listitem":
                    c[0] = "li";
                    break;
                case "para":
                    c[0] = "p";
                    break;
                case "markdown":
                    c[0] = "html";
                    g && delete g.references;
                    break;
                case "code_block":
                    c[0] = "pre";
                    h = g ? 2 : 1;
                    var m = ["code"];
                    m.push.apply(m, c.splice(h));
                    c[h] = m;
                    break;
                case "inlinecode":
                    c[0] = "code";
                    break;
                case "img":
                    c[1].src = c[1].href;
                    delete c[1].href;
                    break;
                case "linebreak":
                    c[0] = "br";
                    break;
                case "link":
                    c[0] = "a";
                    break;
                case "link_ref":
                    if (c[0] = "a", h = d[g.ref]) delete g.ref, g.href = h.href, h.title && (g.title = h.title), delete g.original;
                    else return g.original
            }
            h = 1;
            if (g) {
                for (var q in c[1]) h = 2;
                1 === h && c.splice(h, 1)
            }
            for (; h < c.length; ++h) c[h] = arguments.callee(c[h], d, f);
            return c
        }

        function q(b) {
            for (var d = e(b) ? 2 : 1; d < b.length;) "string" === typeof b[d] ?
                d + 1 < b.length && "string" === typeof b[d + 1] ? b[d] += b.splice(d + 1, 1)[0] : ++d : (arguments.callee(b[d]), ++d)
        }
        var k = c.Markdown = function C(b) {
            switch (typeof b) {
                case "undefined":
                    this.dialect = C.dialects.Gruber;
                    break;
                case "object":
                    this.dialect = b;
                    break;
                default:
                    if (b in C.dialects) this.dialect = C.dialects[b];
                    else throw Error("Unknown Markdown dialect '" + String(b) + "'");
            }
            this.em_state = [];
            this.strong_state = [];
            this.debug_indent = ""
        };
        c.parse = function(b, d, e) {
            d = new k(d);
            d.options = e;
            return d.toTree(b)
        };
        c.toHTML = function(b, d, e) {
            b =
                c.toHTMLTree(b, d, e);
            return c.renderJsonML(b)
        };
        c.toHTMLTree = function(b, d, f) {
            "string" === typeof b && (b = this.parse(b, d, f));
            d = e(b);
            var c = {};
            d && d.references && (c = d.references);
            b = m(b, c, f);
            q(b);
            return b
        };
        var l = k.mk_block = function(b, d, e) {
            1 == arguments.length && (d = "\n\n");
            var f = new String(b);
            f.trailing = d;
            f.toSource = function() {
                return "Markdown.mk_block( " + uneval(b) + ", " + uneval(d) + ", " + uneval(e) + " )"
            };
            void 0 != e && (f.lineNumber = e);
            return f
        };
        k.prototype.split_blocks = function(d, e) {
            var f = /([\s\S]+?)($|\n(?:\s*\n|$)+)/g,
                c = [],
                g, h = 1;
            if (null != (g = /^(\s*\n)/.exec(d))) h += b(g[0]), f.lastIndex = g[0].length;
            for (; null != (g = f.exec(d));) c.push(l(g[1], g[2], h)), h += b(g[0]);
            return c
        };
        k.prototype.processBlock = function(b, d) {
            var e = this.dialect.block,
                f = e.__order__;
            if ("__call__" in e) return e.__call__.call(this, b, d);
            for (var c = 0; c < f.length; c++) {
                var g = e[f[c]].call(this, b, d);
                if (g) return (!I(g) || 0 < g.length && !I(g[0])) && this.debug(f[c], "didn't return a proper array"), g
            }
            return []
        };
        k.prototype.processInline = function(b) {
            return this.dialect.inline.__call__.call(this,
                String(b))
        };
        k.prototype.toTree = function(b, d) {
            var e = b instanceof Array ? b : this.split_blocks(b),
                f = this.tree;
            try {
                this.tree = d || this.tree || ["markdown"];
                a: for (; e.length;) {
                    var c = this.processBlock(e.shift(), e);
                    if (!c.length) continue a;
                    this.tree.push.apply(this.tree, c)
                }
                return this.tree
            } finally {
                d && (this.tree = f)
            }
        };
        k.prototype.debug = function() {
            var b = Array.prototype.slice.call(arguments);
            b.unshift(this.debug_indent);
            "undefined" !== typeof print && print.apply(print, b);
            "undefined" !== typeof console && "undefined" !== typeof console.log &&
                console.log.apply(null, b)
        };
        k.prototype.loop_re_over_block = function(b, d, e) {
            var f;
            for (d = d.valueOf(); d.length && null != (f = b.exec(d));) d = d.substr(f[0].length), e.call(this, f);
            return d
        };
        k.dialects = {};
        k.dialects.Gruber = {
            block: {
                processBlock: function() {
                    return null
                },
                atxHeader: function(b, d) {
                    var e = b.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);
                    if (e) {
                        var f = ["header", {
                            level: e[1].length
                        }];
                        Array.prototype.push.apply(f, this.processInline(e[2]));
                        e[0].length < b.length && d.unshift(l(b.substr(e[0].length), b.trailing, b.lineNumber +
                            2));
                        return [f]
                    }
                },
                setextHeader: function(b, d) {
                    var e = b.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);
                    if (e) {
                        var f = ["header", {
                                level: "=" === e[2] ? 1 : 2
                            },
                            e[1]
                        ];
                        e[0].length < b.length && d.unshift(l(b.substr(e[0].length), b.trailing, b.lineNumber + 2));
                        return [f]
                    }
                },
                code: function(b, d) {
                    var e = [],
                        f = /^(?: {0,3}\t| {4})(.*)\n?/,
                        c = b.match(f);
                    if (c) {
                        a: do
                            if (c = this.loop_re_over_block(f, b.valueOf(), function(b) {
                                e.push(b[1])
                            }), c.length) {
                                d.unshift(l(c, b.trailing));
                                break a
                            } elseif (d.length) {
                            c = d[0].match(f);
                            if (!c) break a;
                            e.push(b.trailing.replace(/[^\n]/g,
                                "").substring(2));
                            b = d.shift()
                        } else break a;
                        while (1);
                        return [
                            ["code_block", e.join("\n")]
                        ]
                    }
                },
                horizRule: function(b, d) {
                    var e = b.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);
                    if (e) {
                        var f = [
                            ["hr"]
                        ];
                        e[1] && f.unshift.apply(f, this.processBlock(e[1], []));
                        e[3] && d.unshift(l(e[3]));
                        return f
                    }
                },
                lists: function() {
                    function b(d, e, f, c) {
                        if (e) d.push(["para"].concat(f));
                        else {
                            e = d[d.length - 1] instanceof Array && "para" == d[d.length - 1][0] ? d[d.length - 1] : d;
                            c && 1 < d.length && f.unshift(c);
                            for (d = 0; d < f.length; d++) c =
                                f[d], "string" == typeof c && 1 < e.length && "string" == typeof e[e.length - 1] ? e[e.length - 1] += c : e.push(c)
                        }
                    }

                    function d(b, e) {
                        for (var f = RegExp("^(" + g + "{" + b + "}.*?\\n?)*$"), c = RegExp("^" + g + "{" + b + "}", "gm"), h = []; 0 < e.length;) {
                            f.exec(e[0]) && (f = e.shift(), c = f.replace(c, ""), h.push(l(c, f.trailing, f.lineNumber)));
                            break
                        }
                        return h
                    }

                    function e(b, d, f) {
                        b = b.list;
                        b = b[b.length - 1];
                        b[1] instanceof Array && "para" == b[1][0] || (d + 1 == f.length ? b.push(["para"].concat(b.splice(1))) : (d = b.pop(), b.push(["para"].concat(b.splice(1)), d)))
                    }
                    var f = /[*+-]/,
                        c = /^( {0,3})([*+-]|\d\.)[ \t]+/,
                        g = "(?: {0,3}\\t| {4})";
                    return function(h, m) {
                        function q(b) {
                            var d = f.exec(b[2]) ? ["bulletlist"] : ["numberlist"];
                            s.push({
                                list: d,
                                indent: b[1]
                            });
                            return d
                        }
                        var k = h.match(c);
                        if (k) {
                            var s = [],
                                l = q(k),
                                w, I = !1,
                                n = [s[0].list];
                            a: for (;;) {
                                var t = h.split(/(?=\n)/),
                                    v = "",
                                    x = 0;
                                for (; x < t.length; x++) {
                                    var y = "",
                                        A = t[x].replace(/^\n/, function(b) {
                                            y = b;
                                            return ""
                                        }),
                                        k = A.match(RegExp("(?:^(" + g + "{0," + s.length + "} {0,3})([*+-]|\\d\\.)\\s+)|(^" + g + "{0," + (s.length - 1) + "}[ ]{0,4})"));
                                    if (void 0 !== k[1]) {
                                        v.length && (b(w,
                                            I, this.processInline(v), y), I = !1, v = "");
                                        k[1] = k[1].replace(/ {0,3}\t/g, "    ");
                                        var B = Math.floor(k[1].length / 4) + 1;
                                        B > s.length ? (l = q(k), w.push(l), w = l[1] = ["listitem"]) : (s.some(function(b, d) {
                                            if (b.indent != k[1]) return !1;
                                            l = b.list;
                                            s.splice(d + 1);
                                            return !0
                                        }) || (B++, B <= s.length ? (s.splice(B), l = s[B - 1].list) : (l = q(k), w.push(l))), w = ["listitem"], l.push(w));
                                        y = ""
                                    }
                                    A.length > k[0].length && (v += y + A.substr(k[0].length))
                                }
                                v.length && (b(w, I, this.processInline(v), y), I = !1, v = "");
                                I = d(s.length, m);
                                0 < I.length && (s.forEach(e, this), w.push.apply(w,
                                    this.toTree(I, [])));
                                I = m[0] && m[0].valueOf() || "";
                                if (I.match(c) || I.match(/^ /)) {
                                    h = m.shift();
                                    if (I = this.dialect.block.horizRule(h, m)) {
                                        n.push.apply(n, I);
                                        break
                                    }
                                    s.forEach(e, this);
                                    I = !0;
                                    continue a
                                }
                                break
                            }
                            return n
                        }
                    }
                }(),
                blockquote: function(b, d) {
                    if (b.match(/^>/m)) {
                        var e = [];
                        if (">" != b[0]) {
                            for (var f = b.split(/\n/), c = []; f.length && ">" != f[0][0];) c.push(f.shift());
                            b = f.join("\n");
                            e.push.apply(e, this.processBlock(c.join("\n"), []))
                        }
                        for (; d.length && ">" == d[0][0];) f = d.shift(), b += b.trailing + f, b.trailing = f.trailing;
                        f = b.replace(/^> ?/gm,
                            "");
                        e.push(this.toTree(f, ["blockquote"]));
                        return e
                    }
                },
                referenceDefn: function(b, d) {
                    var f = /^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;
                    if (b.match(f)) {
                        e(this.tree) || this.tree.splice(1, 0, {});
                        var c = e(this.tree);
                        void 0 === c.references && (c.references = {});
                        f = this.loop_re_over_block(f, b, function(b) {
                            b[2] && ("<" == b[2][0] && ">" == b[2][b[2].length - 1]) && (b[2] = b[2].substring(1, b[2].length - 1));
                            var d = c.references[b[1].toLowerCase()] = {
                                href: b[2]
                            };
                            void 0 !== b[4] ? d.title = b[4] : void 0 !== b[5] && (d.title = b[5])
                        });
                        f.length && d.unshift(l(f, b.trailing));
                        return []
                    }
                },
                para: function(b, d) {
                    return [
                        ["para"].concat(this.processInline(b))
                    ]
                }
            }
        };
        k.dialects.Gruber.inline = {
            __call__: function(b, d) {
                function e(b) {
                    "string" == typeof b && "string" == typeof f[f.length - 1] ? f[f.length - 1] += b : f.push(b)
                }
                for (var f = [], c, g = RegExp("([\\s\\S]*?)(" + (d.source || d) + ")", "g"), h = 0; null != (c = g.exec(b));) {
                    c[1] ? e(c[1]) : c[1] = {
                        length: 0
                    };
                    var m;
                    c[2] in this.dialect.inline && (m = this.dialect.inline[c[2]].call(this, b.substr(c.index + c[1].length), c, f));
                    m = m || [c[2].length,
                        c[2]
                    ];
                    h = m.shift();
                    g.lastIndex += h - c[2].length;
                    m.forEach(e);
                    h = g.lastIndex
                }
                b.length > h && e(b.substr(h));
                return f
            },
            "\\": function(b) {
                return b.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/) ? [2, b[1]] : [1, "\\"]
            },
            "![": function(b) {
                var d = b.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);
                return d ? (d[2] && ("<" == d[2][0] && ">" == d[2][d[2].length - 1]) && (d[2] = d[2].substring(1, d[2].length - 1)), d[2] == this.dialect.inline.__call__.call(this, d[2], /\\/)[0], b = {
                    alt: d[1],
                    href: d[2] || ""
                }, void 0 !== d[4] && (b.title = d[4]), [d[0].length, ["img", b]]) : (d = b.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/)) ? [d[0].length, ["img_ref", {
                    alt: d[1],
                    ref: d[2].toLowerCase(),
                    text: d[0]
                }]] : [2, "!["]
            },
            "[": function(b) {
                var d = b.match(/^\[([\s\S]*?)\][ \t]*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);
                if (d) return d[2] && ("<" == d[2][0] && ">" == d[2][d[2].length - 1]) && (d[2] = d[2].substring(1, d[2].length - 1)), d[2] = this.dialect.inline.__call__.call(this, d[2], /\\/)[0], b = {
                    href: d[2] || ""
                }, void 0 !== d[4] && (b.title = d[4]), b = ["link", b], Array.prototype.push.apply(b, this.processInline(d[1])), [d[0].length, b];
                if (d = b.match(/^\[([\s\S]*?)\](?: ?\[(.*?)\])?/)) {
                    if (void 0 === d[2] || "" === d[2]) d[2] = d[1];
                    b = {
                        ref: d[2].toLowerCase(),
                        original: d[0]
                    };
                    b = ["link_ref", b];
                    Array.prototype.push.apply(b, this.processInline(d[1]));
                    return [d[0].length, b]
                }
                return [1, "["]
            },
            "<": function(b) {
                var d;
                return null != (d = b.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/)) ? d[3] ? [d[0].length, ["link", {
                        href: "mailto:" + d[3]
                    },
                    d[3]
                ]] : "mailto" == d[2] ? [d[0].length, ["link", {
                        href: d[1]
                    },
                    d[1].substr(7)
                ]] : [d[0].length, ["link", {
                        href: d[1]
                    },
                    d[1]
                ]] : [1, "<"]
            },
            "`": function(b) {
                return (b = b.match(/(`+)(([\s\S]*?)\1)/)) && b[2] ? [b[1].length + b[2].length, ["inlinecode", b[3]]] : [1, "`"]
            },
            "  \n": function(b) {
                return [3, ["linebreak"]]
            }
        };
        k.dialects.Gruber.inline["**"] = d("strong", "**");
        k.dialects.Gruber.inline.__ = d("strong", "__");
        k.dialects.Gruber.inline["*"] = d("em", "*");
        k.dialects.Gruber.inline._ = d("em", "_");
        k.buildBlockOrder = function(b) {
            var d = [],
                e;
            for (e in b) "__order__" == e || "__call__" == e || d.push(e);
            b.__order__ = d
        };
        k.buildInlinePatterns = function(b) {
            var d = [],
                e;
            for (e in b)
                if ("__call__" != e) {
                    var f = e.replace(/([\\.*+?|()\[\]{}])/g, "\\$1").replace(/\n/, "\\n");
                    d.push(1 == e.length ? f : "(?:" + f + ")")
                }
            var d = d.join("|"),
                c = b.__call__;
            b.__call__ = function(b, e) {
                return void 0 != e ? c.call(this, b, e) : c.call(this, b, d)
            }
        };
        k.subclassDialect = function(b) {
            function d() {}

            function e() {}
            d.prototype = b.block;
            e.prototype = b.inline;
            return {
                block: new d,
                inline: new e
            }
        };
        k.buildBlockOrder(k.dialects.Gruber.block);
        k.buildInlinePatterns(k.dialects.Gruber.inline);
        k.dialects.Maruku = k.subclassDialect(k.dialects.Gruber);
        k.dialects.Maruku.block.document_meta = function(b, d) {
            if (!(1 < b.lineNumber) && b.match(/^(?:\w+:.*\n)*\w+:.*$/)) {
                e(this.tree) || this.tree.splice(1, 0, {});
                var f = b.split(/\n/);
                for (p in f) {
                    var c = f[p].match(/(\w+):\s*(.*)$/),
                        g = c[1].toLowerCase();
                    this.tree[1][g] = c[2]
                }
                return []
            }
        };
        k.dialects.Maruku.block.block_meta = function(b, d) {
            var f = b.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);
            if (f) {
                var c = g(f[2]);
                if ("" === f[1]) {
                    var h = this.tree[this.tree.length - 1],
                        f = e(h);
                    if ("string" === typeof h) return;
                    f || (f = {}, h.splice(1,
                        0, f));
                    for (a in c) f[a] = c[a];
                    return []
                }
                f = b.replace(/\n.*$/, "");
                h = this.processBlock(f, []);
                f = e(h[0]);
                f || (f = {}, h[0].splice(1, 0, f));
                for (a in c) f[a] = c[a];
                return h
            }
        };
        k.dialects.Maruku.block.definition_list = function(b, d) {
            var e = /^((?:[^\s:].*\n)+):\s+((?:\s\S)+)$/,
                f = ["dl"];
            if (b.match(e)) {
                for (var c = [b]; d.length && e.exec(d[0]);) c.push(d.shift());
                for (var g = 0; g < c.length; ++g) {
                    for (var h = c[g].match(e), m = h[1].replace(/\n$/, "").split(/\n/), h = h[2].split(/\n:\s+/), q = 0; q < m.length; ++q) f.push(["dt", m[q]]);
                    for (q = 0; q < h.length; ++q) f.push(["dd"].concat(this.processInline(h[q].replace(/(\n)\s+/,
                        "$1"))))
                }
                return [f]
            }
        };
        k.dialects.Maruku.inline["{:"] = function(b, d, f) {
            if (!f.length) return [2, "{:"];
            d = f[f.length - 1];
            if ("string" === typeof d) return [2, "{:"];
            b = b.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);
            if (!b) return [2, "{:"];
            f = g(b[1]);
            var c = e(d);
            c || (c = {}, d.splice(1, 0, c));
            for (var h in f) c[h] = f[h];
            return [b[0].length, ""]
        };
        k.buildBlockOrder(k.dialects.Maruku.block);
        k.buildInlinePatterns(k.dialects.Maruku.inline);
        var I = c.isArray = function(b) {
            return b instanceof Array || "array" === typeof b || Array.isArray(b)
        };
        c.renderJsonML =
            function(b, d) {
                d = d || {};
                d.root = d.root || !1;
                var e = [];
                if (d.root) e.push(h(b));
                else {
                    b.shift();
                    for (b.length && ("object" === typeof b[0] && !(b[0] instanceof Array)) && b.shift(); b.length;) e.push(h(b.shift()))
                }
                return e.join("\n\n")
            }
    })(Zc);
    (function() {
        function c(b) {
            var e = !1;
            return function() {
                if (e) throw Error("Callback was already called.");
                e = !0;
                b.apply(d, arguments)
            }
        }
        var b = {},
            d, e;
        d = this;
        null != d && (e = d.async);
        b.noConflict = function() {
            d.async = e;
            return b
        };
        var g = function(b, d) {
                if (b.forEach) return b.forEach(d);
                for (var e = 0; e <
                    b.length; e += 1) d(b[e], e, b)
            },
            f = function(b, d) {
                if (b.map) return b.map(d);
                var e = [];
                g(b, function(b, f, c) {
                    e.push(d(b, f, c))
                });
                return e
            },
            h = function(b, d, e) {
                if (b.reduce) return b.reduce(d, e);
                g(b, function(b, f, c) {
                    e = d(e, b, f, c)
                });
                return e
            },
            m = function(b) {
                if (Object.keys) return Object.keys(b);
                var d = [],
                    e;
                for (e in b) b.hasOwnProperty(e) && d.push(e);
                return d
            };
        "undefined" === typeof process || !process.nextTick ? (b.nextTick = "function" === typeof setImmediate ? function(b) {
                setImmediate(b)
            } : function(b) {
                setTimeout(b, 0)
            }, b.setImmediate =
            b.nextTick) : (b.nextTick = process.nextTick, b.setImmediate = "undefined" !== typeof setImmediate ? setImmediate : b.nextTick);
        b.each = function(b, d, e) {
            e = e || function() {};
            if (!b.length) return e();
            var f = 0;
            g(b, function(g) {
                d(g, c(function(d) {
                    d ? (e(d), e = function() {}) : (f += 1, f >= b.length && e(null))
                }))
            })
        };
        b.forEach = b.each;
        b.eachSeries = function(b, d, e) {
            e = e || function() {};
            if (!b.length) return e();
            var f = 0,
                c = function() {
                    d(b[f], function(d) {
                        d ? (e(d), e = function() {}) : (f += 1, f >= b.length ? e(null) : c())
                    })
                };
            c()
        };
        b.forEachSeries = b.eachSeries;
        b.eachLimit =
            function(b, d, e, f) {
                q(d).apply(null, [b, e, f])
            };
        b.forEachLimit = b.eachLimit;
        var q = function(b) {
                return function(d, e, f) {
                    f = f || function() {};
                    if (!d.length || 0 >= b) return f();
                    var c = 0,
                        g = 0,
                        h = 0;
                    (function hc() {
                        if (c >= d.length) return f();
                        for (; h < b && g < d.length;) g += 1, h += 1, e(d[g - 1], function(b) {
                            b ? (f(b), f = function() {}) : (c += 1, h -= 1, c >= d.length ? f() : hc())
                        })
                    })()
                }
            },
            k = function(d) {
                return function() {
                    var e = Array.prototype.slice.call(arguments);
                    return d.apply(null, [b.each].concat(e))
                }
            },
            l = function(b, d) {
                return function() {
                    var e = Array.prototype.slice.call(arguments);
                    return d.apply(null, [q(b)].concat(e))
                }
            },
            I = function(d) {
                return function() {
                    var e = Array.prototype.slice.call(arguments);
                    return d.apply(null, [b.eachSeries].concat(e))
                }
            },
            n = function(b, d, e, c) {
                var g = [];
                d = f(d, function(b, d) {
                    return {
                        index: d,
                        value: b
                    }
                });
                b(d, function(b, d) {
                    e(b.value, function(e, f) {
                        g[b.index] = f;
                        d(e)
                    })
                }, function(b) {
                    c(b, g)
                })
            };
        b.map = k(n);
        b.mapSeries = I(n);
        b.mapLimit = function(b, d, e, f) {
            return l(d, n)(b, e, f)
        };
        b.reduce = function(d, e, f, c) {
            b.eachSeries(d, function(b, d) {
                f(e, b, function(b, f) {
                    e = f;
                    d(b)
                })
            }, function(b) {
                c(b,
                    e)
            })
        };
        b.inject = b.reduce;
        b.foldl = b.reduce;
        b.reduceRight = function(d, e, c, g) {
            d = f(d, function(b) {
                return b
            }).reverse();
            b.reduce(d, e, c, g)
        };
        b.foldr = b.reduceRight;
        var C = function(b, d, e, c) {
            var g = [];
            d = f(d, function(b, d) {
                return {
                    index: d,
                    value: b
                }
            });
            b(d, function(b, d) {
                e(b.value, function(e) {
                    e && g.push(b);
                    d()
                })
            }, function(b) {
                c(f(g.sort(function(b, d) {
                    return b.index - d.index
                }), function(b) {
                    return b.value
                }))
            })
        };
        b.filter = k(C);
        b.filterSeries = I(C);
        b.select = b.filter;
        b.selectSeries = b.filterSeries;
        C = function(b, d, e, c) {
            var g = [];
            d = f(d,
                function(b, d) {
                    return {
                        index: d,
                        value: b
                    }
                });
            b(d, function(b, d) {
                e(b.value, function(e) {
                    e || g.push(b);
                    d()
                })
            }, function(b) {
                c(f(g.sort(function(b, d) {
                    return b.index - d.index
                }), function(b) {
                    return b.value
                }))
            })
        };
        b.reject = k(C);
        b.rejectSeries = I(C);
        C = function(b, d, e, f) {
            b(d, function(b, d) {
                e(b, function(e) {
                    e ? (f(b), f = function() {}) : d()
                })
            }, function(b) {
                f()
            })
        };
        b.detect = k(C);
        b.detectSeries = I(C);
        b.some = function(d, e, f) {
            b.each(d, function(b, d) {
                e(b, function(b) {
                    b && (f(!0), f = function() {});
                    d()
                })
            }, function(b) {
                f(!1)
            })
        };
        b.any = b.some;
        b.every =
            function(d, e, f) {
                b.each(d, function(b, d) {
                    e(b, function(b) {
                        b || (f(!1), f = function() {});
                        d()
                    })
                }, function(b) {
                    f(!0)
                })
            };
        b.all = b.every;
        b.sortBy = function(d, e, c) {
            b.map(d, function(b, d) {
                e(b, function(e, f) {
                    e ? d(e) : d(null, {
                        value: b,
                        criteria: f
                    })
                })
            }, function(b, d) {
                if (b) return c(b);
                c(null, f(d.sort(function(b, d) {
                    var e = b.criteria,
                        f = d.criteria;
                    return e < f ? -1 : e > f ? 1 : 0
                }), function(b) {
                    return b.value
                }))
            })
        };
        b.auto = function(d, e) {
            e = e || function() {};
            var f = m(d);
            if (!f.length) return e(null);
            var c = {},
                q = [],
                k = function(b) {
                    q.unshift(b)
                },
                s = function() {
                    g(q.slice(0),
                        function(b) {
                            b()
                        })
                };
            k(function() {
                m(c).length === f.length && (e(null, c), e = function() {})
            });
            g(f, function(f) {
                var l = d[f] instanceof Function ? [d[f]] : d[f],
                    w = function(d) {
                        var h = Array.prototype.slice.call(arguments, 1);
                        1 >= h.length && (h = h[0]);
                        if (d) {
                            var q = {};
                            g(m(c), function(b) {
                                q[b] = c[b]
                            });
                            q[f] = h;
                            e(d, q);
                            e = function() {}
                        } else c[f] = h, b.setImmediate(s)
                    },
                    I = l.slice(0, Math.abs(l.length - 1)) || [],
                    G = function() {
                        return h(I, function(b, d) {
                            return b && c.hasOwnProperty(d)
                        }, !0) && !c.hasOwnProperty(f)
                    };
                if (G()) l[l.length - 1](w, c);
                else {
                    var C =
                        function() {
                            if (G()) {
                                a: for (var b = C, d = 0; d < q.length; d += 1)
                                    if (q[d] === b) {
                                        q.splice(d, 1);
                                        break a
                                    }l[l.length - 1](w, c)
                            }
                        };
                    k(C)
                }
            })
        };
        b.waterfall = function(d, e) {
            e = e || function() {};
            if (d.constructor !== Array) return e(Error("First argument to waterfall must be an array of functions"));
            if (!d.length) return e();
            var f = function(d) {
                return function(c) {
                    if (c) e.apply(null, arguments), e = function() {};
                    else {
                        var g = Array.prototype.slice.call(arguments, 1),
                            h = d.next();
                        h ? g.push(f(h)) : g.push(e);
                        b.setImmediate(function() {
                            d.apply(null, g)
                        })
                    }
                }
            };
            f(b.iterator(d))()
        };
        var G = function(b, d, e) {
            e = e || function() {};
            if (d.constructor === Array) b.map(d, function(b, d) {
                b && b(function(b) {
                    var e = Array.prototype.slice.call(arguments, 1);
                    1 >= e.length && (e = e[0]);
                    d.call(null, b, e)
                })
            }, e);
            else {
                var f = {};
                b.each(m(d), function(b, e) {
                    d[b](function(d) {
                        var c = Array.prototype.slice.call(arguments, 1);
                        1 >= c.length && (c = c[0]);
                        f[b] = c;
                        e(d)
                    })
                }, function(b) {
                    e(b, f)
                })
            }
        };
        b.parallel = function(d, e) {
            G({
                map: b.map,
                each: b.each
            }, d, e)
        };
        b.parallelLimit = function(b, d, e) {
            G({
                map: l(d, n),
                each: q(d)
            }, b, e)
        };
        b.series =
            function(d, e) {
                e = e || function() {};
                if (d.constructor === Array) b.mapSeries(d, function(b, d) {
                    b && b(function(b) {
                        var e = Array.prototype.slice.call(arguments, 1);
                        1 >= e.length && (e = e[0]);
                        d.call(null, b, e)
                    })
                }, e);
                else {
                    var f = {};
                    b.eachSeries(m(d), function(b, e) {
                        d[b](function(d) {
                            var c = Array.prototype.slice.call(arguments, 1);
                            1 >= c.length && (c = c[0]);
                            f[b] = c;
                            e(d)
                        })
                    }, function(b) {
                        e(b, f)
                    })
                }
            };
        b.iterator = function(b) {
            var d = function(e) {
                var f = function() {
                    b.length && b[e].apply(null, arguments);
                    return f.next()
                };
                f.next = function() {
                    return e <
                        b.length - 1 ? d(e + 1) : null
                };
                return f
            };
            return d(0)
        };
        b.apply = function(b) {
            var d = Array.prototype.slice.call(arguments, 1);
            return function() {
                return b.apply(null, d.concat(Array.prototype.slice.call(arguments)))
            }
        };
        C = function(b, d, e, f) {
            var c = [];
            b(d, function(b, d) {
                e(b, function(b, e) {
                    c = c.concat(e || []);
                    d(b)
                })
            }, function(b) {
                f(b, c)
            })
        };
        b.concat = k(C);
        b.concatSeries = I(C);
        b.whilst = function(d, e, f) {
            d() ? e(function(c) {
                if (c) return f(c);
                b.whilst(d, e, f)
            }) : f()
        };
        b.doWhilst = function(d, e, f) {
            d(function(c) {
                if (c) return f(c);
                e() ? b.doWhilst(d,
                    e, f) : f()
            })
        };
        b.until = function(d, e, f) {
            d() ? f() : e(function(c) {
                if (c) return f(c);
                b.until(d, e, f)
            })
        };
        b.doUntil = function(d, e, f) {
            d(function(c) {
                if (c) return f(c);
                e() ? f() : b.doUntil(d, e, f)
            })
        };
        b.queue = function(d, e) {
            function f(d, c, h, m) {
                c.constructor !== Array && (c = [c]);
                g(c, function(f) {
                    f = {
                        data: f,
                        callback: "function" === typeof m ? m : null
                    };
                    h ? d.tasks.unshift(f) : d.tasks.push(f);
                    d.saturated && d.tasks.length === e && d.saturated();
                    b.setImmediate(d.process)
                })
            }
            void 0 === e && (e = 1);
            var h = 0,
                m = {
                    tasks: [],
                    concurrency: e,
                    saturated: null,
                    empty: null,
                    drain: null,
                    push: function(b, d) {
                        f(m, b, !1, d)
                    },
                    unshift: function(b, d) {
                        f(m, b, !0, d)
                    },
                    process: function() {
                        if (h < m.concurrency && m.tasks.length) {
                            var b = m.tasks.shift();
                            m.empty && 0 === m.tasks.length && m.empty();
                            h += 1;
                            var e = c(function() {
                                h -= 1;
                                b.callback && b.callback.apply(b, arguments);
                                m.drain && 0 === m.tasks.length + h && m.drain();
                                m.process()
                            });
                            d(b.data, e)
                        }
                    },
                    length: function() {
                        return m.tasks.length
                    },
                    running: function() {
                        return h
                    }
                };
            return m
        };
        b.cargo = function(d, e) {
            var c = !1,
                h = [],
                m = {
                    tasks: h,
                    payload: e,
                    saturated: null,
                    empty: null,
                    drain: null,
                    push: function(d, f) {
                        d.constructor !== Array && (d = [d]);
                        g(d, function(b) {
                            h.push({
                                data: b,
                                callback: "function" === typeof f ? f : null
                            });
                            m.saturated && h.length === e && m.saturated()
                        });
                        b.setImmediate(m.process)
                    },
                    process: function z() {
                        if (!c)
                            if (0 === h.length) m.drain && m.drain();
                            else {
                                var b = "number" === typeof e ? h.splice(0, e) : h.splice(0),
                                    q = f(b, function(b) {
                                        return b.data
                                    });
                                m.empty && m.empty();
                                c = !0;
                                d(q, function() {
                                    c = !1;
                                    var d = arguments;
                                    g(b, function(b) {
                                        b.callback && b.callback.apply(null, d)
                                    });
                                    z()
                                })
                            }
                    },
                    length: function() {
                        return h.length
                    },
                    running: function() {
                        return c
                    }
                };
            return m
        };
        C = function(b) {
            return function(d) {
                var e = Array.prototype.slice.call(arguments, 1);
                d.apply(null, e.concat([
                    function(d) {
                        var e = Array.prototype.slice.call(arguments, 1);
                        "undefined" !== typeof console && (d ? console.error && console.error(d) : console[b] && g(e, function(d) {
                            console[b](d)
                        }))
                    }
                ]))
            }
        };
        b.log = C("log");
        b.dir = C("dir");
        b.memoize = function(b, d) {
            var e = {},
                f = {};
            d = d || function(b) {
                return b
            };
            var c = function() {
                var c = Array.prototype.slice.call(arguments),
                    g = c.pop(),
                    h = d.apply(null, c);
                h in
                    e ? g.apply(null, e[h]) : h in f ? f[h].push(g) : (f[h] = [g], b.apply(null, c.concat([
                        function() {
                            e[h] = arguments;
                            var b = f[h];
                            delete f[h];
                            for (var d = 0, c = b.length; d < c; d++) b[d].apply(null, arguments)
                        }
                    ])))
            };
            c.memo = e;
            c.unmemoized = b;
            return c
        };
        b.unmemoize = function(b) {
            return function() {
                return (b.unmemoized || b).apply(null, arguments)
            }
        };
        b.times = function(d, e, f) {
            for (var c = [], g = 0; g < d; g++) c.push(g);
            return b.map(c, e, f)
        };
        b.timesSeries = function(d, e, f) {
            for (var c = [], g = 0; g < d; g++) c.push(g);
            return b.mapSeries(c, e, f)
        };
        b.compose = function() {
            var d =
                Array.prototype.reverse.call(arguments);
            return function() {
                var e = this,
                    f = Array.prototype.slice.call(arguments),
                    c = f.pop();
                b.reduce(d, f, function(b, d, f) {
                    d.apply(e, b.concat([
                        function() {
                            var b = arguments[0],
                                d = Array.prototype.slice.call(arguments, 1);
                            f(b, d)
                        }
                    ]))
                }, function(b, d) {
                    c.apply(e, [b].concat(d))
                })
            }
        };
        C = function(b, d) {
            var e = function() {
                var e = this,
                    f = Array.prototype.slice.call(arguments),
                    c = f.pop();
                return b(d, function(b, d) {
                    b.apply(e, f.concat([d]))
                }, c)
            };
            if (2 < arguments.length) {
                var f = Array.prototype.slice.call(arguments,
                    2);
                return e.apply(this, f)
            }
            return e
        };
        b.applyEach = k(C);
        b.applyEachSeries = I(C);
        b.forever = function(b, d) {
            function e(f) {
                if (f) {
                    if (d) return d(f);
                    throw f;
                }
                b(e)
            }
            e()
        };
        "undefined" !== typeof define && define.amd ? define([], function() {
            return b
        }) : "undefined" !== typeof module && module.exports ? module.exports = b : d.async = b
    })();
    (function(c) {
        c.fn.dragscrollable = function(b) {
            var d = c.extend({
                    acceptPropagatedEvent: !0,
                    preventDefault: !0,
                    fxIgnore: function(b) {
                        return !1
                    }
                }, b || {}),
                e = {
                    mouseDownHandler: function(b) {
                        if (!b.data.fxIgnore(b)) {
                            if (1 !=
                                b.which || !b.data.acceptPropagatedEvent && b.target != this) return !1;
                            b.data.lastCoord = {
                                left: b.clientX,
                                top: b.clientY
                            };
                            c.event.add(document, "mouseup", e.mouseUpHandler, b.data);
                            c.event.add(document, "mousemove", e.mouseMoveHandler, b.data);
                            if (b.data.preventDefault) return b.preventDefault(), !1
                        }
                    },
                    mouseMoveHandler: function(b) {
                        var d = b.clientX - b.data.lastCoord.left,
                            e = b.clientY - b.data.lastCoord.top;
                        b.data.scrollable.scrollLeft(b.data.scrollable.scrollLeft() - d);
                        b.data.scrollable.scrollTop(b.data.scrollable.scrollTop() -
                            e);
                        b.data.lastCoord = {
                            left: b.clientX,
                            top: b.clientY
                        };
                        if (b.data.preventDefault) return b.preventDefault(), !1
                    },
                    mouseUpHandler: function(b) {
                        c.event.remove(document, "mousemove", e.mouseMoveHandler);
                        c.event.remove(document, "mouseup", e.mouseUpHandler);
                        if (b.data.preventDefault) return b.preventDefault(), !1
                    }
                };
            this.each(function() {
                var b = {
                    scrollable: c(this),
                    acceptPropagatedEvent: d.acceptPropagatedEvent,
                    preventDefault: d.preventDefault,
                    fxIgnore: d.fxIgnore
                };
                c(this).bind("mousedown", b, e.mouseDownHandler)
            })
        }
    })(jQuery);
    var ma, D = [].slice;
    ma = function() {
        var c, b, d, e, g, f, h;
        e = 2 <= arguments.length ? D.call(arguments, 0, c = arguments.length - 1) : (c = 0, []);
        c = arguments[c++];
        g = 0;
        for (f = e.length; g < f; g++)
            for (b in d = e[g], h = d.prototype, h) d = h[b], c.prototype[b] = d;
        return c
    };
    "undefined" !== typeof module && null !== module && (module.exports.mixin = ma);
    var gb, D = [].slice,
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    async.assembly = function(c, b) {
        var d;
        d = _.map(c, function(b) {
            return function() {
                var d,
                    f, c;
                d = 2 <= arguments.length ? D.call(arguments, 0, c = arguments.length - 1) : (c = 0, []);
                f = arguments[c++];
                return b.apply(null, [
                    function() {
                        var b, e;
                        b = arguments[0];
                        e = 2 <= arguments.length ? D.call(arguments, 1) : [];
                        0 === e.length && (e = d);
                        return f.apply(null, [b].concat(D.call(e)))
                    }
                ].concat(D.call(d)))
            }
        });
        return async.waterfall(d, b)
    };
    _.mixin({
        mapObj: _.compose(_.object, _.map),
        chainOn: function(c) {
            var b;
            b = {};
            return _.extend(b, _.mapObj(_.functions(c), function(d) {
                return [d,
                    function() {
                        c[d].apply(c, arguments);
                        return b
                    }
                ]
            }))
        },
        partialMethod: function() {
            var c,
                b, d;
            d = arguments[0];
            b = arguments[1];
            c = 3 <= arguments.length ? D.call(arguments, 2) : [];
            b = _.bind(d[b], d);
            return _.partial.apply(_, [b].concat(D.call(c)))
        }
    });
    _.count = function(c, b) {
        var d, e, g, f;
        null == b && (b = function() {
            return !0
        });
        g = d = 0;
        for (f = c.length; g < f; g++) e = c[g], b(e) && d++;
        return d
    };
    gb = {
        minSpacing: 0.125,
        spacing: 16384,
        maxPos: 0x4000000000000,
        lowerCaseFirstChar: function(c) {
            return c[0].toLowerCase() + c.substr(1)
        },
        checkId: function(c) {
            return "ObjectID" === (null != c ? c.constructor.name : void 0) || 24 === (null != c ? c.length : void 0) &&
                /^[a-f0-9]*$/.test(c)
        },
        capitalize: function(c) {
            return _.isString(c) && !_.isEmpty(c) ? c[0].toUpperCase() + c.substr(1) : c
        },
        pluralize: function(c) {
            return "" + c + "s"
        },
        formatCount: function(c, b, d) {
            if (!c && !d) return "";
            b = gb.formatNoun(c, b);
            return "" + c + " " + b
        },
        formatNoun: function(c, b) {
            1 !== c && (b += "s");
            return b
        },
        imageFileExtensions: "png gif jpg jpeg bmp ico".split(" "),
        extensionIsImage: function(c) {
            var b, d;
            return b = null != (d = gb.fileExt(c)) ? d.toLowerCase() : void 0, 0 <= F.call(gb.imageFileExtensions, b)
        },
        fileExt: function(c) {
            var b,
                d, e;
            return null != (b = null != (d = /\.([a-z0-9]+)$/i.exec(c)) ? null != (e = d[1]) ? e.toLowerCase() : void 0 : void 0) ? b : null
        },
        filenameFromUrl: function(c) {
            var b;
            return null != (b = /\/([^\/]+?)(?:\#|\?|$)/.exec(c)) ? b[1] : void 0
        },
        pathFromUrl: function(c) {
            var b;
            return null != (b = /^([^?\#]+)/.exec(c)) ? b[1] : void 0
        },
        traverse: function(c, b) {
            var d, e, g;
            if (_.isEmpty(b) || !c) return c;
            if (_.isArray(b)) {
                e = 0;
                for (g = b.length; e < g && !(d = b[e], c = c[d], !c); e++);
                return c
            }
            return c[b]
        },
        isSimpleObject: function(c) {
            return c && !_.isArray(c) && !_.isDate(c) &&
                !c.prototype && "object" === typeof c
        },
        escapeForRegex: function(c) {
            return null != c ? c.replace(/[-[\]{}()*+?.,\\\/^$|#\s]/g, "\\$&") : void 0
        },
        hasProtocol: function(c) {
            return /^\s*[a-z]+:/i.test(c)
        },
        makeSlug: function(c, b) {
            var d;
            null == b && (b = "-");
            c && (d = gb.removeAccents(c.toLowerCase()).replace(/[^a-z0-9]+/ig, b).replace(RegExp("^" + b + "|" + b + "$", "g"), ""), 128 < d.length && (d = d.substr(0, 128)));
            return d || b
        },
        removeAccents: function(c) {
            return c.replace(/[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u0101\u0103\u0105]/g, "a").replace(/\u00e6/g,
                "ae").replace(/[\u00e7\u0107\u0109\u010b\u010d]/g, "c").replace(/[\u010f\u0111]/g, "d").replace(/[\u00e8\u00e9\u00ea\u00eb\u0113\u0115\u0117\u0119\u011b]/g, "e").replace(/[\u011d\u011f\u0121\u0123]/g, "g").replace(/[\u0125\u0127]/g, "h").replace(/[\u00ec\u00ed\u00ee\u00ef\u0129\u012b\u012d\u012f\u0131]/g, "i").replace(/[\u00f1\u0144\u0146\u0148\u0149\u014b]/g, "n").replace(/[\u00f2\u00f3\u00f4\u00f5\u00f6\u014d\u014f\u0151]/g, "o").replace(/\u0153/g, "oe").replace(/[\u015b\u015d\u015f\u0161]/g, "s").replace(/\u00df/g,
                "ss").replace(/[\u00f9\u00fa\u00fb\u00fc\u0169\u016b\u016d\u016f\u0171\u0173]/g, "u").replace(/[\u00fd\u00ff]/g, "y")
        },
        isShortId: function(c) {
            return /^[0-9]{1,8}$/.test(c)
        },
        isShortLink: function(c) {
            return _.isString(c) && /^[a-zA-Z0-9]{8}$/.test(c)
        },
        isValidCallback: function(c) {
            return /^[$a-z_][$a-z0-9_\.]*$/i.test(c)
        },
        parseDate: function(c) {
            return Date.parse(c)
        },
        getMs: function(c) {
            var b, d, e, g, f, h, m;
            b = c.days;
            d = c.hours;
            e = c.minutes;
            h = c.seconds;
            f = c.ms;
            m = c.years;
            g = c.months;
            c = c.weeks;
            null == b && (b = 0);
            null == d && (d = 0);
            null == e && (e = 0);
            null == h && (h = 0);
            null == f && (f = 0);
            m && (b += 365 * m);
            g && (b += 30 * g);
            c && (b += 7 * c);
            e += 60 * (d + 24 * b);
            return f += 1E3 * (h + 60 * e)
        },
        getSeconds: function(c) {
            return this.getMs(c) / 1E3
        },
        dateAfter: function(c) {
            var b, d;
            b = null != (d = null != c ? c.date : void 0) ? d : new Date;
            return new Date(b.getTime() + this.getMs(c))
        },
        dateBefore: function(c) {
            var b, d;
            b = null != (d = null != c ? c.date : void 0) ? d : new Date;
            return new Date(b.getTime() - this.getMs(c))
        },
        compareMemberType: function(c, b, d, e) {
            var g;
            null == e && (e = {});
            e = e.mode;
            null == e && (e = "standard");
            switch (e) {
                case "members":
                    g = [
                        ["normal", "admin"]
                    ];
                    break;
                case "commentDelete":
                    g = [
                        ["normal", "org"],
                        ["admin"]
                    ];
                    break;
                default:
                    g = [
                        ["org"],
                        ["normal"],
                        ["admin"]
                    ]
            }
            e = function(b) {
                var d, e, q, k;
                e = c.getMemberType(b);
                d = q = 0;
                for (k = g.length; q < k; d = ++q)
                    if (b = g[d], 0 <= F.call(b, e)) return d;
                return -1
            };
            b = e(b);
            d = e(d);
            return b > d ? 1 : b < d ? -1 : 0
        },
        isValidSearch: function(c) {
            return 2 <= (null != c ? c.length : void 0) || this.isShortId(c)
        },
        regexCardNumber: /\#(\d{1,7})(?=$|\s|[;:,.!?\)\}\]\<\>])/,
        regexLink: /\b((?:[\w-]+:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]|(\(([^\s()<>]|\([^\s()<>]+\))+\)))*\))+(?:\(([^\s()<>]|(\(([^\s()<>]|\([^\s()<>]+\))+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019])|[a-z0-9.\-]+[.](?:com|net|org|edu|gov|mil|co\.[a-z]{2})\b)/gi,
        cleanLink: function(c) {
            c.match(/^([\w-]+):\/\//) || (c = "http://" + c);
            return c
        },
        idToDate: function(c) {
            return new Date(1E3 * parseInt(null != c ? c.substr(0, 8) : void 0, 16))
        },
        dateToId: function(c) {
            return Math.floor(c.getTime() / 1E3).toString(16) + "0000000000000000"
        },
        separateLargeNum: function(c, b) {
            null == b && (b = ",");
            return c.toString().replace(/\B(?=(\d{3})+(?!\d))/g, b)
        },
        shortenLargeNum: function(c) {
            var b, d, e, g;
            d = ["", "k", "m"];
            e = 0;
            for (g = d.length; e < g; e++) {
                b = d[e];
                if (1050 > c) break;
                c /= 1E3
            }
            return (Math.round(10 * c) / 10).toString() +
                b
        },
        mapping: function(c, b, d) {
            return async.map(c, b, function(b, g) {
                var f, h, m, q, k;
                if (b) return d(b);
                m = {};
                f = q = 0;
                for (k = c.length; q < k; f = ++q) h = c[f], m[h] = g[f];
                return d(null, m)
            })
        },
        queued: function(c, b) {
            var d;
            d = async.queue(function(b, d) {
                var f;
                f = b.shift();
                b.push(d);
                return c.apply(f, b)
            }, b);
            return function() {
                var b, c;
                b = 2 <= arguments.length ? D.call(arguments, 0, c = arguments.length - 1) : (c = 0, []);
                c = arguments[c++];
                b.unshift(this);
                _.isFunction(c) || (b.push(c), c = function() {});
                return d.push([b], c)
            }
        },
        labelNames: "green yellow orange red purple blue".split(" "),
        preferScaledPreviews: function(c) {
            var b;
            b = _.filter(c, function(b) {
                return b.scaled
            });
            return _.isEmpty(b) ? c : b
        },
        smallestPreviewBiggerThan: function(c, b, d) {
            var e, g, f, h;
            null == c && (c = []);
            null == b && (b = 0);
            null == d && (d = 0);
            g = [this.preferScaledPreviews(c), c];
            f = 0;
            for (h = g.length; f < h; f++) c = g[f], _.isEmpty(e) && (e = _.filter(c, function(e) {
                return e.width >= b && e.height >= d
            }));
            return this.smallestPreview(e)
        },
        previewBetween: function(c, b, d, e, g) {
            null == c && (c = []);
            c = _.filter(this.preferScaledPreviews(c), function(f) {
                var c, m;
                return b <=
                    (c = f.width) && c <= e && d <= (m = f.height) && m <= g
            });
            return this.biggestPreview(c)
        },
        biggestPreview: function(c) {
            return 0 === c.length ? null : _.max(this.preferScaledPreviews(c), function(b) {
                return Math.min(b.width, b.height)
            })
        },
        smallestPreview: function(c) {
            return 0 === c.length ? null : _.min(this.preferScaledPreviews(c), function(b) {
                return Math.max(b.width, b.height)
            })
        },
        rotateArr: function(c, b) {
            return _.flatten([c.slice(-b), c.slice(0, -b)], !0)
        },
        humanReadableList: function(c) {
            var b;
            if (2 > c.length) return null != (b = null != c ? c[0] : void 0) ?
                b : "";
            if (2 === c.length) return c[0] + " and " + c[1];
            c[c.length - 1] = "and " + c[c.length - 1];
            return c.join(", ")
        },
        isNonPushstateAndroid: function(c) {
            return /android(\s)*[3-4]\.[0-1][^0-9]/i.test(c)
        },
        strRepeat: function(c, b) {
            return Array(b + 1).join(c)
        },
        md5: function() {
            var c, b, d, e, g, f, h, m, q, k, l, I, n, C;
            e = 0;
            I = function(d) {
                return c(b(k(d), 8 * d.length))
            };
            l = function(b) {
                var d, f, c, g;
                try {
                    e
                } catch (h) {
                    e = 0
                }
                d = e ? "0123456789ABCDEF" : "0123456789abcdef";
                c = "";
                for (f = 0; f < b.length;) g = b.charCodeAt(f), c += d.charAt(g >>> 4 & 15) + d.charAt(g & 15), f++;
                return c
            };
            C = function(b) {
                var d, e, f, c;
                e = "";
                for (d = -1; ++d < b.length;) f = b.charCodeAt(d), c = d + 1 < b.length ? b.charCodeAt(d + 1) : 0, 55296 <= f && (56319 >= f && 56320 <= c && 57343 >= c) && (f = 65536 + ((f & 1023) << 10) + (c & 1023), d++), 127 >= f ? e += String.fromCharCode(f) : 2047 >= f ? e += String.fromCharCode(192 | f >>> 6 & 31, 128 | f & 63) : 65535 >= f ? e += String.fromCharCode(224 | f >>> 12 & 15, 128 | f >>> 6 & 63, 128 | f & 63) : 2097151 >= f && (e += String.fromCharCode(240 | f >>> 18 & 7, 128 | f >>> 12 & 63, 128 | f >>> 6 & 63, 128 | f & 63));
                return e
            };
            k = function(b) {
                var d, e;
                e = Array(b.length >> 2);
                for (d = 0; d <
                    e.length;) e[d] = 0, d++;
                for (d = 0; d < 8 * b.length;) e[d >> 5] |= (b.charCodeAt(d / 8) & 255) << d % 32, d += 8;
                return e
            };
            c = function(b) {
                var d, e;
                e = "";
                for (d = 0; d < 32 * b.length;) e += String.fromCharCode(b[d >> 5] >>> d % 32 & 255), d += 8;
                return e
            };
            b = function(b, d) {
                var e, c, g, k, s, l, w, I, C;
                b[d >> 5] |= 128 << d % 32;
                b[(d + 64 >>> 9 << 4) + 14] = d;
                e = 1732584193;
                c = -271733879;
                g = -1732584194;
                k = 271733878;
                for (s = 0; s < b.length;) l = e, w = c, I = g, C = k, e = f(e, c, g, k, b[s + 0], 7, -680876936), k = f(k, e, c, g, b[s + 1], 12, -389564586), g = f(g, k, e, c, b[s + 2], 17, 606105819), c = f(c, g, k, e, b[s + 3], 22, -1044525330),
                    e = f(e, c, g, k, b[s + 4], 7, -176418897), k = f(k, e, c, g, b[s + 5], 12, 1200080426), g = f(g, k, e, c, b[s + 6], 17, -1473231341), c = f(c, g, k, e, b[s + 7], 22, -45705983), e = f(e, c, g, k, b[s + 8], 7, 1770035416), k = f(k, e, c, g, b[s + 9], 12, -1958414417), g = f(g, k, e, c, b[s + 10], 17, -42063), c = f(c, g, k, e, b[s + 11], 22, -1990404162), e = f(e, c, g, k, b[s + 12], 7, 1804603682), k = f(k, e, c, g, b[s + 13], 12, -40341101), g = f(g, k, e, c, b[s + 14], 17, -1502002290), c = f(c, g, k, e, b[s + 15], 22, 1236535329), e = h(e, c, g, k, b[s + 1], 5, -165796510), k = h(k, e, c, g, b[s + 6], 9, -1069501632), g = h(g, k, e, c, b[s + 11], 14, 643717713),
                    c = h(c, g, k, e, b[s + 0], 20, -373897302), e = h(e, c, g, k, b[s + 5], 5, -701558691), k = h(k, e, c, g, b[s + 10], 9, 38016083), g = h(g, k, e, c, b[s + 15], 14, -660478335), c = h(c, g, k, e, b[s + 4], 20, -405537848), e = h(e, c, g, k, b[s + 9], 5, 568446438), k = h(k, e, c, g, b[s + 14], 9, -1019803690), g = h(g, k, e, c, b[s + 3], 14, -187363961), c = h(c, g, k, e, b[s + 8], 20, 1163531501), e = h(e, c, g, k, b[s + 13], 5, -1444681467), k = h(k, e, c, g, b[s + 2], 9, -51403784), g = h(g, k, e, c, b[s + 7], 14, 1735328473), c = h(c, g, k, e, b[s + 12], 20, -1926607734), e = m(e, c, g, k, b[s + 5], 4, -378558), k = m(k, e, c, g, b[s + 8], 11, -2022574463),
                    g = m(g, k, e, c, b[s + 11], 16, 1839030562), c = m(c, g, k, e, b[s + 14], 23, -35309556), e = m(e, c, g, k, b[s + 1], 4, -1530992060), k = m(k, e, c, g, b[s + 4], 11, 1272893353), g = m(g, k, e, c, b[s + 7], 16, -155497632), c = m(c, g, k, e, b[s + 10], 23, -1094730640), e = m(e, c, g, k, b[s + 13], 4, 681279174), k = m(k, e, c, g, b[s + 0], 11, -358537222), g = m(g, k, e, c, b[s + 3], 16, -722521979), c = m(c, g, k, e, b[s + 6], 23, 76029189), e = m(e, c, g, k, b[s + 9], 4, -640364487), k = m(k, e, c, g, b[s + 12], 11, -421815835), g = m(g, k, e, c, b[s + 15], 16, 530742520), c = m(c, g, k, e, b[s + 2], 23, -995338651), e = q(e, c, g, k, b[s + 0], 6, -198630844),
                    k = q(k, e, c, g, b[s + 7], 10, 1126891415), g = q(g, k, e, c, b[s + 14], 15, -1416354905), c = q(c, g, k, e, b[s + 5], 21, -57434055), e = q(e, c, g, k, b[s + 12], 6, 1700485571), k = q(k, e, c, g, b[s + 3], 10, -1894986606), g = q(g, k, e, c, b[s + 10], 15, -1051523), c = q(c, g, k, e, b[s + 1], 21, -2054922799), e = q(e, c, g, k, b[s + 8], 6, 1873313359), k = q(k, e, c, g, b[s + 15], 10, -30611744), g = q(g, k, e, c, b[s + 6], 15, -1560198380), c = q(c, g, k, e, b[s + 13], 21, 1309151649), e = q(e, c, g, k, b[s + 4], 6, -145523070), k = q(k, e, c, g, b[s + 11], 10, -1120210379), g = q(g, k, e, c, b[s + 2], 15, 718787259), c = q(c, g, k, e, b[s + 9], 21, -343485551), e = n(e, l), c = n(c, w), g = n(g, I), k = n(k, C), s += 16;
                return [e, c, g, k]
            };
            g = function(b, e, f, c, g, h) {
                return n(d(n(n(e, b), n(c, h)), g), f)
            };
            f = function(b, d, e, f, c, h, m) {
                return g(d & e | ~d & f, b, d, c, h, m)
            };
            h = function(b, d, e, f, c, h, m) {
                return g(d & f | e & ~f, b, d, c, h, m)
            };
            m = function(b, d, e, f, c, h, m) {
                return g(d ^ e ^ f, b, d, c, h, m)
            };
            q = function(b, d, e, f, c, h, m) {
                return g(e ^ (d | ~f), b, d, c, h, m)
            };
            n = function(b, d) {
                var e;
                e = (b & 65535) + (d & 65535);
                return (b >> 16) + (d >> 16) + (e >> 16) << 16 | e & 65535
            };
            d = function(b, d) {
                return b << d | b >>> 32 - d
            };
            return function(b) {
                return l(I(C(b)))
            }
        }()
    };
    "undefined" !== typeof module && null !== module && (module.exports = gb);
    var Za, $c;
    Za = null != ($c = "undefined" !== typeof module && null !== module ? module.exports : void 0) ? $c : {};
    Za.Server = function() {
        function c(b) {
            var d;
            if (!b) return null;
            b = b.split(".");
            if (0 < b.length) {
                var e, c, f;
                f = [];
                e = 0;
                for (c = b.length; e < c; e++) d = b[e], f.push(parseInt(d, 10) || 0);
                this.parts = f
            } else this.parts = [0]
        }
        c.prototype.toString = function() {
            return this.parts.join(".")
        };
        c.prototype.toJSON = function() {
            return this.toString()
        };
        c.prototype.lessThan = function(b) {
            return (b =
                this.compareTo(b)) && 0 > b
        };
        c.prototype.greaterThan = function(b) {
            return (b = this.compareTo(b)) && 0 < b
        };
        c.prototype.equalTo = function(b) {
            return (b = this.compareTo(b)) && 0 === b
        };
        c.prototype.compareTo = function(b) {
            var d, e, c, f, h;
            if (_.isString(b)) b = new Za.Server(b);
            else if (!(b instanceof Za.Server)) return null;
            d = Math.max(this.parts.length, b.parts.length);
            h = _.zip(this.parts, b.parts);
            c = 0;
            for (f = h.length; c < f; c++) {
                e = h[c];
                b = e[0];
                e = e[1];
                null == b && (b = 0);
                null == e && (e = 0);
                if (b > e) return d;
                if (e > b) return -d;
                d--
            }
            return 0
        };
        c.compareStringVersions =
            function(b, d) {
                return (new Za.Server(b)).compareTo(d)
            };
        c.prototype.supports = function(b) {
            var d;
            d = b.minServerVersion;
            b = b.maxServerVersion;
            return (!d || this.greaterThan(d)) && (!b || this.lessThan(b))
        };
        return c
    }();
    Za.Client = function() {
        function c(b) {
            var d;
            null == b && (b = {});
            this.head = null != (d = b.head) ? d : "dev";
            this.version = parseInt(b.version) || 0;
            this.patch = parseInt(b.patch) || 0;
            this.minServerVersion = new Za.Server(b.minServerVersion);
            this.maxServerVersion = new Za.Server(b.maxServerVersion)
        }
        c.prototype.toString = function() {
            return "" +
                this.head + "-" + this.fullVersion()
        };
        c.prototype.toJSON = function() {
            return this.toString()
        };
        c.prototype.fullVersion = function() {
            return _.compact([this.version, this.patch]).join(".") || 0
        };
        return c
    }();
    if ("function" === typeof require) var l = require("./sharedUtil.coffee"),
        Ab = require("./sharedDate.coffee").getDateDeltaString,
        Ia = require("../server/trelloMarkdownFormatters").TFM;
    var hb, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    hb = function() {
        function c(b) {
            null == b && (b = {});
            this.orderEntityList =
                k(this.orderEntityList, this);
            this.attachmentPreviewEntity = k(this.attachmentPreviewEntity, this);
            this.attachmentEntity = k(this.attachmentEntity, this);
            this.labelEntity = k(this.labelEntity, this);
            this.commentEntity = k(this.commentEntity, this);
            this.checkItemEntity = k(this.checkItemEntity, this);
            this.checklistEntity = k(this.checklistEntity, this);
            this.listEntity = k(this.listEntity, this);
            this.organizationEntity = k(this.organizationEntity, this);
            this.boardEntity = k(this.boardEntity, this);
            this.cardEntity = k(this.cardEntity,
                this);
            this._getNameForBoard = k(this._getNameForBoard, this);
            this.relDateEntity = k(this.relDateEntity, this);
            this.textEntity = k(this.textEntity, this);
            this.memberEntity = k(this.memberEntity, this);
            this.getOrganizationUrl = k(this.getOrganizationUrl, this);
            this.getBoardUrl = k(this.getBoardUrl, this);
            this.getCardUrl = k(this.getCardUrl, this);
            this.makeFullUrl = k(this.makeFullUrl, this);
            this.fullUrls = b.fullUrls;
            this.domain = b.domain
        }
        var b;
        c.prototype.getId = function(b) {
            var e, c;
            return null != (e = null != (c = b.id) ? c : b._id) ? e.toString() :
                void 0
        };
        c.prototype.makeFullUrl = function(b) {
            return this.fullUrls ? "" + this.domain + "/" + b : "/" + b
        };
        b = function(b) {
            return null != b && b.toJSON ? b.toJSON() : b
        };
        c.prototype.getCardUrl = function(d, e) {
            d = b(d);
            e = b(e);
            return e.shortLink ? this.makeFullUrl("c/" + e.shortLink + "/" + e.idShort + "-" + l.makeSlug(e.name)) : e.idShort ? this.makeFullUrl("card/" + l.makeSlug(e.name) + "/" + this.getId(d) + "/" + e.idShort) : this.makeFullUrl("card/board/" + l.makeSlug(e.name) + "/" + this.getId(d) + "/" + this.getId(e))
        };
        c.prototype.getBoardUrl = function(d) {
            d =
                b(d);
            return d.shortLink ? this.makeFullUrl("b/" + d.shortLink + "/" + l.makeSlug(d.name)) : this.makeFullUrl("board/" + l.makeSlug(d.name) + "/" + this.getId(d))
        };
        c.prototype.getOrganizationUrl = function(b) {
            return this.makeFullUrl(this.getId(b))
        };
        c.prototype.getMember = function(b) {
            throw Error("not implemented");
        };
        c.prototype.getDateMs = function(b) {
            throw Error("not implemented");
        };
        c.prototype.getBoard = function(b) {
            return {}
        };
        c.prototype.memberEntity = function(d) {
            var e;
            e = b(this.getMember(d));
            return !e ? {
                type: "member",
                _id: "" +
                    this.idAction + "_" + d
            } : {
                type: "member",
                _id: "" + this.idAction + "_" + e._id,
                id: this.getId(e),
                avatarHash: e.avatarHash,
                gravatarHash: e.gravatarHash,
                initials: e.initials,
                fullName: e.fullName,
                username: e.username
            }
        };
        c.prototype.textEntity = function(b, e, c) {
            null == c && (c = !1);
            b = {
                type: "text",
                _id: "" + this.idAction + "_" + b,
                text: b
            };
            c && (b.hideIfContext = !0, b.idContext = e);
            return b
        };
        c.prototype.relDateEntity = function(b, e) {
            var c, f;
            null == e && (e = "");
            c = (new Date(b)).getTime();
            f = new Date;
            return {
                type: "relDate",
                _id: "" + this.idAction + "_" + b,
                text: e,
                date: b,
                current: "" + (c > f ? "is" : "was") + " " + e + " " + Ab(c, f, {
                    timezoneAbbreviation: b.timezoneAbbreviation
                })
            }
        };
        c.prototype._getNameForBoard = function(b) {
            var e, c;
            if (b && null != b.id && null == b.name) return _.extend(b, null != (e = null != (c = this.getBoard(b.id)) ? c.toJSON() : void 0) ? e : {})
        };
        c.prototype.cardEntity = function(b, e, c) {
            null == c && (c = !1);
            c = _.extend({
                type: "card",
                hideIfContext: c,
                _id: "" + this.idAction + "_" + b.id
            }, b);
            return e ? (this._getNameForBoard(e), _.extend(c, {
                url: this.getCardUrl(e, b)
            })) : c
        };
        c.prototype.boardEntity =
            function(b) {
                this._getNameForBoard(b);
                return null != (null != b ? b.name : void 0) ? _.extend({
                    type: "board",
                    url: this.getBoardUrl(b),
                    _id: "" + this.idAction + "_" + b.id
                }, b) : this.textEntity("another board")
            };
        c.prototype.organizationEntity = function(b) {
            return _.extend({
                type: "organization",
                url: this.getOrganizationUrl(b),
                _id: "" + this.idAction + "_" + b.id
            }, b)
        };
        c.prototype.listEntity = function(b, e) {
            var c;
            c = "" + this.idAction + "_" + b.id;
            e && (c += "_" + e);
            return _.extend({
                type: "list",
                _id: c
            }, b)
        };
        c.prototype.checklistEntity = function(b) {
            return _.extend({
                type: "checklist",
                _id: "" + this.idAction + "_" + b.id
            }, b)
        };
        c.prototype.checkItemEntity = function(b, e) {
            var c;
            c = {
                type: "checkItem",
                _id: "" + this.idAction + "_" + b.id,
                nameHtml: Ia.checkItems.format(b.name, {
                    card: e.card,
                    board: e.board,
                    textData: b.textData
                }).output
            };
            return _.extend(c, b)
        };
        c.prototype.commentEntity = function(b, e) {
            var c, f, h;
            f = e.card;
            c = e.board;
            h = e.embedly;
            c = {
                type: "comment",
                _id: "" + this.idAction + "_comment",
                text: b,
                textHtml: Ia.comments.format(b, {
                    card: f,
                    board: c,
                    domain: this.domain,
                    textData: e.textData
                }).output
            };
            null != h && (c.embedly =
                h);
            return c
        };
        c.prototype.labelEntity = function(b, e) {
            return {
                type: "label",
                _id: "" + this.idAction + "_label",
                color: b,
                text: e
            }
        };
        c.prototype.attachmentEntity = function(b) {
            b = _.extend({
                type: "attachment",
                _id: "" + this.idAction + "_" + b.id
            }, b);
            b.link = b.url && !b.isDeleted;
            return b
        };
        c.prototype.attachmentPreviewEntity = function(b) {
            var e;
            b = _.extend({
                type: "attachmentPreview",
                _id: "" + this.idAction + "_" + b.id + "_preview"
            }, b);
            b.isImage = b.url && !b.isDeleted && l.extensionIsImage(b.url) && ("function" === typeof l.isTrelloAttachment ? l.isTrelloAttachment(b.url) :
                void 0);
            b.canPreview = b.isImage;
            b.originalUrl = b.url;
            b.url = null != (e = b.previewUrl) ? e : b.url;
            return b
        };
        c.prototype.orderEntityList = function(b) {
            var e, c, f, h;
            f = e = 0;
            for (h = b.length; f < h; f++) c = b[f], c.order = e++;
            return b
        };
        return c
    }();
    "undefined" !== typeof module && null !== module && (module.exports.EntityListGenerator = hb);
    var ad, Lb, ic, bd;
    bd = !1;
    "function" === typeof require && (require("date-utils"), bd = !0);
    bd ? (Vc = "H:MI P", Wc = "MMM D", Xc = "MMM D, YYYY", Lb = function(c, b) {
        return c.toFormat(b)
    }) : (Vc = "h:mm tt", Wc = "MMM d", Xc = "MMM d, yyyy",
        Lb = function(c, b) {
            return c.toString(b)
        });
    ic = function(c, b) {
        return c.getYear() === b.getYear() && c.getMonth() === b.getMonth() && c.getDate() === b.getDate()
    };
    ad = function(c, b) {
        return new Date(c.getTime() + 864E5 * b)
    };
    Ab = function(c, b, d) {
        var e, g, f;
        f = null != d ? d : {};
        d = f.timeFormat;
        f = f.timezoneAbbreviation;
        c = new Date(c);
        e = Math.abs((b - c) / 1E3);
        g = c > b;
        if (10 > e) return g ? "now" : "just now";
        if (120 > e) return g ? "in a minute" : "a minute ago";
        e = Math.floor(e / 60);
        if (60 > e) return g ? "in " + e + " minutes" : "" + e + " minutes ago";
        if (120 > e) return g ?
            "in an hour" : "an hour ago";
        e = Math.floor(e / 60);
        d = " at " + Lb(c, null != d ? d : Vc).toLowerCase();
        null != f && (d += " (" + f + ")");
        return 3 > e ? g ? "in " + e + " hours" : "" + e + " hours ago" : ic(b, c) ? "today" + d : ic(ad(b, -1), c) ? "yesterday" + d : ic(ad(b, 1), c) ? "tomorrow" + d : 90 > Math.floor(e / 24) ? Lb(c, Wc) + d : Lb(c, Xc) + d
    };
    "undefined" !== typeof module && null !== module && (module.exports.getDateDeltaString = Ab);
    if ("function" === typeof require) {
        hb = require("./entityListGenerator.coffee").EntityListGenerator;
        var l = require("./sharedUtil.coffee"),
            ib = require("./sharedPowerUps.coffee")
    }
    var Mb,
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    Mb = null;
    (function() {
        var c, b, d, e, g, f, h;
        Mb = function(f) {
            function c() {
                this.groupActions = k(this.groupActions, this);
                this.getEntityLists = k(this.getEntityLists,
                    this);
                this.getEntityList = k(this.getEntityList, this);
                this.getSingleEntityList = k(this.getSingleEntityList, this);
                this._getData = k(this._getData, this);
                this.getPowerUpEntityList = k(this.getPowerUpEntityList, this);
                this.getBoardInvitationEntityList = k(this.getBoardInvitationEntityList, this);
                this.getOrganizationInvitationEntityList = k(this.getOrganizationInvitationEntityList, this);
                this.getOrganizationEntityList = k(this.getOrganizationEntityList, this);
                this.getCheckItemEntityList = k(this.getCheckItemEntityList, this);
                this.getChecklistEntityList = k(this.getChecklistEntityList, this);
                this.getListEntityList = k(this.getListEntityList, this);
                this.getMemberEntityList = k(this.getMemberEntityList, this);
                this.getCardEntityList = k(this.getCardEntityList, this);
                this.getBoardEntityList = k(this.getBoardEntityList, this);
                this.visibleTypes = _.difference(h, d)
            }
            var g, w, I, t, C, G;
            n(c, f);
            t = function(b) {
                return /Card$/.test(b.type)
            };
            I = function(b) {
                return b.idMemberCreator
            };
            G = function(b) {
                return "commentCard" === b || "copyCommentCard" === b || "deleteCard" ===
                    b || "moveCardFromBoard" === b || "moveCardToBoard" === b || "addAttachmentToCard" === b
            };
            g = function(b, d) {
                var e, f;
                e = b.toJSON();
                f = d.toJSON();
                return I(e) !== I(f) || (!t(e) || !t(f)) || (!e.data.card || !f.data.card) || e.data.card.id !== f.data.card.id || G(e.type) || G(f.type) ? !1 : !0
            };
            w = function(b, d) {
                var e, f;
                e = b.toJSON();
                f = d.toJSON();
                return G(f.type) || 3E5 < Math.abs(l.parseDate(e.date) - l.parseDate(f.date)) || t(e) && t(f) && I(e) !== I(f) ? !0 : !1
            };
            C = function(b) {
                var d, e, f, c, g, h, m, q, k, s, l, w;
                if (1 === b.length) return b;
                f = {};
                q = function(b, d) {
                    var e,
                        f, c, g, h, m;
                    f = ["name", "desc", "pos", "closed"];
                    c = 0;
                    for (g = f.length; c < g; c++)
                        if (e = f[c], null != (null != (h = b.old) ? h[e] : void 0) && null != (null != (m = d.old) ? m[e] : void 0)) return !0;
                    return null != b.listBefore && null != d.listBefore
                };
                h = k = 0;
                for (l = b.length; k < l; h = ++k) {
                    d = b[h];
                    m = s = 0;
                    for (w = b.length; s < w; m = ++s)
                        if (e = b[m], h !== m && !f[d.id] && !f[e.id]) {
                            c = d.toJSON();
                            g = e.toJSON();
                            _.extend(c, c.data);
                            _.extend(g, g.data);
                            if ("addMemberToCard" === c.type && "removeMemberFromCard" === g.type && c.idMember === g.idMember || "voteOnCard" === c.type && "voteOnCard" ===
                                g.type && c.voted !== g.voted || "addLabelToCard" === c.type && "removeLabelFromCard" === g.type && c.value === g.value || "addAttachmentToCard" === c.type && "deleteAttachmentFromCard" === g.type && c.attachment.id === g.attachment.id || "addChecklistToCard" === c.type && "removeChecklistFromCard" === g.type && c.value === g.value || "updateCheckItemStateOnCard" === c.type && "updateCheckItemStateOnCard" === g.type && c.checkItem.name === g.checkItem.name && c.checkItem.state !== g.checkItem.state) f[d.id] = !0, f[e.id] = !0;
                            h < m && "updateCard" === c.type && ("updateCard" ===
                                g.type && q(c, g)) && (f[e.id] = !0)
                        }
                }
                return _.reject(b, function(b) {
                    return f[b.id]
                })
            };
            c.prototype.getBoardEntityList = function(b, d) {
                var e, f, c, g, h, m, q, k, s, l, w, I, C, n, t, G, v, T, x, y, A, B, D, F, H, K, M;
                switch (b.type) {
                    case "createBoard":
                        return [this.textEntity("created"), this.boardEntity(b.board)];
                    case "copyBoard":
                        return [this.textEntity("copied this board from"), this.boardEntity(b.boardSource)];
                    case "updateBoard":
                        if (null != (null != (f = b.old) ? f.name : void 0)) return [this.textEntity("renamed"), this.boardEntity(b.board), this.textEntity("(from " +
                            b.old.name + ")")];
                        if (null != (null != (g = b.old) ? g.desc : void 0)) return [this.textEntity("changed description of"), this.boardEntity(b.board)];
                        if (null != (null != (n = b.old) ? n.closed : void 0)) return [this.textEntity(b.board.closed ? "closed" : "re-opened"), this.boardEntity(b.board)];
                        if (null != (null != (A = b.old) ? null != (B = A.prefs) ? B.background : void 0 : void 0)) return [this.textEntity("changed the background of"), this.boardEntity(b.board)];
                        if (null != (null != (D = b.old) ? D.prefs : void 0)) {
                            f = function(d) {
                                return function(e, f, c, g) {
                                    var h,
                                        m;
                                    h = null != (m = b.board.prefs) ? m[e] : void 0;
                                    if ("none" === h || "disabled" === h) return [d.textEntity(c), d.boardEntity(b.board)];
                                    e = function() {
                                        switch (h) {
                                            case "members":
                                            case "private":
                                                return "its members";
                                            case "observers":
                                                return "members and observers";
                                            case "org":
                                                return "members of its organization";
                                            case "public":
                                                return "the public";
                                            case "admins":
                                                return "its admins"
                                        }
                                    }();
                                    return [d.textEntity(f), d.boardEntity(b.board), d.textEntity("" + g + " to " + e)]
                                }
                            }(this);
                            g = function(d) {
                                return function(e, f) {
                                    return [d.textEntity((e ? "enabled" :
                                        "disabled") + (" " + f + " on")), d.boardEntity(b.board)]
                                }
                            }(this);
                            if (null != (null != (F = b.old) ? null != (H = F.prefs) ? H.voting : void 0 : void 0)) return f("voting", "made voting on", "disabled voting on", "available");
                            if (null != (null != (K = b.old) ? null != (M = K.prefs) ? M.comments : void 0 : void 0)) return f("comments", "made commenting on", "disabled commenting on", "available");
                            if (null != (null != (c = b.old) ? null != (h = c.prefs) ? h.invitations : void 0 : void 0)) return f("invitations", "made inviting on", "disabled inviting on", "available");
                            if (null !=
                                (null != (m = b.old) ? null != (q = m.prefs) ? q.permissionLevel : void 0 : void 0)) return f("permissionLevel", "made", "hid", "visible");
                            if (null != (null != (k = b.old) ? null != (s = k.prefs) ? s.selfJoin : void 0 : void 0)) return g(null != (l = b.board.prefs) ? l.selfJoin : void 0, "self join");
                            if (null != (null != (w = b.old) ? null != (I = w.prefs) ? I.cardCovers : void 0 : void 0)) return g(null != (C = b.board.prefs) ? C.cardCovers : void 0, "card cover images");
                            if (null != (null != (t = b.old) ? null != (G = t.prefs) ? G.cardAging : void 0 : void 0)) return c = ib.cardAgingModes[null !=
                                (e = b.board.prefs) ? e.cardAging : void 0], [this.textEntity("changed card aging to " + c + " mode")];
                            if (null != (null != (v = b.old) ? null != (T = v.prefs) ? T.calendarFeedEnabled : void 0 : void 0)) return c = ib.calendarFeedEnabledVerbs[null != (x = b.board.prefs) ? x.calendarFeedEnabled : void 0], [this.textEntity("" + c + " the iCalendar feed on this board")]
                        }
                        break;
                    case "addMemberToBoard":
                        return null != b.idMemberAdded && b.idMemberAdded !== b.idMemberCreator ? (e = [this.textEntity("added"), this.memberEntity(b.idMemberAdded), this.textEntity("to"),
                            this.boardEntity(b.board)
                        ], null != b.memberType && "normal" !== b.memberType && e.push(this.textEntity("as an " + b.memberType)), e) : [this.textEntity("joined"), this.boardEntity(b.board)];
                    case "removeMemberFromBoard":
                        return b.idMember === d ? [this.textEntity("left"), this.boardEntity(b.board)] : [this.textEntity("removed"), this.memberEntity(b.idMember), this.textEntity("from"), this.boardEntity(b.board)];
                    case "addAdminToBoard":
                        return [this.textEntity("made"), this.memberEntity(b.idMember), this.textEntity("an admin of"),
                            this.boardEntity(b.board)
                        ];
                    case "removeAdminFromBoard":
                        return b.idMember === d ? [this.textEntity("became a normal user on"), this.boardEntity(b.board)] : [this.textEntity("made"), this.memberEntity(b.idMember), this.textEntity("a normal user on"), this.boardEntity(b.board)];
                    case "makeAdminOfBoard":
                        return b.idMember === d ? [this.textEntity("made themselves an admin of"), this.boardEntity(b.board)] : [this.textEntity("made"), this.memberEntity(b.idMember), this.textEntity("an admin of"), this.boardEntity(b.board)];
                    case "makeObserverOfBoard":
                        return b.idMember ===
                            d ? [this.textEntity("became an observer of"), this.boardEntity(b.board)] : [this.textEntity("made"), this.memberEntity(b.idMember), this.textEntity("an observer of"), this.boardEntity(b.board)];
                    case "makeNormalMemberOfBoard":
                        return b.idMember === d ? [this.textEntity("became a normal user on"), this.boardEntity(b.board)] : [this.textEntity("made"), this.memberEntity(b.idMember), this.textEntity("a normal user on"), this.boardEntity(b.board)];
                    case "addToOrganizationBoard":
                        return [this.textEntity("added"), this.boardEntity(b.board),
                            this.textEntity("to"), this.organizationEntity(b.organization)
                        ];
                    case "removeFromOrganizationBoard":
                        return [this.textEntity("removed"), this.boardEntity(b.board), this.textEntity("from"), this.organizationEntity(null != (y = b.organization) ? y : {})];
                    case "moveCardFromBoard":
                        return [this.textEntity("transferred"), this.cardEntity(b.card, b.boardTarget), this.textEntity("to"), this.boardEntity(b.boardTarget)];
                    case "moveCardToBoard":
                        return [this.textEntity("transferred"), this.cardEntity(b.card, b.board), this.textEntity("from"),
                            this.boardEntity(b.boardSource)
                        ];
                    case "moveListFromBoard":
                        return [this.textEntity("transferred"), this.listEntity(b.list), this.textEntity("to"), this.boardEntity(b.boardTarget)];
                    case "moveListToBoard":
                        return [this.textEntity("transferred"), this.listEntity(b.list), this.textEntity("from"), this.boardEntity(b.boardSource)]
                }
            };
            c.prototype.getCardEntityList = function(b, d, e) {
                var f, c, g, h, m, q;
                f = null != (c = e.grouped) ? c : !1;
                if (e.includeBoard) return _.flatten([this.getCardEntityList(b, d, _.extend({}, e, {
                        includeBoard: !1
                    })),
                    this.textEntity("on"), this.boardEntity(b.board)
                ]);
                switch (b.type) {
                    case "createCard":
                        return [this.textEntity("added"), this.cardEntity(b.card, b.board), this.textEntity("to"), this.listEntity(b.list)];
                    case "deleteCard":
                        return [this.textEntity("deleted card #" + b.card.idShort), this.textEntity("from"), this.listEntity(b.list)];
                    case "copyCard":
                        return [this.textEntity("copied"), this.cardEntity(b.card, b.board), this.textEntity("from"), this.cardEntity(b.cardSource, b.board), this.textEntity("in list"), this.listEntity(b.list)];
                    case "emailCard":
                        return f = [this.textEntity("emailed"), this.cardEntity(b.card, b.board), this.textEntity("to"), this.listEntity(b.list)], null != b.sourceEmail && (f.push(this.textEntity("from")), f.push(this.textEntity(b.sourceEmail))), f;
                    case "updateCard":
                        if (null != b.listBefore) return f ? [this.textEntity("moved from"), this.listEntity(b.listBefore, "old"), this.textEntity("to"), this.listEntity(b.listAfter)] : [this.textEntity("moved"), this.cardEntity(b.card, b.board), this.textEntity("from"), this.listEntity(b.listBefore,
                            "old"), this.textEntity("to"), this.listEntity(b.listAfter)];
                        if (null != (null != (g = b.old) ? g.name : void 0)) return f ? [this.textEntity("changed the name (from " + b.old.name + ")")] : [this.textEntity("renamed"), this.cardEntity(b.card, b.board), this.textEntity("(from " + b.old.name + ")")];
                        if (null != (null != (h = b.old) ? h.desc : void 0)) return f ? [this.textEntity("changed description")] : [this.textEntity("changed description of"), this.cardEntity(b.card, b.board)];
                        if (null != (null != (m = b.old) ? m.pos : void 0)) return d = b.old.pos < b.card.pos,
                            f ? [this.textEntity("moved " + (d ? "higher" : "lower"))] : [this.textEntity("moved"), this.cardEntity(b.card, b.board), this.textEntity(d ? "higher" : "lower")];
                        if (null != (null != (q = b.old) ? q.closed : void 0)) {
                            if (f) return [this.textEntity(b.card.closed ? "archived" : "sent to the board")];
                            f = [this.textEntity(b.card.closed ? "archived" : "sent"), this.cardEntity(b.card, b.board)];
                            b.card.closed || f.push(this.textEntity("to the board"));
                            return f
                        }
                        break;
                    case "commentCard":
                        return [this.textEntity("on", b.card.id, !0), this.cardEntity(b.card,
                            b.board, !0), this.commentEntity(b.text, _.pick(b, ["card", "board", "embedly", "textData"]))];
                    case "copyCommentCard":
                        return [this.textEntity("copied comment by"), this.memberEntity(b.idOriginalCommenter), this.textEntity("from card"), this.cardEntity(b.cardSource, b.board, !0), this.commentEntity(b.text, _.pick(b, ["card", "board", "embedly", "textData"]))];
                    case "addMemberToCard":
                        return b.idMember === d ? f ? [this.textEntity("joined")] : [this.textEntity("joined"), this.cardEntity(b.card, b.board)] : f ? [this.textEntity("added"),
                            this.memberEntity(b.idMember)
                        ] : [this.textEntity("added"), this.memberEntity(b.idMember), this.textEntity("to"), this.cardEntity(b.card, b.board)];
                    case "removeMemberFromCard":
                        return b.idMember === d ? f ? [this.textEntity("left")] : [this.textEntity("left"), this.cardEntity(b.card, b.board)] : f ? [this.textEntity("removed"), this.memberEntity(b.idMember)] : [this.textEntity("removed"), this.memberEntity(b.idMember), this.textEntity("from"), this.cardEntity(b.card, b.board)];
                    case "addChecklistToCard":
                        return f ? [this.textEntity("added"),
                            this.checklistEntity(b.checklist)
                        ] : [this.textEntity("added"), this.checklistEntity(b.checklist), this.textEntity("to"), this.cardEntity(b.card, b.board)];
                    case "removeChecklistFromCard":
                        return f ? [this.textEntity("removed"), this.checklistEntity(b.checklist)] : [this.textEntity("removed"), this.checklistEntity(b.checklist), this.textEntity("from"), this.cardEntity(b.card, b.board)];
                    case "voteOnCard":
                        return [this.textEntity(b.voted ? "voted for" : "removed vote for"), this.cardEntity(b.card, b.board)];
                    case "addLabelToCard":
                        return f ? [this.textEntity("added"), this.labelEntity(b.value, b.text)] : [this.textEntity("added the"), this.labelEntity(b.value, b.text), this.textEntity("label to"), this.cardEntity(b.card, b.board)];
                    case "removeLabelFromCard":
                        return f ? [this.textEntity("removed"), this.labelEntity(b.value, b.text)] : [this.textEntity("removed the"), this.labelEntity(b.value, b.text), this.textEntity("label from"), this.cardEntity(b.card, b.board)];
                    case "updateCheckItemStateOnCard":
                        return d = "complete" === b.checkItem.state, f ? (f = [this.textEntity(d ?
                            "completed" : "marked"), this.checkItemEntity(b.checkItem, _.pick(b, ["card", "board", "checkItem"]))], d || f.push(this.textEntity("incomplete")), f) : [this.textEntity(d ? "completed" : "marked"), this.checkItemEntity(b.checkItem, _.pick(b, ["card", "board", "checkItem"])), this.textEntity(d ? "on" : "incomplete on"), this.cardEntity(b.card, b.board)];
                    case "addAttachmentToCard":
                        return f ? [this.textEntity("attached"), this.attachmentEntity(b.attachment), this.attachmentPreviewEntity(b.attachment)] : [this.textEntity("attached"),
                            this.attachmentEntity(b.attachment), this.textEntity("to"), this.cardEntity(b.card, b.board), this.attachmentPreviewEntity(b.attachment)
                        ];
                    case "deleteAttachmentFromCard":
                        return f ? [this.textEntity("deleted"), this.attachmentEntity(b.attachment)] : [this.textEntity("deleted the"), this.attachmentEntity(b.attachment), this.textEntity("attachment from"), this.cardEntity(b.card, b.board)]
                }
            };
            c.prototype.getMemberEntityList = function(b, d) {
                var e, f, c, g;
                switch (b.type) {
                    case "updateMember":
                        if (null != (null != (e = b.old) ? e.bio :
                            void 0)) return [this.textEntity("updated their bio")];
                        if (null != (null != (f = b.old) ? f.username : void 0)) return [this.textEntity("updated their username")];
                        if (null != (null != (c = b.old) ? c.initials : void 0)) return [this.textEntity("updated their initials")];
                        if (null != (null != (g = b.old) ? g.fullName : void 0)) return [this.textEntity("updated their display name")]
                }
            };
            c.prototype.getListEntityList = function(b, d, e) {
                var f, c, g, h;
                if (e.includeBoard) return _.flatten([this.getListEntityList(b, d, _.extend({}, e, {
                        includeBoard: !1
                    })), this.textEntity("on"),
                    this.boardEntity(b.board)
                ]);
                switch (b.type) {
                    case "createList":
                        return [this.textEntity("added"), this.listEntity(b.list), this.textEntity("to"), this.boardEntity(b.board)];
                    case "updateList":
                        if (null != (null != (c = b.old) ? c.name : void 0)) return [this.textEntity("renamed"), this.listEntity(b.list), this.textEntity("(from " + b.old.name + ")")];
                        if (null != (null != (g = b.old) ? g.pos : void 0)) return d = (null != (f = b.old) ? f.pos : void 0) > b.list.pos, [this.textEntity("moved"), this.listEntity(b.list), this.textEntity((d ? "left" : "right") +
                            " on"), this.boardEntity(b.board)];
                        if (null != (null != (h = b.old) ? h.closed : void 0)) return f = [this.textEntity(b.list.closed ? "archived" : "sent"), this.listEntity(b.list)], b.list.closed || f.push(this.textEntity("to the board")), f
                }
            };
            c.prototype.getChecklistEntityList = function(b, d) {
                var e;
                switch (b.type) {
                    case "createChecklist":
                        return [this.textEntity("created"), this.checklistEntity(b.checklist), this.textEntity("on"), this.boardEntity(b.board)];
                    case "updateChecklist":
                        if (null != (null != (e = b.old) ? e.name : void 0)) return [this.textEntity("renamed"),
                            this.checklistEntity(b.checklist), this.textEntity("(from " + b.old.name + ")")
                        ]
                }
            };
            c.prototype.getCheckItemEntityList = function(b, d) {
                var e, f, c;
                b.textData = null != (e = b.checkItem) ? e.textData : void 0;
                e = _.pick(b, ["card", "board", "textData", "checkItem"]);
                switch (b.type) {
                    case "updateCheckItem":
                        if (null != (null != (f = b.old) ? f.name : void 0)) return [this.textEntity("renamed"), this.checkItemEntity(b.checkItem, e), this.textEntity("(from " + b.old.name + ")")];
                        if (null != (null != (c = b.old) ? c.pos : void 0)) return f = b.old.pos > b.checkItem.pos, [this.textEntity("moved"), this.checkItemEntity(b.checkItem, e), this.textEntity((f ? "higher" : "lower") + " in the checklist"), this.checklistEntity(b.checklist)];
                        break;
                    case "deleteCheckItem":
                        return [this.textEntity("deleted task"), this.checkItemEntity(b.checkItem, e), this.textEntity("on"), this.checklistEntity(b.checklist)];
                    case "convertToCardFromCheckItem":
                        return [this.textEntity("converted"), this.cardEntity(b.card, b.board), this.textEntity("from a checklist item on"), this.cardEntity(b.cardSource, b.board)]
                }
            };
            c.prototype.getOrganizationEntityList = function(b, d) {
                var e, f, c, g;
                switch (b.type) {
                    case "createOrganization":
                        return [this.textEntity("created"), this.organizationEntity(b.organization)];
                    case "updateOrganization":
                        if (null != (null != (e = b.old) ? e.desc : void 0)) return [this.textEntity("changed description of"), this.organizationEntity(b.organization)];
                        if (null != (null != (f = b.old) ? f.name : void 0)) return [this.textEntity("changed name of"), this.organizationEntity(b.organization)];
                        if (null != (null != (c = b.old) ? c.displayName :
                            void 0)) return [this.textEntity("changed display name of"), this.organizationEntity(b.organization)];
                        if (null != (null != (g = b.old) ? g.website : void 0)) return [this.textEntity("changed website of"), this.organizationEntity(b.organization)];
                        break;
                    case "addMemberToOrganization":
                        return null != b.idMemberAdded && b.idMemberAdded !== b.idMemberCreator ? (e = [this.textEntity("added"), this.memberEntity(b.idMemberAdded), this.textEntity("to"), this.organizationEntity(b.organization)], null != b.memberType && "normal" !== b.memberType &&
                            e.push(this.textEntity("as an " + b.memberType)), e) : [this.textEntity("joined"), this.organizationEntity(b.organization)];
                    case "removeMemberFromOrganization":
                        return b.idMember === d ? [this.textEntity("left"), this.organizationEntity(b.organization)] : [this.textEntity("removed"), this.memberEntity(b.idMember), this.textEntity("from"), this.organizationEntity(b.organization)];
                    case "makeAdminOfOrganization":
                        return b.idMember === d ? [this.textEntity("became an admin of"), this.boardEntity(b.organization)] : [this.textEntity("made"),
                            this.memberEntity(b.idMember), this.textEntity("an admin of"), this.boardEntity(b.organization)
                        ];
                    case "makeNormalMemberOfOrganization":
                        return b.idMember === d ? [this.textEntity("became a normal user in"), this.boardEntity(b.organization)] : [this.textEntity("made"), this.memberEntity(b.idMember), this.textEntity("a normal user in"), this.boardEntity(b.organization)];
                    case "addAdminToOrganization":
                        return [this.textEntity("made"), this.memberEntity(b.idMember), this.textEntity("an admin of"), this.organizationEntity(b.organization)];
                    case "removeAdminFromOrganization":
                        return b.idMember === d ? [this.textEntity("became a normal user on"), this.organizationEntity(b.organization)] : [this.textEntity("made"), this.memberEntity(b.idMember), this.textEntity("a normal user on"), this.organizationEntity(b.organization)]
                }
            };
            c.prototype.getOrganizationInvitationEntityList = function(b, d) {
                switch (b.type) {
                    case "createOrganizationInvitation":
                        return [this.textEntity("created an invitation to"), this.organizationEntity(b.organization)];
                    case "unconfirmedOrganizationInvitation":
                        return [this.textEntity("invited an unconfirmed member to"),
                            this.organizationEntity(b.organization)
                        ];
                    case "deleteOrganizationInvitation":
                        return [this.textEntity("deleted an invitation to"), this.organizationEntity(b.organization)]
                }
            };
            c.prototype.getBoardInvitationEntityList = function(b, d) {
                switch (b.type) {
                    case "createBoardInvitation":
                        return [this.textEntity("created an invitation to"), this.boardEntity(b.board)];
                    case "unconfirmedBoardInvitation":
                        return [this.textEntity("invited an unconfirmed member to"), this.boardEntity(b.board)];
                    case "deleteBoardInvitation":
                        return [this.textEntity("deleted an invitation to"),
                            this.boardEntity(b.board)
                        ]
                }
            };
            c.prototype.getPowerUpEntityList = function(b, d) {
                var e;
                e = !(b.value in ib.powerUpNames) ? b.value : ib.powerUpNames[b.value].toLowerCase();
                switch (b.type) {
                    case "enablePowerUp":
                        return [this.textEntity("enabled the " + e + " power-up")];
                    case "disablePowerUp":
                        return [this.textEntity("disabled the " + e + " power-up")]
                }
            };
            c.prototype._getData = function(b, d) {
                var e, f, c, g, h, m;
                e = d.toJSON();
                c = b.toJSON();
                e = _.extend({}, e, e.data);
                m = ["card", "list", "board"];
                g = 0;
                for (h = m.length; g < h; g++) f = m[g], null != c.data[f] &&
                    (e.data[f] = c.data[f]);
                return e
            };
            c.prototype.getSingleEntityList = function(b, d, e) {
                var f, c, g;
                f = this._getData(b, d);
                g = this.memberEntity(f.idMemberCreator);
                c = {
                    Board: "getBoardEntityList",
                    Member: "getMemberEntityList",
                    Card: "getCardEntityList",
                    List: "getListEntityList",
                    Checklist: "getChecklistEntityList",
                    CheckItem: "getCheckItemEntityList",
                    Organization: "getOrganizationEntityList",
                    OrganizationInvitation: "getOrganizationInvitationEntityList",
                    BoardInvitation: "getBoardInvitationEntityList",
                    PowerUp: "getPowerUpEntityList"
                };
                b = function(b) {
                    return function() {
                        var d, h;
                        for (h in c)
                            if (d = c[h], RegExp(h + "$").test(f.type)) return b[d](f, g.id, e)
                    }
                }(this)();
                null == b && (b = []);
                b.unshift(g);
                this.orderEntityList(b);
                return b
            };
            c.prototype.getEntityList = function(d, e, f) {
                var c, g, h, m, q, k, s, l;
                null == f && (f = {});
                null == e && (e = [d]);
                this.idAction = this.getId(e[0]);
                if (1 === e.length) return g = this.getSingleEntityList(d, e[0], f), {
                    entities: g,
                    list: g
                };
                q = this.memberEntity(e[0].get("idMemberCreator"));
                h = _.find(e, function(d) {
                    var e;
                    return e = d.get("type"), 0 <= F.call(b,
                        e)
                });
                g = [];
                k = 0;
                for (s = e.length; k < s; k++)
                    if (c = e[k], l = c.get("type"), 0 > F.call(b, l))
                        if (m = c.toJSON(), _.extend(m, m.data), this.idAction = this.getId(c), c = this.getCardEntityList(m, q.id, _.extend({}, f, {
                            grouped: !0
                        }))) this.orderEntityList(c), g.push({
                            _id: this.idAction,
                            entities: c,
                            list: c
                        });
                this.idAction = this.getId(e[0]);
                e = [q];
                h ? (e = e.concat(this.getCardEntityList(this._getData(d, h), q.id, _.extend({}, f, {
                    grouped: !0
                }))), e.push(this.textEntity("and"))) : (f = d.get("data"), d = f.card, f = f.board, e.push(this.textEntity("on", d.id, !0)),
                    e.push(this.cardEntity(d, f, !0)));
                this.orderEntityList(e);
                return {
                    entities: e,
                    list: e,
                    children: g
                }
            };
            c.prototype.getMember = function(b) {
                throw Error("NotImplemented");
            };
            c.prototype.getBoard = function(b) {
                return {}
            };
            c.prototype.getEntityLists = function(b, d) {
                var f, c, h, m, q, k, l, I, n, t, G;
                null == d && (d = {});
                d = _.extend({}, {
                    compact: !0
                }, d);
                I = 0;
                m = [];
                h = {};
                q = n = 0;
                for (t = b.length; n < t; q = ++n)
                    if (f = b[q], !h[f.id]) {
                        if (null != d.limit && I >= d.limit) break;
                        c = [f];
                        k = q = l = q + 1;
                        for (G = b.length; l <= G ? q < G : q > G; k = l <= G ? ++q : --q) {
                            k = b[k];
                            if (w(f, k)) break;
                            g(f,
                                k) && (c.push(k), h[k.id] = !0)
                        }
                        _.isEmpty(c) || (l = c[0], c = C(_.reject(c, e)), null != d.excludeTypes && (c = _.filter(c, function(b) {
                            return function(b) {
                                var e;
                                return e = b.get("type"), 0 > F.call(d.excludeTypes, e)
                            }
                        }(this))), _.isEmpty(c) || (q = _.pluck([l].concat(c), "id").join("_"), d.key && (q = d.key + "_" + q), f = c[0].get("date"), m.push(_.extend(this.getEntityList(l, c, d), {
                            db_id: this.getId(c[0]),
                            _id: q,
                            date: f
                        })), I++))
                    }
                return m
            };
            c.prototype.groupActions = function(b, d) {
                var f, c, h, m, q, k, l, I, n, t, G;
                null == d && (d = {});
                h = {};
                q = [];
                m = _.filter(b, function(b) {
                    var f,
                        c;
                    return (f = b.get("type"), 0 > F.call(null != (c = d.excludeTypes) ? c : [], f)) && !e(b)
                });
                k = I = 0;
                for (n = m.length; I < n; k = ++I)
                    if (f = m[k], !h[f.id]) {
                        if (null != d.limit && q.length >= d.limit) break;
                        c = [f];
                        l = k = t = k + 1;
                        for (G = m.length; t <= G ? k < G : k > G; l = t <= G ? ++k : --k) {
                            l = m[l];
                            if (w(f, l)) break;
                            g(f, l) && (c.push(l), h[l.id] = !0)
                        }
                        c = C(c);
                        _.isEmpty(c) || q.push(c)
                    }
                return q
            };
            return c
        }(hb);
        e = function(b) {
            return function(b) {
                var e, f, c, g, h, m;
                b = null != (e = "function" === typeof b.toJSON ? b.toJSON() : void 0) ? e : b;
                return "updateCard" === b.type && (null != b.data.listBefore ||
                    null != (null != (f = b.data.old) ? f.closed : void 0)) || "updateList" === b.type && null != (null != (c = b.data.old) ? c.closed : void 0) ? !1 : ("updateMember" === (g = b.type) || "updateOrganization" === g) && (null == b.data.old || null != b.data.old.prefs && 1 === _.keys(b.data.old).length) || "updateBoard" === b.type && null != (null != (h = b.data.old) ? h.labelNames : void 0) ? !0 : (m = b.type, 0 <= F.call(d, m))
            }
        }(this);
        b = ["createCard", "copyCard", "emailCard"];
        h = "addAdminToBoard addAdminToOrganization addAttachmentToCard addBoardsPinnedToMember addChecklistToCard addLabelToCard addMemberToBoard addMemberToCard addMemberToOrganization addToOrganizationBoard commentCard copyCommentCard convertToCardFromCheckItem copyBoard createBoard createBoardInvitation createBoardPreference createCard copyCard createChecklist copyChecklist createList createOrganization createOrganizationInvitation deleteAttachmentFromCard deleteBoardInvitation deleteCard deleteCheckItem deleteOrganizationInvitation disablePowerUp emailCard enablePowerUp makeAdminOfBoard makeAdminOfOrganization makeNormalMemberOfBoard makeNormalMemberOfOrganization makeObserverOfBoard memberJoinedTrello moveCardFromBoard moveListFromBoard moveCardToBoard moveListToBoard removeAdminFromBoard removeAdminFromOrganization removeBoardsPinnedFromMember removeChecklistFromCard removeFromOrganizationBoard removeLabelFromCard removeMemberFromBoard removeMemberFromCard removeMemberFromOrganization unconfirmedBoardInvitation unconfirmedOrganizationInvitation updateBoard updateCard updateCheckItem updateCheckItemStateOnCard updateChecklist updateList updateMember updateOrganization voteOnCard".split(" ");
        f = "updateCard:idList updateCard:closed updateCard:desc updateCard:name updateList:closed updateList:name".split(" ");
        d = "addAdminToBoard addAdminToOrganization addBoardsPinnedToMember addLabelToCard copyChecklist createBoardInvitation createBoardPreference createChecklist createCheckItem createOrganizationInvitation deleteCheckItem deleteComment makeAdminOfOrganization removeBoardsPinnedFromMember removeLabelFromCard removeMemberFromBoard removeMemberFromOrganization updateCard updateCheckItem updateComment updateList voteOnCard".split(" ");
        g = "addAttachmentToCard addChecklistToCard addMemberToCard commentCard copyCommentCard convertToCardFromCheckItem createCard deleteAttachmentFromCard removeChecklistFromCard removeMemberFromCard updateCard:closed updateCard:desc updateCard:name updateCheckItemStateOnCard".split(" ");
        c = _.difference(d, ["updateCard", "updateList"]);
        c = _.difference(_.union(h, f), c);
        return "undefined" !== typeof module && null !== module ? _.extend(module.exports, {
            SharedActionList: Mb,
            types: h,
            ignoredTypes: d,
            qualifiedTypes: f,
            allowedTypesApi: c,
            movedTypes: g,
            isSuppressed: e
        }) : Mb
    })();
    var oa, Ae, cd, F = [].indexOf || function(c) {
        for (var b = 0, d = this.length; b < d; b++)
            if (b in this && this[b] === c) return b;
        return -1
    };
    cd = {
        none: -1,
        "new": 0,
        processing: 1,
        denied: 2,
        good: 3,
        overdue: 4,
        disabled: 5,
        cancelled: 6,
        "change processing": 7,
        "change denied": 8,
        "change finished": 9,
        authorizing: 10,
        "product specific processing": 11,
        "free trial": 12,
        "pending product specific processing": 13,
        "pending authorizing": 14,
        deleted: 15
    };
    Ae = _.invert(cd);
    oa = {
        init: function(c, b) {
            var d, e, g;
            d = _.extend({},
                oa);
            for (e in c) g = c[e], e = parseInt(e, 10), g = _.defaults(g, {
                interval: "monthly",
                hidden: !1,
                prebill: !0,
                perUser: !1
            }), d.products[e] = g.name, g.hidden || (d.productShortNames[g.shortName] = e), g.prebill && d.prebilledProducts.push(e), g.perUser && d.perUserProducts.push(e), d.productFeatures[e] = g.features, d.prices[e] = g.price, d.intervals[e] = g.interval;
            return _.extend(d, b)
        },
        standings: cd,
        reverseStandings: Ae,
        activeStandings: [3, 4, 7, 8, 9, 11, 12, 13, 14],
        processingStandings: [1, 7, 10, 11, 13, 14],
        overdueStandings: [4],
        needCCStandings: [2,
            5
        ],
        cancelledStandings: [6],
        products: {},
        prices: {},
        intervals: {},
        productShortNames: {},
        prebilledProducts: [],
        productFeatures: {},
        perUserProducts: [],
        globalFeatures: [],
        _convertToId: function(c) {
            return _.isString(c) ? /^\d+$/.test(c) ? parseInt(c, 10) : this.productShortNames[c] : c
        },
        getProductNumber: function(c) {
            return this._convertToId(c)
        },
        getPrice: function(c) {
            return this.prices[this._convertToId(c)]
        },
        formatPrice: function(c) {
            var b, d;
            b = null != (d = this.getPrice(c)) ? d : "??";
            c = this.isPerUser(c) ? " per user" : "";
            return "$" + b +
                c
        },
        getInterval: function(c) {
            return this.intervals[this._convertToId(c)]
        },
        isMonthly: function(c) {
            return "monthly" === this.getInterval(c)
        },
        isPerUser: function(c) {
            var b;
            return b = this._convertToId(c), 0 <= F.call(this.perUserProducts, b)
        },
        getYearlyDiscount: function(c, b) {
            var d, e;
            e = this.getPrice(c);
            d = 12 * this.getPrice(b);
            return "" + Math.round(100 * (d - e) / d) + "%"
        },
        features: function(c) {
            var b;
            return _.unique(_.flatten(function() {
                var d, e, g, f;
                g = null != c ? c : [];
                f = [];
                d = 0;
                for (e = g.length; d < e; d++) b = g[d], f.push(this.productFeatures[b] || []);
                return f
            }.call(this)))
        },
        hasProduct: function(c) {
            var b, d, e;
            e = null != c ? c : [];
            b = 0;
            for (d = e.length; b < d; b++)
                if (c = e[b], c in this.products) return !0;
            return !1
        },
        hasAccount: function(c) {
            return null != c && c !== oa.standings.none
        },
        active: function(c) {
            var b;
            return null != c && (b = (new Number(c.standing)).valueOf(), 0 <= F.call(oa.activeStandings, b)) && !_.isEmpty(c.products)
        },
        processing: function(c) {
            var b;
            return oa.hasAccount(c) && (b = (new Number(c)).valueOf(), 0 <= F.call(oa.processingStandings, b))
        },
        problem: function(c) {
            return c ===
                oa.standings.overdue
        },
        cancelled: function(c) {
            var b;
            if (null == c) return !1;
            b = (new Number(c.standing)).valueOf();
            return oa.hasAccount(c.standing) && (0 <= F.call(oa.cancelledStandings, b) || 0 <= F.call(oa.activeStandings, b) && 0 > F.call(oa.processingStandings, b) && _.isEmpty(c.products))
        },
        willExpire: function(c) {
            var b, d;
            return (null != (b = c.products) ? b[0] : void 0) in (null != (d = c.expirationDates) ? d : {})
        },
        needCC: function(c) {
            var b;
            return b = (new Number(c)).valueOf(), 0 <= F.call(oa.needCCStandings, b)
        },
        inactive: function(c) {
            return oa.hasAccount(c) &&
                !oa.active(c)
        },
        standingName: function(c) {
            return this.reverseStandings[c]
        },
        isFeatureEnabled: function(c, b) {
            return 0 <= F.call(this.globalFeatures, c) || 0 <= F.call(this.features(b), c)
        }
    };
    "undefined" !== typeof module && null !== module && (module.exports = oa);
    "function" === typeof require && (oa = require("./accounts.coffee"));
    var aa, jb, dd, jc, D = [].slice;
    jb = "export logo observers removal activity deactivated orgCards googleApps orgMembersPage superAdmins prefs inviteOrg restrictVis disableExternalMembers".split(" ");
    dd = D.call(jb).concat(["goldMembers"], ["csvExport"], ["shortExportHistory"]);
    jc = {
        35: {
            shortName: "businessClassMonthly",
            name: "Business Class",
            interval: "monthly",
            price: 25,
            features: jb,
            hidden: !0,
            prebill: !1
        },
        36: {
            shortName: "businessClassYearly",
            name: "Business Class",
            interval: "yearly",
            price: 200,
            features: jb,
            hidden: !0
        },
        39: {
            shortName: "businessClassMonthly",
            name: "Business Class",
            interval: "monthly",
            price: 50,
            features: jb,
            hidden: !0
        },
        40: {
            shortName: "businessClassYearly",
            name: "Business Class",
            interval: "yearly",
            price: 500,
            features: jb,
            hidden: !0
        },
        96: {
            shortName: "businessClassMonthly",
            name: "Business Class",
            interval: "monthly",
            price: 5,
            features: dd,
            perUser: !0
        },
        97: {
            shortName: "businessClassYearly",
            name: "Business Class",
            interval: "yearly",
            price: 45,
            features: dd,
            perUser: !0
        }
    };
    aa = oa.init(jc, {
        globalFeatures: ["logo"]
    });
    "undefined" !== typeof module && null !== module && (module.exports = aa);
    "function" === typeof require && (oa = require("./accounts.coffee"));
    var Ga, ed, fd, D = [].slice;
    fd = "additionalStickers customStickers additionalBoardBackgrounds customBoardBackgrounds largeAttachments customEmoji savedSearches".split(" ");
    ed = D.call(fd).concat(["crown"]);
    jc = {
        10: {
            shortName: "trelloGoldFromBC",
            name: "Trello Gold from BC",
            features: fd
        },
        37: {
            shortName: "trelloGoldMonthly",
            name: "Trello Gold",
            interval: "monthly",
            price: 5,
            features: ed
        },
        38: {
            shortName: "trelloGoldYearly",
            name: "Trello Gold",
            interval: "yearly",
            price: 45,
            features: ed
        }
    };
    Ga = oa.init(jc);
    "undefined" !== typeof module && null !== module && (module.exports = Ga);
    "function" === typeof require && (hb = require("./entityListGenerator.coffee").EntityListGenerator, Ab = require("./sharedDate.coffee").getDateDeltaString);
    var gd, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    gd = function(c) {
        function b() {
            this.getEntityLists = k(this.getEntityLists, this);
            this.getEntityList = k(this.getEntityList, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getEntityList = function(b) {
            var e, c, f, h, m, q, k, l, I, n, C,
                t, v, x, y, A;
            this.idAction = this.getId(b);
            _.isFunction(b.toJSON) && (b = b.toJSON());
            e = b.data;
            c = [];
            null != b.idMemberCreator && c.push(this.memberEntity(b.idMemberCreator));
            if (/Card$/.test(b.type)) {
                switch (b.type) {
                    case "addedMemberToCard":
                        b.idMemberCreator === (null != (f = e.member) ? f.id : void 0) ? c.push(this.textEntity("joined the card")) : (c.push(this.textEntity("added")), c.push(this.memberEntity(null != (h = e.member) ? h.id : void 0)), c.push(this.textEntity("to the card")));
                        break;
                    case "removedMemberFromCard":
                        b.idMemberCreator ===
                            (null != (I = e.member) ? I.id : void 0) ? c.push(this.textEntity("left the card")) : (c.push(this.textEntity("removed")), c.push(this.memberEntity(null != (n = e.member) ? n.id : void 0)), c.push(this.textEntity("from the card")));
                        break;
                    case "changeCard":
                        null != (null != (C = e.old) ? C.name : void 0) ? c.push(this.textEntity("renamed the card")) : null != (null != (t = e.old) ? t.desc : void 0) ? c.push(this.textEntity("updated the description of the card")) : null != (null != (v = e.old) ? v.closed : void 0) ? e.card.closed ? c.push(this.textEntity("archived the card")) :
                            c.push(this.textEntity("unarchived the card")) : null != (null != (x = e.old) ? x.due : void 0) || null === (null != (y = e.old) ? y.due : void 0) ? null != (null != (A = e.old) ? A.due : void 0) ? c.push(this.textEntity("changed the due date on the card")) : c.push(this.textEntity("added a due date to the card")) : null != e.listAfter ? c.push(this.textEntity("moved the card")) : c.push(this.textEntity("changed the card"));
                        break;
                    case "createdCard":
                        c.push(this.textEntity("created"));
                        break;
                    case "addedAttachmentToCard":
                        c.push(this.textEntity("attached " +
                            e.name + " to"));
                        break;
                    case "updateCheckItemStateOnCard":
                        null != e.checkItem ? (c.push(this.textEntity("" + ("complete" === e.state ? "" : "un") + "checked ")), c.push(this.checkItemEntity(e.checkItem, {
                            card: e.card,
                            board: e.board
                        })), c.push(this.textEntity("on"))) : c.push(this.textEntity("" + ("complete" === e.state ? "" : "un") + "checked " + e.name + " on"));
                        break;
                    default:
                        c.push(this.textEntity({
                            commentCard: "commented on the card",
                            addedToCard: "added you to the card",
                            removedFromCard: "removed you from the card",
                            mentionedOnCard: "mentioned you on the card"
                        }[b.type]))
                }
                c.push(this.cardEntity(e.card,
                    e.board));
                "changeCard" === b.type && null != e.listAfter ? (c.push(this.textEntity("to")), c.push(this.listEntity(e.listAfter))) : "createdCard" === b.type && (c.push(this.textEntity("in")), c.push(this.listEntity(e.list)));
                c.push(this.textEntity("on"));
                c.push(this.boardEntity(e.board));
                ("commentCard" === (m = b.type) || "mentionedOnCard" === m) && null != e.text ? c.push(this.commentEntity(e.text, {
                    card: e.card,
                    board: e.board
                })) : "addedAttachmentToCard" === b.type && e.attachment && c.push(this.attachmentPreviewEntity(e.attachment))
            } else if (/Board$/.test(b.type)) c.push(this.textEntity({
                    removedFromBoard: "removed you from the board",
                    invitedToBoard: "invited you to the board",
                    unconfirmedInvitedToBoard: "added you to the board",
                    addedToBoard: "added you to the board",
                    addAdminToBoard: "made you an admin on the board",
                    makeAdminOfBoard: "made you an admin on the board",
                    closeBoard: "closed the board",
                    declinedInvitationToBoard: "" + e.fullName + " " + (null != e.email ? "(" + e.email + ") " : "") + "declined your invitation to the board"
                }[b.type])), c.push(this.boardEntity(e.board)), "unconfirmedInvitedToBoard" === b.type && c.push(this.textEntity("Confirm your email address to see it.")),
                "addedToBoard" === b.type && ("observer" === (q = e.memberType) || "admin" === q) && c.push(this.textEntity("as an " + e.memberType));
            else if (/List$/.test(b.type)) {
                switch (b.type) {
                    case "createdList":
                        c.push(this.textEntity("created the list"));
                        break;
                    case "changeList":
                        !0 === (null != (k = e.old) ? k.closed : void 0) ? c.push(this.textEntity("unarchived the list")) : !1 === (null != (l = e.old) ? l.closed : void 0) ? c.push(this.textEntity("archived the list")) : c.push(this.textEntity("changed the list"))
                }
                c.push.apply(c, [this.listEntity(e.list),
                    this.textEntity("on"), this.boardEntity(e.board)
                ])
            } else /Organization$/.test(b.type) ? (c.push(this.textEntity({
                removedFromOrganization: "removed you from the organization",
                addedToOrganization: "added you to the organization",
                invitedToOrganization: "invited you to the organization",
                unconfirmedInvitedToOrganization: "invited you to the organization",
                addAdminToOrganization: "made you an admin on the organization",
                makeAdminOfOrganization: "made you an admin of the organization",
                declinedInvitationToOrganization: "" +
                    e.fullName + " " + (null != e.email ? "(" + e.email + ") " : "") + "declined your invitation to the organization"
            }[b.type])), c.push(this.organizationEntity(e.organization)), "unconfirmedInvitedToOrganization" === b.type && c.push(this.textEntity("Confirm your email address to see it.")), "addedToOrganization" === b.type && "admin" === e.memberType && c.push(this.textEntity("as an " + e.memberType))) : "memberJoinedTrello" === b.type ? (c.push(this.textEntity("joined Trello on your recommendation.")), null != e && (e.earnedCredit && "gold" ===
                e.creditType) && c.push(this.textEntity("You earned a free month of Trello Gold!"))) : "cardDueSoon" === b.type && (c.push(this.cardEntity(e.card, e.board)), c.push(this.textEntity("on")), c.push(this.boardEntity(e.board)), c.push(this.relDateEntity(e.card.due, "due")));
            e = 0;
            for (f = c.length; e < f; e++) b = c[e], b[b.type + "Type"] = !0;
            return this.orderEntityList(c)
        };
        b.prototype.getEntityLists = function(b, e) {
            var c, f, h, m;
            m = [];
            f = 0;
            for (h = b.length; f < h; f++) c = b[f], m.push(this.getEntityList(c));
            return m
        };
        return b
    }(hb);
    "undefined" !==
    typeof module && null !== module && (module.exports.SharedNotification = gd);
    var hd;
    hd = function() {
        function c() {}
        c.prototype.getDefaultId = function() {
            return ""
        };
        c.prototype.event = function(b, d) {};
        c.prototype.percentage = function(b, d) {
            return 50
        };
        c.prototype.inTest = function(b, d) {
            null == d && (d = this.getDefaultId());
            return this.personalPercentage(b, d) < this.percentage(b, d)
        };
        c.prototype.personalPercentage = function(b, d) {
            return parseInt(this._hasher(d + b).substr(0, 8), 16) % 100
        };
        c.prototype.templateData = function(b, d) {
            var e,
                c, f, h, m;
            c = /{{[\#\^]AB_([a-z0-9_]*)}}/ig;
            for (e = {}; f = null != (m = c.exec(b)) ? m[1] : void 0;)
                if (null == e[h = "AB_" + f]) e[h] = this.inTest(f, d);
            return e
        };
        return c
    }();
    "undefined" !== typeof module && null !== module && (module.exports = hd);
    var Be, F = [].indexOf || function(c) {
        for (var b = 0, d = this.length; b < d; b++)
            if (b in this && this[b] === c) return b;
        return -1
    };
    Be = {
        luhn: function(c) {
            var b, d, e, g, f, h, m, q;
            d = c.toString();
            e = 0;
            c = !1;
            m = d.split("").reverse();
            d = 0;
            for (f = m.length; d < f; d++) {
                b = m[d];
                b = parseInt(b) * (c ? 2 : 1);
                q = b.toString().split("");
                g = 0;
                for (h = q.length; g < h; g++) b = q[g], e += parseInt(b);
                c = !c
            }
            return 0 === e % 10
        },
        providerFromNumber: function(c) {
            var b, d, e, g, f;
            b = c.toString();
            c = function(d) {
                return parseInt(b.substring(0, d))
            };
            if (d = c(2), 0 <= F.call([51, 52, 53, 54, 55], d)) return "MasterCard";
            if (4 === c(1)) return "Visa";
            if (34 === (e = c(2)) || 37 === e) return "American Express";
            if (65 === c(2) || (g = c(3), 0 <= F.call([644, 645, 646, 647, 648, 649], g)) || 6011 === c(4) || 622126 < (f = c(6)) && 622925 > f) return "Discover"
        }
    };
    "undefined" !== typeof module && null !== module && (module.exports = Be);
    ib = {
        powerUpNames: {
            voting: "Voting",
            cardAging: "Card Aging",
            calendar: "Calendar"
        },
        cardAgingModes: {
            regular: "regular",
            pirate: "pirate"
        },
        calendarFeedEnabledVerbs: {
            "true": "enabled",
            "false": "disabled"
        }
    };
    "undefined" !== typeof module && null !== module && (module.exports = ib);
    var Bb;
    Bb = {
        100: "https://d78fikflryjgj.cloudfront.net/images/emoji/f65f447b748c49a5c11361d46686b304/100.png",
        1234: "https://d78fikflryjgj.cloudfront.net/images/emoji/27c4a96fa154f6d7fe005badf4da39d4/1234.png",
        "+1": "https://d78fikflryjgj.cloudfront.net/images/emoji/a0a5d07f60da887f916b5540f7cc14d4/%2B1.png",
        "-1": "https://d78fikflryjgj.cloudfront.net/images/emoji/9155e2acc3925a32e544021a4893ebef/-1.png",
        "8ball": "https://d78fikflryjgj.cloudfront.net/images/emoji/2134b68e36afc98a06ba4cf75540a337/8ball.png",
        a: "https://d78fikflryjgj.cloudfront.net/images/emoji/5d0405e9adbc2b7986ea686d2bd5827d/a.png",
        ab: "https://d78fikflryjgj.cloudfront.net/images/emoji/b6dbd185b8dcaa1586fd49ba598dcf19/ab.png",
        abc: "https://d78fikflryjgj.cloudfront.net/images/emoji/3b2083bc78851af8a4595b5505cd1a48/abc.png",
        abcd: "https://d78fikflryjgj.cloudfront.net/images/emoji/e3fa9e918aff67325c0f88390b33ddef/abcd.png",
        accept: "https://d78fikflryjgj.cloudfront.net/images/emoji/7635d65e4e1f4dff30489cd119949407/accept.png",
        aerial_tramway: "https://d78fikflryjgj.cloudfront.net/images/emoji/70760dfb407d2af49052b5ac0d5733ad/aerial_tramway.png",
        airplane: "https://d78fikflryjgj.cloudfront.net/images/emoji/513615dfa059c3e1afc284d04748d75a/airplane.png",
        alarm_clock: "https://d78fikflryjgj.cloudfront.net/images/emoji/ebfffc6f6b6707b5485fb97780a7b414/alarm_clock.png",
        alien: "https://d78fikflryjgj.cloudfront.net/images/emoji/f095de9b586d31a7b39e4693803ab55b/alien.png",
        ambulance: "https://d78fikflryjgj.cloudfront.net/images/emoji/ca4868124267b4744ac220a84b3bfe5e/ambulance.png",
        anchor: "https://d78fikflryjgj.cloudfront.net/images/emoji/f2be64fa3b41d6762418f03909489bff/anchor.png",
        angel: "https://d78fikflryjgj.cloudfront.net/images/emoji/c6c5e2703f026c6eff0161f102c6b822/angel.png",
        anger: "https://d78fikflryjgj.cloudfront.net/images/emoji/41bb5affb89f9252d1d4567ee3ff5e14/anger.png",
        angry: "https://d78fikflryjgj.cloudfront.net/images/emoji/a31dcd53dbf675d061cd4b9852bfb105/angry.png",
        anguished: "https://d78fikflryjgj.cloudfront.net/images/emoji/db9e6186e95dac80d5a51490900cd813/anguished.png",
        ant: "https://d78fikflryjgj.cloudfront.net/images/emoji/c3ede4848beb57ac9897bd5f87b4c981/ant.png",
        apple: "https://d78fikflryjgj.cloudfront.net/images/emoji/7ff0f4ad7964033a1966636cc2168aff/apple.png",
        aquarius: "https://d78fikflryjgj.cloudfront.net/images/emoji/d65e843c6ea33f97a3f4c6d8b5e7afad/aquarius.png",
        aries: "https://d78fikflryjgj.cloudfront.net/images/emoji/dbc8f8436f732f1a45eac3b8ced51f03/aries.png",
        arrow_backward: "https://d78fikflryjgj.cloudfront.net/images/emoji/4895dce40fbcb582460345eb92da6577/arrow_backward.png",
        arrow_double_down: "https://d78fikflryjgj.cloudfront.net/images/emoji/3323dfd40905fbc63a1b67103a3e5970/arrow_double_down.png",
        arrow_double_up: "https://d78fikflryjgj.cloudfront.net/images/emoji/5cad5a6ff81608d7df7059a11c262bea/arrow_double_up.png",
        arrow_down: "https://d78fikflryjgj.cloudfront.net/images/emoji/1f6cf1d57ed571effae25df20d6121d6/arrow_down.png",
        arrow_down_small: "https://d78fikflryjgj.cloudfront.net/images/emoji/817a34a371cbb6191baea750c4b0d23a/arrow_down_small.png",
        arrow_forward: "https://d78fikflryjgj.cloudfront.net/images/emoji/9c06f993cbfc2d5c74eeee0c8a58d4a5/arrow_forward.png",
        arrow_heading_down: "https://d78fikflryjgj.cloudfront.net/images/emoji/d16bd0975cc8ef50a3792a63a6eba308/arrow_heading_down.png",
        arrow_heading_up: "https://d78fikflryjgj.cloudfront.net/images/emoji/415b637ddde8164a6a1290321c17da75/arrow_heading_up.png",
        arrow_left: "https://d78fikflryjgj.cloudfront.net/images/emoji/970edb46f2ac979ec3ae817c0d59c5cc/arrow_left.png",
        arrow_lower_left: "https://d78fikflryjgj.cloudfront.net/images/emoji/c2b8892bbe774f360b3582b33e66dc0f/arrow_lower_left.png",
        arrow_lower_right: "https://d78fikflryjgj.cloudfront.net/images/emoji/f3622ad9cfda99031538d4f853885d84/arrow_lower_right.png",
        arrow_right: "https://d78fikflryjgj.cloudfront.net/images/emoji/aac8aa63620adf9e8eb8489f804f621f/arrow_right.png",
        arrow_right_hook: "https://d78fikflryjgj.cloudfront.net/images/emoji/08f6c3234dfaa6867f3ca2b695cce688/arrow_right_hook.png",
        arrow_up: "https://d78fikflryjgj.cloudfront.net/images/emoji/33d4b33d12abb058b0f37aca546c6247/arrow_up.png",
        arrow_up_down: "https://d78fikflryjgj.cloudfront.net/images/emoji/618782d4e35683708cd81da4a61dad11/arrow_up_down.png",
        arrow_up_small: "https://d78fikflryjgj.cloudfront.net/images/emoji/7a80168de52c6e9e4d24721d9777a621/arrow_up_small.png",
        arrow_upper_left: "https://d78fikflryjgj.cloudfront.net/images/emoji/f3b11dd90e83e1f434060db7f3cebda2/arrow_upper_left.png",
        arrow_upper_right: "https://d78fikflryjgj.cloudfront.net/images/emoji/c4598dddacd6af5d0f9559b777ddaef3/arrow_upper_right.png",
        arrows_clockwise: "https://d78fikflryjgj.cloudfront.net/images/emoji/782415cdd05f781df95f32438d7b5c35/arrows_clockwise.png",
        arrows_counterclockwise: "https://d78fikflryjgj.cloudfront.net/images/emoji/685335514e840b18be585d961e64f00a/arrows_counterclockwise.png",
        art: "https://d78fikflryjgj.cloudfront.net/images/emoji/5d7730a4e6ac638412a51897a4352d30/art.png",
        articulated_lorry: "https://d78fikflryjgj.cloudfront.net/images/emoji/c2517a23d5dfc6518378218334877f4c/articulated_lorry.png",
        astonished: "https://d78fikflryjgj.cloudfront.net/images/emoji/ae65dd6706611d78533382bcab005037/astonished.png",
        athletic_shoe: "https://d78fikflryjgj.cloudfront.net/images/emoji/36f024ff008ccbefda7ddffaf401aaed/athletic_shoe.png",
        atm: "https://d78fikflryjgj.cloudfront.net/images/emoji/53028816affc2803dea922c9b2038acb/atm.png",
        b: "https://d78fikflryjgj.cloudfront.net/images/emoji/2629cd16fbbac832ed1fcc905fa10e40/b.png",
        baby: "https://d78fikflryjgj.cloudfront.net/images/emoji/ae245c721d7db60310b0cc09e25e4962/baby.png",
        baby_bottle: "https://d78fikflryjgj.cloudfront.net/images/emoji/b4be51a36913c6bb9294c4d22b476dd6/baby_bottle.png",
        baby_chick: "https://d78fikflryjgj.cloudfront.net/images/emoji/d0ab4e589537ab00b98aa85bde6070b1/baby_chick.png",
        baby_symbol: "https://d78fikflryjgj.cloudfront.net/images/emoji/cc09ba45643a58b24f951f23054c43a8/baby_symbol.png",
        back: "https://d78fikflryjgj.cloudfront.net/images/emoji/8d79972932f839571f1e2cad5ca2a8a5/back.png",
        baggage_claim: "https://d78fikflryjgj.cloudfront.net/images/emoji/260f28422e44ab2af3383aee09d36759/baggage_claim.png",
        balloon: "https://d78fikflryjgj.cloudfront.net/images/emoji/ad9cc73a83609752659638dc2b4a9c1d/balloon.png",
        ballot_box_with_check: "https://d78fikflryjgj.cloudfront.net/images/emoji/c274eb079d03223789da5e14c986d4f9/ballot_box_with_check.png",
        bamboo: "https://d78fikflryjgj.cloudfront.net/images/emoji/3811c429564c04e0728c8a0f149fe140/bamboo.png",
        banana: "https://d78fikflryjgj.cloudfront.net/images/emoji/5a96d729610eab1350a420d4dbd51f47/banana.png",
        bangbang: "https://d78fikflryjgj.cloudfront.net/images/emoji/7acb7907006e24728f4d5af4ede60d2e/bangbang.png",
        bank: "https://d78fikflryjgj.cloudfront.net/images/emoji/c2940c1118dca2daee17c635f3d2c395/bank.png",
        bar_chart: "https://d78fikflryjgj.cloudfront.net/images/emoji/141185d56ded3e0381e8f5e9c695691e/bar_chart.png",
        barber: "https://d78fikflryjgj.cloudfront.net/images/emoji/3649eccef1edffbd66a6518b665a41b9/barber.png",
        baseball: "https://d78fikflryjgj.cloudfront.net/images/emoji/5ae8159911acce8e1734bca36843dc13/baseball.png",
        basketball: "https://d78fikflryjgj.cloudfront.net/images/emoji/6d9587095cdb75d766ae87a196194c67/basketball.png",
        bath: "https://d78fikflryjgj.cloudfront.net/images/emoji/cfe863d3f3fbe7d70aa385ac11c5e499/bath.png",
        bathtub: "https://d78fikflryjgj.cloudfront.net/images/emoji/c8dd639751bd74cae2b96b4d12ae87c6/bathtub.png",
        battery: "https://d78fikflryjgj.cloudfront.net/images/emoji/045a933fef69fbdc861a63eb239cebb9/battery.png",
        bear: "https://d78fikflryjgj.cloudfront.net/images/emoji/4cac59632e8a729e84eeecfca7527e97/bear.png",
        bee: "https://d78fikflryjgj.cloudfront.net/images/emoji/a6c6f8b940f42688743046634de7a85f/bee.png",
        beer: "https://d78fikflryjgj.cloudfront.net/images/emoji/97564e2d91aee1c7078986f8502c9d61/beer.png",
        beers: "https://d78fikflryjgj.cloudfront.net/images/emoji/7ca64d7c7a8cda6e33b5b8c52e2f48c1/beers.png",
        beetle: "https://d78fikflryjgj.cloudfront.net/images/emoji/604df6d4431397d9a5b816d5161dd3db/beetle.png",
        beginner: "https://d78fikflryjgj.cloudfront.net/images/emoji/d47b8ed705bb89b6d7132e7f6228d465/beginner.png",
        bell: "https://d78fikflryjgj.cloudfront.net/images/emoji/ec1800a348078bcf5bcedade18b22bff/bell.png",
        bento: "https://d78fikflryjgj.cloudfront.net/images/emoji/0f026275236850b7d1db8e26055a06ec/bento.png",
        bicyclist: "https://d78fikflryjgj.cloudfront.net/images/emoji/90ab8806c66df3b19472c9750456d27c/bicyclist.png",
        bike: "https://d78fikflryjgj.cloudfront.net/images/emoji/e27110732dc3f0feb62e1e38e5896146/bike.png",
        bikini: "https://d78fikflryjgj.cloudfront.net/images/emoji/6daaca695f8b474deb1aaa5adb1d5863/bikini.png",
        bird: "https://d78fikflryjgj.cloudfront.net/images/emoji/33802943d9dd72fada05a061cedfab63/bird.png",
        birthday: "https://d78fikflryjgj.cloudfront.net/images/emoji/82b7253fa54d813b628a487b7a5946ee/birthday.png",
        black_circle: "https://d78fikflryjgj.cloudfront.net/images/emoji/a05b4473b907df89d71390ffa09e0a5b/black_circle.png",
        black_joker: "https://d78fikflryjgj.cloudfront.net/images/emoji/cf9a197eb11b7bb718404d19a01cbeda/black_joker.png",
        black_large_square: "https://d78fikflryjgj.cloudfront.net/images/emoji/ca3fd8c5e4852ffbbd215ed4e88cfe48/black_large_square.png",
        black_medium_small_square: "https://d78fikflryjgj.cloudfront.net/images/emoji/841a440c565e5539d57f06cc2d245b4a/black_medium_small_square.png",
        black_medium_square: "https://d78fikflryjgj.cloudfront.net/images/emoji/e821f72ec5816a81246491ac4501c236/black_medium_square.png",
        black_nib: "https://d78fikflryjgj.cloudfront.net/images/emoji/e03a3f291d3219f4f916cd08a16a06b4/black_nib.png",
        black_small_square: "https://d78fikflryjgj.cloudfront.net/images/emoji/398859c1676c00eb126f038ee7008176/black_small_square.png",
        black_square_button: "https://d78fikflryjgj.cloudfront.net/images/emoji/176be6ab8eae54ab2db9524adb76ae5b/black_square_button.png",
        blossom: "https://d78fikflryjgj.cloudfront.net/images/emoji/34fe17fa9e128061362f9b2c34997a12/blossom.png",
        blowfish: "https://d78fikflryjgj.cloudfront.net/images/emoji/048420e2651ef0874cf8588c20acd4d2/blowfish.png",
        blue_book: "https://d78fikflryjgj.cloudfront.net/images/emoji/74707f1e4d7581c732dbb5c6a53fbbc9/blue_book.png",
        blue_car: "https://d78fikflryjgj.cloudfront.net/images/emoji/32715857a405b8e6a3dc206f9ac12bdf/blue_car.png",
        blue_heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/1e579d7bece1db6081416d5205a62474/blue_heart.png",
        blush: "https://d78fikflryjgj.cloudfront.net/images/emoji/5b2cfd1772f827cf9fe052036b217c56/blush.png",
        boar: "https://d78fikflryjgj.cloudfront.net/images/emoji/5838786ec7b7b2fcb54b2adf563afe0a/boar.png",
        boat: "https://d78fikflryjgj.cloudfront.net/images/emoji/c1c1c4dcaa77f509b36a3a170347c90c/boat.png",
        bomb: "https://d78fikflryjgj.cloudfront.net/images/emoji/435963333346d6cf4011e4d4de7825bc/bomb.png",
        book: "https://d78fikflryjgj.cloudfront.net/images/emoji/6561272c5be33e5e300e71e8e87ca634/book.png",
        bookmark: "https://d78fikflryjgj.cloudfront.net/images/emoji/2a7a1cee2c2e9b117dfe33079b80b599/bookmark.png",
        bookmark_tabs: "https://d78fikflryjgj.cloudfront.net/images/emoji/59b4ea688ffbca172d24a8e32e877764/bookmark_tabs.png",
        books: "https://d78fikflryjgj.cloudfront.net/images/emoji/d607a5044b2dd6c9a5360881efbd9870/books.png",
        boom: "https://d78fikflryjgj.cloudfront.net/images/emoji/ddf586005f3efb385fba44b4cf3f5ecf/boom.png",
        boot: "https://d78fikflryjgj.cloudfront.net/images/emoji/ffa15e8b3d6318b6e960d0f2ede0cb72/boot.png",
        bouquet: "https://d78fikflryjgj.cloudfront.net/images/emoji/397e712e135bf9cd01f4ca4e8fbe2686/bouquet.png",
        bow: "https://d78fikflryjgj.cloudfront.net/images/emoji/958f788ff97c7ce25a43758ba8879e96/bow.png",
        bowling: "https://d78fikflryjgj.cloudfront.net/images/emoji/3c4b641b87a7858fe05533b0cb4d997e/bowling.png",
        bowtie: "https://d78fikflryjgj.cloudfront.net/images/emoji/73de09ce6675cadd59755fc9297f7c49/bowtie.png",
        boy: "https://d78fikflryjgj.cloudfront.net/images/emoji/026d0e331ac06675ac08ca7e39504aa2/boy.png",
        bread: "https://d78fikflryjgj.cloudfront.net/images/emoji/383b7d154f96fb76abc5dac273f807db/bread.png",
        bride_with_veil: "https://d78fikflryjgj.cloudfront.net/images/emoji/ff57d51ad4cdb06dbd74f19e445dec3a/bride_with_veil.png",
        bridge_at_night: "https://d78fikflryjgj.cloudfront.net/images/emoji/ebe6fd47f403775923b6ceb54972befa/bridge_at_night.png",
        briefcase: "https://d78fikflryjgj.cloudfront.net/images/emoji/3f797c75bb6d36ae87cd1253f91f331c/briefcase.png",
        broken_heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/0df631a3bd1141202f5f2f677c56adba/broken_heart.png",
        bug: "https://d78fikflryjgj.cloudfront.net/images/emoji/4d1ce95a08e19f1c72e1ce3bc23023b1/bug.png",
        bulb: "https://d78fikflryjgj.cloudfront.net/images/emoji/4956e92e137d7306f517583ab588be82/bulb.png",
        bullettrain_front: "https://d78fikflryjgj.cloudfront.net/images/emoji/bd01d91592d56c6475acfde8301e7196/bullettrain_front.png",
        bullettrain_side: "https://d78fikflryjgj.cloudfront.net/images/emoji/9990dca7fb2548dafa221339361ed9be/bullettrain_side.png",
        bus: "https://d78fikflryjgj.cloudfront.net/images/emoji/8bbaca73ae1d1f2601fc40872f5c2f6a/bus.png",
        busstop: "https://d78fikflryjgj.cloudfront.net/images/emoji/775c2e2d813860e90786786dcf1dc7c5/busstop.png",
        bust_in_silhouette: "https://d78fikflryjgj.cloudfront.net/images/emoji/046812f68be8c8e15e15e07dfc20bb5e/bust_in_silhouette.png",
        busts_in_silhouette: "https://d78fikflryjgj.cloudfront.net/images/emoji/823bca4a1d8446fc02b516d844f15b99/busts_in_silhouette.png",
        cactus: "https://d78fikflryjgj.cloudfront.net/images/emoji/8f1a8aa7e80a85b9f862dbd7b69166d2/cactus.png",
        cake: "https://d78fikflryjgj.cloudfront.net/images/emoji/5854edbfed9e4aad0348c9d05f040648/cake.png",
        calendar: "https://d78fikflryjgj.cloudfront.net/images/emoji/126ce5c060840732c989979c63ed5b4c/calendar.png",
        calling: "https://d78fikflryjgj.cloudfront.net/images/emoji/05d38f25e8de098d71badaac0d90e474/calling.png",
        camel: "https://d78fikflryjgj.cloudfront.net/images/emoji/13800b13aa272e06d742e0f0a0e4b116/camel.png",
        camera: "https://d78fikflryjgj.cloudfront.net/images/emoji/53706742d28518821162817960cf6a80/camera.png",
        cancer: "https://d78fikflryjgj.cloudfront.net/images/emoji/81f91c28b72082a2ed24b3c4446210b1/cancer.png",
        candy: "https://d78fikflryjgj.cloudfront.net/images/emoji/da956b278978a716822152cbb069b727/candy.png",
        capital_abcd: "https://d78fikflryjgj.cloudfront.net/images/emoji/79030dbcc2f40414b005023b6a3fc0d6/capital_abcd.png",
        capricorn: "https://d78fikflryjgj.cloudfront.net/images/emoji/ddb5c888a789b257ae043d658c434683/capricorn.png",
        car: "https://d78fikflryjgj.cloudfront.net/images/emoji/abf1ef7270298b7e4faa51585b584e4f/car.png",
        card_index: "https://d78fikflryjgj.cloudfront.net/images/emoji/50fbce751e0a5c5509b8b0601b6b1672/card_index.png",
        carousel_horse: "https://d78fikflryjgj.cloudfront.net/images/emoji/e54c22c9ebf5713cc3f76fe5f4a95e52/carousel_horse.png",
        cat: "https://d78fikflryjgj.cloudfront.net/images/emoji/b2ebe9876a60d236f74e40c0d0c437dd/cat.png",
        cat2: "https://d78fikflryjgj.cloudfront.net/images/emoji/1a554677df4b067a1dad860a788b7997/cat2.png",
        cd: "https://d78fikflryjgj.cloudfront.net/images/emoji/404a244b5ef4676baaaf9dd58b4c2a05/cd.png",
        chart: "https://d78fikflryjgj.cloudfront.net/images/emoji/b9ef3ef8c6e52f683f08f07c2e2b29f4/chart.png",
        chart_with_downwards_trend: "https://d78fikflryjgj.cloudfront.net/images/emoji/ffc0498b51d6cbc9b0f3d2393b9fd3c9/chart_with_downwards_trend.png",
        chart_with_upwards_trend: "https://d78fikflryjgj.cloudfront.net/images/emoji/b2db9c7e04da9028dbf2ed04b7c4895d/chart_with_upwards_trend.png",
        checkered_flag: "https://d78fikflryjgj.cloudfront.net/images/emoji/5b0272076cb1bca9d89728132c35326c/checkered_flag.png",
        cherries: "https://d78fikflryjgj.cloudfront.net/images/emoji/eee1d6ba5624741ba3d87711f2040025/cherries.png",
        cherry_blossom: "https://d78fikflryjgj.cloudfront.net/images/emoji/e881179fbb3f810db386263b6780a417/cherry_blossom.png",
        chestnut: "https://d78fikflryjgj.cloudfront.net/images/emoji/9bf1cca63f07d7aed4315f0dd389aad9/chestnut.png",
        chicken: "https://d78fikflryjgj.cloudfront.net/images/emoji/ce9c66ca8d427412639a26aeba3295ce/chicken.png",
        children_crossing: "https://d78fikflryjgj.cloudfront.net/images/emoji/336d27ad6e975b47aa0ba6c3f6ed3373/children_crossing.png",
        chocolate_bar: "https://d78fikflryjgj.cloudfront.net/images/emoji/9e645f96a5c19091407ceaa27e00c3d9/chocolate_bar.png",
        christmas_tree: "https://d78fikflryjgj.cloudfront.net/images/emoji/8ea555974a24e4eb4d03eb50aafa3fce/christmas_tree.png",
        church: "https://d78fikflryjgj.cloudfront.net/images/emoji/88e45a879eeaf285d1e200ea91940dfc/church.png",
        cinema: "https://d78fikflryjgj.cloudfront.net/images/emoji/4ca7678e60458476dba410085b446687/cinema.png",
        circus_tent: "https://d78fikflryjgj.cloudfront.net/images/emoji/4de404d51d4cd64fcdc8799955a7a68f/circus_tent.png",
        city_sunrise: "https://d78fikflryjgj.cloudfront.net/images/emoji/825eac0574320ec85dbca9277a7398f3/city_sunrise.png",
        city_sunset: "https://d78fikflryjgj.cloudfront.net/images/emoji/6954a73653866780cdd646ee59826f64/city_sunset.png",
        cl: "https://d78fikflryjgj.cloudfront.net/images/emoji/efb8a21b2574383c3528c5b21f9ec807/cl.png",
        clap: "https://d78fikflryjgj.cloudfront.net/images/emoji/f342a9b46d2ca0d96910452dc1e41291/clap.png",
        clapper: "https://d78fikflryjgj.cloudfront.net/images/emoji/e00bbd737549d1d4dbd775bf719465eb/clapper.png",
        clipboard: "https://d78fikflryjgj.cloudfront.net/images/emoji/53cec595ea2b473936cd1a24b30844cd/clipboard.png",
        clock1: "https://d78fikflryjgj.cloudfront.net/images/emoji/882daa0961d027f5647f01af5ece88b4/clock1.png",
        clock10: "https://d78fikflryjgj.cloudfront.net/images/emoji/b8e179ff2facab085c56e3851545e962/clock10.png",
        clock1030: "https://d78fikflryjgj.cloudfront.net/images/emoji/278aacf0a0afb23ff3de325f6b334f44/clock1030.png",
        clock11: "https://d78fikflryjgj.cloudfront.net/images/emoji/70ca65cbbe3c0c11a78182b48af0a6f7/clock11.png",
        clock1130: "https://d78fikflryjgj.cloudfront.net/images/emoji/204db35096fb2abbfd60fafb6afc5364/clock1130.png",
        clock12: "https://d78fikflryjgj.cloudfront.net/images/emoji/6a89764b0a9df58e3a441abe234494a8/clock12.png",
        clock1230: "https://d78fikflryjgj.cloudfront.net/images/emoji/272c0b90efdcf0d8dc3c5e0c505a669b/clock1230.png",
        clock130: "https://d78fikflryjgj.cloudfront.net/images/emoji/32283ffcad745398e4b0340f612c17d0/clock130.png",
        clock2: "https://d78fikflryjgj.cloudfront.net/images/emoji/5b88e0e539e7655f78456b39368a6d41/clock2.png",
        clock230: "https://d78fikflryjgj.cloudfront.net/images/emoji/fcf50a6152560afa3a86b075e692a884/clock230.png",
        clock3: "https://d78fikflryjgj.cloudfront.net/images/emoji/932ebeec5f924e2af9931afeda9e6193/clock3.png",
        clock330: "https://d78fikflryjgj.cloudfront.net/images/emoji/7a33814d8ee52c9cab018ec1ff40a4a3/clock330.png",
        clock4: "https://d78fikflryjgj.cloudfront.net/images/emoji/6a666c2f9b19e0231c7215add0181937/clock4.png",
        clock430: "https://d78fikflryjgj.cloudfront.net/images/emoji/f8236e3c52e8ca50a1109f931f46b6b7/clock430.png",
        clock5: "https://d78fikflryjgj.cloudfront.net/images/emoji/102b4a2a58cdeaca12d04c0bf3cac376/clock5.png",
        clock530: "https://d78fikflryjgj.cloudfront.net/images/emoji/8918b8ab2093c0adb3e2c7c7857124b7/clock530.png",
        clock6: "https://d78fikflryjgj.cloudfront.net/images/emoji/620b5d603eb3022245f502d7ee3f5ee2/clock6.png",
        clock630: "https://d78fikflryjgj.cloudfront.net/images/emoji/789389003fa4763cb89a47e6066364a7/clock630.png",
        clock7: "https://d78fikflryjgj.cloudfront.net/images/emoji/5c5032d8bb9aefc097c02e0e27ba1539/clock7.png",
        clock730: "https://d78fikflryjgj.cloudfront.net/images/emoji/8a2d8833a8ec29eeba369d95cf3ba543/clock730.png",
        clock8: "https://d78fikflryjgj.cloudfront.net/images/emoji/a7a708c4e98b7e3fb17782e9d2efaed2/clock8.png",
        clock830: "https://d78fikflryjgj.cloudfront.net/images/emoji/19cb7852c06c21ff44eed74663813c6b/clock830.png",
        clock9: "https://d78fikflryjgj.cloudfront.net/images/emoji/7e4a201f0deb352b815881fd3dacad46/clock9.png",
        clock930: "https://d78fikflryjgj.cloudfront.net/images/emoji/65eabdccef310d3e364a6b1ca518978d/clock930.png",
        closed_book: "https://d78fikflryjgj.cloudfront.net/images/emoji/aa33e361d68e9a87c22bede82e7acde0/closed_book.png",
        closed_lock_with_key: "https://d78fikflryjgj.cloudfront.net/images/emoji/ff3b3f7d7cc9b04edc4f9ebcc5943510/closed_lock_with_key.png",
        closed_umbrella: "https://d78fikflryjgj.cloudfront.net/images/emoji/350ad377b4d5f8dfee65b1b17c867b5e/closed_umbrella.png",
        cloud: "https://d78fikflryjgj.cloudfront.net/images/emoji/ea4bc0ec71175efd1adb964d0f0eee62/cloud.png",
        clubs: "https://d78fikflryjgj.cloudfront.net/images/emoji/5d095eee11154d4854afdae13fc08a21/clubs.png",
        cn: "https://d78fikflryjgj.cloudfront.net/images/emoji/aeb25fda6ec7a7808f579cb9a0686df2/cn.png",
        cocktail: "https://d78fikflryjgj.cloudfront.net/images/emoji/c6a9668b74f9ccd61e38372c80331cc3/cocktail.png",
        coffee: "https://d78fikflryjgj.cloudfront.net/images/emoji/06d4e6dde787543889ca7e1d56b4b3f9/coffee.png",
        cold_sweat: "https://d78fikflryjgj.cloudfront.net/images/emoji/2f8e5a29bd79abcbf50716ad042c3789/cold_sweat.png",
        collision: "https://d78fikflryjgj.cloudfront.net/images/emoji/ddf586005f3efb385fba44b4cf3f5ecf/collision.png",
        computer: "https://d78fikflryjgj.cloudfront.net/images/emoji/73f6916b80552a9097ae888aaa6d4d8c/computer.png",
        confetti_ball: "https://d78fikflryjgj.cloudfront.net/images/emoji/95e4252669cec7287354aa724e078232/confetti_ball.png",
        confounded: "https://d78fikflryjgj.cloudfront.net/images/emoji/5ca7ecb902509845a629b3a0615bdf2d/confounded.png",
        confused: "https://d78fikflryjgj.cloudfront.net/images/emoji/6f7200921e0c36c8b57bce7f3a676755/confused.png",
        congratulations: "https://d78fikflryjgj.cloudfront.net/images/emoji/7d2be25699dec42913058d5a84a82885/congratulations.png",
        construction: "https://d78fikflryjgj.cloudfront.net/images/emoji/7f749f79f760b06c42217d22f8dfe11c/construction.png",
        construction_worker: "https://d78fikflryjgj.cloudfront.net/images/emoji/761ea847a6d7315b2835474ccbee8c6d/construction_worker.png",
        convenience_store: "https://d78fikflryjgj.cloudfront.net/images/emoji/8ee9dd3caa0c06aa1fefea40febceb38/convenience_store.png",
        cookie: "https://d78fikflryjgj.cloudfront.net/images/emoji/4c2450f40a6cb7f786d9ddc8862ca83b/cookie.png",
        cool: "https://d78fikflryjgj.cloudfront.net/images/emoji/2827c50fae225439ff6ac51b1bf0a632/cool.png",
        cop: "https://d78fikflryjgj.cloudfront.net/images/emoji/a8e2b51d2610a2855586960c0f231217/cop.png",
        copyright: "https://d78fikflryjgj.cloudfront.net/images/emoji/fbe3b4b1d8d3efbcb0a9557ee693e348/copyright.png",
        corn: "https://d78fikflryjgj.cloudfront.net/images/emoji/e4e4b373ecd30b2235ee472ea9bbea06/corn.png",
        couple: "https://d78fikflryjgj.cloudfront.net/images/emoji/3b65de8238a0fb2476f4c04cc86efda9/couple.png",
        couple_with_heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/168c8e4217f747c6a0a193d66d918814/couple_with_heart.png",
        couplekiss: "https://d78fikflryjgj.cloudfront.net/images/emoji/9e0dcb6791032bf0557f547bdb21a124/couplekiss.png",
        cow: "https://d78fikflryjgj.cloudfront.net/images/emoji/d03207d5c7511efa4eb98479fbfd0be3/cow.png",
        cow2: "https://d78fikflryjgj.cloudfront.net/images/emoji/d8cc045dea278f2683c9ef6b280096bc/cow2.png",
        credit_card: "https://d78fikflryjgj.cloudfront.net/images/emoji/b6b6e9e0a208b6817dc39352392fe238/credit_card.png",
        crescent_moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/49d88f3cfd07a0ae7165a1fddfc82ab1/crescent_moon.png",
        crocodile: "https://d78fikflryjgj.cloudfront.net/images/emoji/fb903ea20a7aa4ebe688533adba2df2c/crocodile.png",
        crossed_flags: "https://d78fikflryjgj.cloudfront.net/images/emoji/4439c680ceee55e77d8a0dfdf27e18de/crossed_flags.png",
        crown: "https://d78fikflryjgj.cloudfront.net/images/emoji/0fd502ff4ca02a7934abb3947343c01d/crown.png",
        cry: "https://d78fikflryjgj.cloudfront.net/images/emoji/50b0d14555ae34b2589bac53f0961736/cry.png",
        crying_cat_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/84d8a8dbf5a88fdb4176deaa394b90cc/crying_cat_face.png",
        crystal_ball: "https://d78fikflryjgj.cloudfront.net/images/emoji/99ea5d015548be3c0b2c5d7a4dd7fe48/crystal_ball.png",
        cupid: "https://d78fikflryjgj.cloudfront.net/images/emoji/81615531eae0568a9fcbdd28cf4f3603/cupid.png",
        curly_loop: "https://d78fikflryjgj.cloudfront.net/images/emoji/368b97171bdc7f20894a37cea0de5858/curly_loop.png",
        currency_exchange: "https://d78fikflryjgj.cloudfront.net/images/emoji/e70fa67a563b9809747038832719707b/currency_exchange.png",
        curry: "https://d78fikflryjgj.cloudfront.net/images/emoji/5f58d7055cca67b52e3a6a062c8585e2/curry.png",
        custard: "https://d78fikflryjgj.cloudfront.net/images/emoji/92c388864c6b043df093e554271c257c/custard.png",
        customs: "https://d78fikflryjgj.cloudfront.net/images/emoji/fe7ace16f33e07ae83e8e0861c53b71c/customs.png",
        cyclone: "https://d78fikflryjgj.cloudfront.net/images/emoji/24dc815c9286f1e64808da2eb7662e5b/cyclone.png",
        dancer: "https://d78fikflryjgj.cloudfront.net/images/emoji/d6000eabf08d50191b110ecd1bb7555e/dancer.png",
        dancers: "https://d78fikflryjgj.cloudfront.net/images/emoji/45190bfcdc3a46fcef007ccb353e4699/dancers.png",
        dango: "https://d78fikflryjgj.cloudfront.net/images/emoji/90f46f7317db550ec18b349caf0791a8/dango.png",
        dart: "https://d78fikflryjgj.cloudfront.net/images/emoji/23775f9b6e2c85c19354758824c563dd/dart.png",
        dash: "https://d78fikflryjgj.cloudfront.net/images/emoji/69da06f1eafe70f7d21ca25e9c789c84/dash.png",
        date: "https://d78fikflryjgj.cloudfront.net/images/emoji/cb5d858c0ea28f4f5cfc2e125d72830e/date.png",
        de: "https://d78fikflryjgj.cloudfront.net/images/emoji/fd6b1db4c5c636b0db109f6078896aec/de.png",
        deciduous_tree: "https://d78fikflryjgj.cloudfront.net/images/emoji/6cfb9c3655b657f6b5a3299d9709a561/deciduous_tree.png",
        department_store: "https://d78fikflryjgj.cloudfront.net/images/emoji/0f36f9fdd0b33cad6e7f2e8811b5c09c/department_store.png",
        diamond_shape_with_a_dot_inside: "https://d78fikflryjgj.cloudfront.net/images/emoji/c0243db9d3d5558faa351bbd2617f8c7/diamond_shape_with_a_dot_inside.png",
        diamonds: "https://d78fikflryjgj.cloudfront.net/images/emoji/62f886cd7ab0be6b5878277a7f000ebf/diamonds.png",
        disappointed: "https://d78fikflryjgj.cloudfront.net/images/emoji/4145de5ddf63f745d4608e9dbf5485f3/disappointed.png",
        disappointed_relieved: "https://d78fikflryjgj.cloudfront.net/images/emoji/a7b1dae660fd732c0b74740551a457e8/disappointed_relieved.png",
        dizzy: "https://d78fikflryjgj.cloudfront.net/images/emoji/919453cbe211895258cf14a9401fd02d/dizzy.png",
        dizzy_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/4b7a43b87b92f14f0dc7d6de6d609141/dizzy_face.png",
        do_not_litter: "https://d78fikflryjgj.cloudfront.net/images/emoji/4d32cd9a84403711040758a1863b51fa/do_not_litter.png",
        dog: "https://d78fikflryjgj.cloudfront.net/images/emoji/7e4b2365f2611866c041969f8f0a0aa3/dog.png",
        dog2: "https://d78fikflryjgj.cloudfront.net/images/emoji/0826ceb6b5d734768aacca88b6b61322/dog2.png",
        dollar: "https://d78fikflryjgj.cloudfront.net/images/emoji/16ffaa41863419b583f6758aac236cf9/dollar.png",
        dolls: "https://d78fikflryjgj.cloudfront.net/images/emoji/f0474864d3917c86f682ba1b10a3b9a4/dolls.png",
        dolphin: "https://d78fikflryjgj.cloudfront.net/images/emoji/e2681094bda06307b66364a4daff006f/dolphin.png",
        door: "https://d78fikflryjgj.cloudfront.net/images/emoji/c2712508b20cd87e4f7e4937c8b96b76/door.png",
        doughnut: "https://d78fikflryjgj.cloudfront.net/images/emoji/a282bf5cba01abf01f0dc9a266a55891/doughnut.png",
        dragon: "https://d78fikflryjgj.cloudfront.net/images/emoji/0d123d0ba37d50c824a4ca6340833680/dragon.png",
        dragon_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/4b40408361ab7ad90ceac2ee7a590a71/dragon_face.png",
        dress: "https://d78fikflryjgj.cloudfront.net/images/emoji/178d46b4a471314bb8d2078f022c297f/dress.png",
        dromedary_camel: "https://d78fikflryjgj.cloudfront.net/images/emoji/fae304ce06580c780c58ef6efaf7f9b1/dromedary_camel.png",
        droplet: "https://d78fikflryjgj.cloudfront.net/images/emoji/3f1f9931b25e05ad3599f681334000d1/droplet.png",
        dvd: "https://d78fikflryjgj.cloudfront.net/images/emoji/b451d5693f2bc61fe69b0ab3c6b68ced/dvd.png",
        "e-mail": "https://d78fikflryjgj.cloudfront.net/images/emoji/fba7b6ecc5456013513ed1474bee9b90/e-mail.png",
        ear: "https://d78fikflryjgj.cloudfront.net/images/emoji/17f8979cf99e502c164140be9056211f/ear.png",
        ear_of_rice: "https://d78fikflryjgj.cloudfront.net/images/emoji/12a11a324fc8ef0ea903013af13394c3/ear_of_rice.png",
        earth_africa: "https://d78fikflryjgj.cloudfront.net/images/emoji/131d46af66224436762df67f7a799e3c/earth_africa.png",
        earth_americas: "https://d78fikflryjgj.cloudfront.net/images/emoji/c710661fa6000ba3ffdbe42f70219063/earth_americas.png",
        earth_asia: "https://d78fikflryjgj.cloudfront.net/images/emoji/a6d220eb13015f762054d243f06e75a3/earth_asia.png",
        egg: "https://d78fikflryjgj.cloudfront.net/images/emoji/bbcc80f6035892002a94f7dff30cea61/egg.png",
        eggplant: "https://d78fikflryjgj.cloudfront.net/images/emoji/c6743d7582b47d54cb672fc68cfb725d/eggplant.png",
        eight: "https://d78fikflryjgj.cloudfront.net/images/emoji/d01706294ea77a538496376c9429c77b/eight.png",
        eight_pointed_black_star: "https://d78fikflryjgj.cloudfront.net/images/emoji/7bc21d67acd4b44d248ae89283bf87e8/eight_pointed_black_star.png",
        eight_spoked_asterisk: "https://d78fikflryjgj.cloudfront.net/images/emoji/97ec7f4a6266aff7b7f07e4bca7f1358/eight_spoked_asterisk.png",
        electric_plug: "https://d78fikflryjgj.cloudfront.net/images/emoji/0ffacdb29ec38cfc327ec6f784d77443/electric_plug.png",
        elephant: "https://d78fikflryjgj.cloudfront.net/images/emoji/75d89b44a9d974425369472ee00414ad/elephant.png",
        email: "https://d78fikflryjgj.cloudfront.net/images/emoji/1fabc149ec15ded868eb7d32d9d10daa/email.png",
        end: "https://d78fikflryjgj.cloudfront.net/images/emoji/5793390e4de633d7baec09fc6cbfa7b3/end.png",
        envelope: "https://d78fikflryjgj.cloudfront.net/images/emoji/1fabc149ec15ded868eb7d32d9d10daa/envelope.png",
        envelope_with_arrow: "https://d78fikflryjgj.cloudfront.net/images/emoji/e2b6bc654f1d5170735fd7fa5de02d8b/envelope_with_arrow.png",
        es: "https://d78fikflryjgj.cloudfront.net/images/emoji/9e8a8d6bc5e64afbdb9839e58454f6b8/es.png",
        euro: "https://d78fikflryjgj.cloudfront.net/images/emoji/96ee1235d3a4339cac0d9a515a5d0ccb/euro.png",
        european_castle: "https://d78fikflryjgj.cloudfront.net/images/emoji/608b39899571685e3c95dd071f4e8e2a/european_castle.png",
        european_post_office: "https://d78fikflryjgj.cloudfront.net/images/emoji/70c6c39af8cc1df2f0a4438401688c6f/european_post_office.png",
        evergreen_tree: "https://d78fikflryjgj.cloudfront.net/images/emoji/d6abc94c9825ae86175b09c4d005d056/evergreen_tree.png",
        exclamation: "https://d78fikflryjgj.cloudfront.net/images/emoji/56399206fd046f4499d820e1bed93f43/exclamation.png",
        expressionless: "https://d78fikflryjgj.cloudfront.net/images/emoji/b5484b7b019c8d96bd0cd59fd027102a/expressionless.png",
        eyeglasses: "https://d78fikflryjgj.cloudfront.net/images/emoji/caffd40ac5e0dd54145128c212772a27/eyeglasses.png",
        eyes: "https://d78fikflryjgj.cloudfront.net/images/emoji/eb697aad09b733789a819b908acfbae6/eyes.png",
        facepalm: "https://d78fikflryjgj.cloudfront.net/images/emoji/2288768c1bed245ca6801c6cdf6fe029/facepalm.png",
        facepunch: "https://d78fikflryjgj.cloudfront.net/images/emoji/0902dded44c402bd7707bcd447dbe33c/facepunch.png",
        factory: "https://d78fikflryjgj.cloudfront.net/images/emoji/f55dfda77c13bd3a7ed49a4a5e7945ec/factory.png",
        fallen_leaf: "https://d78fikflryjgj.cloudfront.net/images/emoji/95358eb5cfc87a496db7848bafa88740/fallen_leaf.png",
        family: "https://d78fikflryjgj.cloudfront.net/images/emoji/d95fc7aa21ebc573c11a85c3881d3927/family.png",
        fast_forward: "https://d78fikflryjgj.cloudfront.net/images/emoji/3bc55373d7e7d053e0c0fc37116c3e6b/fast_forward.png",
        fax: "https://d78fikflryjgj.cloudfront.net/images/emoji/65afa262a89b88935ae2182bab928fd5/fax.png",
        fearful: "https://d78fikflryjgj.cloudfront.net/images/emoji/3b8b18c0108ef96ba9f8b9cf230b4224/fearful.png",
        feelsgood: "https://d78fikflryjgj.cloudfront.net/images/emoji/4fab33ad41d47ca1e4104662adba4a96/feelsgood.png",
        feet: "https://d78fikflryjgj.cloudfront.net/images/emoji/a8fda9184043373f1891bdc8bfff8919/feet.png",
        ferris_wheel: "https://d78fikflryjgj.cloudfront.net/images/emoji/94232f8c9ed9e17408e19d641fc2f23e/ferris_wheel.png",
        file_folder: "https://d78fikflryjgj.cloudfront.net/images/emoji/3e6fbd09769b2718dec27d89d3c42767/file_folder.png",
        finnadie: "https://d78fikflryjgj.cloudfront.net/images/emoji/a06963383cf98607925b04ac460867c3/finnadie.png",
        fire: "https://d78fikflryjgj.cloudfront.net/images/emoji/ed6d1412dd1363f8e943dc274baa80e9/fire.png",
        fire_engine: "https://d78fikflryjgj.cloudfront.net/images/emoji/51e5132bd36d91c9c0b12c7e6fdc3738/fire_engine.png",
        fireworks: "https://d78fikflryjgj.cloudfront.net/images/emoji/dfe615f29d76e6c294faf0e90037d2d0/fireworks.png",
        first_quarter_moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/fa4cec74535c853115923bf73f7284a0/first_quarter_moon.png",
        first_quarter_moon_with_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/49fd3137f67a10767a3ababfc1377bdb/first_quarter_moon_with_face.png",
        fish: "https://d78fikflryjgj.cloudfront.net/images/emoji/217da876c1f56ddaf68dd7872fd5d52d/fish.png",
        fish_cake: "https://d78fikflryjgj.cloudfront.net/images/emoji/59ecf24c2d47f9d0477f5db83602e142/fish_cake.png",
        fishing_pole_and_fish: "https://d78fikflryjgj.cloudfront.net/images/emoji/3e4752beaec776965bad466532d44f1c/fishing_pole_and_fish.png",
        fist: "https://d78fikflryjgj.cloudfront.net/images/emoji/e43314959a71c5371221a0941776f382/fist.png",
        five: "https://d78fikflryjgj.cloudfront.net/images/emoji/1ac6e38d32f78a82bbe66c28a1e12171/five.png",
        flags: "https://d78fikflryjgj.cloudfront.net/images/emoji/26007c146603038de9dc2bffe4c184aa/flags.png",
        flashlight: "https://d78fikflryjgj.cloudfront.net/images/emoji/4674188219042dcd733b7a7e6612da14/flashlight.png",
        flipper: "https://d78fikflryjgj.cloudfront.net/images/emoji/e2681094bda06307b66364a4daff006f/flipper.png",
        floppy_disk: "https://d78fikflryjgj.cloudfront.net/images/emoji/ea0837ae63ec0ad4a04d350020da5496/floppy_disk.png",
        flower_playing_cards: "https://d78fikflryjgj.cloudfront.net/images/emoji/dca4585185d51c3d3793cffe35d785d1/flower_playing_cards.png",
        flushed: "https://d78fikflryjgj.cloudfront.net/images/emoji/a592c4f95188fbcc4e785ca0847fe2b0/flushed.png",
        foggy: "https://d78fikflryjgj.cloudfront.net/images/emoji/0e0f07212b04fa6d115ea989bf7d0c96/foggy.png",
        football: "https://d78fikflryjgj.cloudfront.net/images/emoji/2d58ac46fb26501cd23262c2a7ea014c/football.png",
        footprints: "https://d78fikflryjgj.cloudfront.net/images/emoji/f10532514820e5bc2a7809a41594eb3e/footprints.png",
        fork_and_knife: "https://d78fikflryjgj.cloudfront.net/images/emoji/2dc66dcde7d4b6a1d2556d0facf4eb8b/fork_and_knife.png",
        fountain: "https://d78fikflryjgj.cloudfront.net/images/emoji/d455da22e5c3ef3180f9b0d41fe1cdd2/fountain.png",
        four: "https://d78fikflryjgj.cloudfront.net/images/emoji/aac6493750398c1169b9343c6902f2cc/four.png",
        four_leaf_clover: "https://d78fikflryjgj.cloudfront.net/images/emoji/40d3669cc88281aaf23e4bff8f31d51f/four_leaf_clover.png",
        fr: "https://d78fikflryjgj.cloudfront.net/images/emoji/2c80adb041ec39143c3098f053868d8f/fr.png",
        free: "https://d78fikflryjgj.cloudfront.net/images/emoji/b54e770c12c83060703037f621cfe17b/free.png",
        fried_shrimp: "https://d78fikflryjgj.cloudfront.net/images/emoji/9c6a592d04832f5139cf8aa6de597736/fried_shrimp.png",
        fries: "https://d78fikflryjgj.cloudfront.net/images/emoji/08ab69eb404574615f3bb9569d496ca3/fries.png",
        frog: "https://d78fikflryjgj.cloudfront.net/images/emoji/d3b3f0dc3416f8f5f4a4e5b4d742c687/frog.png",
        frowning: "https://d78fikflryjgj.cloudfront.net/images/emoji/d2e23f78eef57f6683f5e3e4c0e16343/frowning.png",
        fu: "https://d78fikflryjgj.cloudfront.net/images/emoji/cac361a2a3da22d4bea4f192ca0ab151/fu.png",
        fuelpump: "https://d78fikflryjgj.cloudfront.net/images/emoji/ad90f27571ec9a002efb795b1c21bdea/fuelpump.png",
        full_moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/dacc780014fc85556767221e2112bbc7/full_moon.png",
        full_moon_with_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/5ac3188cf68489fb38e6d8e9ce256da7/full_moon_with_face.png",
        game_die: "https://d78fikflryjgj.cloudfront.net/images/emoji/5e420fdbf01d1db3f1cd4f4f01ea6a15/game_die.png",
        gb: "https://d78fikflryjgj.cloudfront.net/images/emoji/085a66819b0bbc0133620b7b8688da1d/gb.png",
        gem: "https://d78fikflryjgj.cloudfront.net/images/emoji/3c47cd174e9ee92020168ccfb17d6d59/gem.png",
        gemini: "https://d78fikflryjgj.cloudfront.net/images/emoji/6563bbc6da452d335ede6f1e3de063d0/gemini.png",
        ghost: "https://d78fikflryjgj.cloudfront.net/images/emoji/01d789f3fe24b5c9c6a67a116fc516db/ghost.png",
        gift: "https://d78fikflryjgj.cloudfront.net/images/emoji/6a7f536b329eeb9c60d9238a3ab9595d/gift.png",
        gift_heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/e459178df0ca62152725273abf19bdfd/gift_heart.png",
        girl: "https://d78fikflryjgj.cloudfront.net/images/emoji/465c49417b71ccae1d41fad2cdcb1bd1/girl.png",
        globe_with_meridians: "https://d78fikflryjgj.cloudfront.net/images/emoji/e659ff5ef8a530d4c1a25f949f8d1b9b/globe_with_meridians.png",
        goat: "https://d78fikflryjgj.cloudfront.net/images/emoji/6a6d61612c7a7f1370e37b4f65f443f6/goat.png",
        goberserk: "https://d78fikflryjgj.cloudfront.net/images/emoji/7eb1342916d725e1c970f0c3521a687e/goberserk.png",
        godmode: "https://d78fikflryjgj.cloudfront.net/images/emoji/349eb939241a6514e49c8cef3d2cb03b/godmode.png",
        golf: "https://d78fikflryjgj.cloudfront.net/images/emoji/ec72de4b5a8e13b5e5af372d4e4e6f7d/golf.png",
        grapes: "https://d78fikflryjgj.cloudfront.net/images/emoji/2d68ac5f4c47083f592809b231b17bd7/grapes.png",
        green_apple: "https://d78fikflryjgj.cloudfront.net/images/emoji/06b8a11f08563454f2f4cae1e4e67f28/green_apple.png",
        green_book: "https://d78fikflryjgj.cloudfront.net/images/emoji/c36f6132347c57ac36fa49d5f12aab05/green_book.png",
        green_heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/9a0ed337039fcf450ae95739a2fe3e18/green_heart.png",
        grey_exclamation: "https://d78fikflryjgj.cloudfront.net/images/emoji/72629bcca32cd65180aa8f0d27841969/grey_exclamation.png",
        grey_question: "https://d78fikflryjgj.cloudfront.net/images/emoji/c06c1d0b519b96c541c23335c9f088c4/grey_question.png",
        grimacing: "https://d78fikflryjgj.cloudfront.net/images/emoji/ebe859c119c9e383559bb5fb441f0687/grimacing.png",
        grin: "https://d78fikflryjgj.cloudfront.net/images/emoji/c15d783a8ecbd12cb276a85e54002bc6/grin.png",
        grinning: "https://d78fikflryjgj.cloudfront.net/images/emoji/dafb0c0c3345e8da60e93973c353ea12/grinning.png",
        guardsman: "https://d78fikflryjgj.cloudfront.net/images/emoji/d071c494323aed0ffb5edee581408590/guardsman.png",
        guitar: "https://d78fikflryjgj.cloudfront.net/images/emoji/1743c39f2a1c335faf174bc6294b3a4b/guitar.png",
        gun: "https://d78fikflryjgj.cloudfront.net/images/emoji/48545d1c648f1e835afd46a9a75ef877/gun.png",
        haircut: "https://d78fikflryjgj.cloudfront.net/images/emoji/40023b2c6af14da6f35801037094b680/haircut.png",
        hamburger: "https://d78fikflryjgj.cloudfront.net/images/emoji/36d446caf9e1bb7738ac994665caa9d6/hamburger.png",
        hammer: "https://d78fikflryjgj.cloudfront.net/images/emoji/9494abc1928a405a7f91500dce41560e/hammer.png",
        hamster: "https://d78fikflryjgj.cloudfront.net/images/emoji/086e2141c22bb6657325e41151c31879/hamster.png",
        hand: "https://d78fikflryjgj.cloudfront.net/images/emoji/cb59e7620a3028058a5ed6c51d1890fa/hand.png",
        handbag: "https://d78fikflryjgj.cloudfront.net/images/emoji/3a915be880b3e31d99b090fd905b9251/handbag.png",
        hankey: "https://d78fikflryjgj.cloudfront.net/images/emoji/62d03c1e2d8608f29540b097b7cf1ab1/hankey.png",
        hash: "https://d78fikflryjgj.cloudfront.net/images/emoji/75c61a8abc5e41eb9b5d8c34b174425f/hash.png",
        hatched_chick: "https://d78fikflryjgj.cloudfront.net/images/emoji/18dd00d94aaad388a43e209e69d2a136/hatched_chick.png",
        hatching_chick: "https://d78fikflryjgj.cloudfront.net/images/emoji/8aa993affa31b0c6788ef7b322895d1d/hatching_chick.png",
        headphones: "https://d78fikflryjgj.cloudfront.net/images/emoji/6349aaddf8a1d0b1f2b963a740022ef4/headphones.png",
        hear_no_evil: "https://d78fikflryjgj.cloudfront.net/images/emoji/b9099bbabde151e8d1979e57c51e521c/hear_no_evil.png",
        heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/cd1d2bed2bd302bca7fd6d2c61a8c1c9/heart.png",
        heart_decoration: "https://d78fikflryjgj.cloudfront.net/images/emoji/a7da588b4ef5e3084670c5aa9e5d9715/heart_decoration.png",
        heart_eyes: "https://d78fikflryjgj.cloudfront.net/images/emoji/e6f06b33a6dd19ea5eff73b94456a9ac/heart_eyes.png",
        heart_eyes_cat: "https://d78fikflryjgj.cloudfront.net/images/emoji/18e218a3ccf076c35b446149946a6e62/heart_eyes_cat.png",
        heartbeat: "https://d78fikflryjgj.cloudfront.net/images/emoji/21b870f4b04731d17732b16a323bcdeb/heartbeat.png",
        heartpulse: "https://d78fikflryjgj.cloudfront.net/images/emoji/b8149aecdddda64c6129e3b58d9dda3f/heartpulse.png",
        hearts: "https://d78fikflryjgj.cloudfront.net/images/emoji/017db558db824576d0de1de798d9998f/hearts.png",
        heavy_check_mark: "https://d78fikflryjgj.cloudfront.net/images/emoji/a01e0f7d345acc3abd919d51db30104c/heavy_check_mark.png",
        heavy_division_sign: "https://d78fikflryjgj.cloudfront.net/images/emoji/c74e2ce77d25af618a6b96c90041fe48/heavy_division_sign.png",
        heavy_dollar_sign: "https://d78fikflryjgj.cloudfront.net/images/emoji/9efb3dd47af22cfb9fcd7115a8393c50/heavy_dollar_sign.png",
        heavy_exclamation_mark: "https://d78fikflryjgj.cloudfront.net/images/emoji/56399206fd046f4499d820e1bed93f43/heavy_exclamation_mark.png",
        heavy_minus_sign: "https://d78fikflryjgj.cloudfront.net/images/emoji/af4eb6738ce85d3ea39c241fec531573/heavy_minus_sign.png",
        heavy_multiplication_x: "https://d78fikflryjgj.cloudfront.net/images/emoji/0ea18860059daa65721dd9cae3e48a7f/heavy_multiplication_x.png",
        heavy_plus_sign: "https://d78fikflryjgj.cloudfront.net/images/emoji/8cbea532738b413d46013c55090c0185/heavy_plus_sign.png",
        helicopter: "https://d78fikflryjgj.cloudfront.net/images/emoji/d6092527a7653ed25389077c5dc9eb3b/helicopter.png",
        herb: "https://d78fikflryjgj.cloudfront.net/images/emoji/b7807160c3409a46346d9dc8ffbdcc46/herb.png",
        hibiscus: "https://d78fikflryjgj.cloudfront.net/images/emoji/9e8c93b5644b65f050be2648177af4e5/hibiscus.png",
        high_brightness: "https://d78fikflryjgj.cloudfront.net/images/emoji/06dab0a332d9d4b7e838b2ada7d0bca4/high_brightness.png",
        high_heel: "https://d78fikflryjgj.cloudfront.net/images/emoji/339854302caba793574eeefa675fac6d/high_heel.png",
        hocho: "https://d78fikflryjgj.cloudfront.net/images/emoji/39da9e0c736f3c0e9c1881b5f22cb657/hocho.png",
        honey_pot: "https://d78fikflryjgj.cloudfront.net/images/emoji/c0cf25d01c5573c3c273852bf4746732/honey_pot.png",
        honeybee: "https://d78fikflryjgj.cloudfront.net/images/emoji/a6c6f8b940f42688743046634de7a85f/honeybee.png",
        horse: "https://d78fikflryjgj.cloudfront.net/images/emoji/4c7a2b0d09f7d488a0a7387537d6ce31/horse.png",
        horse_racing: "https://d78fikflryjgj.cloudfront.net/images/emoji/778b4b19d5daef7f307f1187c36b5339/horse_racing.png",
        hospital: "https://d78fikflryjgj.cloudfront.net/images/emoji/28c0bf64a3f77113803e6fc599d65a89/hospital.png",
        hotel: "https://d78fikflryjgj.cloudfront.net/images/emoji/f0960a574518f14ac547696c26b4198f/hotel.png",
        hotsprings: "https://d78fikflryjgj.cloudfront.net/images/emoji/7082c89dfc0e26b9e1b8954e7061e114/hotsprings.png",
        hourglass: "https://d78fikflryjgj.cloudfront.net/images/emoji/46d4b9d4790023470d33e1ed44f9e79a/hourglass.png",
        hourglass_flowing_sand: "https://d78fikflryjgj.cloudfront.net/images/emoji/a2476f6ddb1b611309a0273e62468638/hourglass_flowing_sand.png",
        house: "https://d78fikflryjgj.cloudfront.net/images/emoji/13e39bb5bc594a5aeb3d692517e7e28a/house.png",
        house_with_garden: "https://d78fikflryjgj.cloudfront.net/images/emoji/b419ea4a988ec696481380ead96e0994/house_with_garden.png",
        hurtrealbad: "https://d78fikflryjgj.cloudfront.net/images/emoji/3a9763040f4d724ecbd596db875b5ec7/hurtrealbad.png",
        hushed: "https://d78fikflryjgj.cloudfront.net/images/emoji/a9f825f3b828a6e1bcd133cff7e292ec/hushed.png",
        ice_cream: "https://d78fikflryjgj.cloudfront.net/images/emoji/0eaffdfd183f2fc5da2eeea9361d0090/ice_cream.png",
        icecream: "https://d78fikflryjgj.cloudfront.net/images/emoji/9f43da7088e343f857fecdd7b1f3c288/icecream.png",
        id: "https://d78fikflryjgj.cloudfront.net/images/emoji/a5d7678912379dec7a0692bd616266ab/id.png",
        ideograph_advantage: "https://d78fikflryjgj.cloudfront.net/images/emoji/5b36fdb07b35abe6d2277f50fad40d3a/ideograph_advantage.png",
        imp: "https://d78fikflryjgj.cloudfront.net/images/emoji/aa80e7bfc8da6a05f2e321aea6c31f70/imp.png",
        inbox_tray: "https://d78fikflryjgj.cloudfront.net/images/emoji/156701c7ff5b68ff82e4146d00d24b48/inbox_tray.png",
        incoming_envelope: "https://d78fikflryjgj.cloudfront.net/images/emoji/a70057747af68fbb6342c9b4b8d007ce/incoming_envelope.png",
        information_desk_person: "https://d78fikflryjgj.cloudfront.net/images/emoji/f63fade86e02ed609af315d2dedf4b32/information_desk_person.png",
        information_source: "https://d78fikflryjgj.cloudfront.net/images/emoji/60509a206d963ee971cded6331f56cc5/information_source.png",
        innocent: "https://d78fikflryjgj.cloudfront.net/images/emoji/b9607bffbadcba3ecd752edee529d313/innocent.png",
        interrobang: "https://d78fikflryjgj.cloudfront.net/images/emoji/e829a530301e217e92835bcd94e688c0/interrobang.png",
        iphone: "https://d78fikflryjgj.cloudfront.net/images/emoji/0fdf60a9c7442152b745a1dd50476a0a/iphone.png",
        it: "https://d78fikflryjgj.cloudfront.net/images/emoji/f9e55f1296649f6ee155349ffcfca32d/it.png",
        izakaya_lantern: "https://d78fikflryjgj.cloudfront.net/images/emoji/b44fed7fe34b70be7f70649a002bbd0c/izakaya_lantern.png",
        jack_o_lantern: "https://d78fikflryjgj.cloudfront.net/images/emoji/47e5081c9f4b79087a9e0c1fbfb68a78/jack_o_lantern.png",
        japan: "https://d78fikflryjgj.cloudfront.net/images/emoji/8916ca263393ed4ab6f39f28c2e86cfd/japan.png",
        japanese_castle: "https://d78fikflryjgj.cloudfront.net/images/emoji/41653c7ccb48b2a0d330aa4931ce752f/japanese_castle.png",
        japanese_goblin: "https://d78fikflryjgj.cloudfront.net/images/emoji/702e368ae4dc45326bbc396a709c74ea/japanese_goblin.png",
        japanese_ogre: "https://d78fikflryjgj.cloudfront.net/images/emoji/089910184703190781a1c80515c37f93/japanese_ogre.png",
        jeans: "https://d78fikflryjgj.cloudfront.net/images/emoji/8b5313bcb8724428fe77d373d7cb765c/jeans.png",
        joy: "https://d78fikflryjgj.cloudfront.net/images/emoji/636a452085e2c332a4c71911e6a85c8f/joy.png",
        joy_cat: "https://d78fikflryjgj.cloudfront.net/images/emoji/488a8a3a2aad5c2b72d155c0257497ae/joy_cat.png",
        jp: "https://d78fikflryjgj.cloudfront.net/images/emoji/7729a2e82da52292549ccd653555a7d2/jp.png",
        key: "https://d78fikflryjgj.cloudfront.net/images/emoji/e1fa3fe5469224bbd122ada8a28a8ce7/key.png",
        keycap_ten: "https://d78fikflryjgj.cloudfront.net/images/emoji/73d4356aeaf44638d50054e33da200a4/keycap_ten.png",
        kimono: "https://d78fikflryjgj.cloudfront.net/images/emoji/11d856c22b4c8510d6d38d0096c0ab88/kimono.png",
        kiss: "https://d78fikflryjgj.cloudfront.net/images/emoji/4d4222bcfdc05251c9286407c4fc7940/kiss.png",
        kissing: "https://d78fikflryjgj.cloudfront.net/images/emoji/acf2ff3b8da32c02f20c4d6af0623995/kissing.png",
        kissing_cat: "https://d78fikflryjgj.cloudfront.net/images/emoji/2f68401a7d27bb033c65e440649d6656/kissing_cat.png",
        kissing_closed_eyes: "https://d78fikflryjgj.cloudfront.net/images/emoji/649cbca78ac5d84807b7c542179fe2c8/kissing_closed_eyes.png",
        kissing_heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/8b694693575c6f8ab2f5f26a73493d28/kissing_heart.png",
        kissing_smiling_eyes: "https://d78fikflryjgj.cloudfront.net/images/emoji/ea98be72feacb0bbc4bf2f95060187ea/kissing_smiling_eyes.png",
        koala: "https://d78fikflryjgj.cloudfront.net/images/emoji/3b4cba0d6c71d792a5b74c57548205fd/koala.png",
        koko: "https://d78fikflryjgj.cloudfront.net/images/emoji/5eae4c99b86771bcfb0f5f9e9206ffba/koko.png",
        kr: "https://d78fikflryjgj.cloudfront.net/images/emoji/c034218c74762c36ada955b885b47d38/kr.png",
        lantern: "https://d78fikflryjgj.cloudfront.net/images/emoji/b44fed7fe34b70be7f70649a002bbd0c/lantern.png",
        large_blue_circle: "https://d78fikflryjgj.cloudfront.net/images/emoji/72c7834e2bd3209314296621113ffc73/large_blue_circle.png",
        large_blue_diamond: "https://d78fikflryjgj.cloudfront.net/images/emoji/655cc16a2c4901ce7b5647b79d8b93b3/large_blue_diamond.png",
        large_orange_diamond: "https://d78fikflryjgj.cloudfront.net/images/emoji/aaa43e423d6092941d25d9b1d76b253e/large_orange_diamond.png",
        last_quarter_moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/4296435a74885d8582214998f3080853/last_quarter_moon.png",
        last_quarter_moon_with_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/f2f8a0faae72959046a99b59bc2d5677/last_quarter_moon_with_face.png",
        laughing: "https://d78fikflryjgj.cloudfront.net/images/emoji/f5f1d1dc4c1737305d7089d46dd996bf/laughing.png",
        leaves: "https://d78fikflryjgj.cloudfront.net/images/emoji/cefbf86a652c6fbe7634bebc9198beb3/leaves.png",
        ledger: "https://d78fikflryjgj.cloudfront.net/images/emoji/0f801705318a9a96df30ec7f45b4eb7d/ledger.png",
        left_luggage: "https://d78fikflryjgj.cloudfront.net/images/emoji/086274676f1a061d29eee36c9927590f/left_luggage.png",
        left_right_arrow: "https://d78fikflryjgj.cloudfront.net/images/emoji/adad9c8fe7641f36ead88a19f9050b41/left_right_arrow.png",
        leftwards_arrow_with_hook: "https://d78fikflryjgj.cloudfront.net/images/emoji/8e99f8a048788b0ceeb6fae5c0b0547a/leftwards_arrow_with_hook.png",
        lemon: "https://d78fikflryjgj.cloudfront.net/images/emoji/c37f06948ca7cf986810616ac5b2c0e4/lemon.png",
        leo: "https://d78fikflryjgj.cloudfront.net/images/emoji/54aca40c97d642279d2faf5f1455aa42/leo.png",
        leopard: "https://d78fikflryjgj.cloudfront.net/images/emoji/addce2e8d62e7f3eab9246555fc7e785/leopard.png",
        libra: "https://d78fikflryjgj.cloudfront.net/images/emoji/91b2bce4c73a7588dd26999853f2266f/libra.png",
        light_rail: "https://d78fikflryjgj.cloudfront.net/images/emoji/04ce285024390d3d106af5eb7ca8d95f/light_rail.png",
        link: "https://d78fikflryjgj.cloudfront.net/images/emoji/7a4f4c929a2e52c6886d33d9e4a24f2d/link.png",
        lips: "https://d78fikflryjgj.cloudfront.net/images/emoji/b3b04b940fd2d69178d2fef1d385d485/lips.png",
        lipstick: "https://d78fikflryjgj.cloudfront.net/images/emoji/76e7e9726e472f415e10da211ee1c1a1/lipstick.png",
        lock: "https://d78fikflryjgj.cloudfront.net/images/emoji/cebb6a4d3266954c9590a9b6da12fd25/lock.png",
        lock_with_ink_pen: "https://d78fikflryjgj.cloudfront.net/images/emoji/b2b3fc83d455eda3effb2869470e92b8/lock_with_ink_pen.png",
        lollipop: "https://d78fikflryjgj.cloudfront.net/images/emoji/1e0a1f81b3786f6fb9aaf7dc794367e5/lollipop.png",
        loop: "https://d78fikflryjgj.cloudfront.net/images/emoji/79848c1d1b6267d36be821a0d640facb/loop.png",
        loudspeaker: "https://d78fikflryjgj.cloudfront.net/images/emoji/16b66988ccb6b0f087686b9b39404336/loudspeaker.png",
        love_hotel: "https://d78fikflryjgj.cloudfront.net/images/emoji/0ec7826bd541fef623438512197b080c/love_hotel.png",
        love_letter: "https://d78fikflryjgj.cloudfront.net/images/emoji/6a06d6209cacfc0be2296cd2a3849082/love_letter.png",
        low_brightness: "https://d78fikflryjgj.cloudfront.net/images/emoji/1c59fc780f17cef0158a99dfdb143e4a/low_brightness.png",
        m: "https://d78fikflryjgj.cloudfront.net/images/emoji/c1cecf01098bccfbf72061dbb3aac7eb/m.png",
        mag: "https://d78fikflryjgj.cloudfront.net/images/emoji/e8e3fb2f552f35238b2c123cc315637f/mag.png",
        mag_right: "https://d78fikflryjgj.cloudfront.net/images/emoji/54c6493e4ad20cd1f1b30ed3bdebcb67/mag_right.png",
        mahjong: "https://d78fikflryjgj.cloudfront.net/images/emoji/3340fc9be1bbfae133700ec7ff9012db/mahjong.png",
        mailbox: "https://d78fikflryjgj.cloudfront.net/images/emoji/a31a438a7add9390d9fdaa6f282a6121/mailbox.png",
        mailbox_closed: "https://d78fikflryjgj.cloudfront.net/images/emoji/ae370d245fb136322a5b7e688b4c8a82/mailbox_closed.png",
        mailbox_with_mail: "https://d78fikflryjgj.cloudfront.net/images/emoji/12adf52a9ba0fa79f8a502565ab9f1b3/mailbox_with_mail.png",
        mailbox_with_no_mail: "https://d78fikflryjgj.cloudfront.net/images/emoji/6bf04d14cdd4a67c3361403d6936d2cd/mailbox_with_no_mail.png",
        man: "https://d78fikflryjgj.cloudfront.net/images/emoji/1577b06c8e417060cda41b778cbde84e/man.png",
        man_with_gua_pi_mao: "https://d78fikflryjgj.cloudfront.net/images/emoji/5ea246d8336a7860252e1d04da923c8c/man_with_gua_pi_mao.png",
        man_with_turban: "https://d78fikflryjgj.cloudfront.net/images/emoji/824acad4c2bb299ec7f42a03d6989f7a/man_with_turban.png",
        mans_shoe: "https://d78fikflryjgj.cloudfront.net/images/emoji/d5161dfe10dd32fcdaeb81a14cad6697/mans_shoe.png",
        maple_leaf: "https://d78fikflryjgj.cloudfront.net/images/emoji/90e99ec31f7aa5e298962dac4c6b6a32/maple_leaf.png",
        mask: "https://d78fikflryjgj.cloudfront.net/images/emoji/cae71f039823518cfce8686dad8cc17e/mask.png",
        massage: "https://d78fikflryjgj.cloudfront.net/images/emoji/24cae3ab3cd299e47205ae57e2aea6c3/massage.png",
        meat_on_bone: "https://d78fikflryjgj.cloudfront.net/images/emoji/70d83288d413d9d3eb861a00de114a5a/meat_on_bone.png",
        mega: "https://d78fikflryjgj.cloudfront.net/images/emoji/da36aeb77941f1c8cb98a4332ab732d7/mega.png",
        melon: "https://d78fikflryjgj.cloudfront.net/images/emoji/5e6bef7c2a5205af4a2ea06bfefadb1d/melon.png",
        memo: "https://d78fikflryjgj.cloudfront.net/images/emoji/f6cfa3a3462ba1190ed39229b86a1a10/memo.png",
        mens: "https://d78fikflryjgj.cloudfront.net/images/emoji/5d0d61c1bdab0af397f29508e6c9a3fe/mens.png",
        metal: "https://d78fikflryjgj.cloudfront.net/images/emoji/19a06afa1c2bf8f82f6f3b25ccfb6545/metal.png",
        metro: "https://d78fikflryjgj.cloudfront.net/images/emoji/cbdcc310fb83a886bb71e7dde93c6c0c/metro.png",
        microphone: "https://d78fikflryjgj.cloudfront.net/images/emoji/ee594eb27e0618d93f970a4135565aa5/microphone.png",
        microscope: "https://d78fikflryjgj.cloudfront.net/images/emoji/331c2818c8bce4bfd81ea1ce86ef3f04/microscope.png",
        milky_way: "https://d78fikflryjgj.cloudfront.net/images/emoji/e7a4ab2eda7760b45bd7aedb277b96e3/milky_way.png",
        minibus: "https://d78fikflryjgj.cloudfront.net/images/emoji/25eb106c8b48f87149f7c9e9651d7fa4/minibus.png",
        minidisc: "https://d78fikflryjgj.cloudfront.net/images/emoji/67d1609432bed2a9ae967d73c3cdef70/minidisc.png",
        mobile_phone_off: "https://d78fikflryjgj.cloudfront.net/images/emoji/7456a8db603180bbe6189e8034bd88e7/mobile_phone_off.png",
        money_with_wings: "https://d78fikflryjgj.cloudfront.net/images/emoji/ae262ef34240d2944b2cd741d29a4a3e/money_with_wings.png",
        moneybag: "https://d78fikflryjgj.cloudfront.net/images/emoji/9efcc0c67a26df55b14eb6e3f3d05bcf/moneybag.png",
        monkey: "https://d78fikflryjgj.cloudfront.net/images/emoji/a706cb475889c4f45e51c63c79127d07/monkey.png",
        monkey_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/1b4df9455e64e7be3c051c3e044c4819/monkey_face.png",
        monorail: "https://d78fikflryjgj.cloudfront.net/images/emoji/37c4f4b4b635839dec0ea6b7c2f057a0/monorail.png",
        moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/c1c65fc03c3c8cb9a54b16ec2a408e4e/moon.png",
        mortar_board: "https://d78fikflryjgj.cloudfront.net/images/emoji/f9ee64820c57ac5555525a11d1e92117/mortar_board.png",
        mount_fuji: "https://d78fikflryjgj.cloudfront.net/images/emoji/041fc11a3612d68a8eaeb3d0fa5a9713/mount_fuji.png",
        mountain_bicyclist: "https://d78fikflryjgj.cloudfront.net/images/emoji/21a249d3f9414bad776bf5070b5e8621/mountain_bicyclist.png",
        mountain_cableway: "https://d78fikflryjgj.cloudfront.net/images/emoji/d93e6a284c0b4b140ab2c83a913a0af4/mountain_cableway.png",
        mountain_railway: "https://d78fikflryjgj.cloudfront.net/images/emoji/d21f8250957890156e5f60e75252fb31/mountain_railway.png",
        mouse: "https://d78fikflryjgj.cloudfront.net/images/emoji/c0de488a582a0a97f64e155a8c65de18/mouse.png",
        mouse2: "https://d78fikflryjgj.cloudfront.net/images/emoji/c927300435aa070e3fddd65e4974a6e1/mouse2.png",
        movie_camera: "https://d78fikflryjgj.cloudfront.net/images/emoji/ebccb1d2c6dc92bd3a51da8eae9fd354/movie_camera.png",
        moyai: "https://d78fikflryjgj.cloudfront.net/images/emoji/43b67438400b69f3a9beed6121c22688/moyai.png",
        muscle: "https://d78fikflryjgj.cloudfront.net/images/emoji/7187e328aab3950edb42439d40328607/muscle.png",
        mushroom: "https://d78fikflryjgj.cloudfront.net/images/emoji/a59c3afc18365c6fa6a0f54e8fb5554d/mushroom.png",
        music: "https://d78fikflryjgj.cloudfront.net/images/emoji/361f0f4a517fc60e63bb22b9ea76b0b2/music.jpg",
        musical_keyboard: "https://d78fikflryjgj.cloudfront.net/images/emoji/3aee034296f32ec83c2bd1c20fc00e6d/musical_keyboard.png",
        musical_note: "https://d78fikflryjgj.cloudfront.net/images/emoji/71bc5277028326ed7755b5c94dd7b888/musical_note.png",
        musical_score: "https://d78fikflryjgj.cloudfront.net/images/emoji/b35bd7ef3f4a6068656639824cd1fe4e/musical_score.png",
        mute: "https://d78fikflryjgj.cloudfront.net/images/emoji/4ffdbb077fd861e1fa62782b6d2c72d2/mute.png",
        nail_care: "https://d78fikflryjgj.cloudfront.net/images/emoji/35f7cf66f35a659c5428be8ade972986/nail_care.png",
        name_badge: "https://d78fikflryjgj.cloudfront.net/images/emoji/25aa610337041e819f07d4d542976f11/name_badge.png",
        neckbeard: "https://d78fikflryjgj.cloudfront.net/images/emoji/518e18ca0e08f31f8052a131642f3205/neckbeard.png",
        necktie: "https://d78fikflryjgj.cloudfront.net/images/emoji/4d08459a90e6cf7e02b3f1b99c98ae3e/necktie.png",
        negative_squared_cross_mark: "https://d78fikflryjgj.cloudfront.net/images/emoji/e60fb1507239236215739a1a76ad44a0/negative_squared_cross_mark.png",
        neutral_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/fc2ed49a98346a5dbbc6869435eabb7a/neutral_face.png",
        "new": "https://d78fikflryjgj.cloudfront.net/images/emoji/d95933a8bd68f0805aed8aecc0159e7b/new.png",
        new_moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/9b85eeb013d04d1e939d17ac007d0a20/new_moon.png",
        new_moon_with_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/4975ad970c876ee3d1036693237235d6/new_moon_with_face.png",
        newspaper: "https://d78fikflryjgj.cloudfront.net/images/emoji/5e0ceab7b2f18a18b7d26ba5d8c200f0/newspaper.png",
        ng: "https://d78fikflryjgj.cloudfront.net/images/emoji/6c58dd8212db140eb21510cd0849db77/ng.png",
        nine: "https://d78fikflryjgj.cloudfront.net/images/emoji/df004afc8313840dc25c313785f4b118/nine.png",
        no_bell: "https://d78fikflryjgj.cloudfront.net/images/emoji/38c2d31067ddb724760775b50938aef3/no_bell.png",
        no_bicycles: "https://d78fikflryjgj.cloudfront.net/images/emoji/a1f2222d0575aa1bc0dd553825e4f21d/no_bicycles.png",
        no_entry: "https://d78fikflryjgj.cloudfront.net/images/emoji/e631b022ac357962d30a670f3b6456d6/no_entry.png",
        no_entry_sign: "https://d78fikflryjgj.cloudfront.net/images/emoji/89ff918256b6b1716a47d71bf68c33cb/no_entry_sign.png",
        no_good: "https://d78fikflryjgj.cloudfront.net/images/emoji/6562b71960c6c0404ad5a559c7eef3dc/no_good.png",
        no_mobile_phones: "https://d78fikflryjgj.cloudfront.net/images/emoji/61a340d367e756ff8ba919fca9d3f095/no_mobile_phones.png",
        no_mouth: "https://d78fikflryjgj.cloudfront.net/images/emoji/7c85e801f438e3f43214b94ead1ba67c/no_mouth.png",
        no_pedestrians: "https://d78fikflryjgj.cloudfront.net/images/emoji/89f0375ae34ef8572f47a1e8daaad6af/no_pedestrians.png",
        no_smoking: "https://d78fikflryjgj.cloudfront.net/images/emoji/e22ff4bcc817f10f8b8d9190ef17f2d0/no_smoking.png",
        "non-potable_water": "https://d78fikflryjgj.cloudfront.net/images/emoji/41f9e3518129dfdc82cd0234bed9d8ac/non-potable_water.png",
        nose: "https://d78fikflryjgj.cloudfront.net/images/emoji/5b882e710946c61069bc3d4b378690d5/nose.png",
        notebook: "https://d78fikflryjgj.cloudfront.net/images/emoji/9ecc79ee62d1828463f809befc04a719/notebook.png",
        notebook_with_decorative_cover: "https://d78fikflryjgj.cloudfront.net/images/emoji/6990f2bd9df9c926df9586bf253dbe20/notebook_with_decorative_cover.png",
        notes: "https://d78fikflryjgj.cloudfront.net/images/emoji/07a93240a9643e4514be61eee9b5d7b3/notes.png",
        nut_and_bolt: "https://d78fikflryjgj.cloudfront.net/images/emoji/b578e531c38f5b0502a70c19b93ff209/nut_and_bolt.png",
        o: "https://d78fikflryjgj.cloudfront.net/images/emoji/6492aeed3ab36bcf58c1d063fd142ed0/o.png",
        o2: "https://d78fikflryjgj.cloudfront.net/images/emoji/71f85cf734c09341867599108d92da2d/o2.png",
        ocean: "https://d78fikflryjgj.cloudfront.net/images/emoji/f4f0b6f057dd0e7b831cf3fc1aca5ad4/ocean.png",
        octocat: "https://d78fikflryjgj.cloudfront.net/images/emoji/11603b5f852fff5dac56f151f584f6f0/octocat.png",
        octopus: "https://d78fikflryjgj.cloudfront.net/images/emoji/5bb8ee408b94d1c8034123dbc13aa5b5/octopus.png",
        oden: "https://d78fikflryjgj.cloudfront.net/images/emoji/859ac805cdd8ed4c3f2fe7cc3ae55257/oden.png",
        office: "https://d78fikflryjgj.cloudfront.net/images/emoji/99b1e97dbeac60dcd5a1ca143c14acb7/office.png",
        ok: "https://d78fikflryjgj.cloudfront.net/images/emoji/61c87d0539163f93393c23aeeb0a17ea/ok.png",
        ok_hand: "https://d78fikflryjgj.cloudfront.net/images/emoji/7ce53418730e9e756c0c2cae2788614e/ok_hand.png",
        ok_woman: "https://d78fikflryjgj.cloudfront.net/images/emoji/03c5344a3bd8a7c5d814f179da4aba57/ok_woman.png",
        older_man: "https://d78fikflryjgj.cloudfront.net/images/emoji/713c3600cf40e669d4006e52adc58faf/older_man.png",
        older_woman: "https://d78fikflryjgj.cloudfront.net/images/emoji/6194efd58fed29a0be4f5fbf0cf1150a/older_woman.png",
        on: "https://d78fikflryjgj.cloudfront.net/images/emoji/a586fc7fb16e85cf5dc5eccc03ce106b/on.png",
        oncoming_automobile: "https://d78fikflryjgj.cloudfront.net/images/emoji/8ee7c5290461c967016ae03359b0a118/oncoming_automobile.png",
        oncoming_bus: "https://d78fikflryjgj.cloudfront.net/images/emoji/c19a2aeb7ec1e2b2dad9ddfcabf1bd61/oncoming_bus.png",
        oncoming_police_car: "https://d78fikflryjgj.cloudfront.net/images/emoji/8ca38748b269a8502a72b28aa4c84f59/oncoming_police_car.png",
        oncoming_taxi: "https://d78fikflryjgj.cloudfront.net/images/emoji/402d341a1f3d41b75c668b8ba7e795d3/oncoming_taxi.png",
        one: "https://d78fikflryjgj.cloudfront.net/images/emoji/c029957ab6ca4a748d0ec334d5edd3d5/one.png",
        open_book: "https://d78fikflryjgj.cloudfront.net/images/emoji/6561272c5be33e5e300e71e8e87ca634/open_book.png",
        open_file_folder: "https://d78fikflryjgj.cloudfront.net/images/emoji/791b80441b131c75f15f731d39a5e2b0/open_file_folder.png",
        open_hands: "https://d78fikflryjgj.cloudfront.net/images/emoji/59cfbdcdf4f323dfa6b8fec35d79aaaf/open_hands.png",
        open_mouth: "https://d78fikflryjgj.cloudfront.net/images/emoji/b18226f8245ffeca723ba0fb971c76af/open_mouth.png",
        ophiuchus: "https://d78fikflryjgj.cloudfront.net/images/emoji/5499c05d99613c748340aeb43366278b/ophiuchus.png",
        orange_book: "https://d78fikflryjgj.cloudfront.net/images/emoji/a0684b83602ec9ef586028f976a76b6f/orange_book.png",
        outbox_tray: "https://d78fikflryjgj.cloudfront.net/images/emoji/4f422591f29fa0da13d42eae03e44d85/outbox_tray.png",
        ox: "https://d78fikflryjgj.cloudfront.net/images/emoji/f86c1314dc3a6356aa64786b57d65f69/ox.png",
        "package": "https://d78fikflryjgj.cloudfront.net/images/emoji/05e8c1b57c20f0027f9aa377111fb0f0/package.png",
        page_facing_up: "https://d78fikflryjgj.cloudfront.net/images/emoji/2b3a048e8e3d5565633f25467830cdb1/page_facing_up.png",
        page_with_curl: "https://d78fikflryjgj.cloudfront.net/images/emoji/cfc926669509cc197c2163e27f9c17cf/page_with_curl.png",
        pager: "https://d78fikflryjgj.cloudfront.net/images/emoji/c5a864179c023e12b23bc894e7b1a91f/pager.png",
        palm_tree: "https://d78fikflryjgj.cloudfront.net/images/emoji/2b1089d4a70fa8e4caea20863b63e866/palm_tree.png",
        panda_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/41e65ae1364b355bb8d9cc7e3331faa1/panda_face.png",
        paperclip: "https://d78fikflryjgj.cloudfront.net/images/emoji/f2dfa71ed7df1c249f9262183fbf6d9b/paperclip.png",
        parking: "https://d78fikflryjgj.cloudfront.net/images/emoji/7ab7803b39ad97188911dd4af353d319/parking.png",
        part_alternation_mark: "https://d78fikflryjgj.cloudfront.net/images/emoji/0791db87fb9785e78a4b6f29fce93263/part_alternation_mark.png",
        partly_sunny: "https://d78fikflryjgj.cloudfront.net/images/emoji/2602a711a92b9291fb23791f054c9261/partly_sunny.png",
        passport_control: "https://d78fikflryjgj.cloudfront.net/images/emoji/9855ebf10f38524bfefe9762865f0729/passport_control.png",
        paw_prints: "https://d78fikflryjgj.cloudfront.net/images/emoji/a8fda9184043373f1891bdc8bfff8919/paw_prints.png",
        peach: "https://d78fikflryjgj.cloudfront.net/images/emoji/374080a5b22616916d8da5fddcab0213/peach.png",
        pear: "https://d78fikflryjgj.cloudfront.net/images/emoji/a5ce0a642565ea62643c8f6ca7e6cee8/pear.png",
        pencil: "https://d78fikflryjgj.cloudfront.net/images/emoji/f6cfa3a3462ba1190ed39229b86a1a10/pencil.png",
        pencil2: "https://d78fikflryjgj.cloudfront.net/images/emoji/f2ec4e6af86cca9294ad9449c940481a/pencil2.png",
        penguin: "https://d78fikflryjgj.cloudfront.net/images/emoji/d0cb90399627f60db83b98d638ad02e4/penguin.png",
        pensive: "https://d78fikflryjgj.cloudfront.net/images/emoji/f1413fc2e99b52d4000309a8ae1e205b/pensive.png",
        performing_arts: "https://d78fikflryjgj.cloudfront.net/images/emoji/399b4bfafd5cd1d0011dee64574c90f3/performing_arts.png",
        persevere: "https://d78fikflryjgj.cloudfront.net/images/emoji/3e8b834b5dd8982ba994ca61a9f6cd00/persevere.png",
        person_frowning: "https://d78fikflryjgj.cloudfront.net/images/emoji/771b66dbb62e496bb605f98a0fc47b0e/person_frowning.png",
        person_with_blond_hair: "https://d78fikflryjgj.cloudfront.net/images/emoji/e90b426aa7a0b030a51a82691ffcaf92/person_with_blond_hair.png",
        person_with_pouting_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/270f674632a95053eb392857a8861898/person_with_pouting_face.png",
        phone: "https://d78fikflryjgj.cloudfront.net/images/emoji/63303b0721fe2adafa094bcca0e346aa/phone.png",
        pig: "https://d78fikflryjgj.cloudfront.net/images/emoji/f2d2664ade06a1953f952ed85d23ec14/pig.png",
        pig2: "https://d78fikflryjgj.cloudfront.net/images/emoji/d9be6f23c45b8b2fff067e93f5b5656a/pig2.png",
        pig_nose: "https://d78fikflryjgj.cloudfront.net/images/emoji/8ba39600b630c38592cd8107d44061d0/pig_nose.png",
        pill: "https://d78fikflryjgj.cloudfront.net/images/emoji/b1b7e477bd5c84b4a6709b5bbc886278/pill.png",
        pineapple: "https://d78fikflryjgj.cloudfront.net/images/emoji/bb96567f9cab8e6432c9d5d4e1001a78/pineapple.png",
        pisces: "https://d78fikflryjgj.cloudfront.net/images/emoji/030c43061ed25086517350f519753cf1/pisces.png",
        pizza: "https://d78fikflryjgj.cloudfront.net/images/emoji/9f2a86bc2b4310fbff890752c4b53d46/pizza.png",
        point_down: "https://d78fikflryjgj.cloudfront.net/images/emoji/8e7ab4e1b5954e9692d2d1a2aa4a1dc1/point_down.png",
        point_left: "https://d78fikflryjgj.cloudfront.net/images/emoji/fe58cda82393f6ed8a8dc202a9b9e08a/point_left.png",
        point_right: "https://d78fikflryjgj.cloudfront.net/images/emoji/5cbb5a27c9880bea349237a886c73dc4/point_right.png",
        point_up: "https://d78fikflryjgj.cloudfront.net/images/emoji/4805888040f92847e9622369411b4e4f/point_up.png",
        point_up_2: "https://d78fikflryjgj.cloudfront.net/images/emoji/df44d25e90861f72ef32af899f8605c8/point_up_2.png",
        police_car: "https://d78fikflryjgj.cloudfront.net/images/emoji/c5260b647c8c1c35c1c3075232a40b79/police_car.png",
        poodle: "https://d78fikflryjgj.cloudfront.net/images/emoji/4527790ab71140e5318ad60cdf05d63c/poodle.png",
        poop: "https://d78fikflryjgj.cloudfront.net/images/emoji/62d03c1e2d8608f29540b097b7cf1ab1/poop.png",
        post_office: "https://d78fikflryjgj.cloudfront.net/images/emoji/0ade4130dd0c510afed780e715aa97a6/post_office.png",
        postal_horn: "https://d78fikflryjgj.cloudfront.net/images/emoji/4022a22938b199c5d55821237b6855af/postal_horn.png",
        postbox: "https://d78fikflryjgj.cloudfront.net/images/emoji/ee26132ee651347d38bd25b3204a7706/postbox.png",
        potable_water: "https://d78fikflryjgj.cloudfront.net/images/emoji/759ced65bb8ab040bd726ef177898396/potable_water.png",
        pouch: "https://d78fikflryjgj.cloudfront.net/images/emoji/64d1082c34458b69127140c6351dc607/pouch.png",
        poultry_leg: "https://d78fikflryjgj.cloudfront.net/images/emoji/ca4741488b6f5da0cecb1b697bc8324c/poultry_leg.png",
        pound: "https://d78fikflryjgj.cloudfront.net/images/emoji/9e06d52c8dbb4dc46e2855e1e11fb8f6/pound.png",
        pouting_cat: "https://d78fikflryjgj.cloudfront.net/images/emoji/4351ec51799f825cda20db3c275b9f27/pouting_cat.png",
        pray: "https://d78fikflryjgj.cloudfront.net/images/emoji/85aed007f516935008b3b0805fdfcf6d/pray.png",
        princess: "https://d78fikflryjgj.cloudfront.net/images/emoji/43eb5b6c78a40f98aeb3822c3b1b3892/princess.png",
        punch: "https://d78fikflryjgj.cloudfront.net/images/emoji/0902dded44c402bd7707bcd447dbe33c/punch.png",
        purple_heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/d3bc83d90ed2945042afc3be196b408c/purple_heart.png",
        purse: "https://d78fikflryjgj.cloudfront.net/images/emoji/b17c7b853c4b6cbcd9a0b8897c9e9c4c/purse.png",
        pushpin: "https://d78fikflryjgj.cloudfront.net/images/emoji/dfa27faa78f3f465d951c36e623e14cb/pushpin.png",
        put_litter_in_its_place: "https://d78fikflryjgj.cloudfront.net/images/emoji/c8cc8331921d14a3facb2cc7b8a0984d/put_litter_in_its_place.png",
        question: "https://d78fikflryjgj.cloudfront.net/images/emoji/ee8d27253348b9d7d7a2d19324b6cd30/question.png",
        rabbit: "https://d78fikflryjgj.cloudfront.net/images/emoji/0e92e27e564a86fde4fdcc31e376887d/rabbit.png",
        rabbit2: "https://d78fikflryjgj.cloudfront.net/images/emoji/8a1c9ab0194c3053dc9775127d4abdbc/rabbit2.png",
        racehorse: "https://d78fikflryjgj.cloudfront.net/images/emoji/3cddf4d88285a1af630a83cf0eec8e26/racehorse.png",
        radio: "https://d78fikflryjgj.cloudfront.net/images/emoji/a22945426a36edae0077be7382b86413/radio.png",
        radio_button: "https://d78fikflryjgj.cloudfront.net/images/emoji/c194f475ecddd76a3eb73018b7470d97/radio_button.png",
        rage: "https://d78fikflryjgj.cloudfront.net/images/emoji/d45b08290d40d64174c5e31b1d32cb5d/rage.png",
        rage1: "https://d78fikflryjgj.cloudfront.net/images/emoji/99af14cd4602ac04b9f106a6953c4446/rage1.png",
        rage2: "https://d78fikflryjgj.cloudfront.net/images/emoji/b9b041ae30d95826dbf8e7bdc3647993/rage2.png",
        rage3: "https://d78fikflryjgj.cloudfront.net/images/emoji/ba38f5caeb38b839048349bd40bd0bec/rage3.png",
        rage4: "https://d78fikflryjgj.cloudfront.net/images/emoji/cc3cf42b2362565bf0f456a76e879feb/rage4.png",
        railway_car: "https://d78fikflryjgj.cloudfront.net/images/emoji/cca6ec820134c0aaf652c4088fad5065/railway_car.png",
        rainbow: "https://d78fikflryjgj.cloudfront.net/images/emoji/27846ff7537f3f00734c520c6321998c/rainbow.png",
        raised_hand: "https://d78fikflryjgj.cloudfront.net/images/emoji/cb59e7620a3028058a5ed6c51d1890fa/raised_hand.png",
        raised_hands: "https://d78fikflryjgj.cloudfront.net/images/emoji/209d64742c31ac9ffe446f7469e7c7b6/raised_hands.png",
        raising_hand: "https://d78fikflryjgj.cloudfront.net/images/emoji/ab19218df270318c8756ba197e166d38/raising_hand.png",
        ram: "https://d78fikflryjgj.cloudfront.net/images/emoji/df6513ef97d0acd33b61b6bf6b43c417/ram.png",
        ramen: "https://d78fikflryjgj.cloudfront.net/images/emoji/487fb3bb0723ff71fa4eeb73b366d390/ramen.png",
        rat: "https://d78fikflryjgj.cloudfront.net/images/emoji/c7dc9b9477e4d0f2651b98e978ba339f/rat.png",
        recycle: "https://d78fikflryjgj.cloudfront.net/images/emoji/7c1e1793a9e79acceb2173f7d9da1f54/recycle.png",
        red_car: "https://d78fikflryjgj.cloudfront.net/images/emoji/abf1ef7270298b7e4faa51585b584e4f/red_car.png",
        red_circle: "https://d78fikflryjgj.cloudfront.net/images/emoji/153f03a0ad9a4d5a18bfc57059afd636/red_circle.png",
        registered: "https://d78fikflryjgj.cloudfront.net/images/emoji/f7894c9f4446abfc4d37623186ec953c/registered.png",
        relaxed: "https://d78fikflryjgj.cloudfront.net/images/emoji/3f154c14aace003c1fca160133b772ab/relaxed.png",
        relieved: "https://d78fikflryjgj.cloudfront.net/images/emoji/2c2868a75fe9ad1d75515bc5e717c675/relieved.png",
        repeat: "https://d78fikflryjgj.cloudfront.net/images/emoji/2b115f0853f4546303fa67afc33a8af6/repeat.png",
        repeat_one: "https://d78fikflryjgj.cloudfront.net/images/emoji/e914db414db7e58e60116dea187a6c71/repeat_one.png",
        restroom: "https://d78fikflryjgj.cloudfront.net/images/emoji/c29c5275ef27edf0f14ffe8ae335df4d/restroom.png",
        revolving_hearts: "https://d78fikflryjgj.cloudfront.net/images/emoji/3db37c791c853f199e886bd972edfb96/revolving_hearts.png",
        rewind: "https://d78fikflryjgj.cloudfront.net/images/emoji/f9460239b03da9344e31ea3ba52746d5/rewind.png",
        ribbon: "https://d78fikflryjgj.cloudfront.net/images/emoji/4f2b6a292ba60d862e40e2ef13e2a62a/ribbon.png",
        rice: "https://d78fikflryjgj.cloudfront.net/images/emoji/35c9a0c0b4830ca3f75de2c85e53c700/rice.png",
        rice_ball: "https://d78fikflryjgj.cloudfront.net/images/emoji/6b9c5b2f0698b31537e43aa93c8438a9/rice_ball.png",
        rice_cracker: "https://d78fikflryjgj.cloudfront.net/images/emoji/cb1b26860f72f23a9709aeac30617e5f/rice_cracker.png",
        rice_scene: "https://d78fikflryjgj.cloudfront.net/images/emoji/2f97f5bed6acd05d769be29275fa62fe/rice_scene.png",
        ring: "https://d78fikflryjgj.cloudfront.net/images/emoji/2908bc63e660771fc7708c2218fea126/ring.png",
        rocket: "https://d78fikflryjgj.cloudfront.net/images/emoji/be56f079c737a67020cd6994f3f3b13f/rocket.png",
        roller_coaster: "https://d78fikflryjgj.cloudfront.net/images/emoji/f0b7bb125e9cefc573ea3914053c546b/roller_coaster.png",
        rooster: "https://d78fikflryjgj.cloudfront.net/images/emoji/5b3c725ce3eb9c9849b7dd5641328c1b/rooster.png",
        rose: "https://d78fikflryjgj.cloudfront.net/images/emoji/2e1af2089c900f0ed6fa7bf3a23f4c08/rose.png",
        rotating_light: "https://d78fikflryjgj.cloudfront.net/images/emoji/643ae146ac155d47d60541f9ef96301a/rotating_light.png",
        round_pushpin: "https://d78fikflryjgj.cloudfront.net/images/emoji/35674e63d4925731eb1875e43c541d3b/round_pushpin.png",
        rowboat: "https://d78fikflryjgj.cloudfront.net/images/emoji/6d2517405400de0bdcf73410f819b15a/rowboat.png",
        ru: "https://d78fikflryjgj.cloudfront.net/images/emoji/edc8c0c6b2c2869090606a1882e75f47/ru.png",
        rugby_football: "https://d78fikflryjgj.cloudfront.net/images/emoji/c3744fb02e7d1f3a4a32fbc6a6943792/rugby_football.png",
        runner: "https://d78fikflryjgj.cloudfront.net/images/emoji/4e3175b51a9c997f085181cfa8da7c36/runner.png",
        running: "https://d78fikflryjgj.cloudfront.net/images/emoji/4e3175b51a9c997f085181cfa8da7c36/running.png",
        running_shirt_with_sash: "https://d78fikflryjgj.cloudfront.net/images/emoji/3181720b903304fa1e2da3766cf62bf0/running_shirt_with_sash.png",
        sa: "https://d78fikflryjgj.cloudfront.net/images/emoji/bd8299075344913c5e923a0702a7f143/sa.png",
        sagittarius: "https://d78fikflryjgj.cloudfront.net/images/emoji/8debd5e660dde3cad7f2bb4b7a13c9c2/sagittarius.png",
        sailboat: "https://d78fikflryjgj.cloudfront.net/images/emoji/c1c1c4dcaa77f509b36a3a170347c90c/sailboat.png",
        sake: "https://d78fikflryjgj.cloudfront.net/images/emoji/9b07b746a9d397a7200a68e8a2d16a03/sake.png",
        sandal: "https://d78fikflryjgj.cloudfront.net/images/emoji/e215e96ad7a2b296e0fefb3e005bd45f/sandal.png",
        santa: "https://d78fikflryjgj.cloudfront.net/images/emoji/790b6c33d2b13c296bfe4472affb8f50/santa.png",
        satellite: "https://d78fikflryjgj.cloudfront.net/images/emoji/a016460345a00fe9d93ed067834552d7/satellite.png",
        satisfied: "https://d78fikflryjgj.cloudfront.net/images/emoji/f5f1d1dc4c1737305d7089d46dd996bf/satisfied.png",
        saxophone: "https://d78fikflryjgj.cloudfront.net/images/emoji/79863731d88ccf9dcdd0e110929b59c0/saxophone.png",
        school: "https://d78fikflryjgj.cloudfront.net/images/emoji/cd789b11d96ce09e99b354ae219f2890/school.png",
        school_satchel: "https://d78fikflryjgj.cloudfront.net/images/emoji/b90a70c87a38c0d30b9ff3b0bbe3687b/school_satchel.png",
        scissors: "https://d78fikflryjgj.cloudfront.net/images/emoji/8ca7f1e5ec3a423e591c77a6c4a059ae/scissors.png",
        scorpius: "https://d78fikflryjgj.cloudfront.net/images/emoji/517b5593aca229b1ea153bd7d886506d/scorpius.png",
        scream: "https://d78fikflryjgj.cloudfront.net/images/emoji/57f9298e911d478258de5d7f2a814f4a/scream.png",
        scream_cat: "https://d78fikflryjgj.cloudfront.net/images/emoji/7800fc2bad7a7c15f627808565478120/scream_cat.png",
        scroll: "https://d78fikflryjgj.cloudfront.net/images/emoji/9934ae517aa1827a8166c9e157b742f1/scroll.png",
        seat: "https://d78fikflryjgj.cloudfront.net/images/emoji/e54262ec6414ceedc36aa66350d6b905/seat.png",
        secret: "https://d78fikflryjgj.cloudfront.net/images/emoji/400f5564a3036103c18ec3a87a210071/secret.png",
        see_no_evil: "https://d78fikflryjgj.cloudfront.net/images/emoji/e372b8c7f97db8e0dadcc4715c579b3d/see_no_evil.png",
        seedling: "https://d78fikflryjgj.cloudfront.net/images/emoji/a76ebecb541e69df48e734cccf806381/seedling.png",
        seven: "https://d78fikflryjgj.cloudfront.net/images/emoji/6630566add5e4b2910bfa93fcae43056/seven.png",
        shaved_ice: "https://d78fikflryjgj.cloudfront.net/images/emoji/7d6eb0eb12fd345870f116199f24400e/shaved_ice.png",
        sheep: "https://d78fikflryjgj.cloudfront.net/images/emoji/61346bec218f84bcd3c2ec4a68e4ce29/sheep.png",
        shell: "https://d78fikflryjgj.cloudfront.net/images/emoji/27667826fd1fb9122b34cbee12146446/shell.png",
        ship: "https://d78fikflryjgj.cloudfront.net/images/emoji/da1c239ed3806392f65cfcc048d36c4e/ship.png",
        shipit: "https://d78fikflryjgj.cloudfront.net/images/emoji/0bf1d3de309a89d9ed70ae91f6271a7f/shipit.png",
        shirt: "https://d78fikflryjgj.cloudfront.net/images/emoji/1866b19c5130fc17b2900229704c9608/shirt.png",
        shit: "https://d78fikflryjgj.cloudfront.net/images/emoji/62d03c1e2d8608f29540b097b7cf1ab1/shit.png",
        shoe: "https://d78fikflryjgj.cloudfront.net/images/emoji/d5161dfe10dd32fcdaeb81a14cad6697/shoe.png",
        shower: "https://d78fikflryjgj.cloudfront.net/images/emoji/c70ad692456e572e23fc067e844e3903/shower.png",
        signal_strength: "https://d78fikflryjgj.cloudfront.net/images/emoji/428a66f5fa6b7f97d343ba1ba6937179/signal_strength.png",
        six: "https://d78fikflryjgj.cloudfront.net/images/emoji/2c861fa8bd6f03cfcfecb765465f74e5/six.png",
        six_pointed_star: "https://d78fikflryjgj.cloudfront.net/images/emoji/4cfa8ed6a68dc7ac38087ea14d653cab/six_pointed_star.png",
        ski: "https://d78fikflryjgj.cloudfront.net/images/emoji/65886f19620b20a71254f60808691ed3/ski.png",
        skull: "https://d78fikflryjgj.cloudfront.net/images/emoji/ad7bcba8783a07fc4444c6c25b35addc/skull.png",
        sleeping: "https://d78fikflryjgj.cloudfront.net/images/emoji/99a9e3d2172b41efd65cc6c406d4db20/sleeping.png",
        sleepy: "https://d78fikflryjgj.cloudfront.net/images/emoji/e31e7d8333ab3f2625cbccef6b7410fd/sleepy.png",
        slot_machine: "https://d78fikflryjgj.cloudfront.net/images/emoji/d8ab6936c64111c75fa32f6a789eabff/slot_machine.png",
        small_blue_diamond: "https://d78fikflryjgj.cloudfront.net/images/emoji/53006f4b102d9f9fe4cb6af5b506524b/small_blue_diamond.png",
        small_orange_diamond: "https://d78fikflryjgj.cloudfront.net/images/emoji/45cf6cb9bc145ac734919ac6a4d18c73/small_orange_diamond.png",
        small_red_triangle: "https://d78fikflryjgj.cloudfront.net/images/emoji/9f7504b356189f8839c6387cb048bd2e/small_red_triangle.png",
        small_red_triangle_down: "https://d78fikflryjgj.cloudfront.net/images/emoji/064d5341cbd34a902a0b8059e0bc2afd/small_red_triangle_down.png",
        smile: "https://d78fikflryjgj.cloudfront.net/images/emoji/5775d67cea2ecad4c070825998771a6e/smile.png",
        smile_cat: "https://d78fikflryjgj.cloudfront.net/images/emoji/95e73996308563e468df6b1c3389594d/smile_cat.png",
        smiley: "https://d78fikflryjgj.cloudfront.net/images/emoji/5fece00c22bedab7e68fe9965257125b/smiley.png",
        smiley_cat: "https://d78fikflryjgj.cloudfront.net/images/emoji/9ff0f77cdf0ba721199a48ac3a7d9a9d/smiley_cat.png",
        smiling_imp: "https://d78fikflryjgj.cloudfront.net/images/emoji/fad5de08b04e1e37961fc13604599224/smiling_imp.png",
        smirk: "https://d78fikflryjgj.cloudfront.net/images/emoji/ae6679e96d5cfbb2f5e92546869c553d/smirk.png",
        smirk_cat: "https://d78fikflryjgj.cloudfront.net/images/emoji/25298f805ca971c30cc8409938187fd4/smirk_cat.png",
        smoking: "https://d78fikflryjgj.cloudfront.net/images/emoji/d00d7ff8880a8dbe3d0cd2b8750d9750/smoking.png",
        snail: "https://d78fikflryjgj.cloudfront.net/images/emoji/3eccdd2bf9fe2d499f56f85e51559d8b/snail.png",
        snake: "https://d78fikflryjgj.cloudfront.net/images/emoji/85a978664ce446513cb20e53387498a4/snake.png",
        snowboarder: "https://d78fikflryjgj.cloudfront.net/images/emoji/c7b2a02eeab2d3f318f287945b752ff0/snowboarder.png",
        snowflake: "https://d78fikflryjgj.cloudfront.net/images/emoji/df30263aeb1a565a706e67e2f22b12ac/snowflake.png",
        snowman: "https://d78fikflryjgj.cloudfront.net/images/emoji/a492f35208fc9dc36a13521c2cdeada3/snowman.png",
        sob: "https://d78fikflryjgj.cloudfront.net/images/emoji/81a73de58d64024e1b3383c37084706e/sob.png",
        soccer: "https://d78fikflryjgj.cloudfront.net/images/emoji/d9427086aeb6ddaeef57112373cc6d90/soccer.png",
        soon: "https://d78fikflryjgj.cloudfront.net/images/emoji/206a1f60b9e323da74d63dda430a63b5/soon.png",
        sos: "https://d78fikflryjgj.cloudfront.net/images/emoji/d1b40a70d2e39cd4285806033c9d3320/sos.png",
        sound: "https://d78fikflryjgj.cloudfront.net/images/emoji/ba2d95d9bc4eb1245d4117f2de12034a/sound.png",
        space_invader: "https://d78fikflryjgj.cloudfront.net/images/emoji/404045d4be25a77fa0f52075b623344f/space_invader.png",
        spades: "https://d78fikflryjgj.cloudfront.net/images/emoji/90f63f6f53181f5a059f3e7d92ad1688/spades.png",
        spaghetti: "https://d78fikflryjgj.cloudfront.net/images/emoji/e74bd04f2cb78b489d2bab0592b16b5e/spaghetti.png",
        sparkle: "https://d78fikflryjgj.cloudfront.net/images/emoji/d8fc28d64dea0f3b4ddb5d7dc749f919/sparkle.png",
        sparkler: "https://d78fikflryjgj.cloudfront.net/images/emoji/a7ecc1b95d673056032f2979d1221c35/sparkler.png",
        sparkles: "https://d78fikflryjgj.cloudfront.net/images/emoji/8c75ed365b460add98076391364659f0/sparkles.png",
        sparkling_heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/a3744535f6732553e9c070def252bbee/sparkling_heart.png",
        speak_no_evil: "https://d78fikflryjgj.cloudfront.net/images/emoji/0fb82c9a1d1f0756335cfb28c1992071/speak_no_evil.png",
        speaker: "https://d78fikflryjgj.cloudfront.net/images/emoji/ab3a8634abb65fcd4718a06a20dcb6cb/speaker.png",
        speech_balloon: "https://d78fikflryjgj.cloudfront.net/images/emoji/8a4e6e0a31475cd998bf512fc701d432/speech_balloon.png",
        speedboat: "https://d78fikflryjgj.cloudfront.net/images/emoji/2e278ce36190a1b1cc8febcef84bfa02/speedboat.png",
        squirrel: "https://d78fikflryjgj.cloudfront.net/images/emoji/0bf1d3de309a89d9ed70ae91f6271a7f/squirrel.png",
        star: "https://d78fikflryjgj.cloudfront.net/images/emoji/f2ba498e88e4b9a73fb7e4e4a558c647/star.png",
        star2: "https://d78fikflryjgj.cloudfront.net/images/emoji/28bcbfd07530922fc075e19d13707308/star2.png",
        stars: "https://d78fikflryjgj.cloudfront.net/images/emoji/16a1589022608f2cb1e689ffa9bcd8bf/stars.png",
        station: "https://d78fikflryjgj.cloudfront.net/images/emoji/7376eef48ff3aeb51fced2e467ab8c6c/station.png",
        statue_of_liberty: "https://d78fikflryjgj.cloudfront.net/images/emoji/c1a8a8b67bb8cc914ace6ea63b8fcf3d/statue_of_liberty.png",
        steam_locomotive: "https://d78fikflryjgj.cloudfront.net/images/emoji/9711ed6bc30bb5658d15b9a0cbc02578/steam_locomotive.png",
        stew: "https://d78fikflryjgj.cloudfront.net/images/emoji/e0d035b528f38b1b885460c5c638b914/stew.png",
        straight_ruler: "https://d78fikflryjgj.cloudfront.net/images/emoji/38d99cfad89b24d6ca699a5f7a3b945c/straight_ruler.png",
        strawberry: "https://d78fikflryjgj.cloudfront.net/images/emoji/d7a9638f5c3dbd8281738333a1ce65b2/strawberry.png",
        stuck_out_tongue: "https://d78fikflryjgj.cloudfront.net/images/emoji/627b9f7379294f54c6f6fb62bf779497/stuck_out_tongue.png",
        stuck_out_tongue_closed_eyes: "https://d78fikflryjgj.cloudfront.net/images/emoji/1273fc479bf7656b0ea69f20473f5b60/stuck_out_tongue_closed_eyes.png",
        stuck_out_tongue_winking_eye: "https://d78fikflryjgj.cloudfront.net/images/emoji/490c7380e7c4b7b7f8c8290cad357db4/stuck_out_tongue_winking_eye.png",
        sun_with_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/9bd63acca4a614303285fd5ee647ac36/sun_with_face.png",
        sunflower: "https://d78fikflryjgj.cloudfront.net/images/emoji/554132252fa931c08fea8e13c977ff29/sunflower.png",
        sunglasses: "https://d78fikflryjgj.cloudfront.net/images/emoji/390ca63b9d9cf84bbabba4b7aaf01849/sunglasses.png",
        sunny: "https://d78fikflryjgj.cloudfront.net/images/emoji/549a15109922d8e5ed86f633da40406e/sunny.png",
        sunrise: "https://d78fikflryjgj.cloudfront.net/images/emoji/4d064e69798287743acc5b49b9b99e03/sunrise.png",
        sunrise_over_mountains: "https://d78fikflryjgj.cloudfront.net/images/emoji/be7d45dc5cd7283878d3373b4865dbda/sunrise_over_mountains.png",
        surfer: "https://d78fikflryjgj.cloudfront.net/images/emoji/69cca50b4ca7ea90977b2ecfceef1e35/surfer.png",
        sushi: "https://d78fikflryjgj.cloudfront.net/images/emoji/1c873a340c556e04ade1e987b32fcc28/sushi.png",
        suspect: "https://d78fikflryjgj.cloudfront.net/images/emoji/db65956050a52b22a9f5cb63ad3e65e4/suspect.png",
        suspension_railway: "https://d78fikflryjgj.cloudfront.net/images/emoji/d645165583968a5825712a5688c5cf72/suspension_railway.png",
        sweat: "https://d78fikflryjgj.cloudfront.net/images/emoji/34e53931ca583f957cf81a6bfda7a4ff/sweat.png",
        sweat_drops: "https://d78fikflryjgj.cloudfront.net/images/emoji/5f4be5e62b0f84665428da112871b968/sweat_drops.png",
        sweat_smile: "https://d78fikflryjgj.cloudfront.net/images/emoji/c9d6fa912d567e3da8b418ba48f534f4/sweat_smile.png",
        sweet_potato: "https://d78fikflryjgj.cloudfront.net/images/emoji/1dff26ec90da43620b6f7d3e32eaa81d/sweet_potato.png",
        swimmer: "https://d78fikflryjgj.cloudfront.net/images/emoji/6aa2b26f03ff21df0ee1207a79cbd966/swimmer.png",
        symbols: "https://d78fikflryjgj.cloudfront.net/images/emoji/dbab88d0365a222934a00b2636f5aa6e/symbols.png",
        syringe: "https://d78fikflryjgj.cloudfront.net/images/emoji/3658598f6e49bc6564dc510c29ff6d1d/syringe.png",
        tada: "https://d78fikflryjgj.cloudfront.net/images/emoji/5c16e39356ee25a426b1bde2bb95c7ed/tada.png",
        tanabata_tree: "https://d78fikflryjgj.cloudfront.net/images/emoji/c021fba2f312c83b032924493613ec3c/tanabata_tree.png",
        tangerine: "https://d78fikflryjgj.cloudfront.net/images/emoji/9794070c5ad8ed629b71afccb83b6999/tangerine.png",
        taurus: "https://d78fikflryjgj.cloudfront.net/images/emoji/679ac7db83dfc87974a2fb069d890208/taurus.png",
        taxi: "https://d78fikflryjgj.cloudfront.net/images/emoji/5b0c3ffe99c4cd2f0ee33b61952f5a4e/taxi.png",
        tea: "https://d78fikflryjgj.cloudfront.net/images/emoji/7c4d51f8aa1263cb3c7b39fba8c58aa2/tea.png",
        telephone: "https://d78fikflryjgj.cloudfront.net/images/emoji/63303b0721fe2adafa094bcca0e346aa/telephone.png",
        telephone_receiver: "https://d78fikflryjgj.cloudfront.net/images/emoji/a472b9c87f8815d445b8d40f67d20faa/telephone_receiver.png",
        telescope: "https://d78fikflryjgj.cloudfront.net/images/emoji/479cc4ee5f8c7b26c34ba2455eb74ffa/telescope.png",
        tennis: "https://d78fikflryjgj.cloudfront.net/images/emoji/6e2702957fa61c43a60568e3f5326f3b/tennis.png",
        tent: "https://d78fikflryjgj.cloudfront.net/images/emoji/bebe8125747e06d31dd85418fe9defe2/tent.png",
        test: "https://d78fikflryjgj.cloudfront.net/images/emoji/03413f12d41cfce4ccc5cda97cbe8cbc/test.png",
        thought_balloon: "https://d78fikflryjgj.cloudfront.net/images/emoji/3c4f37563f8d42f1ea9d04472028e819/thought_balloon.png",
        three: "https://d78fikflryjgj.cloudfront.net/images/emoji/bbe5d45683a714b2f65998b7de3f1bdc/three.png",
        thumbsdown: "https://d78fikflryjgj.cloudfront.net/images/emoji/9155e2acc3925a32e544021a4893ebef/thumbsdown.png",
        thumbsup: "https://d78fikflryjgj.cloudfront.net/images/emoji/a0a5d07f60da887f916b5540f7cc14d4/thumbsup.png",
        ticket: "https://d78fikflryjgj.cloudfront.net/images/emoji/a95bb7de3d822f3ddcfc0604fe6478ef/ticket.png",
        tiger: "https://d78fikflryjgj.cloudfront.net/images/emoji/56645d43216f3fa4b3c534a6db5bebba/tiger.png",
        tiger2: "https://d78fikflryjgj.cloudfront.net/images/emoji/09fb18054f72b37c0a4b1efd7680feff/tiger2.png",
        tired_face: "https://d78fikflryjgj.cloudfront.net/images/emoji/8cf92ef6a062a0bafa67ac1b93dacdc0/tired_face.png",
        tm: "https://d78fikflryjgj.cloudfront.net/images/emoji/0077f29b078e5330722defa7522779f2/tm.png",
        toilet: "https://d78fikflryjgj.cloudfront.net/images/emoji/fcfec1156ffa738c3a05414b195989f7/toilet.png",
        tokyo_tower: "https://d78fikflryjgj.cloudfront.net/images/emoji/8d46bcc6c5028df07ad07e7a415db044/tokyo_tower.png",
        tomato: "https://d78fikflryjgj.cloudfront.net/images/emoji/b271e89f2aede82ece941a17ea3aebd7/tomato.png",
        tongue: "https://d78fikflryjgj.cloudfront.net/images/emoji/7a455eb0a18c0e87e2163c109d87ea47/tongue.png",
        top: "https://d78fikflryjgj.cloudfront.net/images/emoji/30d83f9d01bba1989dfcd4c1352c2251/top.png",
        tophat: "https://d78fikflryjgj.cloudfront.net/images/emoji/36fe71ebb25980fa89ca457aa2d63559/tophat.png",
        tractor: "https://d78fikflryjgj.cloudfront.net/images/emoji/1ea4f35288b452593c6376d0a95cc6a0/tractor.png",
        traffic_light: "https://d78fikflryjgj.cloudfront.net/images/emoji/df5246b38a44113d0e32a8e121224a0b/traffic_light.png",
        train: "https://d78fikflryjgj.cloudfront.net/images/emoji/cca6ec820134c0aaf652c4088fad5065/train.png",
        train2: "https://d78fikflryjgj.cloudfront.net/images/emoji/1acc1187f262982c36c6c5cafccef13e/train2.png",
        tram: "https://d78fikflryjgj.cloudfront.net/images/emoji/0abd978a7dc96b6ee455651ed1f0edb2/tram.png",
        trello: "https://d78fikflryjgj.cloudfront.net/images/emoji/7e5b95544db0fb00888df1f2b84c0db2/trello.png",
        triangular_flag_on_post: "https://d78fikflryjgj.cloudfront.net/images/emoji/477168e101d89cc2eef4e5ccc1b76b30/triangular_flag_on_post.png",
        triangular_ruler: "https://d78fikflryjgj.cloudfront.net/images/emoji/9ace5dbdbd3157870aef9bfafa8a2c9f/triangular_ruler.png",
        trident: "https://d78fikflryjgj.cloudfront.net/images/emoji/9c001c9bf8f6fed83128fefb47acb8f2/trident.png",
        triumph: "https://d78fikflryjgj.cloudfront.net/images/emoji/7b80feb3faaa633af5ad085792befb51/triumph.png",
        trolleybus: "https://d78fikflryjgj.cloudfront.net/images/emoji/861c78992149c2ca1e8cd1c9bfdf3239/trolleybus.png",
        trollface: "https://d78fikflryjgj.cloudfront.net/images/emoji/93f9726f88efd7f6f8479389e102d935/trollface.png",
        trophy: "https://d78fikflryjgj.cloudfront.net/images/emoji/1d243a4df44a30152577eb9e33b7f614/trophy.png",
        tropical_drink: "https://d78fikflryjgj.cloudfront.net/images/emoji/ffcfbaea8b297adeeb07db754e2b83e0/tropical_drink.png",
        tropical_fish: "https://d78fikflryjgj.cloudfront.net/images/emoji/62ba4a76b2ea1a69461c8decbb5dbfab/tropical_fish.png",
        truck: "https://d78fikflryjgj.cloudfront.net/images/emoji/12ac0c24b7c1b919339adc6d0abdabc4/truck.png",
        trumpet: "https://d78fikflryjgj.cloudfront.net/images/emoji/b4d97484e9e674c54d01c8c63a150bbe/trumpet.png",
        tshirt: "https://d78fikflryjgj.cloudfront.net/images/emoji/1866b19c5130fc17b2900229704c9608/tshirt.png",
        tulip: "https://d78fikflryjgj.cloudfront.net/images/emoji/a4ae9efea459037ba4b17a90631a5bd9/tulip.png",
        turtle: "https://d78fikflryjgj.cloudfront.net/images/emoji/a0eab36accde8b29e48e437cd604e0fd/turtle.png",
        tv: "https://d78fikflryjgj.cloudfront.net/images/emoji/4b08354d48edfefab1da03f0e9056969/tv.png",
        twisted_rightwards_arrows: "https://d78fikflryjgj.cloudfront.net/images/emoji/496d24c75e3bd388f8882c047226af32/twisted_rightwards_arrows.png",
        two: "https://d78fikflryjgj.cloudfront.net/images/emoji/a86c3871b01d888ca0cf11d5ec3ae5b1/two.png",
        two_hearts: "https://d78fikflryjgj.cloudfront.net/images/emoji/107751de07a81c5f39c7e94e833ccaf9/two_hearts.png",
        two_men_holding_hands: "https://d78fikflryjgj.cloudfront.net/images/emoji/9a95cae792c89e28a34894391f7032cc/two_men_holding_hands.png",
        two_women_holding_hands: "https://d78fikflryjgj.cloudfront.net/images/emoji/bc182f077cc5c1ef640100397913222c/two_women_holding_hands.png",
        u5272: "https://d78fikflryjgj.cloudfront.net/images/emoji/6d3ca765b3c2fe5f13912464029ddf7c/u5272.png",
        u5408: "https://d78fikflryjgj.cloudfront.net/images/emoji/470eada08e8d24dafab0d2ed812ceeae/u5408.png",
        u55b6: "https://d78fikflryjgj.cloudfront.net/images/emoji/fb270596e34e915331a1a226bd2419ba/u55b6.png",
        u6307: "https://d78fikflryjgj.cloudfront.net/images/emoji/1dd2e526123a4782216ebb5f1ca939da/u6307.png",
        u6708: "https://d78fikflryjgj.cloudfront.net/images/emoji/0f55eb63f3485080cf27ad1d29524ae0/u6708.png",
        u6709: "https://d78fikflryjgj.cloudfront.net/images/emoji/b7fde66ea5a96310b97561ee136a4bbe/u6709.png",
        u6e80: "https://d78fikflryjgj.cloudfront.net/images/emoji/0ad845150281cc80623978f9071a32b1/u6e80.png",
        u7121: "https://d78fikflryjgj.cloudfront.net/images/emoji/68ec1036d9c3b8b26a2b1bacdfb8f0c2/u7121.png",
        u7533: "https://d78fikflryjgj.cloudfront.net/images/emoji/274fc9ee47d010043a572e409cc21974/u7533.png",
        u7981: "https://d78fikflryjgj.cloudfront.net/images/emoji/01e00306dbad69bcf5665e072e82c38f/u7981.png",
        u7a7a: "https://d78fikflryjgj.cloudfront.net/images/emoji/5bb1d2a4be31b3e282dd15b22f23c7c3/u7a7a.png",
        uk: "https://d78fikflryjgj.cloudfront.net/images/emoji/085a66819b0bbc0133620b7b8688da1d/uk.png",
        umbrella: "https://d78fikflryjgj.cloudfront.net/images/emoji/969e870efe593fc59be4ad0a295ae207/umbrella.png",
        unamused: "https://d78fikflryjgj.cloudfront.net/images/emoji/1276c788d2fad3e5423cfe4c7ef8be08/unamused.png",
        underage: "https://d78fikflryjgj.cloudfront.net/images/emoji/f54553f1b72238d146ce3afcec3220e2/underage.png",
        unlock: "https://d78fikflryjgj.cloudfront.net/images/emoji/954e8e99a860ac6389ab68005e9f7a92/unlock.png",
        up: "https://d78fikflryjgj.cloudfront.net/images/emoji/3dae50b31b73a42e3fe8a3f83b61ea15/up.png",
        us: "https://d78fikflryjgj.cloudfront.net/images/emoji/f1e97e62423aba4a74ee886bbffbb30e/us.png",
        v: "https://d78fikflryjgj.cloudfront.net/images/emoji/265337288a2e1e0ee5376526efcb71a0/v.png",
        vertical_traffic_light: "https://d78fikflryjgj.cloudfront.net/images/emoji/1a500844d64984f4c97ee0ef22b3dcb0/vertical_traffic_light.png",
        vhs: "https://d78fikflryjgj.cloudfront.net/images/emoji/929b344d9e819467362e4cd5c81e2585/vhs.png",
        vibration_mode: "https://d78fikflryjgj.cloudfront.net/images/emoji/7db092d9758b28380a947c862943e036/vibration_mode.png",
        video_camera: "https://d78fikflryjgj.cloudfront.net/images/emoji/cacb16494c5f57458ae51bff07c61dde/video_camera.png",
        video_game: "https://d78fikflryjgj.cloudfront.net/images/emoji/90752f7986d347eb97279c2a37c2bd4d/video_game.png",
        violin: "https://d78fikflryjgj.cloudfront.net/images/emoji/14e7c491894adb8f7c4c57f000c634d8/violin.png",
        virgo: "https://d78fikflryjgj.cloudfront.net/images/emoji/0dba6af4e199d839b8a290343c6a5bab/virgo.png",
        volcano: "https://d78fikflryjgj.cloudfront.net/images/emoji/483647aaa8a1f9cd74c2a75089d26d71/volcano.png",
        vs: "https://d78fikflryjgj.cloudfront.net/images/emoji/cde6b45fe7b3064d80304cf4bd116704/vs.png",
        walking: "https://d78fikflryjgj.cloudfront.net/images/emoji/a2b0b05da920d1875635ed544ae41da8/walking.png",
        waning_crescent_moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/dfff27056486b05662704fe32755c037/waning_crescent_moon.png",
        waning_gibbous_moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/771b7eee2ad90deeb49edf0f1e8afaa3/waning_gibbous_moon.png",
        warning: "https://d78fikflryjgj.cloudfront.net/images/emoji/98ce0e63a6477613fd5c93e10e721347/warning.png",
        watch: "https://d78fikflryjgj.cloudfront.net/images/emoji/62ac3ef7e2a45a50f73be5ba61c6ab86/watch.png",
        water_buffalo: "https://d78fikflryjgj.cloudfront.net/images/emoji/57d998fe8ff188403cb8ab2d18b944d7/water_buffalo.png",
        watermelon: "https://d78fikflryjgj.cloudfront.net/images/emoji/b50831dff4921536447a33ced3704dad/watermelon.png",
        wave: "https://d78fikflryjgj.cloudfront.net/images/emoji/49af2bc8b93c120a6c78f71190f7ddeb/wave.png",
        wavy_dash: "https://d78fikflryjgj.cloudfront.net/images/emoji/52f8d90726752ff326a79450a370ebe4/wavy_dash.png",
        waxing_crescent_moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/881b888a50215af333b8af93304c67e5/waxing_crescent_moon.png",
        waxing_gibbous_moon: "https://d78fikflryjgj.cloudfront.net/images/emoji/c1c65fc03c3c8cb9a54b16ec2a408e4e/waxing_gibbous_moon.png",
        wc: "https://d78fikflryjgj.cloudfront.net/images/emoji/d9a415b30a1165a6a0944d286443e01a/wc.png",
        weary: "https://d78fikflryjgj.cloudfront.net/images/emoji/39fb5de7a7ea04f81626d00a859aff5d/weary.png",
        wedding: "https://d78fikflryjgj.cloudfront.net/images/emoji/4ec62cc9b6d543f6c9aaa71061845862/wedding.png",
        whale: "https://d78fikflryjgj.cloudfront.net/images/emoji/cb70a122ec80e35de873e114102570d9/whale.png",
        whale2: "https://d78fikflryjgj.cloudfront.net/images/emoji/8321f58cc3c1bb348248855be2ddbdd3/whale2.png",
        wheelchair: "https://d78fikflryjgj.cloudfront.net/images/emoji/ffc57fc2b6c5bd3603c5f6ece486afbe/wheelchair.png",
        white_check_mark: "https://d78fikflryjgj.cloudfront.net/images/emoji/52b7898655c0dc2e738e47119c2725ee/white_check_mark.png",
        white_circle: "https://d78fikflryjgj.cloudfront.net/images/emoji/24414ac269eb83605cb54b8a27543110/white_circle.png",
        white_flower: "https://d78fikflryjgj.cloudfront.net/images/emoji/fcc845d9ed5188b7e37a0ee886563ffc/white_flower.png",
        white_large_square: "https://d78fikflryjgj.cloudfront.net/images/emoji/abe3c5affc70379045f106c921e8902c/white_large_square.png",
        white_medium_small_square: "https://d78fikflryjgj.cloudfront.net/images/emoji/6a9d4eee072764def24da5c67218829b/white_medium_small_square.png",
        white_medium_square: "https://d78fikflryjgj.cloudfront.net/images/emoji/29ea5ed9b49466266fa460e497c4bca0/white_medium_square.png",
        white_small_square: "https://d78fikflryjgj.cloudfront.net/images/emoji/00b3954259034244db1fac19fd24b67c/white_small_square.png",
        white_square_button: "https://d78fikflryjgj.cloudfront.net/images/emoji/5d936ce92087fdec6aab2c97ffa98ce7/white_square_button.png",
        wind_chime: "https://d78fikflryjgj.cloudfront.net/images/emoji/e041ab21fd38ec8b0849c037cd454919/wind_chime.png",
        wine_glass: "https://d78fikflryjgj.cloudfront.net/images/emoji/23a75834f5d67ae20c697a90bb7d3c20/wine_glass.png",
        wink: "https://d78fikflryjgj.cloudfront.net/images/emoji/83fff972417765e6f3224e3be0e1522b/wink.png",
        wolf: "https://d78fikflryjgj.cloudfront.net/images/emoji/b96f9a3696bdf4dd1c20f7fb5abd0d63/wolf.png",
        woman: "https://d78fikflryjgj.cloudfront.net/images/emoji/07ff6878b3db138c8e015f637494072e/woman.png",
        womans_clothes: "https://d78fikflryjgj.cloudfront.net/images/emoji/c3221918effc3fe7ea90a5d7fa87e501/womans_clothes.png",
        womans_hat: "https://d78fikflryjgj.cloudfront.net/images/emoji/020d56b5affcb3ce3eb278b3119e5380/womans_hat.png",
        womens: "https://d78fikflryjgj.cloudfront.net/images/emoji/78c01e391b892354f650d8e410fabb86/womens.png",
        worried: "https://d78fikflryjgj.cloudfront.net/images/emoji/506b4c5bd9355073e5f09c330cd0406c/worried.png",
        wrench: "https://d78fikflryjgj.cloudfront.net/images/emoji/09d2bd1ee197a5d1e40442e35427f31c/wrench.png",
        x: "https://d78fikflryjgj.cloudfront.net/images/emoji/42ab430c65cbcf8df9561ca3ec89a6ec/x.png",
        yellow_heart: "https://d78fikflryjgj.cloudfront.net/images/emoji/890f59007121ead636867c0307873248/yellow_heart.png",
        yen: "https://d78fikflryjgj.cloudfront.net/images/emoji/d71335520e7df5b0391cfd8f96820050/yen.png",
        yum: "https://d78fikflryjgj.cloudfront.net/images/emoji/d9559425ef6df9d85fcd042968f006b7/yum.png",
        zap: "https://d78fikflryjgj.cloudfront.net/images/emoji/32a6549c8137f1f5a265fab7cd344116/zap.png",
        zero: "https://d78fikflryjgj.cloudfront.net/images/emoji/2910daa978f87df3bb359e78064f65a8/zero.png",
        zzz: "https://d78fikflryjgj.cloudfront.net/images/emoji/f21df57a654483f76ca9e22c5edeab1c/zzz.png"
    };
    "undefined" !== typeof module && null !== module && (module.exports = Bb);
    var fa, kc;
    fa = {
        taco: {
            displayName: "Taco Pack"
        },
        pete: {
            displayName: "Pete the Computer"
        }
    };
    kc = {
        check: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/7f8b93da6962dbdbd8ad8ca9725b70d4/check.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/7f8b93da6962dbdbd8ad8ca9725b70d4/check.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/fa8dbd7aacfe2a7210f1d0097f60cb59/check%402x.png"
            }]
        },
        heart: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/040c2a5c2384e6a865a0c3b5826c84dc/heart.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/040c2a5c2384e6a865a0c3b5826c84dc/heart.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/019d22c5e040aae741ee22320e87918c/heart%402x.png"
            }]
        },
        warning: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/8d09ca694f4f701c4af7662f1db43bf4/warning.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/8d09ca694f4f701c4af7662f1db43bf4/warning.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e6997a499c0fb650e00356a17bdc6ab1/warning%402x.png"
            }]
        },
        clock: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/5efd3f442437ce78b55acf1bd871c39c/clock.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/5efd3f442437ce78b55acf1bd871c39c/clock.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/87b5fbcfe44dc9e169f899a42c2be236/clock%402x.png"
            }]
        },
        smile: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9cb14e79838122328b26afd226ab12ce/smile.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9cb14e79838122328b26afd226ab12ce/smile.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/998875a36221574672f57f6554961ba8/smile%402x.png"
            }]
        },
        laugh: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/43ce225d4422d0a8389bf1477b5d0ce6/laugh.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/43ce225d4422d0a8389bf1477b5d0ce6/laugh.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/1e13f5e64ace6f8af25079ac1292da6f/laugh%402x.png"
            }]
        },
        huh: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9217db04d28bf20f990f7afe16bd5450/huh.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9217db04d28bf20f990f7afe16bd5450/huh.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/1ff113c90b481b17f1c83fe7adb0e0b2/huh%402x.png"
            }]
        },
        frown: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/3499b916bb0e55fb9ee349fa920cefb2/frown.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/3499b916bb0e55fb9ee349fa920cefb2/frown.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/a018fdb9bcc928299c268a3fe7cd77e7/frown%402x.png"
            }]
        },
        thumbsup: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/4526d8454c53066ee45a2bdd2669119c/thumbsup.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/4526d8454c53066ee45a2bdd2669119c/thumbsup.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/823c320becd3162e37ef746471ef56b2/thumbsup%402x.png"
            }]
        },
        thumbsdown: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/28a8538f495707e41d1204b3af945e02/thumbsdown.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/28a8538f495707e41d1204b3af945e02/thumbsdown.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ddb64e7188c37eb55b02aa65002630fc/thumbsdown%402x.png"
            }]
        },
        star: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/3ec82cf81a9cb4809919c824f3a51eb6/star.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/3ec82cf81a9cb4809919c824f3a51eb6/star.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/f73bd3b8454e5eaf399a678f425cc90f/star%402x.png"
            }]
        },
        rocketship: {
            type: "standard",
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9ec91c204d89c5439b4f86884be13724/rocketship.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9ec91c204d89c5439b4f86884be13724/rocketship.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/0eb0a91e4ede66800bad335ddef2721e/rocketship%402x.png"
            }]
        },
        "taco-love": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/c17c5bf93797d71527ee91494fc85e2c/taco-love.png",
            scaled: [{
                width: 140,
                height: 140,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/c17c5bf93797d71527ee91494fc85e2c/taco-love.png"
            }, {
                width: 280,
                height: 280,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/06ddf78e10598774b89e3264d8e414da/taco-love%402x.png"
            }]
        },
        "taco-confused": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/511723ee0c932684ca39cdec005bc2c5/taco-confused.png",
            scaled: [{
                width: 140,
                height: 140,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/511723ee0c932684ca39cdec005bc2c5/taco-confused.png"
            }, {
                width: 280,
                height: 280,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/06668f130b632bf4ba0dc7f492628e00/taco-confused%402x.png"
            }]
        },
        "taco-cool": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/f41573409925dd066cb509a465f4b3af/taco-cool.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/f41573409925dd066cb509a465f4b3af/taco-cool.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/8f4ac7820629d5aac2e2faca5b013e4c/taco-cool%402x.png"
            }]
        },
        "taco-angry": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/0787bf33623b40f2263dd9b0194c0066/taco-angry.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/0787bf33623b40f2263dd9b0194c0066/taco-angry.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/88141aecd4c8fbdc3ff11ef292b4526f/taco-angry%402x.png"
            }]
        },
        "taco-celebrate": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/20b0c2f6c78ca34d7c3d00b658f3b3df/taco-celebrate.png",
            scaled: [{
                width: 140,
                height: 140,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/20b0c2f6c78ca34d7c3d00b658f3b3df/taco-celebrate.png"
            }, {
                width: 280,
                height: 280,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/905a89b9fb1f867747130360e6cbb4d4/taco-celebrate%402x.png"
            }]
        },
        "taco-robot": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/c695266748c83f796b9a56ea36f5c2de/taco-robot.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/c695266748c83f796b9a56ea36f5c2de/taco-robot.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e1ac5a98088053a8b1ae90cd8f3f056e/taco-robot%402x.png"
            }]
        },
        "taco-alert": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ccbcd6ce73f50359e71ad36316c3bcfb/taco-alert.png",
            scaled: [{
                width: 140,
                height: 140,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ccbcd6ce73f50359e71ad36316c3bcfb/taco-alert.png"
            }, {
                width: 280,
                height: 280,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/60cf2c2b89c387f8c1ed92f301492b28/taco-alert%402x.png"
            }]
        },
        "taco-active": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e027fa08f49b43a503a1e1dea1b854ea/taco-active.png",
            scaled: [{
                width: 140,
                height: 140,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e027fa08f49b43a503a1e1dea1b854ea/taco-active.png"
            }, {
                width: 280,
                height: 280,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/afe6f31288619ede4f82d516cad6a11e/taco-active%402x.png"
            }]
        },
        "taco-money": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/60cee75a249b578892938a6a491031e6/taco-money.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/60cee75a249b578892938a6a491031e6/taco-money.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/f0130dd81ed48f6e4626cbdc233b2fda/taco-money%402x.png"
            }]
        },
        "taco-reading": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/d38e25e615cbc0d15bea3fe3277e4a83/taco-reading.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/d38e25e615cbc0d15bea3fe3277e4a83/taco-reading.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/0c3110a4622a680fd4a9b63de14521da/taco-reading%402x.png"
            }]
        },
        "taco-trophy": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/77785938bb3566b20d1eccb83001dddc/taco-trophy.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/77785938bb3566b20d1eccb83001dddc/taco-trophy.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9143546ce5c8a3e43736be79803ead39/taco-trophy%402x.png"
            }]
        },
        "taco-sleeping": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/42698e61c8b85ce46dd08774536b820e/taco-sleeping.png",
            scaled: [{
                width: 140,
                height: 140,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/42698e61c8b85ce46dd08774536b820e/taco-sleeping.png"
            }, {
                width: 280,
                height: 280,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9a51d634e8521dc0e19c09db4df95d8e/taco-sleeping%402x.png"
            }]
        },
        "taco-pixel": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9044b8e8153407d9c35176baf4c41780/taco-pixel.png",
            scaled: [{
                width: 140,
                height: 140,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/9044b8e8153407d9c35176baf4c41780/taco-pixel.png"
            }, {
                width: 280,
                height: 280,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/3751a48869a42911093b6eae9d0a7f8c/taco-pixel%402x.png"
            }]
        },
        "taco-proto": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/2e050937d34005636192c415252f1b91/taco-proto.png",
            scaled: [{
                width: 140,
                height: 140,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/2e050937d34005636192c415252f1b91/taco-proto.png"
            }, {
                width: 280,
                height: 280,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/51def85cdcf3c1a58cb1ab2ac3749251/taco-proto%402x.png"
            }]
        },
        "taco-embarrassed": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/b84cc7c1ff4c870a78afff5645449883/taco-embarrassed.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/b84cc7c1ff4c870a78afff5645449883/taco-embarrassed.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/02663f87e33a2c79828098d1f2d9a086/taco-embarrassed%402x.png"
            }]
        },
        "taco-clean": {
            type: "premium",
            pack: fa.taco,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e6462e51e766dbf494e304ea843856d9/taco-clean.png",
            scaled: [{
                width: 140,
                height: 140,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e6462e51e766dbf494e304ea843856d9/taco-clean.png"
            }, {
                width: 280,
                height: 280,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/7c593a77fe481b61a2cad4b74b2f8c1c/taco-clean%402x.png"
            }]
        },
        "pete-happy": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ad61d60483a6bdbea53237330ea1183b/pete-happy.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ad61d60483a6bdbea53237330ea1183b/pete-happy.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/0663bc183a0cf0d039498cd8c5db8043/pete-happy%402x.png"
            }]
        },
        "pete-love": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e226d3edc2bc1c9439bc812f96527218/pete-love.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e226d3edc2bc1c9439bc812f96527218/pete-love.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/6e461f2c1917d10063fb169a33bb1191/pete-love%402x.png"
            }]
        },
        "pete-broken": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e0c1fadd8cdf3173a4cf9bc93da81d97/pete-broken.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/e0c1fadd8cdf3173a4cf9bc93da81d97/pete-broken.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/6d84909328bf960bdfcab760e46c886f/pete-broken%402x.png"
            }]
        },
        "pete-alert": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/90e3c39fb39d5d79e8e2310406620f59/pete-alert.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/90e3c39fb39d5d79e8e2310406620f59/pete-alert.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/3453c1a26ddd1187e56431940c7aedfc/pete-alert%402x.png"
            }]
        },
        "pete-talk": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ca098514ef3b83d1e5a736817d3a132b/pete-talk.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ca098514ef3b83d1e5a736817d3a132b/pete-talk.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/217a5d2b04a6dea23726a7949dae9ac7/pete-talk%402x.png"
            }]
        },
        "pete-vacation": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/c50c5371bb78862a587a93df287459c0/pete-vacation.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/c50c5371bb78862a587a93df287459c0/pete-vacation.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/060295310e437200bf334ff7322eede1/pete-vacation%402x.png"
            }]
        },
        "pete-confused": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/0d52a88328d4c0196564b207560e953e/pete-confused.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/0d52a88328d4c0196564b207560e953e/pete-confused.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/7ff61659ad2cd4837aacd999aedcd233/pete-confused%402x.png"
            }]
        },
        "pete-shipped": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/13b817ebec2282c5a7abb849056edfff/pete-shipped.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/13b817ebec2282c5a7abb849056edfff/pete-shipped.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/0d9ff936d513aae5a67c8f9653a5c49e/pete-shipped%402x.png"
            }]
        },
        "pete-busy": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ef0eb59b05378f25bb0cfae516b0615d/pete-busy.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ef0eb59b05378f25bb0cfae516b0615d/pete-busy.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/35503951628d67da2c8aaabd49aaf769/pete-busy%402x.png"
            }]
        },
        "pete-completed": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/213df9ec14509a7f06281bba7482ae61/pete-completed.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/213df9ec14509a7f06281bba7482ae61/pete-completed.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/3197b9305f52b722df47abdb84c063f8/pete-completed%402x.png"
            }]
        },
        "pete-space": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ee70c40e8a7906f3adf2323d774e8320/pete-space.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/ee70c40e8a7906f3adf2323d774e8320/pete-space.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/aa9cb8354739fb355a4abd1c977d975a/pete-space%402x.png"
            }]
        },
        "pete-sketch": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/6e17baf06870f4bd1c301ede21bc5add/pete-sketch.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/6e17baf06870f4bd1c301ede21bc5add/pete-sketch.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/3808b148cca5b1ed3da001b7c13d5110/pete-sketch%402x.png"
            }]
        },
        "pete-ghost": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/fcb349d429bbaaf873eef3ea64eb570c/pete-ghost.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/fcb349d429bbaaf873eef3ea64eb570c/pete-ghost.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/4a28ad313694864c5a661b964a9510ff/pete-ghost%402x.png"
            }]
        },
        "pete-award": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/eb0782174fdd08d4c76a587db6bc7caf/pete-award.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/eb0782174fdd08d4c76a587db6bc7caf/pete-award.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/43dd35d5e48a876a50fc6c63f53f005e/pete-award%402x.png"
            }]
        },
        "pete-music": {
            type: "premium",
            pack: fa.pete,
            url: "https://d78fikflryjgj.cloudfront.net/images/stickers/49ddddf5af19ae49ccc9c7aa9517ba62/pete-music.png",
            scaled: [{
                width: 100,
                height: 100,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/49ddddf5af19ae49ccc9c7aa9517ba62/pete-music.png"
            }, {
                width: 200,
                height: 200,
                url: "https://d78fikflryjgj.cloudfront.net/images/stickers/df6a7a7b952e8826916f00e69b503af1/pete-music%402x.png"
            }]
        }
    };
    "undefined" !== typeof module && null !== module && (module.exports = kc);
    var wa, Pa;
    wa = {
        photos: {
            name: "Photos"
        },
        patterns: {
            name: "Patterns and Textures"
        }
    };
    Pa = {
        blue: {
            type: "default",
            brightness: "dark",
            color: "#23719F"
        },
        green: {
            type: "default",
            brightness: "dark",
            color: "#5A966E"
        },
        orange: {
            type: "default",
            brightness: "dark",
            color: "#BD6F32"
        },
        red: {
            type: "default",
            brightness: "dark",
            color: "#BF4A40"
        },
        grey: {
            type: "default",
            brightness: "dark",
            color: "#707070"
        },
        purple: {
            type: "default",
            brightness: "dark",
            color: "#6D5798"
        },
        mountain: {
            type: "premium",
            pack: wa.photos,
            brightness: "light",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/mountain/171b0c9aea08e21f0020f359408b73e4/full.jpg",
            scaled: [{
                width: 2400,
                height: 1696,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/mountain/46616ebeae7245d4a16cf00cf1e21e86/large.jpg"
            }, {
                width: 1024,
                height: 724,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/mountain/07627e0760eb74e7109a82057ac86881/medium.jpg"
            }, {
                width: 320,
                height: 227,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/mountain/da8d70dd70d666361767b9e30acdba65/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/62681247@N00/6575973407/",
                name: "jqmj (Queralt)",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        cosmos: {
            type: "premium",
            pack: wa.photos,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/cosmos/92448e055514fdc92923c9b591aa31df/full.jpg",
            scaled: [{
                width: 2047,
                height: 1638,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/cosmos/be5121d350dd3e3ac97e209c3a7fce58/large.jpg"
            }, {
                width: 1600,
                height: 1280,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/cosmos/f95acce485fc44f9a07853aa15965f90/medium.jpg"
            }, {
                width: 320,
                height: 256,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/cosmos/0646808c900b7409dbeb96d36f55e980/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/gsfc/6945160410/",
                name: "NASA Goddard Space Flight Center",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        rain: {
            type: "premium",
            pack: wa.photos,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/rain/2e8209ee9f21d7147a24cac28ea61358/full.jpg",
            scaled: [{
                width: 2400,
                height: 1600,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/rain/9de9b88a694019ab77d129f1729b05b7/large.jpg"
            }, {
                width: 1024,
                height: 683,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/rain/b8ac88f9c4e8097c1ef8cc269d66e089/medium.jpg"
            }, {
                width: 320,
                height: 213,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/rain/e9147244c93e3990f361bc8123cacca9/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/vinothchandar/5243641910/",
                name: "Vinoth Chandar",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        dew: {
            type: "premium",
            pack: wa.photos,
            brightness: "light",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/dew/1d638bc56d179d5a8c35177305d4ea09/full.jpg",
            scaled: [{
                width: 2400,
                height: 1594,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/dew/5b5f4c5cd0d7e144e40168345c8c6075/large.jpg"
            }, {
                width: 1024,
                height: 680,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/dew/3c8daf991e3132f453ad0c822175b34d/medium.jpg"
            }, {
                width: 320,
                height: 212,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/dew/71633df28ad4038a6fb6f647c1b29b27/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/jenny-pics/5584430423/",
                name: "Jenny Downing",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        "snow-bokeh": {
            type: "premium",
            pack: wa.photos,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/snow-bokeh/75b2ce11e6652e76ad0d3629d9886ca5/full.jpg",
            scaled: [{
                width: 2400,
                height: 1596,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/snow-bokeh/11fc1afae97ec97b3b46b149d701e180/large.jpg"
            }, {
                width: 1024,
                height: 681,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/snow-bokeh/9f4c60883dec8b5aa5bc949607081505/medium.jpg"
            }, {
                width: 320,
                height: 213,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/snow-bokeh/d74c2d921e28c822e92b881b3e2cb10b/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/tabor-roeder/5337595458/",
                name: "Phil Roeder",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        city: {
            type: "premium",
            pack: wa.photos,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/city/1bbbf09d491d444d207e5d8b792a86ba/full.jpg",
            scaled: [{
                width: 2400,
                height: 1594,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/city/d23508735801f1190b365330eb8ec0a5/large.jpg"
            }, {
                width: 1024,
                height: 680,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/city/a7eea5e35c08388ec3da7dbc814f1da2/medium.jpg"
            }, {
                width: 320,
                height: 212,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/city/27e00a7bee7a783ae7568a819fa9bb97/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/nosha/2907855809/",
                name: "Nathan Siemers",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        canyon: {
            type: "premium",
            pack: wa.photos,
            brightness: "light",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/canyon/0c35d8049641c307de51cac7d449bf4e/full.jpg",
            scaled: [{
                width: 2400,
                height: 1596,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/canyon/ee79179217e377e332d217cbe10405b4/large.jpg"
            }, {
                width: 1024,
                height: 681,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/canyon/976ada2d506ebb7c2f8708f2ccc47192/medium.jpg"
            }, {
                width: 320,
                height: 213,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/canyon/1478a9382a5ab8c493685223ff36e6f7/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/wolfgangstaudt/2252688630/",
                name: "Wolfgang Staudt",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        ocean: {
            type: "premium",
            pack: wa.photos,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/ocean/4ce437330ab9d2fe40dd3d8504a143e6/full.jpg",
            scaled: [{
                width: 2400,
                height: 1600,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/ocean/ede6927e92b4515102b2d86e919c77fa/large.jpg"
            }, {
                width: 1024,
                height: 683,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/ocean/c8a238f606e3288c461fc7ea3daa36d9/medium.jpg"
            }, {
                width: 320,
                height: 213,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/ocean/2de3527d131722c66ec5315205d64104/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/mattphipps/4635112852/",
                name: "MattJP",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        river: {
            type: "premium",
            pack: wa.photos,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/river/b031ec422c9048f4b6fb3b53f80eba3c/full.jpg",
            scaled: [{
                width: 2400,
                height: 1600,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/river/801d937c765a9996d4eccf4aee6bfc36/large.jpg"
            }, {
                width: 1024,
                height: 683,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/river/67c2c39a74a32f383ffd10dc53ffb535/medium.jpg"
            }, {
                width: 320,
                height: 213,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/river/15967f866d002762d13d20d258140418/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/22746515@N02/3114276532/",
                name: "Bert Kaufmann",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        fall: {
            type: "premium",
            pack: wa.photos,
            discontinued: !0,
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/fall/72c32b15d265b78e7058896d4bc85c3b/full.jpg",
            scaled: [{
                width: 2400,
                height: 1596,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/fall/a42f50fe10ff082519a499a2e86be1dc/large.jpg"
            }, {
                width: 1024,
                height: 681,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/fall/a999e10749c6db57a5acd9960324ed6f/medium.jpg"
            }, {
                width: 320,
                height: 213,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/fall/8c8e3c5c5eebeac446c7e19ee36d23ae/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/mendhak/4107993637/",
                name: "mendhak",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        snow: {
            type: "premium",
            pack: wa.photos,
            discontinued: !0,
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/snow/d5dd0a98d6b0a7ebcaff02dad1535fab/full.jpg",
            scaled: [{
                width: 2400,
                height: 1600,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/snow/149d6adb0c746612aa21ec3c46455583/large.jpg"
            }, {
                width: 1024,
                height: 683,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/snow/147471be1b6fa8858c40febf9702795b/medium.jpg"
            }, {
                width: 320,
                height: 213,
                url: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/snow/da5f83eace8c3f4e13f1287cefd07956/small.jpg"
            }],
            attribution: {
                url: "http://www.flickr.com/photos/zachd1_618/5386165480/",
                name: "Zach Dischner",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        purty_wood_dark: {
            type: "premium",
            pack: wa.patterns,
            tile: !0,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/7a14a57fef9435b0def0f613d0114334/purty_wood_dark.png",
            attribution: {
                url: "http://subtlepatterns.com/purty-wood/",
                name: "Richard Tabor",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        "subtle-irongrip": {
            type: "premium",
            pack: wa.patterns,
            tile: !0,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/c9f15836db29df79c2a0092a6758d81e/subtle-irongrip.png",
            attribution: {
                url: "http://subtlepatterns.com/iron-grip/",
                name: "Tony Kinard",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        "red-sweater": {
            type: "premium",
            pack: wa.patterns,
            tile: !0,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/17d3a6bc27bdcd05caeae11f67fa46d6/red-sweater.png",
            attribution: {
                url: "http://subtlepatterns.com/wild-oliva/",
                name: "Badhon Ebrahim",
                license: "http://creativecommons.org/licenses/by/2.0/deed.en"
            }
        },
        hex: {
            type: "premium",
            pack: wa.patterns,
            tile: !0,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/2e2cb18ce229869faec815b4d8fe2770/hex.png"
        },
        wave: {
            type: "premium",
            pack: wa.patterns,
            tile: !0,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/bb289a4f00f13e8ca52e67afd11c1648/wave.png"
        },
        bricks: {
            type: "premium",
            pack: wa.patterns,
            tile: !0,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/5e21dfb838e99d8a7c540a2b90d36f29/bricks.png"
        },
        "purple-blur": {
            type: "premium",
            pack: wa.patterns,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/3a02eab932195316109bd905d3341323/purple-blur.png"
        },
        "orange-blur": {
            type: "premium",
            pack: wa.patterns,
            brightness: "dark",
            fullSizeUrl: "https://d78fikflryjgj.cloudfront.net/images/backgrounds/07a3436eabfd187ee94ae8c578584d07/orange-blur.png"
        }
    };
    "undefined" !== typeof module && null !== module && (module.exports = Pa);
    var Nb, Ha, D = [].slice,
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    Ha = function() {
        function c(b) {
            var d, e;
            this.options = null != b ? b : {};
            if (null == (b = this.options).openLinksInNewWindow) b.openLinksInNewWindow = !0;
            this.lexerBlockRules = this.options.inlineOnly ? [c.lexerBlockRules.error] : this._expandRules(c.lexerBlockRules, null != (d = this.options.restrict) ? d.block : void 0);
            this.lexerInlineRules = this._expandRules(c.lexerInlineRules, null != (e = this.options.restrict) ? e.inline : void 0)
        }
        var b, d, e;
        c.prototype._expandRules = function(b, d) {
            var e, c, q, k, l, I, n;
            q = _.sortBy(_.keys(b), function(b) {
                return -b.length
            });
            l = RegExp("" + q.join("|"), "g");
            d = null != d ? d.concat(function() {
                var d;
                d = [];
                for (n in b) I = b[n], (I.required || null == I.token) &&
                    d.push(n);
                return d
            }()) : function() {
                var d, e;
                e = [];
                for (k in b) I = b[k], null != (d = I.nondefault) && d || e.push(k);
                return e
            }();
            b = _.pick(b, _.intersection(_.keys(b), d));
            e = function(d) {
                return function(d) {
                    var f;
                    d = b[d] = _.clone(b[d]);
                    d.compiled = !0;
                    f = d.match.source.replace(l, function(d) {
                        var f;
                        f = b[d];
                        null != (null != f ? f.match : void 0) ? (f.compiled || e(d), d = f.match) : d = /[]/;
                        return d.source.replace(/(^|[^\[])\^/g, "$1")
                    });
                    d.match = RegExp("" + f);
                    d.match_i = RegExp("" + f, "i");
                    d.match_gim = RegExp("" + f, "gim");
                    return d
                }
            }(this);
            for (n in b) c =
                b[n], q = c.match, c = c.compiled, null != q && !c && e(n);
            return b
        };
        c.lexerBlockRules = {
            newline: {
                match: /^\n/,
                token: function(b, d, e) {
                    b = b[0];
                    return {
                        type: "space",
                        canCondense: !0,
                        children: {
                            text: b,
                            ranges: e.slice(0, b)
                        }
                    }
                }
            },
            code: {
                match: /^(\x20{4}[^\n]+\n*)+/,
                token: function(b) {
                    return {
                        type: "code",
                        text: b[0].replace(/^ {4}/gm, "").replace(/\n+$/, "")
                    }
                }
            },
            fencedCode: {
                match: /^\x20*(`{3,}|~{3,})\x20*(\S+)?\x20*\n([\s\S]+?)\s*?\1\x20*(?:\n+|$)/,
                token: function(b) {
                    return {
                        type: "code",
                        language: b[2],
                        text: b[3]
                    }
                }
            },
            heading: {
                match: /^(\x20*(\#{1,6})\x20*)([^\n]+?)\x20*\#*\x20*(?:\n+|$)/,
                token: function(b, d, e) {
                    var c;
                    d = b[1];
                    c = b[2];
                    b = b[3];
                    return {
                        type: "heading",
                        depth: c.length,
                        children: {
                            text: b,
                            ranges: e.slice(d.length, b)
                        }
                    }
                }
            },
            lheading: {
                match: /^([^\n]+)\n\x20*(=|-){3,}\x20*\n*/,
                token: function(b, d, e) {
                    d = b[1];
                    return {
                        type: "heading",
                        depth: "=" === b[2] ? 1 : 2,
                        children: {
                            text: d,
                            ranges: e.slice(0, d)
                        }
                    }
                }
            },
            hr: {
                match: /^(?:\x20*[-*_]){3,}\x20*(?:\n|$)/,
                token: function() {
                    return {
                        type: "hr"
                    }
                }
            },
            blockquote: {
                match: /^(\x20*>[^\n]+(\n[^\n]+)*\n*)+/,
                token: function(b, d, e) {
                    var c, q;
                    b = b[0];
                    q = [];
                    c = b.replace(/^ *> ?/gm, function(b,
                        d) {
                        var f, c, g, m;
                        m = e.slice(d, b).spans;
                        c = 0;
                        for (g = m.length; c < g; c++) f = m[c], q.push(f);
                        return ""
                    });
                    b = e.subtract(new Nb(q));
                    return [{
                        type: "blockquote_start"
                    }].concat(D.call(this.blockLex(c, d, b)), [{
                        type: "blockquote_end"
                    }])
                }
            },
            num: {
                match: /(?:\d+\.)/
            },
            dash: {
                match: /(?:[*+-])/
            },
            bullet: {
                match: /(?:dash|num)/
            },
            item: {
                match: /^(\x20*)(bullet)\x20[^\n]*(?:\n(?!\1bullet\x20)[^\n]*)*/
            },
            list: {
                match: /^(\x20*)(?:(dash)\x20[\s\S]+?(?:\nhr|\n{2,}(?=def|(?!\x20))(?!\1dash\x20)\n*|\s*$)|(num)\x20[\s\S]+?(?:\nhr|\n{2,}(?=def|(?!\x20))(?!\1num\x20)\n*|\s*$))/,
                token: function(b, d, e) {
                    var c, q, k, l, I, n;
                    c = b[0];
                    b = b[2];
                    I = !1;
                    q = 0;
                    l = [];
                    n = null != b ? "ul" : "ol";
                    k = c.match(this.lexerBlockRules.item.match_gim).length;
                    c.replace(this.lexerBlockRules.item.match_gim, function(b) {
                        return function() {
                            var c, g, m, t, v;
                            c = arguments[0];
                            4 <= arguments.length ? D.call(arguments, 1, v = arguments.length - 2) : v = 1;
                            g = arguments[v++];
                            v++;
                            m = e.slice(g, c);
                            g = I || /\n\n(?!\s*$)/.test(c);
                            q !== k - 1 && (I = "\n" === c[c.length - 1], g || (g = I));
                            v = c.length;
                            c = c.replace(/^\x20*([*+-]|\d+\.)\x20+/, function(b) {
                                m = m.subtract(m.slice(0,
                                    b));
                                return ""
                            });
                            v -= c.length;
                            t = m.clone();
                            c = c.replace(RegExp("^\\x20{1," + v + "}", "gm"), function(b, d) {
                                m = m.subtract(t.slice(d, b));
                                return ""
                            });
                            l.push([{
                                type: "list_item_start",
                                tag: n,
                                condense: !g,
                                index: q
                            }].concat(D.call(b.blockLex(c, _.extend({}, d, {
                                top: !1
                            }), m)), [{
                                type: "list_item_end"
                            }]));
                            q++;
                            return ""
                        }
                    }(this));
                    return [{
                        type: "list_start",
                        tag: n
                    }].concat(D.call(_.flatten(l)), [{
                        type: "list_end"
                    }])
                }
            },
            def: {
                top: !0,
                match: /^\x20*\[([^\]]+)\]:\x20*<?([^\s>]+)>?(?:\x20+["(]([^\n]+)[")])?\x20*(?:\n+|$)/,
                token: function(b, d) {
                    var e,
                        c, q, k;
                    e = b[1];
                    k = b[2];
                    q = b[3];
                    c = d.references;
                    null != c && c.set(e, {
                        url: k,
                        title: q
                    });
                    return null
                }
            },
            blockAtMention: {
                nondefault: !0,
                match: /^@([a-z0-9_]+)(?=\n|$)/,
                token: function(b) {
                    return {
                        type: "atMention",
                        username: b[1]
                    }
                }
            },
            paragraph: {
                top: !0,
                match: /^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|def|blockAtMention))+)\n*/,
                token: function(b, d, e) {
                    b = b[1].replace(/\n$/, "");
                    return {
                        type: "text",
                        children: {
                            text: b,
                            ranges: e.slice(0, b)
                        }
                    }
                }
            },
            text: {
                required: !0,
                match: /^[^\n]+/,
                token: function(b, d, e) {
                    b = b[0];
                    return {
                        type: "text",
                        canCondense: !0,
                        children: {
                            text: b,
                            ranges: e.slice(0, b)
                        }
                    }
                }
            },
            error: {
                required: !0,
                match: /^[\s\S]+/,
                token: function(b) {
                    throw Error("invalid block input " + b[0]);
                }
            }
        };
        d = function(b) {
            var d, e, c, q;
            d = b.image;
            e = b.text;
            q = b.url;
            c = b.title;
            b = b.ranges;
            c = {
                title: c,
                url: q
            };
            d ? (c.type = "image", c.text = e) : (c.type = "link", c.children = {
                text: e,
                ranges: b.slice(1, e)
            });
            return c
        };
        c.lexerInlineRules = {
            escape: {
                required: !0,
                match: /^\\([\\`*{}\[\]()\#+\-.!_>~|@:])/,
                token: function(b) {
                    return {
                        type: "text",
                        text: b[1]
                    }
                }
            },
            tld: {
                match: /(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw)/
            },
            bareLink: {
                match: /([a-z0-9\-]+\.)+(?:tld)/
            },
            autolink: {
                match: /^<(?:(email)|(url|bareLink))>/,
                token: function(b) {
                    var d;
                    d = b[1];
                    b = b[2];
                    return null != d ? {
                        type: "mailto",
                        email: d
                    } : /^[\w-]+:/.test(b) ? {
                        type: "link",
                        url: b
                    } : {
                        type: "link",
                        url: "http://" + b,
                        text: b
                    }
                }
            },
            email: {
                match: /^[-a-z0-9\+\._'%]+@[a-z0-9-\.]+\.[a-z]{2,}/,
                token: function(b) {
                    return {
                        type: "mailto",
                        email: b[0]
                    }
                }
            },
            inside: {
                match: /(?:\[[^\]\[]*\]|[^\]\[]|\](?=[^\[]*\]))*/
            },
            href: {
                match: /\s*<?((?:[^\s\(\)]?(?:\([^\s()<>]*\)|\()?)+)>?(?:\s+['"]([\s\S]*?)['"])?\s*/
            },
            emailLink: {
                match: /^\[(inside)\]\((email)\)/,
                token: function(b) {
                    return {
                        type: "mailto",
                        email: b[2],
                        text: b[1]
                    }
                }
            },
            link: {
                match: /^\[(inside)\]\(href\)/,
                token: function(b, e, c) {
                    return d({
                        text: b[1],
                        url: b[2],
                        title: b[3],
                        ranges: c
                    })
                }
            },
            image: {
                match: /^(!)\[(inside)\]\(href\)/,
                token: function(b, e, c) {
                    return d({
                        image: !0,
                        text: b[2],
                        url: b[3],
                        title: b[4],
                        ranges: c
                    })
                }
            },
            reflink: {
                match: /^(!?)\[(inside)\]\s*\[([^\]]*)\]/,
                token: function(b, e, c) {
                    var m, q, k, l;
                    m = b[1];
                    k = b[2];
                    b = b[3];
                    return null == (q = null != (l = e.references) ? l.get(b || k) : void 0) ?
                        !1 : d({
                            image: m,
                            text: k,
                            url: q.url,
                            title: q.title,
                            ranges: c
                        })
                }
            },
            nolink: {
                match: /^(!?)\[((?:\[[^\]]*\]|[^\[\]])*)\]/,
                token: function(b, e, c) {
                    var m, q, k;
                    m = b[1];
                    b = b[2];
                    return null == (q = null != (k = e.references) ? k.get(b) : void 0) ? !1 : d({
                        image: m,
                        text: b,
                        url: q.url,
                        title: q.title,
                        ranges: c
                    })
                }
            },
            url: {
                match: /^((?:[\w-]+:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019])|(?:bareLink)\b)/,
                token: function(b) {
                    b = b[0];
                    return /^[a-z]+:/.test(b) ? {
                        type: "link",
                        url: b
                    } : {
                        type: "link",
                        url: "http://" + b,
                        text: b
                    }
                }
            },
            strong: {
                match: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,
                token: function(b, d, e) {
                    var c;
                    c = b[1];
                    b = b[2];
                    c = null != c ? c : b;
                    return [{
                        type: "strong_start"
                    }].concat(D.call(this.inlineLex(c, d, e.slice(2, c))), [{
                        type: "strong_end"
                    }])
                }
            },
            em: {
                match: /^\b_([\s\S]+?)_\b|^\*([\s\S]+?)\*(?!\*)/,
                token: function(b, d, e) {
                    var c;
                    c = b[1];
                    b = b[2];
                    c = null != c ? c : b;
                    return [{
                        type: "em_start"
                    }].concat(D.call(this.inlineLex(c, d, e.slice(1, c))), [{
                        type: "em_end"
                    }])
                }
            },
            strikethrough: {
                match: /^~~([\s\S]+?)~~/,
                token: function(b, d, e) {
                    b = b[1];
                    return [{
                        type: "strikethrough_start"
                    }].concat(D.call(this.inlineLex(b, d, e.slice(2, b))), [{
                        type: "strikethrough_end"
                    }])
                }
            },
            code: {
                match: /^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,
                token: function(b) {
                    return {
                        type: "code",
                        text: b[2]
                    }
                }
            },
            "break": {
                match: /^\x20*\n(?!\s*$)/,
                token: function() {
                    return {
                        type: "break"
                    }
                }
            },
            atMention: {
                match: /^@([a-z0-9_]+)/,
                token: function(b) {
                    return {
                        type: "atMention",
                        username: b[1]
                    }
                }
            },
            cardReference: {
                match: /^\#([\d]+)/,
                token: function(b) {
                    return {
                        type: "cardReference",
                        number: b[1]
                    }
                }
            },
            emoji: {
                match: /^:([a-z0-9_+-]+):/,
                token: function(b) {
                    return {
                        type: "emoji",
                        emoji: b[1]
                    }
                }
            },
            hashtag: {
                nondefault: !0,
                match: /^\#([\S]+)/,
                token: function(b) {
                    return {
                        type: "text",
                        text: b[0]
                    }
                }
            },
            text: {
                required: !0,
                match: /^[\s\S]+?(?:\w[@\#\:][\s\S]+?)?(?=[\\<!\[_*`~]|\x20*\n|[@\#:]|(?:\b(?:url|email))|$)/,
                token: function(b) {
                    return {
                        type: "text",
                        text: b[0]
                    }
                }
            },
            error: {
                required: !0,
                match: /^[\s\S]+/,
                token: function(b) {
                    throw Error("invalid inline input " + b[0]);
                }
            }
        };
        b = function(b) {
            var d, e;
            e = b.username;
            return null != this.options.lookupMember &&
                (d = this.options.lookupMember(e, this.state), b = d[0], d = d[1], null != b) ? this.html("span", "@" + e, {
                    attrs: {
                        "class": "atMention" + (d ? " me" : ""),
                        title: "" + b
                    }
                }) : this.text("@" + e)
        };
        c.prototype.parseBlockOutput = {
            space: function() {
                return ""
            },
            hr: function() {
                return this.htmln("hr", null)
            },
            heading: function(b) {
                return this.htmln("h" + b.depth, this.children(b.children))
            },
            blockquote_start: function() {
                return this.htmln("blockquote", this.process("blockquote_end"), {
                    newlineAfterTag: !0
                })
            },
            list_start: function(b) {
                return this.htmln(b.tag,
                    this.process("list_end"), {
                        newlineAfterTag: !0
                    })
            },
            list_item_start: function(b) {
                return this.htmln("li", this.process("list_item_end", b.condense))
            },
            text: function(b) {
                return this.htmln("p", this.children(b.children))
            },
            code: function(b) {
                return this.htmln("code", this.text(b.text), {
                    preTag: "<pre>",
                    postTag: "</pre>"
                })
            },
            atMention: b
        };
        c.prototype.parseInlineOutput = {
            text: function(b) {
                return this.text(b.text)
            },
            strong_start: function() {
                return this.html("strong", this.process("strong_end"))
            },
            em_start: function() {
                return this.html("em",
                    this.process("em_end"))
            },
            strikethrough_start: function() {
                return this.html("del", this.process("strikethrough_end"))
            },
            code: function(b) {
                return this.html("code", this.escape(b.text))
            },
            "break": function() {
                return this.html("br", null)
            },
            link: function(b) {
                var d, e, c;
                c = b.url;
                d = b.text;
                e = b.title;
                b = b.children;
                d = null != b ? this.children(b) : this.escape(null != d ? d : c);
                return this.html("a", d, {
                    attrs: {
                        href: c,
                        title: e,
                        target: this.options.openLinksInNewWindow ? "_blank" : null
                    }
                })
            },
            mailto: function(b) {
                var d;
                d = b.email;
                b = b.text;
                return this.html("a",
                    this.escape(null != b ? b : d), {
                        attrs: {
                            href: "mailto:" + d
                        }
                    })
            },
            image: function(b) {
                return this.html("img", null, {
                    attrs: {
                        src: b.url,
                        alt: b.text,
                        title: b.title
                    }
                })
            },
            atMention: b,
            cardReference: function(b) {
                var d, e;
                d = b.number;
                b = "function" === typeof(e = this.options).lookupCardInfo ? e.lookupCardInfo(d, this.state) : void 0;
                return this.html("a", "#" + d, {
                    attrs: {
                        href: "" + b.url,
                        title: "" + b.title
                    }
                })
            },
            emoji: function(b) {
                var d, e;
                b = b.emoji;
                d = "function" === typeof(e = this.options).lookupEmoji ? e.lookupEmoji(b, this.state) : void 0;
                return null != d ?
                    this.html("img", null, {
                        attrs: {
                            src: d,
                            title: b,
                            "class": "emoji"
                        }
                    }) : this.text(":" + b + ":")
            }
        };
        c.prototype.parseBlockOutputText = {
            space: function() {
                return this.plaintextn("")
            },
            hr: function() {
                return this.plaintextn("")
            },
            heading: function(b) {
                return this.plaintextn(this.textChildren(b.children))
            },
            blockquote_start: function() {
                return this.plaintext(this.textProcess("blockquote_end"))
            },
            list_start: function(b) {
                var d, e, c, q;
                c = this.textProcess("list_end").split("\n");
                q = [];
                d = 0;
                for (e = c.length; d < e; d++) b = c[d], q.push(this.plaintextn(" " +
                    b));
                return q.join("")
            },
            list_item_start: function(b) {
                var d, e;
                e = b.tag;
                d = b.index;
                return this.plaintextn("" + ("ol" === e ? "" + (d + 1) + "." : "*") + " " + this.textProcess("list_item_end", b.condense))
            },
            text: function(b) {
                return this.plaintextn("" + this.textChildren(b.children) + "\n")
            },
            code: function(b) {
                return this.plaintextn(b.text)
            },
            atMention: function(b) {
                return this.plaintextn(text)
            }
        };
        c.prototype.parseInlineOutputText = {
            text: function(b) {
                return this.plaintext(b.text)
            },
            strong_start: function() {
                return this.plaintext(this.textProcess("strong_end"))
            },
            em_start: function() {
                return this.plaintext(this.textProcess("em_end"))
            },
            code: function(b) {
                return this.plaintext(b.text)
            },
            "break": function() {
                return this.plaintext("\n")
            },
            link: function(b) {
                var d, e;
                e = b.url;
                d = b.text;
                b = b.children;
                return null != b ? this.plaintext("" + this.textChildren(b) + " (" + e + ")") : null != d ? this.plaintext("" + d + " (" + e + ")") : this.plaintext(e)
            },
            mailto: function(b) {
                var d;
                d = b.email;
                b = b.text;
                return null != b ? this.plaintext("" + b + " (" + d + ")") : this.plaintext(d)
            },
            image: function(b) {
                b = b.title;
                return null != b ? this.plaintext(b) :
                    this.plaintext("")
            },
            atMention: function(b) {
                return this.plaintext(b.username)
            },
            cardReference: function(b) {
                return this.plaintext("#" + b.number)
            },
            emoji: function(b) {
                return this.plaintext(":" + b.emoji + ":")
            }
        };
        c.prototype.lex = function(b, d, e, c) {
            var q, k, l, I, n, C, t, v, x, y, A;
            null == e && (e = {});
            null == e.top && (e.top = !0);
            null == e.locations && (e.locations = []);
            n = c.clone();
            d = d.replace(/^\x20+$/gm, function(b, d) {
                c = c.subtract(n.slice(d, b));
                return ""
            });
            k = [];
            for (I = 0; d;)
                for (C in b)
                    if (v = b[C], q = v.match_i, t = v.token, v = v.top, null != t && (null ==
                        v || e.top === v) && null != (l = q.exec(d)))
                        if (q = l[0], v = c.slice(I, q), t = t.call(this, l, e, v), !1 !== t) {
                            if (null != t) {
                                _.isArray(t) || (t = [t]);
                                A = 0;
                                for (x = t.length; A < x; A++) y = t[A], k.push(y)
                            }
                            if (0 === q.length) throw Error("infinite loop");
                            d = d.substr(q.length);
                            A = v.spans;
                            t = 0;
                            for (y = A.length; t < y; t++) x = A[t], v = x[0], x = x[1], e.locations.push({
                                start: v,
                                stop: x,
                                rule: C
                            });
                            I += q.length;
                            break
                        }
            return k
        };
        c.prototype._expandChildren = function(b, d, e) {
            var c, q, k, l, I, n;
            if (0 !== b.length) {
                if (e) {
                    k = b[0];
                    l = 2 <= b.length ? D.call(b, 1) : [];
                    b = [k];
                    q = function(b, d) {
                        return b.canCondense &&
                            null != b.children && b.type === d
                    };
                    c = I = 0;
                    for (n = l.length; I < n; c = ++I) e = l[c], q(k, "text") && (q(e, "text") || q(e, "space") && q(l[c + 1], "text")) ? k.children = {
                        text: k.children.text + e.children.text,
                        ranges: new Nb(D.call(k.children.ranges.spans).concat(D.call(e.children.ranges.spans)))
                    } : (b.push(e), k = e)
                }
                k = 0;
                for (q = b.length; k < q; k++) e = b[k], null != e.children && (l = e.children, c = l.text, l = l.ranges, c = this.inlineLex(c, d, l), this._expandChildren(c, d), e.children = c)
            }
        };
        c.prototype.blockLex = function(b, d, e, c) {
            null == e && (e = Nb.fromString(b));
            null == d.references && (d.references = {
                map: {},
                set: function(b, d) {
                    return this.map[b.toLowerCase()] = d
                },
                get: function(b) {
                    return this.map[b.toLowerCase()]
                }
            });
            b = this.lex(this.lexerBlockRules, b, d, e);
            c && this._expandChildren(b, d, !0);
            return b
        };
        c.prototype.inlineLex = function(b, d, e, c) {
            null == e && (e = Nb.fromString(b));
            b = this.lex(this.lexerInlineRules, b, d, e);
            c && this._expandChildren(b, d, !0);
            return b
        };
        c.prototype.parse = function(b, d, e) {
            var c;
            c = {
                options: this.options,
                state: e,
                index: 0,
                next: function() {
                    return this.current = d[this.index++]
                },
                process: function(d, e) {
                    var f, h, k;
                    for (k = []; null != (h = this.next()) && h.type !== d;)
                        if (e && "text" === h.type) k.push(c.children(h.children));
                        else if (f = b[h.type], null != f) k.push(f.call(c, h));
                    else throw Error("invalid token type " + h.type);
                    return k.join("")
                },
                textProcess: function(d, e) {
                    var f, h, k;
                    for (k = []; null != (h = this.next()) && h.type !== d;)
                        if (e && "text" === h.type) k.push(c.textChildren(h.children));
                        else if (f = b[h.type], null != f) k.push(f.call(c, h));
                    else throw Error("invalid token type " + h.type);
                    return k.join("")
                },
                children: function(b) {
                    return function(d,
                        f) {
                        return b.parseInline(d, e)
                    }
                }(this),
                textChildren: function(b) {
                    return function(d, f) {
                        return b.parseInlineText(d, e)
                    }
                }(this),
                escape: function(b) {
                    null == b && (b = "undefined");
                    return b.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;")
                },
                safeUrl: function(b) {
                    return /^\//.test(b) ? b : /^[^\/]*:/.test(b) ? b.replace(/^[^:]*/, function(b) {
                        b = b.toLowerCase().replace(/[^\w-]/g, "");
                        return !b || /script|data/.test(b) ? "http" : b
                    }) : "http://" + b
                },
                text: function(b) {
                    return this.escape(b)
                },
                plaintext: function(b) {
                    return b
                },
                plaintextn: function(b) {
                    return this.plaintext(b) + "\n"
                },
                html: function(b, d, e) {
                    var f, c, g, h, m;
                    g = null != e ? e : {};
                    e = g.attrs;
                    c = g.newlineAfterTag;
                    m = g.preTag;
                    h = g.postTag;
                    g = "";
                    null != m && (g += m);
                    g += "<" + b;
                    if (null != e)
                        for (f in e)
                            if (m = e[f], null != m) {
                                if ("src" === f || "href" === f) m = this.safeUrl(m);
                                g += " " + ("" + f + '="' + this.escape(m) + '"')
                            }
                    g += ">";
                    c && (g += "\n");
                    null != d && (g += d + ("</" + b + ">"), null != h && (g += h));
                    return g
                },
                htmln: function() {
                    var b;
                    b = 1 <= arguments.length ? D.call(arguments, 0) : [];
                    return this.html.apply(this,
                        b) + "\n"
                }
            };
            return c.process()
        };
        c.prototype.parseBlocks = function(b, d) {
            null == d && (d = {});
            return this.parse(this.parseBlockOutput, b, d)
        };
        c.prototype.parseInline = function(b, d) {
            null == d && (d = {});
            return this.parse(this.parseInlineOutput, b, d)
        };
        c.prototype.parseBlocksText = function(b, d) {
            null == d && (d = {});
            return this.parse(this.parseBlockOutputText, b, d)
        };
        c.prototype.parseInlineText = function(b, d) {
            null == d && (d = {});
            return this.parse(this.parseInlineOutputText, b, d)
        };
        e = function(b) {
            return b.replace(/\r\n|\r/g, "\n").replace(/\t/g,
                "    ").replace(/\u00a0/g, " ").replace(/\u2424/g, "\n")
        };
        c.prototype.format = function(b, d) {
            var c;
            null == d && (d = {});
            b = e(b);
            return {
                output: this.options.inlineOnly ? this.formatInline(b, d) : (d = _.extend({
                    top: !0
                }, d), c = this.blockLex(b, d, null, !0), this.parseBlocks(c, d)),
                locations: d.locations
            }
        };
        c.prototype.formatInline = function(b, d, e) {
            null == d && (d = {});
            null == e && (e = null);
            return this.parseInline(this.inlineLex(b, d, e, !0), d)
        };
        c.prototype.text = function(b, d) {
            var c, m;
            null == d && (d = {});
            b = e(b);
            c = this.options.inlineOnly ? this.textInline(b,
                d) : (d = _.extend({
                top: !0
            }, d), m = this.blockLex(b, d, null, !0), this.parseBlocksText(m, d));
            c = c.replace(/^\s*|\s*$/g, "").replace(/\n(\x20*\n)+/g, "\n\n");
            return {
                output: c,
                locations: d.locations
            }
        };
        c.prototype.textInline = function(b, d) {
            null == d && (d = {});
            return this.parseInlineText(this.inlineLex(b, d, ranges, !0), d)
        };
        c.prototype.analyze = function(b, d) {
            null == d && (d = {});
            b = e(b);
            this.options.inlineOnly ? this.inlineLex(b, d) : (d = _.extend({
                top: !0
            }, d), this.blockLex(b, d, null, !0));
            return d.locations
        };
        c.prototype.getMatches = function(b,
            d, e) {
            var c, q, k, l, I, n;
            null == e && (e = {});
            q = this.analyze(b);
            l = {};
            for (c in d) l[c] = [];
            I = 0;
            for (n = q.length; I < n; I++) c = q[I], c.rule in d && (k = b.slice(c.start, c.stop), k = !(c.rule in e) ? k : e[c.rule](k), l[c.rule].push(k));
            return l
        };
        c.prototype.replace = function(b, d, e) {
            var c, q, k, l, I, n, t;
            c = _.sortBy(this.analyze(b), function(b) {
                return -b.start
            });
            q = b.length;
            n = 0;
            for (t = c.length; n < t; n++) I = c[n], k = I.rule, l = I.start, I = I.stop, 0 <= F.call(d, k) && I <= q && (b = [b.slice(0, l), e(b.slice(l, I), {
                    rule: k,
                    options: this.options
                }), b.slice(I)].join(""),
                q = l);
            return b
        };
        return c
    }();
    Nb = function() {
        function c(b) {
            this.spans = null != b ? b : []
        }
        var b, d, e;
        c.fromString = function(b) {
            return new c([
                [0, b.length]
            ])
        };
        c.prototype.clone = function() {
            return new c(_.clone(this.spans))
        };
        e = function(b, d) {
            var e, c, q, k, l, I, n, t;
            e = [];
            l = _.clone(b);
            for (n = 0; l.length;) c = l.shift(), n >= d.length ? e.push(c) : (k = c[0], q = c[1], I = d[n], t = I[0], I = I[1], I <= k ? (l.unshift(c), n++) : t >= q ? e.push(c) : t <= k && I < q ? (l.unshift([I, q]), n++) : t <= k && I >= q || (t > k && I < q ? (e.push([k, t]), l.unshift([I, q]), n++) : t > k && I >= q && e.push([k,
                t
            ])));
            return e
        };
        c.prototype.subtract = function(b) {
            return new c(e(this.spans, b.spans))
        };
        b = function(b, d) {
            var e, c, q, k;
            q = 0;
            for (k = b.length; q < k; q++) {
                e = b[q];
                c = e[0];
                e = e[1];
                e -= c;
                if (d <= e) return c + d;
                d -= e
            }
            throw Error("invalid position");
        };
        d = function(d, c, h) {
            var m;
            c = b(d, c);
            m = b(d, h);
            h = [0, c];
            c = [m, _.last(d)[1]];
            return e(d, [h, c])
        };
        c.prototype.slice = function(b, e) {
            return _.isString(e) ? this.slice(b, b + e.length) : new c(d(this.spans, b, e))
        };
        return c
    }();
    "undefined" !== typeof module && null !== module && (module.exports = Ha);
    "function" ===
    typeof require && (Ha = require("./trelloMarkdown.coffee"), Bb = require("./EmojiMap.coffee"));
    var id;
    id = function() {
        function c() {
            var b;
            b = {
                lookupEmoji: this.lookupEmoji,
                lookupCardInfo: this.lookupCardInfo,
                lookupMember: this.lookupMember
            };
            this.full = new Ha(b);
            this.comments = new Ha(_.extend({
                restrict: {
                    block: "blockquote code fencedCode hr list newline paragraph".split(" "),
                    inline: "atMention autolink cardReference break code em email emailLink emoji link strong strikethrough url".split(" ")
                }
            }, b));
            this.checkItems =
                new Ha(_.extend({
                    inlineOnly: !0,
                    restrict: {
                        inline: "atMention autolink cardReference code em email emailLink emoji link strong strikethrough url".split(" ")
                    }
                }, b));
            this.emailSubjects = new Ha({
                inlineOnly: !0,
                restrict: {
                    inline: ["atMention", "hashtag"]
                }
            });
            this.emailBodies = new Ha({
                restrict: {
                    block: "newline code fencedCode heading lheading hr blockquote list def blockAtMention paragraph text error".split(" "),
                    inline: "escape autolink url link reflink nolink strong em code break hashtag cardReference emoji text error email emailLink strikethrough".split(" ")
                }
            })
        }
        c.prototype.lookupEmoji = function() {
            throw Error("not implemented");
        };
        c.prototype.lookupMember = function() {
            throw Error("not implemented");
        };
        c.prototype.lookupCardInfo = function() {
            throw Error("not implemented");
        };
        return c
    }();
    "undefined" !== typeof exports && null !== exports && (exports.TFM = id);
    var Da, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    Da = new(Da = function() {
        function c() {
            this.advertiseUpgrade = k(this.advertiseUpgrade, this);
            this.versionCompatible = k(this.versionCompatible, this);
            this.showVersionInformation =
                k(this.showVersionInformation, this);
            this.getVersionDisplay = k(this.getVersionDisplay, this);
            this.setServerVersion = k(this.setServerVersion, this);
            this.lessThanClient = k(this.lessThanClient, this);
            this.greaterThanClient = k(this.greaterThanClient, this);
            this.compareWithClient = k(this.compareWithClient, this);
            var b, d;
            this.version = new Za.Client(window.clientVersion);
            this.server = {
                version: null != (b = window.pageVersion) ? b : "0.0.0",
                environment: null != (d = window.pageEnvironment) ? d : "dev"
            };
            Object.defineProperty(window, "TrelloVersion", {
                get: function(b) {
                    return function() {
                        var d;
                        return "Server: " + b.server.version + " (" + b.server.environment + ")\nClient: " + b.version + " (" + (null != (d = window.channels) ? d.active : void 0) + ")"
                    }
                }(this)
            })
        }
        c.prototype.compareWithClient = function(b) {
            return Za.compareStringVersions(b, this.version)
        };
        c.prototype.greaterThanClient = function(b) {
            return 0 < this.compareWithClient(b)
        };
        c.prototype.lessThanClient = function(b) {
            return 0 > this.compareWithClient(b)
        };
        c.prototype.setServerVersion = function(b) {
            var d, e;
            d = !1;
            for (e in this.server) this.server[e] !==
                b[e] && (d = !0, this.server[e] = b[e]);
            if (d) return $(this).triggerHandler("change:serverVersion")
        };
        c.prototype.setServerVersionFromResponse = function(b) {
            var d;
            d = b.getResponseHeader("X-Trello-Version");
            b = b.getResponseHeader("X-Trello-Environment");
            null != d && (this.server.version = d);
            if (null != b) return this.server.environment = b
        };
        c.prototype.getVersionDisplay = function() {
            return !this.showVersionInformation() ? "" : window.TrelloVersion
        };
        c.prototype.showVersionInformation = function() {
            var b;
            return "dev" === (null != (b = window.channels) ?
                b.active : void 0) || "dev" === this.version.head && "dev" !== this.server.environment
        };
        c.prototype.versionCompatible = function() {
            var b, d;
            if (this.version === this.server.version) return !0;
            b = !this.server.versionMin || !this.greaterThanClient(this.server.versionMin);
            d = !this.server.versionMax || !this.lessThanClient(this.server.versionMax);
            return b && d
        };
        c.prototype.advertiseUpgrade = function() {
            return !1
        };
        return c
    }());
    var Aa;
    Aa = new(function() {
        function c() {
            this.profilerEnabled = $.cookie("profiler");
            this.timeStarts = {};
            this.completed = [];
            this.profilerEnabled && setInterval(function(b) {
                return function() {
                    return b.render()
                }
            }(this), 250);
            this.getTime = null != ("undefined" !== typeof performance && null !== performance ? performance.now : void 0) ? function() {
                return performance.now()
            } : function() {
                return +new Date
            }
        }
        c.prototype.render = function() {
            var b, d, e, c, f, h, m, q, k;
            if ($("#surface").length) {
                $(".js-profiler").length || $("#surface").append(v.fill("profiler", {}));
                $(".js-profiler").empty();
                c = [];
                q = this.completed;
                h = 0;
                for (m = q.length; h < m; h++) b = q[h], f = b.name, e = b.startTime,
                    b = b.endTime, (null != (k = d = _.last(c)) ? k.name : void 0) === f ? (null == d.count && (d.count = 1), d.count++, d.time += b - e) : c.push({
                        name: f,
                        time: b - e
                    });
                h = 0;
                for (m = c.length; h < m; h++) e = c[h], e.time = "" + Math.floor(100 * e.time) / 100 + "ms";
                e = this.timeStarts;
                for (f in e) c.push({
                    name: f,
                    time: "pending..."
                });
                m = [];
                f = 0;
                for (h = c.length; f < h; f++) e = c[f], m.push($(".profiler").append(v.fill("profiler_entry", e)));
                return m
            }
        };
        c.prototype.time = function(b) {
            return this.timeStarts[b] = this.getTime()
        };
        c.prototype.timeEnd = function(b, d) {
            var e, c, f, h;
            e = null !=
                d ? d : {};
            f = e.reportToServer;
            h = e.serverName;
            e = e.data;
            c = this.getTime();
            if (this.timeStarts[b]) return this.completed.push({
                name: b,
                startTime: this.timeStarts[b],
                endTime: c
            }), f && ua.inTest("client_profiler_reports") && $.post("/clientTiming", {
                name: h,
                time: c - this.timeStarts[b],
                data: e,
                version: Da.version.toString()
            }), delete this.timeStarts[b];
            P("END WITH NO START: " + b)
        };
        return c
    }());
    var t;
    t = function(c, b, d, e) {
        return "function" === typeof window.ga ? window.ga("send", "event", c, b, d, e) : void 0
    };
    var ua, k = function(c, b) {
            return function() {
                return c.apply(b,
                    arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    ua = new(function(c) {
        function b() {
            this.ready = k(this.ready, this);
            this.percentage = k(this.percentage, this);
            this.refreshPercentages = k(this.refreshPercentages, this);
            null != window._abPercentagesAtLoad ? (this._ready = !0, this._percentages = window._abPercentagesAtLoad) : (this._ready = !1, this._percentages = {});
            this._pending = [];
            this._cookie = $.cookie("ab");
            this._hasher = _.memoize(gb.md5)
        }
        n(b, c);
        b.prototype.getDefaultId = function() {
            return this.__getDefaultId()
        };
        b.prototype.__getDefaultId = function() {
            if ("everything" === this._cookie) return this._cookie;
            if (y.isLoggedIn()) return y.myId();
            this._cookie || (this._cookie = this._hasher("" + Math.random()).substr(0, 16), $.cookie("ab", this._cookie, {
                path: "/",
                expires: 60
            }));
            return this._cookie
        };
        b.prototype.event = function(b, e) {
            null == e && (e = this.getDefaultId());
            return $.post("/ab", {
                id: e,
                event: b
            })
        };
        b.prototype.tests = function(b) {
            null == b && (b = this.getDefaultId());
            return _.mapObj(this._percentages, function(e) {
                return function(c, f) {
                    return ["AB_" + f, e.inTest(f, b)]
                }
            }(this))
        };
        b.prototype.refreshPercentages = function() {
            return $.ajax("/ab/enabled", {
                dataType: "json"
            }).success(function(b) {
                return function(e) {
                    var c, f, h, m;
                    b._percentages = e;
                    b._ready = !0;
                    c = b._pending;
                    b._pending = [];
                    m = [];
                    f = 0;
                    for (h = c.length; f < h; f++) e = c[f], m.push("function" === typeof e ? e() : void 0);
                    return m
                }
            }(this))
        };
        b.prototype.percentage = function(b, e) {
            return "everything" ===
                e ? 100 : this._percentages[b]
        };
        b.prototype.ready = function(b) {
            return this._ready ? "function" === typeof b ? b() : void 0 : this._pending.push(b)
        };
        b.prototype.track = function(b, e) {
            var c, f;
            c = l.idToDate(y.myId()) < l.dateBefore({
                days: 7
            }) ? "old account" : "new account";
            f = this.inTest(b) ? "In" : "Out";
            return t("AB", b, "" + e + ": " + f + ": " + c)
        };
        return b
    }(hd));
    ua._ready || ua.refreshPercentages();
    D = [].slice;
    H = {}.hasOwnProperty;
    n = function(c, b) {
        function d() {
            this.constructor = c
        }
        for (var e in b) H.call(b, e) && (c[e] = b[e]);
        d.prototype = b.prototype;
        c.prototype = new d;
        c.__super__ = b.prototype;
        return c
    };
    Ha.lexerInlineRules.url.token = _.wrap(Ha.lexerInlineRules.url.token, function() {
        var c, b, d;
        b = arguments[0];
        c = 2 <= arguments.length ? D.call(arguments, 1) : [];
        d = c[0][0];
        return _.extend(b.apply(null, c), {
            known: rb.interpret(d, B.getCurrentModelCache())
        })
    });
    Ha.prototype.parseInlineOutput.link = _.wrap(Ha.prototype.parseInlineOutput.link, function(c, b) {
        var d;
        return null != (d = b.known) ? (d = this.html("img", null, {
            attrs: {
                src: d.icon,
                "class": "known-service-icon"
            }
        }) + this.html("span",
            this.text(d.text), {
                attrs: {
                    id: d.id
                }
            }), this.html("a", d, {
            attrs: {
                href: b.url,
                title: b.title,
                target: "_blank",
                "class": "known-service-link"
            }
        })) : c.call(this, b)
    });
    Ia = new(function(c) {
        function b() {
            b.__super__.constructor.call(this)
        }
        n(b, c);
        b.prototype.lookupEmoji = function(b, e) {
            var c, f, h;
            b = b.toLowerCase();
            return null != (c = null != (f = e.textData) ? null != (h = f.emoji) ? h[b] : void 0 : void 0) ? c : Bb[b]
        };
        b.prototype.lookupMember = function(b, e) {
            var c;
            return (c = ca.findOne(B.getCurrentModelCache(), function(e) {
                return e.hasAtMe("@" + b)
            })) ? [c.get("fullName"), y.isMe(c)] : [null, !1]
        };
        b.prototype.lookupCardInfo = function(b, e) {
            var c, f;
            b = parseInt(b, 10);
            f = null != e ? null != (c = e.board) ? c.id : void 0 : void 0;
            null == f && B.onAnyBoardView() && (f = B.idModel);
            c = Ea.findOne(B.getCurrentModelCache(), function(e) {
                return e.get("idBoard") === f && e.get("idShort") === b
            });
            if (null != c) return {
                title: c.get("name"),
                url: B.getCardUrl(c)
            };
            c = "Card " + b;
            return {
                title: c,
                url: B.getCardUrlWithoutModels(f, b, c)
            }
        };
        return b
    }(id));
    "undefined" !== typeof exports && null !== exports && (exports.TFM = Ia);
    "undefined" !== typeof window && null !== window && (window.TFM = Ia);
    (function() {
        var c, b, d;
        c = [];
        b = 2;
        d = null;
        $(function() {
            d = _.debounce(function() {
                if (0 < c.length) {
                    try {
                        $.post("/err", {
                            errors: c
                        })
                    } catch (b) {}
                    return c = []
                }
            }, 1E3);
            return d()
        });
        window.onerror = function(e, g, f, h, m) {
            var q, k, l;
            if (RegExp("https?://(" + location.host + "|[a-z0-9]+\\.cloudfront\\.net|a.trellocdn.com)/").test(g) && !(0 >= b)) return q = {
                name: null != m ? m.name : void 0,
                msg: null != (k = null != m ? m.message : void 0) ? k : e,
                url: g,
                line: f,
                col: h,
                stack: null != m ? m.stack : void 0,
                ua: "undefined" !==
                    typeof navigator && null !== navigator ? navigator.userAgent : void 0,
                browser: "undefined" !== typeof ha && null !== ha ? ha.asString : void 0,
                language: null != (l = navigator.language) ? l : navigator.browserLanguage,
                clientVersion: clientVersion
            }, "undefined" !== typeof y && null !== y && y.isLoggedIn() && (q.idMember = y.myId()), _.any(c, function(b) {
                return _.isEqual(b, q)
            }) || (b--, c.push(q), "function" === typeof d && d()), "function" === typeof t && t("Client JS Error", e), !1
        };
        return window.crashTest = function() {
            return setTimeout(function() {
                    return thingThatDoesNotExist.crash
                },
                1)
        }
    })();
    var Ce, jd, De, Ee, Fe, Ge, kd, He, Ie, Je, Ke, Le, Me, Ne, Oe, Pe, ld, Qe, Re, md, Se, Te, Ue, Ve, We, Xe, Ye, Ze;
    jd = ["dateLastActivity", "dateLastView"];
    De = {
        fields: "name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url",
        organization: !0,
        organization_fields: "name,displayName,products,prefs,logoHash",
        myPermLevel: !0
    };
    Ge = {
        boards: "open,starred",
        board_fields: "name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url",
        boardStars: !0,
        organizations: "all",
        organization_fields: "name,displayName,products,prefs,logoHash",
        board_organization: !0,
        board_organization_fields: "name,displayName,products,prefs,logoHash",
        board_myPermLevel: !0
    };
    Qe = {
        fields: "",
        boards: "open,starred",
        board_fields: jd
    };
    Fe = {
        fields: jd
    };
    kd = {
        fields: "all",
        stickers: !0,
        attachments: !0
    };
    Ie = {
        actions: "addAttachmentToCard,addChecklistToCard,addMemberToCard,commentCard,copyCommentCard,convertToCardFromCheckItem,createCard,copyCard,deleteAttachmentFromCard,emailCard,moveCardFromBoard,moveCardToBoard,removeChecklistFromCard,removeMemberFromCard,updateCard:idList,updateCard:closed,updateCheckItemStateOnCard",
        action_memberCreator_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url,idPremOrgsAdmin",
        members: !0,
        member_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url,status",
        attachments: !0,
        fields: "email",
        checklists: "all"
    };
    Je = {
        fields: "idMembersVoted",
        membersVoted: !0
    };
    He = {
        members: !0,
        member_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url,status",
        attachments: !0,
        stickers: !0,
        fields: "",
        checklists: "all"
    };
    Ke = {
        lists: "all",
        cards: "visible",
        card_attachments: "cover",
        card_stickers: !0,
        card_fields: "badges,closed,dateLastActivity,desc,descData,due,idAttachmentCover,idList,idBoard,idMembers,idShort,labels,name,pos,shortUrl,shortLink,subscribed,url",
        card_checklists: "none",
        members: "all",
        member_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url,status",
        membersInvited: "all",
        membersInvited_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url",
        checklists: "none",
        organization: !0,
        organization_fields: "name,displayName,desc,descData,url,website,prefs,memberships,logoHash,products",
        myPrefs: !0,
        fields: "name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,desc,descData,invitations,invited,labelNames,memberships,pinned,powerUps,subscribed"
    };
    Ee = {
        fields: "",
        actions: "addAttachmentToCard,addChecklistToCard,addMemberToCard,commentCard,copyCommentCard,convertToCardFromCheckItem,createCard,copyCard,deleteAttachmentFromCard,emailCard,moveCardFromBoard,moveCardToBoard,removeChecklistFromCard,removeMemberFromCard,updateCard:idList,updateCard:closed,updateCheckItemStateOnCard,addMemberToBoard,addToOrganizationBoard,copyBoard,createBoard,createList,deleteCard,disablePowerUp,enablePowerUp,makeAdminOfBoard,makeNormalMemberOfBoard,makeObserverOfBoard,moveListFromBoard,moveListToBoard,removeFromOrganizationBoard,unconfirmedBoardInvitation,unconfirmedOrganizationInvitation,updateBoard,updateList:closed",
        actions_limit: 50,
        action_memberCreator_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url,idPremOrgsAdmin"
    };
    Ce = {
        fields: "",
        checklists: "none",
        cards: "visible",
        card_fields: "",
        card_checklists: "all"
    };
    Le = {
        tokens: "all",
        sessions: "all",
        credentials: "all",
        paid_account: !0,
        credits: "invitation,promoCode",
        organizations: "all",
        logins: !0
    };
    Pe = {
        paid_account: !0
    };
    Me = {
        boards: "open,starred",
        board_fields: "name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,subscribed",
        boardStars: !0,
        boardsInvited: "all",
        boardsInvited_fields: "name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,subscribed",
        board_organization: !0,
        board_organization_fields: "name,displayName,products,prefs,logoHash",
        credits: "invitation,promoCode",
        organizations: "all",
        organization_fields: "name,displayName,products,prefs,logoHash",
        organizationsInvited: "all",
        organizationsInvited_fields: "name,displayName,products,prefs,logoHash",
        paid_account: !0
    };
    md = {
        board: !0,
        list: !0,
        fields: "badges,closed,due,idAttachmentCover,idList,idBoard,idMembers,idShort,labels,name,url",
        attachments: "true",
        members: "true",
        stickers: "all",
        member_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url"
    };
    Ne = {
        boards: "open",
        board_fields: "name,closed,idOrganization,prefs",
        board_lists: "open",
        board_memberships: "me",
        cards: "visible",
        card_fields: "badges,closed,dateLastActivity,desc,descData,due,idAttachmentCover,idList,idBoard,idMembers,idShort,labels,name,pos,shortUrl,shortLink,subscribed,url",
        card_attachments: "true",
        card_stickers: !0,
        card_members: "true",
        card_member_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url",
        organizations: "all",
        organization_fields: "displayName,name,prefs,products",
        organization_memberships: "me",
        paid_account: !0
    };
    Oe = {
        fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url"
    };
    ld = {
        actions: "all",
        actions_limit: 10,
        organizations: "all",
        organization_fields: "name,displayName,products,prefs,logoHash",
        boards: "open",
        board_fields: "name,prefs,idOrganization",
        paid_account: !0
    };
    Se = {
        boards: "open",
        board_fields: "name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,subscribed",
        fields: "all",
        members: "all",
        member_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url,status",
        membersInvited: "all",
        membersInvited_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url",
        paid_account: !0
    };
    Ue = {
        exports: !0,
        fields: "all",
        paid_account: !0
    };
    Te = {
        boards: "open",
        board_fields: "name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,subscribed",
        fields: "all",
        paid_account: !0
    };
    Ye = {
        paid_account: !0
    };
    Ve = {
        member_activity: !0,
        boards: "open",
        board_fields: "name,closed,memberships",
        fields: "all",
        members: "all",
        member_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url,status",
        membersInvited: "all",
        membersInvited_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url",
        paid_account: !0
    };
    We = {
        members: "all"
    };
    Xe = {
        fields: "all"
    };
    Re = {
        notifications: "all",
        notifications_limit: 5,
        notification_memberCreator_fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url",
        organizations: "all",
        organization_paid_account: !0,
        organization_fields: "name,displayName",
        paid_account: !0,
        savedSearches: !0
    };
    Ze = {
        organizations: "all",
        organization_paid_account: !0
    };
    var da;
    da = new(function() {
        function c() {}
        c.prototype._storage = window.localStorage;
        c.prototype.enabled = function() {
            return null != this._storage
        };
        c.prototype.set = function(b, d) {
            var e;
            try {
                return null != (e = this._storage) ? e[b] = JSON.stringify(d) : void 0
            } catch (c) {}
        };
        c.prototype.get = function(b) {
            var d;
            if (b = null != (d = this._storage) ? d[b] : void 0) try {
                return JSON.parse(b)
            } catch (e) {
                return null
            } else return null
        };
        c.prototype.unset = function(b) {
            var d, e;
            if (null != (null != (d = this._storage) ? d[b] : void 0)) return null != (e = this._storage) ? delete e[b] : void 0
        };
        return c
    }());
    var nd, P, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        D = [].slice;
    nd = new(function() {
        function c() {
            this.log = k(this.log, this);
            var b;
            this.enabled = null != (b = da.get("loggers")) ? b : {};
            this.historyMap = {};
            this.logHistory = !1;
            this.timeSpent = {};
            this.timing = {}
        }
        c.prototype.log = function() {
            var b, d, e;
            e = arguments[0];
            b = 2 <= arguments.length ? D.call(arguments,
                1) : [];
            if ("undefined" !== typeof console && null !== console && console.log && (0 === b.length ? (d = !0, b.push(e), e = "all") : d = this.enabled.all || this.enabled[e], d && (1 === b.length && _.isArray(b[0]) && (b = b[0]), b.unshift(e), $("body").is(".chrome") ? console.log(b) : console.dir(b)), this.logHistory)) {
                if (null == (d = this.historyMap)[e]) d[e] = [];
                this.historyMap[e].push(b)
            }
        };
        c.prototype.enable = function(b) {
            null == b && (b = "all");
            this.enabled[b] = !0;
            this.save()
        };
        c.prototype.disable = function(b) {
            null == b && (b = "all");
            delete this.enabled[b];
            this.save()
        };
        c.prototype.disableAll = function() {
            this.enabled = {};
            this.save()
        };
        c.prototype.enableAll = function() {
            this.enabled.all = !0;
            this.save()
        };
        c.prototype.history = function(b) {
            var d, e, c;
            if (b in this.historyMap) {
                c = this.historyMap[b];
                d = 0;
                for (e = c.length; d < e; d++) b = c[d], "undefined" !== typeof console && null !== console && "function" === typeof console.log && console.log(b)
            }
        };
        c.prototype.list = function() {
            "undefined" !== typeof console && null !== console && "function" === typeof console.log && console.log(_.keys(this.historyMap))
        };
        c.prototype.save =
            function() {
                da.set("loggers", this.enabled)
            };
        c.prototype.time = function(b) {
            return this.timing[b] = performance.now()
        };
        c.prototype.endTime = function(b) {
            var d, e;
            d = performance.now() - this.timing[b];
            if (null == (e = this.timeSpent)[b]) e[b] = 0;
            return this.timeSpent[b] += d
        };
        return c
    }());
    P = nd.log;
    window.Logger = nd;
    var ha, od, kb, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    od = function() {
        function c() {
            this.searchVersion = k(this.searchVersion, this);
            this.searchString = k(this.searchString, this);
            this.browser =
                this.searchString(this.dataBrowser) || "unknown-browser";
            this.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || "unknown-browser-version";
            this.OS = this.searchString(this.dataOS) || "unknown-os"
        }
        c.prototype.searchString = function(b) {
            var d, e, c;
            e = 0;
            for (c = b.length; e < c; e++)
                if (d = b[e], this.versionSearchString = d.versionSearch || d.identity, d.string && -1 !== d.string.indexOf(d.subString) || d.prop) return d.identity
        };
        c.prototype.searchVersion = function(b) {
            var d;
            d = b.indexOf(this.versionSearchString);
            if (-1 !== d) return parseFloat(b.substring(d + this.versionSearchString.length + 1))
        };
        c.prototype.dataBrowser = [{
            string: navigator.userAgent,
            subString: "Chrome",
            identity: "Chrome"
        }, {
            string: navigator.userAgent,
            subString: "OmniWeb",
            versionSearch: "OmniWeb/",
            identity: "OmniWeb"
        }, {
            string: navigator.vendor,
            subString: "Apple",
            identity: "Safari",
            versionSearch: "Version"
        }, {
            prop: window.opera,
            identity: "Opera"
        }, {
            string: navigator.vendor,
            subString: "iCab",
            identity: "iCab"
        }, {
            string: navigator.vendor,
            subString: "KDE",
            identity: "Konqueror"
        }, {
            string: navigator.userAgent,
            subString: "Firefox",
            identity: "Firefox"
        }, {
            string: navigator.vendor,
            subString: "Camino",
            identity: "Camino"
        }, {
            string: navigator.userAgent,
            subString: "Netscape",
            identity: "Netscape"
        }, {
            string: navigator.userAgent,
            subString: "MSIE",
            identity: "Explorer",
            versionSearch: "MSIE"
        }, {
            string: navigator.userAgent,
            subString: "Gecko",
            identity: "Mozilla",
            versionSearch: "rv"
        }, {
            string: navigator.userAgent,
            subString: "Mozilla",
            identity: "Netscape",
            versionSearch: "Mozilla"
        }];
        c.prototype.dataOS = [{
            string: navigator.platform,
            subString: "Win",
            identity: "Windows"
        }, {
            string: navigator.platform,
            subString: "Mac",
            identity: "Mac"
        }, {
            string: navigator.userAgent,
            subString: "iPhone",
            identity: "iPhone"
        }, {
            string: navigator.userAgent,
            subString: "iPod",
            identity: "iPod"
        }, {
            string: navigator.userAgent,
            subString: "iPad",
            identity: "iPad"
        }, {
            string: navigator.userAgent,
            subString: "Android",
            identity: "Android"
        }, {
            string: navigator.platform,
            subString: "Linux",
            identity: "Linux"
        }];
        return c
    }();
    kb = new od;
    ha = new(function() {
        function c() {
            this.hasDownloadAttribute = k(this.hasDownloadAttribute,
                this);
            this.allowsDynamicFavicon = k(this.allowsDynamicFavicon, this);
            this.isHighDPI = k(this.isHighDPI, this);
            this.isTouch = k(this.isTouch, this);
            this.browserStr = kb.browser.toLowerCase();
            this.browserVersionStr = ("" + kb.browser + "-" + kb.version).toLowerCase();
            this.osStr = kb.OS.toLowerCase();
            this.asString = "" + this.browserStr + " " + this.browserVersionStr + " " + this.osStr;
            $(function(b) {
                return function() {
                    return $("body").addClass(b.asString)
                }
            }(this))
        }
        c.prototype.isTouch = function() {
            var b;
            return "ipad" === (b = this.osStr) || "iphone" ===
                b || "android" === b
        };
        c.prototype.isHighDPI = function() {
            return 1 < window.devicePixelRatio
        };
        c.prototype.allowsDynamicFavicon = function() {
            var b;
            return "chrome" === (b = this.browserStr) || "firefox" === b
        };
        c.prototype.hasDownloadAttribute = function() {
            var b;
            return "chrome" === (b = this.browserStr) || "firefox" === b || "opera" === b
        };
        c.prototype.detectCustomWebkitScrollbars = function() {
            var b;
            try {
                return $("::-webkit-scrollbar"), b = "body-webkit-scrollbars"
            } catch (d) {
                return "body-no-webkit-scrollbars"
            } finally {
                $("body").addClass(b)
            }
        };
        return c
    }());
    var y, F = [].indexOf || function(c) {
        for (var b = 0, d = this.length; b < d; b++)
            if (b in this && this[b] === c) return b;
        return -1
    };
    y = new(function() {
        function c() {
            this.check()
        }
        var b, d, e;
        d = b = null;
        e = "token" + window.location.port;
        c.prototype.isLoggedIn = function() {
            return "notLoggedIn" !== b
        };
        c.prototype.myId = function() {
            return b
        };
        c.prototype.myUsername = function() {
            var b;
            return null != (b = this.me()) ? b.get("username") : void 0
        };
        c.prototype.myToken = function() {
            return d
        };
        c.prototype.me = function() {
            var d, e, c, m, q;
            e = ca.get("header", b);
            if (null ==
                e && !this.isLoggedIn())
                for (c in d = ModelCacheCache["for"]("header"), e = new ca({
                    id: "notLoggedIn",
                    notLoggedIn: !0
                }, {
                    modelCache: d
                }), d.add(e), m = ModelCacheCache._caches, m) d = m[c], (q = d.getCacheType(), 0 <= F.call(Ra.fullCacheTypes, q)) && d.add(new ca({
                    id: "notLoggedIn",
                    notLoggedIn: !0
                }, {
                    modelCache: d
                }));
            return e
        };
        c.prototype.isMe = function(d) {
            return null != d && d.id ? this.isMe(d.id) : d === b
        };
        c.prototype.confirmed = function() {
            return this.me().get("confirmed")
        };
        c.prototype.canLogIn = function() {
            var b, d;
            return !_.isEmpty(null != (b =
                null != (d = this.me()) ? d.get("loginTypes") : void 0) ? b : [])
        };
        c.prototype.check = function() {
            this.updateToken();
            "undefined" !== typeof rpc && null !== rpc && rpc.handleLogin()
        };
        c.prototype.updateToken = function() {
            d = $.cookie(e) || "";
            return b = d.split("/")[0] || "notLoggedIn"
        };
        c.prototype.consistencyCheck = function(b) {
            var d;
            d = !this.isLoggedIn() || this.isMe(this.me());
            d || ($.cookie(e, null, {
                path: "/"
            }), b.reloadOnError && window.location.reload());
            return d
        };
        c.prototype.logoutPost = function() {
            return $("<form>").attr({
                method: "post",
                action: "/logout"
            }).css({
                display: "none"
            }).appendTo("body").submit()
        };
        return c
    }());
    var lc, Ob;
    Ob = [16, 17, 18, 27, 20];
    lc = [37, 39, 38, 40];
    var F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        },
        D = [].slice,
        H = {}.hasOwnProperty,
        l = _.extend(gb, {
            stopPropagation: function(c) {
                return null != c ? c.stopPropagation() : void 0
            },
            preventDefault: function(c) {
                return null != c ? c.preventDefault() : void 0
            },
            stop: function(c) {
                l.stopPropagation(c);
                return l.preventDefault(c)
            },
            securePage: function() {
                return "https:" ===
                    document.location.protocol
            },
            getNaturalNumber: function(c) {
                var b;
                _.isString(c) || (c = String(c));
                if (c) {
                    if ("1" === c.charAt(c.length - 2)) return "" + c + "th";
                    b = c.charAt(c.length - 1);
                    switch (b) {
                        case "4":
                        case "5":
                        case "6":
                        case "7":
                        case "8":
                        case "9":
                        case "0":
                            return "" + c + "th";
                        case "1":
                            return "" + c + "st";
                        case "2":
                            return "" + c + "nd";
                        case "3":
                            return "" + c + "rd"
                    }
                }
            },
            checkEmail: function(c, b) {
                null == b && (b = "");
                return RegExp('^[^"@\\s\\[\\]\\(\\),:;<>\\\\]+@[-a-z0-9\\.' + b + "]+\\.[a-z" + b + "]+$", "i").test(c)
            },
            removeDomainFromEmailAddress: function(c,
                b) {
                null == b && (b = "");
                return c.replace(RegExp("@[-a-z0-9\\." + b + "]+\\.[a-z" + b + "]+$"), "")
            },
            validName: function(c) {
                return 3 < c.length || 1 < c.length && this.hasChineseCharacters(c)
            },
            hasChineseCharacters: function(c) {
                return /[\u3400-\u9FBF\s]/.test(c)
            },
            spaces: function(c) {
                this.longStr || (this.longStr = " ");
                for (; this.longStr.length < c;) this.longStr += this.longStr;
                return this.longStr.substr(0, c)
            },
            _pad: function(c, b, d, e) {
                null == d && (d = " ");
                c = c.toString();
                if (c.length > b) return c.substr(0, b);
                b -= c.length;
                d = " " === d ? this.spaces(b) :
                    this.times(d, b);
                return e ? d + c : c + d
            },
            rpad: function(c, b, d) {
                return this._pad(c, b, d, !1)
            },
            lpad: function(c, b, d) {
                return this._pad(c, b, d, !0)
            },
            times: function(c, b) {
                var d;
                return _.map(function() {
                    d = [];
                    for (var e = 0; 0 <= b ? e < b : e > b; 0 <= b ? e++ : e--) d.push(e);
                    return d
                }.apply(this), function() {
                    return c
                }).join("")
            },
            truncate: function(c, b) {
                var d;
                return !(null != c && c.length) || c.length < b ? c : (d = c.substr(0, c.lastIndexOf(" ", b))) ? d : c.substr(0, b)
            },
            scrollToTop: function() {
                return $(window).scrollTop(0)
            },
            isSubmitKey: function(c) {
                return null !=
                    c && (13 === c || 10 === c || l.isSubmitKey(c.keyCode) || l.isSubmitKey(c.which))
            },
            isForceSubmitKey: function(c) {
                return l.isSubmitKey(c) && (c.ctrlKey || c.metaKey) && !c.shiftKey
            },
            getProtocol: function(c) {
                var b, d;
                return !c ? "" : null != (b = null != (d = /^([a-z]+):/i.exec(c)) ? d[1] : void 0) ? b : ""
            },
            makeHttp: function(c) {
                if (!c) return "";
                c = c.replace(/^[a-z]*:\/*/i, "");
                return "http://" + c
            },
            sanitizeWebAddress: function(c) {
                var b;
                return "http" !== (b = l.getProtocol(c)) && "https" !== b ? l.makeHttp(c) : c
            },
            isInPosition: function(c, b, d) {
                if (null == (null != d ?
                    d.id : void 0)) return !1;
                c = b[c];
                return (null != c ? c.id : void 0) === d.id
            },
            calcPos: function(c, b, d, e, g) {
                var f;
                b = b.select(function(b) {
                    return (!(null != d && d.id === b.id) || g) && (!e || e(b))
                });
                if (l.isInPosition(c, b, d)) return null != (f = d.pos) ? f : d.get("pos");
                f = Math.min(Math.max(c, 0), b.length);
                c = b[f - 1];
                f = b[f];
                b = (null != d ? d.get("pos") : void 0) || -1;
                c = null != c ? c.get("pos") : -1;
                f = null != f ? f.get("pos") : -1;
                return -1 === f ? d && b > c ? b : c + 65536 : d && b > c && b < f ? b : 0 <= c ? (f + c) / 2 : f / 2
            },
            pushSupport: function() {
                return !(!window.history || !window.history.pushState ||
                    l.isNonPushstateAndroid())
            },
            parseDate: function(c) {
                return M.parse(c)
            },
            randomWait: function(c, b) {
                return Math.floor(c + Math.random() * b)
            },
            toTitleCase: function(c) {
                return c.replace(/\w\S*/g, function(b) {
                    return b.charAt(0).toUpperCase() + b.substr(1).toLowerCase()
                })
            },
            calcBoardLayout: function() {
                return $(window).trigger("resize")
            },
            navMenuList: function(c, b, d) {
                var e, g, f, h, m;
                f = c.find(b);
                g = c.find("" + b + ".selected:first")[0];
                m = _.indexOf(f, g);
                g = f[0];
                h = f[f.length - 1];
                h = 0 > m - 1 ? h : f[m - 1];
                f = m + 1 > f.length ? g : f[m + 1];
                40 === d && (e =
                    f);
                38 === d && (e = h);
                return this.selectMenuItem(c, b, e)
            },
            selectMenuItem: function(c) {
                return function(b, d, e) {
                    b.find(d).removeClass("selected");
                    return $(e).addClass("selected")
                }
            }(this),
            insertSelection: function(c, b, d, e) {
                var g;
                c = l.getElem(c);
                g = $(c).val();
                d || e ? ("" === g.substring(e) ? $(c).val("" + (g.substring(0, d) + b)) : $(c).val("" + (g.substring(0, d) + b + g.substring(e))), this.setCaretPosition(c, d + ("" + b).length)) : ($(c).val("" + (g + b)), this.setCaretPosition(c, ("" + (g + b)).length));
                return $(c).focus()
            },
            _nextWhitespace: function(c,
                b) {
                var d, e;
                d = c.indexOf("\n", b); - 1 === d && (d = Infinity);
                e = c.indexOf(" ", b); - 1 === e && (e = Infinity);
                return Math.min(d, e, c.length)
            },
            getWordFromIndex: function(c, b) {
                var d, e, g, f;
                g = Math.max(c.lastIndexOf("\n", b - 1), c.lastIndexOf(" ", b - 1));
                g += 1;
                d = this._nextWhitespace(c, b);
                e = d - g;
                f = c.slice(g, d);
                return {
                    start: g,
                    end: d,
                    length: e,
                    str: f
                }
            },
            getWordFromCaret: function(c) {
                var b;
                c = l.getElem(c);
                b = $(c).val();
                c = this.getCaretPosition(c);
                return this.getWordFromIndex(b, c)
            },
            getLineFromIndex: function(c, b) {
                var d, e, g, f;
                g = c.lastIndexOf("\n",
                    b - 1);
                g += 1;
                d = this._nextWhitespace(c, b);
                e = d - g;
                f = c.slice(g, d);
                return {
                    start: g,
                    end: d,
                    length: e,
                    str: f
                }
            },
            getLineFromCaret: function(c) {
                var b;
                c = l.getElem(c);
                b = $(c).val();
                c = this.getCaretPosition(c);
                return this.getLineFromIndex(b, c)
            },
            getCaretPosition: function(c) {
                var b, d;
                c = l.getElem(c);
                c.selectionStart ? b = c.selectionStart : 0 <= F.call(document, "selection") && (c.focus(), b = document.selection.createRange(), d = document.selection.createRange().text.length, b.moveStart("character", -c.value.length), b = b.text.length - d);
                return b
            },
            setCaretPosition: function(c, b) {
                var d;
                c = l.getElem(c);
                if (c.setSelectionRange) return c.focus(), c.setSelectionRange(b, b);
                if (c.createTextRange) return d = c.createTextRange(), d.collapse(!0), d.moveEnd("character", b), d.moveStart("character", b), d.select()
            },
            setCaretAtEnd: function(c) {
                var b;
                if (c) return b = $(c).val().length, this.setCaretPosition(c, b)
            },
            getLastWord: function(c) {
                c = $(c).val().split(" ");
                return _.last(c)
            },
            replaceLastWord: function(c, b) {
                var d;
                d = RegExp("" + this.getLastWord(c) + "$");
                d = $(c).val().replace(d, "");
                return $(c).val("" + (d + b))
            },
            removeWordOnCaret: function(c) {
                var b;
                b = RegExp("" + l.getWordFromCaret(c).str);
                b = $(c).val().replace(b, "");
                $(c).val("" + b)
            },
            removeWordAtIndex: function(c, b) {
                var d, e;
                e = l.getWordFromIndex(c, b);
                d = c.slice(0, e.start);
                e = c.slice(e.end);
                return d + e
            },
            removeStringsFromInput: function(c, b) {
                var d, e;
                null == b && (b = []);
                e = $(c).val();
                if (0 < b.length) return d = RegExp("" + b.join("|"), "g"), d = e.replace(d, "").trim(), $(c).val(d)
            },
            removeStringFromInput: function(c, b) {
                var d;
                d = $(c).val().replace(b, "");
                return $(c).val(d.trim())
            },
            addStringToInput: function(c, b) {
                var d;
                d = "" + $(c).val() + " " + b;
                return $(c).val(d)
            },
            toggleStringInInput: function(c, b, d) {
                return d ? this.addStringToInput(c, b) : this.removeStringFromInput(c, b)
            },
            stripExtraSpaces: function(c) {
                return null != c ? c.replace(/\s+/g, " ").trim() : void 0
            },
            stripExtraSpacesFromInput: function(c) {
                var b;
                b = $(c).val();
                b = this.stripExtraSpaces(b);
                return $(c).val(b)
            },
            getMemNameArray: function(c, b) {
                var d, e, g;
                _.isString(b) && (b = ca.get(c, b));
                return null == b ? [] : ("" + (null != (d = b.get("username")) ? d.toLowerCase() :
                    void 0) + " " + (null != (e = b.get("fullName")) ? e.toLowerCase() : void 0) + " " + (null != (g = b.get("initials")) ? g.toLowerCase() : void 0)).split(" ")
            },
            filterMembers: function(c) {
                return function(b, d, e) {
                    var c, f, h, m, q;
                    h = RegExp("^" + l.escapeForRegex(d), "i");
                    d = [];
                    m = 0;
                    for (q = e.length; m < q; m++) c = e[m], f = l.getMemNameArray(b, c), _.find(f, function(b) {
                        return h.test(b)
                    }) && d.push(c);
                    return d
                }
            }(this),
            filterLabels: function(c) {
                return function(b) {
                    var d, e, c, f, h, m;
                    c = RegExp("^" + l.escapeForRegex(b), "i");
                    d = [];
                    m = l.labels;
                    f = 0;
                    for (h = m.length; f <
                        h; f++) b = m[f], e = boardView.model.getLabelName(b).split(" "), e.push(b), _.find(e, function(b) {
                        return c.test(b)
                    }) && d.push(b);
                    return d
                }
            }(this),
            jqGetActiveElement: function() {
                try {
                    return $(document.activeElement)
                } catch (c) {
                    return $()
                }
            },
            getImgHeightAndWidth: function(c, b) {
                var d;
                d = new Image;
                d.src = c;
                return d.onload = function() {
                    return b({
                        height: this.height,
                        width: this.width
                    })
                }
            },
            getQueryParameter: function(c, b) {
                var d, e;
                null == b && (b = "");
                d = RegExp("[?&]" + c + "=([^?&]*)");
                d = null != (e = d.exec(location.search)) ? e : d.exec(location.hash);
                e = null != d ? d[1] : void 0;
                return null != e ? decodeURIComponent(e.replace(/\+/g, " ")) : b
            },
            validFileSize: function(c, b) {
                null == b && (b = 10485760);
                return (null != c ? c.size : void 0) < b
            },
            validCardUpload: function(c) {
                var b;
                return null != (b = y.me()) && b.isFeatureEnabled("largeAttachments") ? this.validFileSize(c, 262144E3) : this.validFileSize(c, 10485760)
            },
            uploadFile: function(c, b) {
                var d, e;
                e = _.uniqueId("iframe");
                d = $("<iframe>").attr("name", e).css("display", "none").appendTo("body").load(function(e) {
                    var c;
                    _.defer(function() {
                        return d.remove()
                    });
                    try {
                        c = d.contents().text()
                    } catch (h) {
                        return b("File too large")
                    }
                    return /File too large/i.test(c) ? b(c) : b()
                });
                c.closest("form").attr("target", e).find("input[name=token]").val(y.myToken()).end().submit();
                return _.defer(function() {
                    return c.val("")
                })
            },
            hasValidInviteTokenFor: function(c, b) {
                var d, e;
                if (!this.hasInviteTokenFor(b)) return !1;
                d = ra.get(c, b) || Sa.get(c, b);
                e = ca.get(c, l.inviteTokenFor(b).split("-")[0]);
                return null != e && ("virtual" === d.getMemberType(e) || d.isMember(e) && "ghost" === e.get("memberType"))
            },
            hasInviteTokenFor: function(c) {
                return null !=
                    c && null != $.cookie("invite-token-" + c)
            },
            inviteTokenFor: function(c) {
                return $.cookie("invite-token-" + c)
            },
            invitationTokens: function() {
                var c, b, d, e;
                b = /invite-token-[-a-f0-9]*/g;
                for (e = []; null != (c = null != (d = b.exec(document.cookie)) ? d[0] : void 0);) e.push($.cookie(c));
                return e
            },
            flashUnconfirmedWarning: function() {
                var c;
                c = $(".header-banner-warning");
                c.addClass("flash");
                return _.delay(function(b) {
                    return function() {
                        return c.removeClass("flash")
                    }
                }(this), 500)
            },
            getElem: function(c) {
                return c instanceof jQuery ? c[0] : c
            },
            isTrelloAttachment: function(c) {
                return 0 === (null != c ? c.indexOf(attachmentsDomain) : void 0)
            },
            voidDebounced: function(c, b, d) {
                var e;
                null == b && (b = setTimeout);
                null == d && (d = 1);
                e = null;
                return function() {
                    var g, f;
                    g = arguments;
                    f = function(b) {
                        return function() {
                            e = null;
                            c.apply(b, g)
                        }
                    }(this);
                    clearTimeout(e);
                    e = b(f, d)
                }
            },
            getDebounced: function(c) {
                0 < c.length && P("getDebounced", "used callback that takes arguments");
                null == c.debounced && (c.debounced = this.voidDebounced(c));
                return c.debounced
            },
            debounceEvents: function(c) {
                c.ond = function() {
                    var b,
                        d, e, g;
                    d = arguments[0];
                    b = arguments[1];
                    e = 3 <= arguments.length ? D.call(arguments, 2) : [];
                    return (g = c.on).call.apply(g, [c, d, l.getDebounced(b)].concat(D.call(e)))
                };
                return c.offd = function() {
                    var b, d, e, g;
                    d = arguments[0];
                    b = arguments[1];
                    e = 3 <= arguments.length ? D.call(arguments, 2) : [];
                    return (g = c.off).call.apply(g, [c, d, l.getDebounced(b)].concat(D.call(e)))
                }
            },
            callDebounced: function(c) {
                return l.getDebounced(c)()
            },
            getElemTransformMatrix: function(c) {
                c = c.css("-webkit-transform") || c.css("-moz-transform") || c.css("-ms-transform") ||
                    c.css("-o-transform") || c.css("transform");
                return "none" !== c ? c : null
            },
            getMatrixDegrees: function(c) {
                c = c.split("(")[1].split(")")[0].split(",");
                return Math.round(Math.atan2(c[1], c[0]) * (180 / Math.PI))
            },
            getMatrixScale: function(c) {
                var b;
                b = c.split("(")[1].split(")")[0].split(",");
                c = b[0];
                b = b[1];
                return Math.sqrt(c * c + b * b)
            },
            getDegrees: function(c, b) {
                return Math.round(Math.atan2(c, b) * (180 / Math.PI))
            },
            calcDistanceFromCenter: function(c, b, d) {
                return Math.floor(Math.sqrt(Math.pow(b - (c.offset().left + c.width() / 2), 2) + Math.pow(d -
                    (c.offset().top + c.height() / 2), 2)))
            },
            _runShredders: function() {
                var c, b, d, e, g, f;
                e = l._shredders;
                d = new Date;
                l._shredders = [];
                g = c = 0;
                for (f = e.length; g < f; g++) b = e[g], d > b.time ? (b.fn(), c++) : l._shredders.push(b);
                P("shred", "Shred " + c + " objects, " + l._shredders.length + " left");
                l._shredTimeout = null;
                return l._startShredTimer()
            },
            _startShredTimer: function() {
                if (!l._shredTimeout && 0 < l._shredders.length) return null != l._shredTimeout ? l._shredTimeout : l._shredTimeout = _.delay(l._runShredders, l.getMs({
                    seconds: 3
                }))
            },
            shred: function(c) {
                null ==
                    l._shredders && (l._shredders = []);
                l._shredders.push({
                    time: l.dateAfter({
                        seconds: 20
                    }),
                    fn: function(b) {
                        return function() {
                            var b, e;
                            e = [];
                            for (b in c) H.call(c, b) && e.push(delete c[b]);
                            return e
                        }
                    }(this)
                });
                return l._startShredTimer()
            },
            newestId: function(c) {
                return 0 < c.length ? _.reduce(c, function(b, d) {
                    return d.id > b.id ? d : b
                }) : null
            },
            extendEvents: function(c) {
                return function() {
                    return _.defaults(c, _.result(this.constructor.__super__, "events"))
                }
            },
            relativeUrl: function(c) {
                return c.replace(RegExp("^" + siteDomain), "")
            },
            isTextElement: function(c) {
                var b,
                    d;
                if (c instanceof HTMLTextAreaElement) return !0;
                if (!(c instanceof HTMLInputElement)) return !1;
                if ("text" === (b = c.type) || "email" === b || "password" === b || "search" === b) return !0;
                if ("submit" === (d = c.type) || "reset" === d || "button" === d || "checkbox" === d) return !1;
                try {
                    return c.selectionStart, !0
                } catch (e) {
                    return !1
                }
            },
            withoutAlteringSelection: function(c) {
                var b, d, e, g, f, h, m;
                d = document.activeElement;
                b = $(d);
                f = b.is(":focus");
                null != d && l.isTextElement(d) ? (d.selectionStart ? (h = d.selectionStart, g = d.selectionEnd, e = d.selectionDirection) :
                    m = this.getCaretPosition(d), c(), h ? d.setSelectionRange(h, g, e) : m && this.setCaretPosition(d, m), f && b.focus()) : c()
            },
            extendParentClassName: function(c) {
                return function() {
                    return _.result(this.constructor.__super__, "className") + (" " + c)
                }
            },
            extendWithModelCacheHelpers: function(c) {
                var b, d, e, g, f;
                g = "Action Board Card Checklist List Member Notification Organization Auth".split(" ");
                f = [];
                d = 0;
                for (e = g.length; d < e; d++) b = g[d], f.push(function(b) {
                    return Object.defineProperty(c.prototype, b, {
                        get: function() {
                            return this.modelCache.bound[b]
                        }
                    })
                }(b));
                return f
            },
            waitForImageLoad: function(c, b, d) {
                var e;
                e = new Image;
                e.onload = function() {
                    return b(e)
                };
                e.onerror = function() {
                    return "function" === typeof d ? d(e) : void 0
                };
                return e.src = c
            },
            bugzscout: function(c, b) {
                var d, e, g, f;
                d = c.area;
                e = c.description;
                g = c.extra;
                f = c.me;
                return $.ajax({
                    url: "//our.fogbugz.com/ScoutSubmit.asp",
                    type: "POST",
                    data: {
                        ScoutUserName: "Trello Web Bugzscout",
                        ScoutProject: "Trello Support",
                        ScoutArea: d,
                        Description: e,
                        Extra: g,
                        Email: '"' + f.fullName + '" <' + f.email + ">",
                        ForceNewBug: 1,
                        FriendlyResponse: 0
                    },
                    success: function() {
                        return "function" ===
                            typeof b ? b() : void 0
                    },
                    error: function(d, e) {
                        return "function" === typeof b ? b(e) : void 0
                    }
                })
            },
            sortMembers: function(c) {
                c.sort(function(b, d) {
                    var e, c;
                    e = y.isMe(b);
                    c = y.isMe(d);
                    return e && !c ? -1 : !e && c ? 1 : b.fullName < d.fullName ? -1 : b.fullName > d.fullName ? 1 : 0
                });
                return c
            },
            firstLessThan: function(c, b) {
                var d, e, g, f;
                g = 0;
                for (f = b.length; g < f; g++)
                    if (e = b[g], _.isArray(e)) {
                        if (d = e[0], e = e[1], c <= d) return _.isFunction(e) ? e.call(this, c) : e
                    } else return _.isFunction(e) ? e.call(this, c) : e
            },
            hoursLeft: function(c) {
                return (new Date(c) - new Date) / l.getMs({
                    hours: 1
                })
            },
            getDueDateBadgeClasses: function(c) {
                return [this.firstLessThan(this.hoursLeft(c), [
                    [-36, "badge-state-due-past"],
                    [0, "badge-state-due-now"],
                    [24, "badge-state-due-soon"], "badge-state-due-future"
                ])]
            },
            getDueDateBadgeTitle: function(c) {
                return this.firstLessThan(this.hoursLeft(c), [
                    [-36, "This card is past due."],
                    [0, "This card is recently overdue!"],
                    [1, "This card is due in less than an hour."],
                    [1.3, "This card is due in about an hour."],
                    [24,
                        function(b) {
                            return "This card is due in " + this.firstLessThan(b % 1, [
                                [0.3, Math.floor(b).toString()],
                                [0.7, "" + Math.floor(b).toString() + " and a half"], Math.ceil(b).toString()
                            ]) + " hours."
                        }
                    ], "This card is due later."
                ])
            },
            getDueDateBadgeAdditionalTitle: function(c) {
                return this.firstLessThan(this.hoursLeft(c), [
                    [-36, "past due"],
                    [0, "recently past due!"],
                    [24, "due soon"], null
                ])
            },
            mimeTypeMap: [{
                "application/vnd.google-apps.spreadsheet": "Google Spreadsheet",
                "application/vnd.google-apps.document": "Google Document",
                "application/vnd.google-apps.presentation": "Google Presentation",
                "application/vnd.google-apps.form": "Google Form",
                "application/vnd.google-apps.drawing": "Google Drawing",
                "application/vnd.openxmlformats-officedocument.wordprocessingml.document": "Microsoft Word File",
                "application/application/vnd.ms-word.document.12": "Microsoft Word File",
                "application/application/vnd.msword": "Microsoft Word File",
                "application/vnd.openxmlformats-officedocument.word": "Microsoft Word File",
                "application/msword": "Microsoft Word File",
                "application/doc": "Microsoft Word File",
                "application/vnd.ms-powerpoint.addin.macroEnabled.12": "Microsoft PowerPoint File",
                "application/vnd.ms-powerpoint": "Microsoft PowerPoint File",
                "audio/aiff": "AIFF Audio File",
                "audio/x-midi": "MIDI Audio File",
                "audio/mpeg": "MP3 Audio File",
                "application/ogg": "OGG Audio File",
                "video/mpeg": "MP3 Video File",
                "video/quicktime": "Quicktime Video File",
                "audio/wav": "WAV Audio File",
                "text/html": "HTML File",
                "application/xhtml+xml": "HTML File",
                "text/css": "CSS File",
                "application/css-stylesheet": "CSS File",
                "text/javascript": "JavaScript File",
                "text/calendar": "Calendar File",
                "application/rtf": "Rich Text Format File",
                "text/x-python": "Python File",
                "application/json": "JSON File",
                "image/svg+xml": "SVG File",
                "image/bmp": "Bitmap Image",
                "image/png": "PNG Image",
                "image/gif": "GIF Image",
                "image/jpeg": "JPG Image",
                "image/x-ico": "Favicon",
                "application/pdf": "PDF File",
                "application/acrobat": "PDF File",
                "application/nappdf": "PDF File",
                "application/x-pdf": "PDF File",
                "application/vnd.pdf": "PDF File",
                "text/pdf": "PDF File",
                "text/x-pdf": "PDF File",
                "application/vnd.oasis.opendocument.text": "Open Document Text File",
                "application/x-iwork-keynote-sffkey": "Apple Keynote",
                "application/postscript": "Postscript",
                "application/illustrator": "Adobe Illustrator File",
                "application/photoshop": "Adobe Photoshop File",
                "text/x-vcard": "vCard File",
                "application/zip": "ZIP Archive File"
            }],
            isGDriveUrl: function(c) {
                return /^https:\/\/docs\.google\.com\//.test(c)
            },
            isDropboxUrl: function(c) {
                return /^https:\/\/www\.dropbox\.com\//.test(c)
            },
            isOneDriveUrl: function(c) {
                return /^https:\/\/onedrive\.live\.com\//.test(c)
            },
            isBoxUrl: function(c) {
                return /^https:\/\/app\.box\.com\//.test(c)
            },
            getAttachmentData: function(c,
                b) {
                var d, e, g;
                e = c.toJSON();
                e.canUseViewer = !0;
                e.ext = l.fileExt(e.name);
                e.removeText = "Delete";
                e.openText = "Download";
                e.openIconClass = "movedown";
                e.doDownload = !0;
                if ((g = e.ext, 0 <= F.call(this.allViewerableExts(), g)) && !l.hasDownloadAttribute()) e.openText = "Open in New Tab", e.openIconClass = "open", e.doDownload = !1;
                l.isGDriveUrl(e.url) ? (e.isGDriveFile = !0, e.isExternal = !0, d = l.mimeTypeMap[e.mimeType], e.ext = null, e.serviceName = "Google Drive", e.meta = "Google Drive File", e.openText = "Open in Google Drive", e.openIconClass =
                    "open", e.removeText = "Remove", e.isKnownService = !0, e.previewClass = "attachment-thumbnail-preview-google-drive-logo", e.doDownload = !1, d && (e.meta = "" + d)) : l.isDropboxUrl(e.url) ? (e.isExternal = !0, e.serviceName = "Dropbox", e.meta = "Dropbox File", e.openText = "Open in Dropbox", e.openIconClass = "open", e.removeText = "Remove", e.isKnownService = !0, e.previewClass = "attachment-thumbnail-preview-dropbox-logo", d = e.url, e.url = d, e.ext = l.fileExt(d), e.doDownload = !1, e.canUseViewer = !1) : l.isOneDriveUrl(e.url) ? (e.isExternal = !0, e.serviceName =
                    "OneDrive", e.meta = "OneDrive File", e.openText = "Open in OneDrive", e.openIconClass = "open", e.removeText = "Remove", e.isKnownService = !0, e.previewClass = "attachment-thumbnail-preview-one-drive-logo", e.doDownload = !1) : l.isBoxUrl(e.url) ? (e.isExternal = !0, e.serviceName = "Box", e.meta = "Box File", e.openText = "Open in Box", e.openIconClass = "open", e.removeText = "Remove", e.isKnownService = !0, e.previewClass = "attachment-thumbnail-preview-box-logo", e.doDownload = !1) : e.isUpload ? e.meta = $a.bytes(e.bytes) : (g = rb.interpret(e.url, b),
                    e.openText = "Open in New Tab", e.openIconClass = "open", e.doDownload = !1, null != g ? (e.meta = g.name, e.isKnownService = !0, e.previewClass = g.previewClass, e.name = g.text, e.idName = g.id) : (e.meta = "Link", e.ext = null != (d = l.fileExt(e.url)) ? d : "LINK", e.removeText = "Remove"));
                return e
            },
            availableExts: function() {
                var c, b, d, e, g;
                if (null == this._availableExts) {
                    c = [];
                    g = navigator.mimeTypes;
                    d = 0;
                    for (e = g.length; d < e; d++) b = g[d], c = c.concat(b.suffixes.split(","));
                    this._availableExts = _.compact(_.uniq(c))
                }
                return this._availableExts
            },
            imageExts: function() {
                var c;
                c = "gif jpeg jpg png svg webp".split(" ");
                return null != this._imageExts ? this._imageExts : this._imageExts = c
            },
            audioExts: function() {
                var c;
                c = "3gp 3gpp aac ac3 adts aif aifc aiff bwf cdda gsm m4a m4p mp3 mpeg4 wav".split(" ");
                return null != this._audioExts ? this._audioExts : this._audioExts = _.intersection(c, this.availableExts())
            },
            videoExts: function() {
                var c;
                c = "avi h264 m4v mov mp4 ogg vfw webm".split(" ");
                return null != this._videoExts ? this._videoExts : this._videoExts = _.intersection(c, this.availableExts())
            },
            googleViewerableExts: function() {
                var c;
                c = "doc docx ppt pptx rtf xls xlsx".split(" ");
                return null != this._googleViewerableExts ? this._googleViewerableExts : this._googleViewerableExts = c
            },
            iFrameableExts: function() {
                var c, b;
                c = ["css", "js", "txt"];
                b = ["pdf"];
                return null != this._iFrameableExts ? this._iFrameableExts : this._iFrameableExts = _.intersection(b, this.availableExts()).concat(c)
            },
            allViewerableExts: function() {
                return null != this._viewerableExts ? this._viewerableExts : this._viewerableExts = this.imageExts().concat(this.audioExts()).concat(this.videoExts()).concat(this.googleViewerableExts()).concat(this.iFrameableExts())
            },
            isViewerable: function(c) {
                return 0 <= F.call(this.allViewerableExts(), c)
            },
            hasDownloadAttribute: function() {
                return "undefined" !== typeof document.createElement("a").download
            }
        }),
        mc, lb, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        D = [].slice;
    lb = ["close", "error", "message", "open"];
    mc = function() {
        function c(b, d) {
            var e, c, f;
            this.url = b;
            e = null != d ? d : {};
            this.fxReconnectDelay = e.fxReconnectDelay;
            this.maxReconnectDelay = e.maxReconnectDelay;
            this.maxReconnectAttempts = e.maxReconnectAttempts;
            this.onMessage =
                k(this.onMessage, this);
            this.onError = k(this.onError, this);
            this.onClose = k(this.onClose, this);
            this.onOpen = k(this.onOpen, this);
            this.connect = k(this.connect, this);
            this._noPing = k(this._noPing, this);
            _.extend(this, Backbone.Events);
            this.ws = null;
            this.resetRetries();
            c = 0;
            for (f = lb.length; c < f; c++) e = lb[c], this.on(e, this["on" + l.capitalize(e)]);
            "WebSocket" in window ? (this.connect(), this.buffer = [], this.connectedOnce = !1, this.trigger("connecting")) : this.trigger("connect_failed")
        }
        c.CONNECTING = "connecting";
        c.CONNECTED = "connected";
        c.WAITING_TO_RECONNECT = "waiting to reconnect";
        c.RECONNECTING = "reconnecting";
        c.CLOSED = "closed";
        c.PING_TIMEOUT = 3E4;
        c.prototype.resetRetries = function() {
            return this.attempts = 0
        };
        c.prototype._clearPingTimeout = function() {
            null != this._pingTimeout && clearTimeout(this._pingTimeout);
            return this._pingTimeout = null
        };
        c.prototype._resetPingTimeout = function() {
            this._clearPingTimeout();
            return this._pingTimeout = setTimeout(this._noPing, c.PING_TIMEOUT)
        };
        c.prototype._noPing = function() {
            if (!this.state !== c.CONNECTED) return this.disconnect()
        };
        c.prototype.connect = function() {
            var b, d, e, g;
            if (null != this.ws) {
                d = 0;
                for (e = lb.length; d < e; d++) b = lb[d], this.ws["on" + b] = null
            }
            this.ws = new WebSocket(this.url);
            d = function(b) {
                return function(d) {
                    return b.ws["on" + d] = function() {
                        return b.trigger.apply(b, [d].concat(D.call(arguments)))
                    }
                }
            }(this);
            e = 0;
            for (g = lb.length; e < g; e++) b = lb[e], d(b);
            return this.state = c.CONNECTING
        };
        c.prototype.onOpen = function(b) {
            this.connectedOnce ? this.trigger("reconnect") : this.trigger("connect");
            this.connectedOnce = !0;
            this.state = c.CONNECTED;
            this.flushBuffer();
            return this.resetRetries()
        };
        c.prototype._triggerFailures = function() {
            if (this.state === c.CONNECTING) return this.trigger("connect_failed")
        };
        c.prototype.onClose = function(b) {
            var d;
            this.trigger("disconnect", null != (d = null != b ? b.reason : void 0) ? d : "");
            this._triggerFailures();
            this._clearPingTimeout();
            return this.reconnect(b)
        };
        c.prototype.onError = function(b) {
            this._triggerFailures();
            this.disconnect();
            return this.reconnect()
        };
        c.prototype.onMessage = function(b) {
            var d;
            this._resetPingTimeout();
            if ("" === b.data) P("socket",
                "responding to ping"), this.ws.send("");
            else {
                try {
                    d = JSON.parse(b.data)
                } catch (e) {}
                return this.trigger("data", d)
            }
        };
        c.prototype.reconnect = function(b) {
            switch (this.state) {
                case c.CONNECTED:
                    this.ws.close();
                    break;
                case c.RECONNECTING:
                case c.WAITING_TO_RECONNECT:
                    return
            }
            if (this.attempts >= this.maxReconnectAttempts) this.trigger("reconnect_failed"), this.state = c.CLOSED;
            else return this.state = c.WAITING_TO_RECONNECT, 0 === this.attempts && (this.currentReconnectDelay = this.fxReconnectDelay(b, this.state)), P("socket", "attempting reconnect in " +
                this.currentReconnectDelay + "ms"), this._reconnectTimer = _.delay(function(b) {
                return function() {
                    b._reconnectTimer = null;
                    b.connect();
                    b.state = c.RECONNECTING;
                    return b.trigger("reconnecting")
                }
            }(this), this.currentReconnectDelay), this.attempts++, this.currentReconnectDelay = Math.min(2 * this.currentReconnectDelay, this.maxReconnectDelay)
        };
        c.prototype.disconnect = function() {
            var b;
            this._clearPingTimeout();
            b = this.state;
            this.state = c.CLOSED;
            switch (b) {
                case c.CONNECTED:
                case c.CONNECTING:
                case c.RECONNECTING:
                    return this.ws.close(),
                        this.onClose();
                case c.WAITING_TO_RECONNECT:
                    return clearTimeout(this._reconnectTimer)
            }
        };
        c.prototype.send = function(b) {
            if (this.state === c.CONNECTED) try {
                return this.ws.send(b)
            } catch (d) {
                return this.buffer.push(b), this.onError()
            } else return this.buffer.push(b)
        };
        c.prototype.flushBuffer = function() {
            var b, d, e, c, f;
            b = this.buffer;
            this.buffer = [];
            f = [];
            e = 0;
            for (c = b.length; e < c; e++) d = b[e], f.push(this.send(d));
            return f
        };
        return c
    }();
    var Ja;
    Ja = function() {
        var c, b, d, e, g, f, h;
        b = 0;
        e = window.sessionStorage;
        g = null != (h = null != e ?
            e.status : void 0) ? h : "active";
        f = c = null;
        "undefined" !== typeof document.hidden ? (c = "hidden", f = "visibilitychange") : "undefined" !== typeof document.mozHidden ? (c = "mozHidden", f = "mozvisibilitychange") : "undefined" !== typeof document.msHidden ? (c = "msHidden", f = "msvisibilitychange") : "undefined" !== typeof document.webkitHidden && (c = "webkitHidden", f = "webkitvisibilitychange");
        return d = {
            init: function() {
                setInterval(d.check, 1E4);
                $(window).focus(function() {
                    return d.addActivity()
                });
                $(document).bind("keydown mousedown", function() {
                    d.addActivity()
                });
                null != c && (d.getHidden = function() {
                    return document[c]
                });
                null != f && $(document).bind(f, function(b) {
                    return function() {
                        return $(d).triggerHandler("visibilitychange")
                    }
                }(this))
            },
            addActivity: function() {
                b = (new Date).getTime();
                da.set("lastActivity", b);
                d.setStatus("active")
            },
            check: function() {
                3E5 < (new Date).getTime() - Math.max(b, da.enabled() ? parseInt(da.get("lastActivity")) : 0) && d.setStatus("idle")
            },
            setStatus: function(b) {
                b !== g && (g = b, e && (e.status = g), $(this).triggerHandler("setStatus", g))
            },
            getStatus: function() {
                return g
            }
        }
    }();
    $(Ja.init);
    var xa, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        D = [].slice;
    xa = new(function() {
        function c() {
            this.ajax = k(this.ajax, this);
            this.hideUploading = k(this.hideUploading, this);
            this.showUploading = k(this.showUploading, this);
            this.hideSending = k(this.hideSending, this);
            this.showSending = k(this.showSending, this);
            this.hideRetrying = k(this.hideRetrying, this);
            this.showRetrying = k(this.showRetrying, this);
            this.hideFail = k(this.hideFail, this);
            this.showOutOfRetries = k(this.showOutOfRetries, this);
            this.showRealError = k(this.showRealError, this);
            this.retryNext = k(this.retryNext, this);
            this.serverAlreadySaw = k(this.serverAlreadySaw, this);
            this.retryableError = k(this.retryableError, this);
            this.resetRetries = k(this.resetRetries, this);
            this.success = k(this.success, this);
            this.addToQueue = k(this.addToQueue, this);
            this.removeFromQueue = k(this.removeFromQueue, this);
            this.inQueue = k(this.inQueue, this);
            this.hasQueue = k(this.hasQueue, this);
            this.uniqueReqId = k(this.uniqueReqId, this);
            this._msBackoffMin = this._msBackoff = 100;
            this._nTriesMax = this._nTriesLeft = 12;
            this._stopped = this._retrying = !1;
            this._maxLength = 10;
            this._queue = [];
            this._queueIdSeq = 0
        }
        c.prototype.uniqueReqId = function() {
            var b;
            return "" + (null != (b = y.me()) ? b.id : void 0) + "-" + Math.random()
        };
        c.prototype.hasQueue = function() {
            return 0 < this._queue.length
        };
        c.prototype.inQueue = function(b) {
            return _.find(this._queue, function(d) {
                return d.queueId === b.queueId
            })
        };
        c.prototype.removeFromQueue = function(b) {
            return this._queue = _.filter(this._queue, function(d) {
                return d.queueId !== b.queueId
            })
        };
        c.prototype.addToQueue = function(b) {
            P("AjaxQueue", "addToQueue", b);
            if (this._queue.length + 1 > this._maxLength) P("AjaxQueue", "maxLength exceeded");
            else return this._queue.push(b), this.showRetrying()
        };
        c.prototype.success = function(b) {
            P("AjaxQueue", "success", b);
            if (this.inQueue(b)) return this.removeFromQueue(b), this._retrying = !1, this._msBackoff = this._msBackoffMin, this._nTriesLeft = this._nTriesMax, this.retryNext()
        };
        c.prototype.resetRetries = function() {
            P("AjaxQueue", "reset");
            this.hideFail();
            this.showRetrying();
            this._retrying = this._stopped = !1;
            this._msBackoff = this._msBackoffMin;
            this._nTriesLeft = this._nTriesMax;
            return this.retryNext()
        };
        c.prototype.retryableError = function(b) {
            P("AjaxQueue", "retryableError", b);
            xa.inQueue(b) ? this._retrying = !1 : xa.addToQueue(b);
            return this.retryNext()
        };
        c.prototype.serverAlreadySaw = function(b) {
            if (this.inQueue(b)) return this.removeFromQueue(b), this.retryNext()
        };
        c.prototype.retryNext = function() {
            var b;
            if (!this._stopped)
                if (this.hasQueue()) {
                    if (this.showRetrying(), !this._retrying) {
                        this._retrying = !0;
                        b = this._queue[0];
                        if (0 < this._nTriesLeft) return P("AjaxQueue", "retrying in " + this._msBackoff + "ms", b), setTimeout(function() {
                            return $.ajax(b)
                        }, this._msBackoff), this._msBackoff *= 2, --this._nTriesLeft;
                        this._stopped = !0;
                        return this.showOutOfRetries()
                    }
                } else this.hideRetrying()
        };
        c.prototype.showRealError = function(b, d, e) {
            var c;
            P("AjaxQueue", "showRealError", e);
            this.hideRetrying();
            b = "dev" === Da.version.head ? "Error: " + (null != (c = b.responseText) ? c : "Ajax failed") : "Change not saved: failed to sync with the Trello server.";
            return Q.showHtml(v.fill("connect_failed", {
                msg: b
            }), "error", "AjaxQueueFail")
        };
        c.prototype.showOutOfRetries = function() {
            P("AjaxQueue", "showOutOfRetries");
            this.hideRetrying();
            return Q.showHtml(v.fill("connect_failed", {
                msg: "Timed out while trying to sync changes with the server.",
                allowReset: !0
            }), "error", "AjaxQueueFail")
        };
        c.prototype.hideFail = function() {
            return Q.hide("AjaxQueueFail")
        };
        c.prototype.showRetrying = function() {
            return Q.show("Connection interrupted. Retrying " + l.formatCount(this._queue.length,
                "action", !0) + ".", "error", "AjaxQueueRetry")
        };
        c.prototype.hideRetrying = function() {
            return Q.hide("AjaxQueueRetry")
        };
        c.prototype.showSending = function() {
            return Q.show("Sending...", "warning", "AjaxQueueSending")
        };
        c.prototype.hideSending = function() {
            return Q.hide("AjaxQueueSending")
        };
        c.prototype.showUploading = function(b) {
            return Q.show(b, "info", "AjaxQueueUpload")
        };
        c.prototype.hideUploading = function() {
            return Q.hide("AjaxQueueUpload")
        };
        c.prototype.ajax = function(b) {
            var d, e, c, f, h;
            b = _.clone(b);
            this._stopped || (null ==
                b.timeout && (b.timeout = 2E4), null == b.showSendingAfter && (b.showSendingAfter = 3E3), b.queueId = this._queueIdSeq++, b.headers = {
                    "X-Trello-ReqId": this.uniqueReqId()
                }, b.oldSuccess = b.success, b.oldError = b.error, b.ourComplete = b.complete, delete b.complete, h = b.modelCache, delete b.modelCache, c = d = !1, f = null != h ? h.lock("AjaxQueue.ajax") : void 0, b.success = function() {
                    var b;
                    b = 1 <= arguments.length ? D.call(arguments, 0) : [];
                    xa.hideSending();
                    xa.hideUploading();
                    d = !0;
                    xa.success(this);
                    "function" === typeof this.oldSuccess && this.oldSuccess.apply(this,
                        b);
                    "function" === typeof this.ourComplete && this.ourComplete();
                    return null != h ? h.unlock(f) : void 0
                }, b.error = function() {
                    var b, e;
                    b = 1 <= arguments.length ? D.call(arguments, 0) : [];
                    xa.hideSending();
                    xa.hideUploading();
                    d = !0;
                    if (0 === (e = b[0].status) || 408 === e || 500 === e) return xa.retryableError(this);
                    e = function() {
                        xa._stopped = !0;
                        return xa.showRealError.apply(xa, b)
                    };
                    _.isFunction(this.oldError) ? this.oldError.apply(this, D.call(b).concat([e])) : e();
                    "function" === typeof this.ourComplete && this.ourComplete();
                    return null != h ? h.unlock(f) :
                        void 0
                }, /^post$/i.test(b.type) && (e = function(b) {
                    return b.lengthComputable && 65536 < b.total
                }, b.xhr = function(b) {
                    return function() {
                        var d, f;
                        f = new XMLHttpRequest;
                        d = f.upload;
                        null != d && (d.addEventListener("progress", function(d) {
                            if (e(d)) return c = !0, b.showUploading("Uploading ... " + Math.round(100 * d.loaded / d.total) + "%")
                        }), d.addEventListener("load", function(d) {
                            if (c) return b.showUploading("Processing Upload...")
                        }));
                        return f
                    }
                }(this)), this.hasQueue() ? xa.addToQueue(b) : (0 <= b.showSendingAfter && setTimeout(function(b) {
                    return function() {
                        if (!d &&
                            !c) return xa.showSending()
                    }
                }(this), b.showSendingAfter), this.send(b)))
        };
        c.prototype.send = function(b) {
            return $.ajax(b)
        };
        return c
    }());
    var $e, af, bf, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        D = [].slice;
    window.dropTheHammer = function() {
        da.set("useWebsockets", "yes");
        return "undefined" !== typeof console && null !== console ? "function" === typeof console.log ? console.log("Websockets engaged! Reload the page, please. Use pitStop() to turn sockets off.") : void 0 : void 0
    };
    window.pitStop = function() {
        da.set("useWebsockets",
            "no");
        return "undefined" !== typeof console && null !== console ? "function" === typeof console.log ? console.log("Shutting Websockets down! Reload the page, please. Use dropTheHammer() to turn sockets back on.") : void 0 : void 0
    };
    bf = function() {
        function c() {
            this.hasSocketTransport = k(this.hasSocketTransport, this);
            this.disconnect = k(this.disconnect, this);
            this.resync = k(this.resync, this);
            this.send = k(this.send, this);
            this._messageHandler = k(this._messageHandler, this);
            var b, d, e, c, f;
            this.reqid = 0;
            this.dictCallback = {};
            this.dictTime = {};
            this.connectedOnce = !1;
            this.modelIxUpdate = {};
            this.hasSockets = "WebSocket" in window && "no" !== da.get("useWebsockets");
            "WebSocket" in window ? "no" === da.get("useWebsockets") && t("RPC", "No Sockets", "pitStop") : t("RPC", "No Sockets", "No WebSocket");
            if (this.hasSockets) {
                P("rpc", "opening newSocket");
                b = "http:" === document.location.protocol ? "ws:" : "wss:";
                this.socket = new mc("" + b + "//" + document.location.host + "/1/Session/socket?token=" + y.myToken(), {
                    maxReconnectDelay: 32E3,
                    maxReconnectAttempts: 100,
                    fxReconnectDelay: function(b,
                        d) {
                        var e, c, f, g;
                        g = Ja.getStatus();
                        f = "active" === g ? l.randomWait(l.getMs({
                            seconds: 10
                        }), l.getMs({
                            seconds: 30
                        })) : l.randomWait(l.getMs({
                            seconds: 30
                        }), l.getMs({
                            minutes: 2
                        }));
                        e = "active" === g ? l.randomWait(100, l.getMs({
                            seconds: 1
                        })) : l.randomWait(l.getMs({
                            seconds: 2
                        }), l.getMs({
                            seconds: 10
                        }));
                        if (null == b || 1006 === (null != b ? b.code : void 0) && this.state === mc.CONNECTED) return f;
                        if (4E3 === b.code) {
                            try {
                                c = parseInt(b.reason, 0)
                            } catch (k) {
                                e
                            }
                            return "active" === g ? l.randomWait(l.getMs({
                                seconds: c
                            }), 4 * l.getMs({
                                seconds: c
                            })) : l.randomWait(4 * l.getMs({
                                    seconds: c
                                }),
                                16 * l.getMs({
                                    seconds: c
                                }))
                        }
                        return e
                    }
                });
                f = "connect reconnect connecting reconnecting disconnect connect_failed reconnect_failed error".split(" ");
                d = function(b) {
                    return function(d) {
                        return b.socket.on(d, function(b) {
                            return P("rpc", "socket event", d, b)
                        })
                    }
                }(this);
                e = 0;
                for (c = f.length; e < c; e++) b = f[e], d(b);
                f = ["connecting", "reconnecting"];
                d = function(b) {
                    return function(d) {
                        return b.socket.on(d, function() {
                            P("rpc", "connecting");
                            return $(b).triggerHandler("connecting")
                        })
                    }
                }(this);
                e = 0;
                for (c = f.length; e < c; e++) b = f[e], d(b);
                this.socket.on("connect_failed", function(b) {
                    return function() {
                        P("rpc", "connect_failed");
                        return $(b).triggerHandler("connect_failed")
                    }
                }(this));
                this.socket.on("reconnect_failed", function(b) {
                    return function() {
                        P("rpc", "reconnect_failed");
                        return $(b).triggerHandler("reconnect_failed")
                    }
                }(this));
                this.socket.on("connect", function(b) {
                    return function() {
                        P("rpc", "connect");
                        $(b).triggerHandler("connect");
                        return b.connectedOnce = !0
                    }
                }(this));
                this.socket.on("reconnect", function(b) {
                    return function() {
                        P("rpc", "reconnect");
                        clearTimeout(b.timeoutInvokeResponse);
                        delete b.timeoutInvokeResponse;
                        return $(b).triggerHandler("reconnect")
                    }
                }(this));
                this.socket.on("disconnect", function(b) {
                    return function(d) {
                        P("rpc", "disconnect", d);
                        clearTimeout(b.timeoutInvokeResponse);
                        return delete b.timeoutInvokeResponse
                    }
                }(this));
                this.socket.on("error", function(b) {
                    return function() {
                        var d, e;
                        if (b.connectedOnce && !(null != (d = b.socket) && null != (e = d.socket) && e.connected)) return $(b).triggerHandler("disconnect")
                    }
                }(this));
                this.socket.on("data", this._messageHandler)
            }
        }
        c.prototype._messageHandler = function(b) {
            var d, e;
            P("rpc", "message", b);
            clearTimeout(this.timeoutInvokeResponse);
            delete this.timeoutInvokeResponse;
            null != b && b.version ? Da.setServerVersion(b) : (null != b.reqid && (d = this.dictCallback["fx" + b.reqid]), null != b.result ? "function" === typeof d && d(null, b.result) : null != (e = b.notify) && e.event ? (null != b.idModelChannel && rpc.setIxLastUpdate(b.idModelChannel, b.ixLastUpdateChannel), $(this).triggerHandler(b.notify.event, _.extend({
                    idModelChannel: b.idModelChannel
                }, b.notify))) : b.error ||
                P("rpc", "unrecognized message", b), b.reqid && (d = new Date - this.dictTime[b.reqid], P("timing", "message", b.reqid, "time", d), delete this.dictCallback["fx" + b.reqid], delete this.dictCallback["fxErr" + b.reqid], delete this.dictTime[b.reqid]))
        };
        c.prototype.subscribe = function(b, d, e, c) {
            return this.send({
                type: "subscribe",
                modelType: b,
                idModel: d,
                tags: e,
                invitationTokens: l.invitationTokens()
            }, function(b) {
                return function(b, e) {
                    null != b ? P("rpc", b) : rpc.setIxLastUpdate(d, e);
                    return "function" === typeof c ? c(b, response) : void 0
                }
            }(this))
        };
        c.prototype.unsubscribe = function(b, d, e) {
            return this.send({
                type: "unsubscribe",
                modelType: b,
                idModel: d
            }, function(b) {
                return function(b, d) {
                    null != b && P("rpc", b);
                    return "function" === typeof e ? e(b, d) : void 0
                }
            }(this))
        };
        c.prototype.sendStatus = function(b, d) {
            var e;
            return this.send({
                type: "setSessionStatus",
                status: b,
                idBoard: "undefined" !== typeof B && null !== B ? null != (e = B.getCurrentBoard()) ? e.id : void 0 : void 0
            }, function(b) {
                return function(b, e) {
                    null != b && P("rpc", b);
                    return "function" === typeof d ? d(b, e) : void 0
                }
            }(this))
        };
        c.prototype.ping =
            function(b) {
                return this.send({
                    type: "ping"
                }, function(d) {
                    return function(d, c) {
                        null != d && P("rpc", d);
                        return "function" === typeof b ? b(d, c) : void 0
                    }
                }(this))
            };
        c.prototype._getSubscriptions = function() {
            return this.send({
                type: "getSubscriptions"
            }, function(b) {
                return function(b, e) {
                    if (null != e) return P("rpc", e)
                }
            }(this))
        };
        c.prototype.send = function(b, d) {
            var e;
            this.dictCallback["fx" + this.reqid] = d;
            this.dictTime[this.reqid] = new Date;
            b.reqid = this.reqid++;
            e = JSON.stringify(b);
            P("rpc", "invoke: " + e);
            this.socket.send(e);
            null ==
                this.timeoutInvokeResponse && (this.timeoutInvokeResponse = setTimeout(function(b) {
                    return function() {
                        var d;
                        if (b.socket.state === mc.CONNECTED) return P("rpc", "No response from the socket.io server in 10 seconds. Disconnecting."), clearTimeout(b.timeoutInvokeResponse), delete b.timeoutInvokeResponse, null != (d = b.socket) ? d.disconnect() : void 0
                    }
                }(this), 1E4))
        };
        c.prototype.resync = function() {
            var b;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            _.isEmpty(b) && (b = null);
            return rpc.rpcAJAX.doPoll(b, function() {})
        };
        c.prototype.disconnect =
            function() {
                P("rpc", "disconnecting");
                this.socket.disconnect()
            };
        c.prototype.hasSocketTransport = function() {
            return this.hasSockets
        };
        return c
    }();
    $e = function() {
        function c() {
            this.idBoardToPoll = null;
            this.modelIxUpdate = {};
            this.msPoll = 2E3;
            this.msPollIdle = 1E4;
            for (this.ajaxSessionId = Math.random().toString().substring(2); 16 > this.ajaxSessionId.length;) this.ajaxSessionId += "0";
            this.failures = 0;
            this.failuresAllowed = 1E3
        }
        c.prototype.subscribe = function(b, d, e, c) {
            ab.sendStatus();
            return "function" === typeof c ? c() : void 0
        };
        c.prototype.unsubscribe = function(b, d, e) {
            ab.sendStatus();
            return "function" === typeof e ? e() : void 0
        };
        c.prototype.sendStatus = function(b, d) {
            var e;
            return S({
                url: "/1/Session/" + this.ajaxSessionId,
                type: "PUT",
                data: {
                    status: b,
                    idBoard: "undefined" !== typeof B && null !== B ? null != (e = B.getCurrentBoard()) ? e.id : void 0 : void 0
                },
                background: !0,
                success: function() {
                    return "function" === typeof d ? d() : void 0
                },
                error: function(b) {
                    return "function" === typeof d ? d(null != b ? b : "sending session status failed") : void 0
                }
            })
        };
        c.prototype.resync = function() {};
        c.prototype._getPollLength = function() {
            return y.isLoggedIn() && "active" === Ja.getStatus() ? this.msPoll : this.msPollIdle
        };
        c.prototype.stopPolling = function() {
            if (null != this._pollingTimeout) return clearTimeout(this._pollingTimeout), delete this._pollingTimeout
        };
        c.prototype.poll = function() {
            return this._pollingTimeout = setTimeout(function(b) {
                return function() {
                    if (b.failures >= b.failuresAllowed) $(b).triggerHandler("connect_failed");
                    else return b.doPoll(function(d) {
                        if (null != d) {
                            if ("syncError" === d) return;
                            $(b).triggerHandler("connecting");
                            ++b.failures
                        } else 0 < b.failures && $(b).triggerHandler("reconnect"), b.failures = 0;
                        return b.poll()
                    })
                }
            }(this), this._getPollLength())
        };
        c.prototype.doPoll = function() {
            var b, d, e, c, f, h;
            d = 2 <= arguments.length ? D.call(arguments, 0, e = arguments.length - 1) : (e = 0, []);
            e = arguments[e++];
            d = d[0];
            f = [];
            if (_.isArray(d)) {
                c = 0;
                for (h = d.length; c < h; c++) b = d[c], f.push(rpc.currentSubscriptions[b])
            } else if (null == d)
                for (b in h = rpc.currentSubscriptions, h) c = h[b], f.push(c);
            else {
                P("rpc", "Bad argument to doPoll: " + d);
                return
            }
            return _.isEmpty(f) ?
                (P("rpc", "No models to poll for " + d), "function" === typeof e ? e() : void 0) : this._doPoll(f, e)
        };
        c.prototype._doPoll = function(b, d) {
            var e, c, f, h, m;
            m = function() {
                var d, m, k, l;
                l = [];
                d = 0;
                for (m = b.length; d < m; d++) k = b[d], f = k.modelType, e = k.idModel, c = k.ixLastUpdate, h = k.tags, l.push("/" + f + "/" + e + "/deltas?ixLastUpdate=" + encodeURIComponent(c.toString()) + "&tags=" + encodeURIComponent(h.join(",")));
                return l
            }();
            return S({
                data: {
                    urls: m.join(",")
                },
                url: "/1/batch",
                background: !0,
                success: function(b) {
                    return function(c, f, g) {
                        var h, m, k, l,
                            n;
                        Da.setServerVersionFromResponse(g);
                        f = 0;
                        for (g = c.length; f < g; f++)
                            if (h = c[f], 200 in h) {
                                if (null != h[200].syncError) return B.syncError(), b.stopPolling(), "function" === typeof d ? d("syncError") : void 0;
                                if (h[200].modelIxUpdate) {
                                    e = _.keys(h[200].modelIxUpdate)[0];
                                    rpc.setIxLastUpdate(e, h[200].modelIxUpdate[e]);
                                    n = null != (l = h[200].messages) ? l : [];
                                    m = 0;
                                    for (k = n.length; m < k; m++) {
                                        h = n[m];
                                        try {
                                            h = JSON.parse(h)
                                        } catch (t) {
                                            continue
                                        }
                                        $(b).triggerHandler(h.notify.event, _.extend({
                                            idModelChannel: h.idModelChannel
                                        }, h.notify))
                                    }
                                }
                            }
                        return "function" ===
                            typeof d ? d() : void 0
                    }
                }(this),
                error: function() {
                    return "function" === typeof d ? d("Poll failed") : void 0
                }
            })
        };
        return c
    }();
    af = function() {
        function c() {
            this.resync = k(this.resync, this);
            this.setIxLastUpdate = k(this.setIxLastUpdate, this);
            this.getIxLastUpdate = k(this.getIxLastUpdate, this);
            this.handleLogin = k(this.handleLogin, this);
            this.rpcReady = k(this.rpcReady, this);
            this.rpcSocket = this.rpcAJAX = this.rpcCurrent = null;
            this.currentSubscriptions = {};
            this.fReadyToSubscribe = !1;
            this.deferredQueue = [];
            this.handleLogin()
        }
        c.prototype.rpcReady =
            function() {
                var b, d, e, c;
                this.fReadyToSubscribe = !0;
                this.isUsingSocket() || this.rpcCurrent.poll();
                $(this).triggerHandler("ready");
                c = this.deferredQueue;
                d = 0;
                for (e = c.length; d < e; d++) b = c[d], b();
                return $(this).bind("reconnect", function(b) {
                    return function() {
                        return b.resubscribe()
                    }
                }(this))
            };
        c.prototype.resubscribe = function() {
            var b, d, e, c;
            this.rpcCurrent.resync();
            e = this.currentSubscriptions;
            c = [];
            for (b in e) d = e[b], c.push(this.subscribe(d.modelType, b, d.tags));
            return c
        };
        c.prototype.bindSocketEvents = function() {
            var b,
                d, e, c, f;
            c = "connecting connect reconnect connect_failed reconnect_failed updateModels deleteModels".split(" ");
            f = [];
            d = 0;
            for (e = c.length; d < e; d++) b = c[d], f.push($(this.rpcCurrent).bind(b, function(b) {
                return function(d, e, c) {
                    return $(b).triggerHandler(d, e, c)
                }
            }(this)));
            return f
        };
        c.prototype.lazyCreateRPC = function() {
            var b;
            if (!this.rpcCurrent)
                if (this.rpcSocket = new bf, this.rpcCurrent = this.rpcAJAX = new $e, this.bindSocketEvents(), this.rpcSocket.hasSocketTransport()) {
                    if (!this.rpcSocket.connectedOnce) return b = Aa.getTime(),
                        setTimeout(function(b) {
                            return function() {
                                if (!b.fReadyToSubscribe) return P("rpc", "Socket not responsive. Using AJAX."), b.rpcSocket.disconnect(), b.rpcReady()
                            }
                        }(this), 8E3), this.rpcSocket.ping(function(d) {
                            return function(e, c) {
                                d.fReadyToSubscribe ? (d.rpcSocket.disconnect(), t("RPC", "No Sockets", "Slow ping", Aa.getTime() - b)) : (P("rpc", "Socket responded to ping in a timely fashion. Using sockets."), d.rpcCurrent = d.rpcSocket, d.bindSocketEvents(), d.rpcReady())
                            }
                        }(this))
                } else return P("rpc", "No socket connect. Using AJAX."),
                    this.rpcReady()
        };
        c.prototype.handleLogin = function() {
            if (y.isLoggedIn()) return this.lazyCreateRPC()
        };
        c.prototype.sendStatus = function(b) {
            this.lazyCreateRPC();
            if (this.fReadyToSubscribe) return this.rpcCurrent.sendStatus(b);
            this.deferredQueue.push(function(d) {
                return function() {
                    return d.sendStatus(b)
                }
            }(this))
        };
        c.prototype.unsubscribe = function(b, d, e) {
            this.lazyCreateRPC();
            this.rpcCurrent.unsubscribe(b, d, e);
            if (null != e) {
                if (b = this.currentSubscriptions[d], b.tags = _.without(b.tags, e), _.isEmpty(b.tags)) return delete this.currentSubscriptions[d]
            } else return delete this.currentSubscriptions[d]
        };
        c.prototype.subscribe = function(b, d, e) {
            var c;
            this.lazyCreateRPC();
            null != (c = this.currentSubscriptions[d]) ? c[e] = _.union(c[e], e) : this.currentSubscriptions[d] = {
                tags: e,
                ixLastUpdate: -1,
                modelType: b,
                idModel: d
            };
            if (this.fReadyToSubscribe) return this.rpcCurrent.subscribe(b, d, e);
            P("rpc", "deferring subscribe to " + b + " " + d);
            this.deferredQueue.push(function(c) {
                return function() {
                    return c.rpcCurrent.subscribe(b, d, e)
                }
            }(this))
        };
        c.prototype.getIxLastUpdate = function(b) {
            return this.currentSubscriptions[b].ixLastUpdate
        };
        c.prototype.setIxLastUpdate = function(b, d) {
            var e;
            return null != (e = this.currentSubscriptions[b]) ? e.ixLastUpdate = d : void 0
        };
        c.prototype.resync = function() {
            var b, d;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            this.lazyCreateRPC();
            return "function" === typeof(d = this.rpcCurrent).resync ? d.resync.apply(d, b) : void 0
        };
        c.prototype.isUsingSocket = function() {
            return null != this.rpcCurrent && this.rpcCurrent === this.rpcSocket
        };
        return c
    }();
    window.rpc = new af;
    var $a;
    $a = new(function() {
        function c() {}
        c.prototype.textAsHtml = function(b,
            d) {
            null == d && (d = {});
            return !b ? b : Ia.full.format(b, d).output
        };
        c.prototype.markdownAsHtml = function(b, d) {
            null == d && (d = {});
            return Ia.full.format(b, d).output
        };
        c.prototype.bytes = function(b) {
            var d, e, c, f, h;
            if (null == b) return "Unknown Size";
            c = ["B", "KB", "MB", "GB"];
            d = b;
            e = f = 0;
            for (h = c.length; f < h; e = ++f) {
                b = c[e];
                if (1024 > d || e === c.length - 1) return c = Math.round(100 * d) / 100, "" + c + " " + b;
                d /= 1024
            }
            return "unknown"
        };
        return c
    }());
    var A, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c,
            b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        D = [].slice;
    A = function(c) {
        function b(d) {
            this.setTimeout = k(this.setTimeout, this);
            this.handleDOMRemove = k(this.handleDOMRemove, this);
            this._subviews = {};
            this.modelCache = null != d ? d.modelCache : void 0;
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.subview = function(b, e, c, f) {
            null == c && (c = {});
            null == f && (f = "" + b.prototype.uniqueId() + "_" + e.cid);
            f in
                this._subviews || (this._subviews[f] = new b(_.extend({
                    model: e,
                    modelCache: this.modelCache
                }, c)));
            return this._subviews[f]
        };
        b.prototype.existingSubview = function(b, e, c) {
            null == c && (c = "" + b.prototype.uniqueId() + "_" + e.cid);
            if (!(c in this._subviews)) throw Error("existingSubview called before subview was created");
            return this._subviews[c]
        };
        b.prototype.existingSubviewOrUndefined = function(b, e, c) {
            null == c && (c = "" + b.prototype.uniqueId() + "_" + e.cid);
            return this._subviews[c]
        };
        b.prototype.collectionSubview = function(b, e,
            c, f) {
            var h;
            null == c && (c = {});
            null == f && (f = b.prototype.uniqueId());
            b = null != (h = this._subviews)[f] ? h[f] : h[f] = new b(_.extend({
                collection: e,
                modelCache: this.modelCache
            }, c));
            null != c.el && b.el !== c.el && b.setElement(c.el);
            return b
        };
        b.prototype.subviewsOfType = function(b) {
            var e, c, f, h;
            f = this._subviews;
            h = [];
            for (e in f) H.call(f, e) && (c = f[e], c instanceof b && h.push(c));
            return h
        };
        b.prototype.deleteSubview = function(b, e) {
            null == e && (e = "" + b.constructor.prototype.uniqueId() + "_" + b.model.cid);
            if (b !== this._subviews[e]) throw Error("incorrect key for subview in deleteSubview");
            b.remove();
            return delete this._subviews[e]
        };
        b.prototype.removeSubviews = function() {
            var b, e, c;
            c = this._subviews;
            for (b in c) e = c[b], e.remove();
            return this._subviews = {}
        };
        b.prototype.remove = function() {
            var d, e, c, f;
            this.removeSubviews();
            if (null != this._intervals) {
                f = this._intervals;
                e = 0;
                for (c = f.length; e < c; e++) d = f[e], clearInterval(d)
            }
            if (null != this._timeouts) {
                f = this._timeouts;
                e = 0;
                for (c = f.length; e < c; e++) d = f[e], clearTimeout(d)
            }
            "undefined" !== typeof X && null !== X && X.removeHandler(this);
            return b.__super__.remove.apply(this,
                arguments)
        };
        b.prototype.removeQueued = function(b) {
            var e, c, f;
            b || (b = async.cargo(function(b, d) {
                var e, c, f;
                c = 0;
                for (f = b.length; c < f; c++) e = b[c], e.remove();
                return _.defer(d)
            }, 10), b.push(this));
            f = this._subviews;
            for (e in f) c = f[e], b.push(c), c.removeQueued(b);
            return this._subviews = {}
        };
        b.prototype.debounce = function(b, e) {
            return l.voidDebounced(b, this.setTimeout, e)
        };
        b.prototype.makeDebouncedMethods = function() {
            var b, e, c, f;
            e = 1 <= arguments.length ? D.call(arguments, 0) : [];
            c = 0;
            for (f = e.length; c < f; c++) b = e[c], this[b + "Debounced"] =
                this.debounce(this[b])
        };
        b.prototype.handleDOMRemove = function() {
            return this._delegated = !1
        };
        b.prototype.delegateEvents = function() {
            var d, e, c;
            if (!this._delegated) {
                this.$el.on("remove", this.handleDOMRemove);
                b.__super__.delegateEvents.apply(this, arguments);
                c = this._subviews;
                for (d in c) e = c[d], e.delegateEvents();
                this._delegated = !0
            }
        };
        b.prototype.undelegateEvents = function() {
            var d, e, c;
            if (this._delegated) {
                this.$el.off("remove", this.handleDOMRemove);
                b.__super__.undelegateEvents.apply(this, arguments);
                c = this._subviews;
                for (d in c) e = c[d], e.undelegateEvents();
                this._delegated = !1
            }
        };
        b.prototype.appendSubview = function(b, e) {
            null == e && (e = this.$el);
            return this.appendSubviews([b], e)
        };
        b.prototype.appendSubviews = function(b, e) {
            var c, f, h;
            null == e && (e = this.$el);
            f = 0;
            for (h = b.length; f < h; f++) c = b[f], c.delegateEvents();
            return e.append(function() {
                var e, f, h;
                h = [];
                e = 0;
                for (f = b.length; e < f; e++) c = b[e], h.push(c.render().el);
                return h
            }())
        };
        b.prototype.recursivelyStopListening = function() {
            var b, e, c;
            this.stopListening();
            c = this._subviews;
            for (b in c) e =
                c[b], e.recursivelyStopListening()
        };
        b.prototype.uniqueId = function() {
            this.hasOwnProperty("_uniqueId") || (this._uniqueId = _.uniqueId("view"));
            return this._uniqueId
        };
        b.prototype.destructor = function() {
            var b, e, c, f, h;
            this.remove();
            if (null != this._using) {
                h = this._using;
                c = 0;
                for (f = h.length; c < f; c++) e = h[c], "function" === typeof e.destructor && e.destructor()
            }
            this.undelegateEvents();
            b = 0;
            return async.whilst(function(b) {
                return function() {
                    return b.$el.is(":visible")
                }
            }(this), function(e) {
                return function(e) {
                    b += 1E3;
                    setTimeout(e,
                        1E3);
                    if (1E4 < b) return P("view", "Unable to remove a view")
                }
            }(this), function(b) {
                return function(d) {
                    b.$el.remove();
                    return l.shred(b)
                }
            }(this))
        };
        b.prototype.setInterval = function(b, e) {
            null == this._intervals && (this._intervals = []);
            return this._intervals.push(setInterval(b, e))
        };
        b.prototype.setTimeout = function(b, e) {
            var c;
            null == this._timeouts && (this._timeouts = []);
            this._timeouts.push(c = setTimeout(b, e));
            return c
        };
        b.prototype.forceIntoDom = function() {
            var b;
            if (0 === this.$el.closest("html").length) return b = $("#staging"),
                0 === b.length && (b = $("<div>").attr("id", "staging").css({
                    visibility: "hidden",
                    position: "absolute",
                    left: 0,
                    top: -1E5,
                    width: "100%"
                }).appendTo("body")), b.append(this.el)
        };
        return b
    }(Backbone.View);
    "undefined" !== typeof l && null !== l && l.extendWithModelCacheHelpers(A);
    var Cb, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        D = [].slice;
    Cb = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            this.listenPropagators = {};
            this.listenTo(this.collection, {
                sort: this.sort,
                "change:closed": this.closed,
                add: this.addModel,
                remove: this.removeModel,
                reset: this.reset
            });
            return b.__super__.initialize.apply(this, arguments)
        };
        b.prototype.getModels = function() {
            return this.collection.models
        };
        b.prototype.subview = function() {
            var d, e, c;
            d = b.__super__.subview.apply(this, arguments);
            if (null == (e = this.listenPropagators)[c = d.cid]) e[c] = this.listenTo(d, "all", function(b) {
                return function() {
                    var e,
                        c;
                    c = arguments[0];
                    e = 2 <= arguments.length ? D.call(arguments, 1) : [];
                    return b.trigger.apply(b, [c, d].concat(D.call(e)))
                }
            }(this));
            return d
        };
        b.prototype.addModel = function(b, e) {
            var c;
            P("render", "adding " + this.collection.model.name + " to " + this.viewType.name);
            c = this.subview(this.viewType, b);
            this.el && this.insertSubview(c, _.indexOf(this.getModels(), b))
        };
        b.prototype.removeModel = function(b, e) {
            var c;
            P("render", "removing " + this.collection.model.name + " from " + this.viewType.name);
            c = this.subview(this.viewType, b);
            c.$el.hide();
            c.destructor();
            this.deleteSubview(c)
        };
        b.prototype.closed = function(b, e, c) {
            e ? this.removeModel(b, c) : this.addModel(b, c)
        };
        b.prototype.reset = function(b, e) {
            var c, f, h, m, k, l;
            h = e.previousModels;
            c = {};
            l = b.models;
            m = 0;
            for (k = l.length; m < k; m++) f = l[m], c[f.cid] = !0;
            m = 0;
            for (k = h.length; m < k; m++) f = h[m], c[f.cid] || this.removeModel(f);
            return this.sort()
        };
        b.prototype.sort = function() {
            var b, e, c, f, h;
            h = this.getModels();
            b = c = 0;
            for (f = h.length; c < f; b = ++c) e = h[b], this.moveSubviewToPosition(this.subview(this.viewType, e), b)
        };
        b.prototype.render =
            function(b) {
                var e;
                P("render", "rendering " + this.getModels().length + " " + this.collection.model.name + "s into " + this.viewType.name);
                this.appendSubviews(function() {
                    var b, d, c, m;
                    c = this.getModels();
                    m = [];
                    b = 0;
                    for (d = c.length; b < d; b++) e = c[b], m.push(this.subview(this.viewType, e));
                    return m
                }.call(this));
                "function" === typeof b && b();
                return this
            };
        b.prototype.insertSubview = function(b, e, c) {
            null == c && (c = this.$el);
            P("render", "inserting " + b.$el.find("h2").text() + " at position " + e);
            "number" === typeof e ? e = 0 >= e ? c.children().eq(0) :
                e < c.children().length ? c.children().eq(e) : void 0 : e instanceof A && (e = e.$el);
            b.$el.is(":empty") && (b.delegateEvents(), b.render());
            0 < (null != e ? e.length : void 0) ? b.$el.insertBefore(e) : c.append(b.$el)
        };
        b.prototype.moveSubviewToPosition = function(b, e, c) {
            var f, h, m, k;
            null == c && (c = this.$el);
            if (b.$el.is(":empty")) this.insertSubview(b, e, c);
            else {
                k = c.children(".placeholder,.card-composer");
                h = 0;
                for (m = k.length; h < m; h++) f = k[h], $(f).index() <= e && e++;
                f = b.$el.index();
                f !== e && (P("render", "moving " + b.$el.find("h2").text() + " into position " +
                    e), 0 === e ? c.prepend(b.$el) : e >= c.children().length ? c.append(b.$el) : b.$el.insertAfter(c.children().eq(e - 1)))
            }
        };
        return b
    }(A);
    var nc;
    nc = function() {
        function c() {}
        c.prototype.limit = 50;
        c.prototype.nextPage = 1;
        c.prototype.shortLoad = !1;
        c.prototype.loading = !1;
        c.prototype.idModels = null;
        c.prototype.loadMoreActions = function() {
            if (!this.loading) return this.loading = !0, this.model.onId(function(b) {
                return function() {
                    var d;
                    return O["for"](b.modelCache).loadMoreActionData(b.model.typeName.toLowerCase(), b.model.id, b.nextPage,
                        b.limit, b.idModels, null != (d = "function" === typeof b.getActionsFilter ? b.getActionsFilter() : void 0) ? d : "all", function(d, c) {
                            b.loading = !1;
                            if (!d) return b.shortLoad = c.length < b.limit, b.renderActions(), ++b.nextPage
                        })
                }
            }(this))
        };
        c.prototype.hasMoreActions = function() {
            return !this.loading && !this.shortLoad && this.getActions().length >= this.limit
        };
        c.prototype.getActions = function() {
            return this.Action.getListForModel(this.model)
        };
        return c
    }();
    var Db, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b,
                e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Db = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.allowNewlines = !0;
        b.prototype._draftKey = function(b) {
            return "draft_" + this.model.id + "_" + b
        };
        b.prototype._saveDraft = function(b, e) {
            return da.set(this._draftKey(b), e)
        };
        b.prototype._recallDraft = function(b) {
            return da.get(this._draftKey(b))
        };
        b.prototype._discardDraft = function(b) {
            return da.unset(this._draftKey(b))
        };
        b.prototype.editField =
            function(b) {
                var e, c, f;
                e = $(b.target).closest("a");
                if (!(0 < e.length && "#" !== e.attr("href")) && !K.dragging && !K.sorting && !("function" === typeof window.getSelection && null != (c = window.getSelection()) && c.toString() || null != (f = document.selection) && f.createRange().text)) return l.stop(b), x.hide(), b = $(b.target).closest(".editable"), b = b.attr("attr"), this.edit(b)
            };
        b.prototype.edit = function(b) {
            var e, c, f, h, m, k, s, w; - 1 < b.indexOf(".") && (w = b.split("."), b = w[1]);
            e = this.$("[attr=" + b + "]");
            f = this.$(".js-no-higher-edits [attr=" +
                b + "]");
            e = e.not(f);
            0 !== e.length && (sa.cancelEdits(), f = e.find(".edit:first"), 0 !== f.length && (h = e.find(".field:first"), k = h.is("textarea"), m = h.parent().is(".card-detail-edit"), c = e.find(".current"), k && (s = Math.ceil(parseFloat($(c).css("line-height").slice(0, -2))), k = 27 * s, c = m ? Math.max(7 * s, c.height() + s) : Math.max(2 * s, c.height() + s), c > k && (c = k), h.height(c + 16)), f.append(v.fill("edit_controls")), f.hasClass("delete") || f.find(".delete").remove(), f.hasClass("convert") || f.find(".convert").remove(), f.hasClass("options-menu") ||
                f.find(".options-menu").remove(), e.addClass("editing"), "" === h.val() && h.val(l.traverse(this.model.attributes, null != w ? w : b)), h.data("draftKey", this._draftKey(b)), P("editable", this.model), h.focus().select()))
        };
        b.prototype.recallDrafts = function() {
            var b, e, c;
            c = this;
            b = this.$("[attr]");
            e = this.$(".js-no-higher-edits [attr]");
            return b.not(e).each(function() {
                var b, d;
                b = $(this).attr("attr");
                d = c._recallDraft(b);
                if (null != d) return b = $(this).find(".field:first"), b.val(d), _.defer(function(b) {
                    return function() {
                        return $(b).find(".edits-warning").show()
                    }
                }(this))
            })
        };
        b.prototype.stopEditing = function(b) {
            l.stop(b);
            sa.cancelEdits();
            return !1
        };
        b.prototype.clearEdits = function(b) {
            var e;
            l.stop(b);
            b = $(b.target).closest(".editable[attr]");
            e = b.attr("attr");
            null != e && this._discardDraft(e);
            b.find(".field").val("");
            b.find(".edits-warning").hide();
            b.find(".edits-error").hide();
            sa.cancelEdits();
            return !1
        };
        b.prototype.validate = function() {
            var b, e, c, f, h;
            f = this.$(".editing.non-empty .field");
            e = 0;
            for (c = f.length; e < c; e++)
                if (b = f[e], /^\s*$/.test($(b).val())) return !1;
            f = this.$(".editing .field");
            e = 0;
            for (c = f.length; e < c; e++)
                if (b = f[e], b = null != (h = $(b).val()) ? h.length : void 0, 16384 < b) return $(".editing").find(".edits-error").text("Your text is " + (b - 16384) + " characters too long to save").show(), !1;
            return !0
        };
        b.prototype.keydownEvent = function(b) {
            sa.isEditing() && (x.view instanceof oc || x.view instanceof sb ? "function" === typeof this.checkInsert && this.checkInsert(b) : l.isForceSubmitKey(b) || 13 === b.keyCode && (!$(b.target).is("textarea") || $(b.currentTarget).hasClass("single-line")) && !b.shiftKey ? (l.stop(b),
                this.commitEdits(b)) : 13 === b.keyCode && !this.allowNewlines && l.stop(b))
        };
        b.prototype.commitEdits = function(b) {
            var e, c, f;
            l.stop(b);
            e = $(b.target).closest(".editable.editing[attr]");
            e.find(".edits-error").hide();
            if (this.validate()) return f = this, c = this.model, e.remove("input[type=submit]"), e.removeClass("editing").each(function() {
                var b, d;
                b = $(this).attr("attr");
                d = $(this).find(".field").val();
                f.allowNewlines || (d = d.replace(/[\r\n]+/g, " "));
                0 === jQuery.trim(d).length && (d = "");
                return c.get(b) === d ? f._discardDraft(b) :
                    c.update(b, d, function(d) {
                        return null != d ? e.find(".edits-error").text(d).show() : f._discardDraft(b)
                    })
            }).find(".field").val(""), e.find(".edits-warning").hide(), !0
        };
        b.prototype.clickSetting = function(b) {
            var e, c, f;
            e = $(b.target);
            if (!e.hasClass("disabled") && !e.closest(".js-disabled").length && (c = e.attr("href"), !(c && "#" !== c) && (c = e.closest(".pref").attr("name")))) f = e.attr("value"), f = function() {
                    switch (f) {
                        case "true":
                            return !0;
                        case "false":
                            return !1;
                        default:
                            return f
                    }
                }(), this.model.setPref(c, f), this.model.save(),
                l.stop(b)
        };
        b.prototype.delegateEvents = function(d) {
            var e;
            e = {
                "click .current": "editField",
                "click .js-cancel-edit": "clearEdits",
                "click .js-discard-edits": "clearEdits",
                "click .js-view-edits": "editField",
                "click .js-save-edit": "commitEdits",
                "keydown .field": "keydownEvent",
                "click input": l.stopPropagation,
                "click textarea": l.stopPropagation
            };
            null != this.model.setPref && (e["click a"] = "clickSetting");
            return b.__super__.delegateEvents.call(this, _.extend(e, d || this.events))
        };
        return b
    }(A);
    var pa, k = function(c, b) {
            return function() {
                return c.apply(b,
                    arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    pa = function(c) {
        function b(d) {
            var e, c, f, h, m, q, l;
            this.model = d.model;
            l = d.text;
            this.elem = d.elem;
            this.top = d.top;
            f = d.confirmText;
            c = d.confirmBtnClass;
            e = d.cancelText;
            this.title = d.title;
            this.template = d.template;
            h = d.data;
            q = d.fxConfirm;
            m = d.fxCancel;
            this.popOnClick = d.popOnClick;
            this._handleClick = k(this._handleClick,
                this);
            this.render = k(this.render, this);
            this.getViewTitle = k(this.getViewTitle, this);
            null == this.template && (this.template = "confirm");
            this.confirm = this._handleClick(q);
            this.cancel = m ? this._handleClick(m) : function() {};
            this.data = _.extend({
                text: l,
                confirmText: f,
                confirmBtnClass: c,
                cancelText: e
            }, null != h ? h : {});
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.toggle = function(b) {
            return x.toggle({
                elem: b.elem,
                top: b.top,
                view: this,
                options: b
            })
        };
        b.pushView = function(b) {
            return x.pushView({
                view: this,
                options: b
            })
        };
        b.prototype.getViewTitle =
            function() {
                return this.title
            };
        b.prototype.events = {
            "click .js-confirm": "confirm",
            "click .js-cancel": "cancel"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill(this.template, this.data, {}, {
                member: v.member
            }));
            return this
        };
        b.prototype._handleClick = function(b) {
            return function(e) {
                return function(c) {
                    l.stop(c);
                    e.popOnClick ? x.popView() : x.hide();
                    "function" === typeof b && b(c);
                    e.remove();
                    e.unbind();
                    return !1
                }
            }(this)
        };
        return b
    }(A);
    var cf, df, ef, ff, gf, hf, jf, kf, lf, mf, nf, of, pf, qf, rf, Eb, k = function(c, b) {
            return function() {
                return c.apply(b,
                    arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    kf = function(c) {
        function b() {
            this.viewChannelPicker = k(this.viewChannelPicker, this);
            this.showFeedbackButton = k(this.showFeedbackButton, this);
            this.viewMemberMenu = k(this.viewMemberMenu, this);
            this.viewNotificationsMenu =
                k(this.viewNotificationsMenu, this);
            this.renderUnreadNotifications = k(this.renderUnreadNotifications, this);
            this.renderAvatar = k(this.renderAvatar, this);
            this.renderMemberName = k(this.renderMemberName, this);
            this.renderUpgradeAvailable = k(this.renderUpgradeAvailable, this);
            this.initialize = k(this.initialize, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "header-user";
        b.prototype.initialize = function() {
            var d;
            this.listenTo(this.modelCache, "add:Notification change:Notification remove:Notification",
                this.renderUnreadNotifications);
            this.listenTo(this.model, "change:initials change:avatarHash change:avatarSource change:fullName change:username", this.renderAvatar);
            $(Da).bind("change:serverVersion", this.renderUpgradeAvailable);
            this.idLastNotification = null != (d = _.chain(this.Notification.all()).pluck("id").compact().sort().last().value()) ? d : "";
            this.modelCache.on("add:Notification", function(b) {
                return function(d) {
                    if (d.id > b.idLastNotification) return b.idLastNotification = d.id, new Fb(d)
                }
            }(this));
            return b.__super__.initialize.apply(this,
                arguments)
        };
        b.prototype.destructor = function() {
            $(Da).unbind("change:serverVersion", this.renderUpgradeAvailable);
            return b.__super__.destructor.apply(this, arguments)
        };
        b.prototype.events = {
            "click .js-open-header-notifications-menu": "viewNotificationsMenu",
            "click .js-open-header-member-menu": "viewMemberMenu",
            "click .js-open-add-menu": "openAddMenu",
            "click .js-toggle-login-popover": "viewLoginMenu",
            "click .js-open-feedback": "openFeedback",
            shortcut: "shortcut",
            "click .js-open-channel-picker": "viewChannelPicker"
        };
        b.prototype.shortcut = function(b) {
            switch (b) {
                case 66:
                    return this.viewBoardsMenu(), "Header Boards Menu"
            }
        };
        b.prototype.render = function(b) {
            var e;
            null == b && (b = !1);
            P("render", "rendering header");
            b = {
                hasCrown: this.model.isFeatureEnabled("crown"),
                is_promo: b,
                showChannelPicker: 1 < (null != (e = window.channels) ? e.allowed.length : void 0)
            };
            this.$el.html(v.fill("header_user", b, {}, {
                header_signup_login: v.header_signup_login
            }));
            this.renderUpgradeAvailable();
            this.renderUnreadNotifications();
            this.renderAvatar();
            this.renderMemberName();
            return this
        };
        b.prototype.renderUpgradeAvailable = function() {
            P("render", "rendering upgrade available");
            if (B.advertiseUpgrade()) return this.$(".upgrade").show()
        };
        b.prototype.renderMemberName = function() {
            var b;
            return this.$(".js-member-name").text(null != (b = this.model.get("fullName")) ? b : this.model.get("username"))
        };
        b.prototype.renderAvatar = function() {
            P("render", "rendering avatar");
            this.$(".member").html(v.fill("member", this.model.toJSON()));
            return this
        };
        b.prototype.renderUnreadNotifications = function() {
            var b,
                e;
            b = this.Notification.unreadCount();
            e = "" + l.formatCount(b, "Notification", !0) + ". Click to view notifications.";
            this.$(".js-open-header-notifications-menu").attr("title", e).toggleClass("new-notifications", 0 < b);
            B.title();
            return this
        };
        b.prototype.viewLoginMenu = function(b) {
            l.stop(b);
            t("Header", "Login Menu", "Open Login Menu");
            return x.toggle({
                elem: this.$(".js-toggle-login-popover"),
                top: 40,
                view: y.me().getView(pf)
            })
        };
        b.prototype.viewNotificationsMenu = function(b) {
            l.stop(b);
            t("Header", "Notifications Menu", "Open Notifications Menu");
            x.toggle({
                elem: this.$(".js-open-header-notifications-menu"),
                top: 40,
                view: sf,
                hidden: _.bind(this.model.clearAllNotifications, this.model),
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            })
        };
        b.prototype.openAddMenu = function(b) {
            l.stop(b);
            t("Header", "Add Menu", "Open");
            b = y.me().getView(ff);
            x.toggle({
                elem: this.$(".js-open-add-menu"),
                top: 40,
                view: b
            })
        };
        b.prototype.viewMemberMenu = function(b) {
            l.stop(b);
            t("Header", "User Menu", "Open User Menu");
            b = y.me().getView(jf);
            x.toggle({
                elem: this.$(".js-open-header-member-menu"),
                top: 40,
                view: b
            })
        };
        b.prototype.showFeedbackButton = function() {
            this.$(".js-open-feedback").removeClass("hide");
            return this
        };
        b.prototype.openFeedback = function(b) {
            l.stop(b);
            ka.show({
                view: new tf({
                    model: this.Auth.me(),
                    modelCache: this.modelCache
                }),
                maxWidth: 750
            })
        };
        b.prototype.viewChannelPicker = function(b) {
            l.stop(b);
            x.toggle({
                elem: this.$(".js-open-channel-picker"),
                top: 41,
                view: hf
            })
        };
        return b
    }(A);
    hf = function(c) {
        function b() {
            this.showDev = k(this.showDev, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.CHANNELS = ["stable", "beta", "alpha"];
        b.prototype.getViewTitle = function() {
            return "Switch Channels"
        };
        b.prototype.events = {
            "click .js-select": "selectChannel",
            "click .js-select-dev": "showDev",
            "click .js-remove-cookie": "removeCookie"
        };
        b.prototype.initialize = function() {
            var b, e, c, f, h;
            f = this.CHANNELS;
            h = [];
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], 0 <= F.call(window.channels.allowed, b) && h.push({
                name: b,
                displayName: l.capitalize(b),
                active: b === window.channels.active
            });
            this.channels = h;
            return this.isDev = window.channels.dev
        };
        b.prototype.selectChannel = function(b) {
            var e;
            e = b.target.name;
            return S({
                url: "/1/members/me/channels/active",
                type: "PUT",
                data: {
                    value: e
                },
                success: function(b) {
                    return function() {
                        window.channels.active = e;
                        x.hide();
                        return document.location.reload()
                    }
                }(this)
            })
        };
        b.prototype.removeCookie = function(b) {
            l.stop(b);
            $.cookie("head", null, {
                path: "/"
            });
            return this.render()
        };
        b.prototype.render = function() {
            var b;
            (b = !!$.cookie("head")) && this.isDev && _.defer(this.showDev);
            this.$el.html(v.fill("header_channel_picker", {
                channels: this.channels,
                cookie: b,
                dev: this.isDev
            }));
            return this
        };
        b.prototype.showDev = function() {
            x.pushView({
                view: lf
            });
            return this
        };
        return b
    }(A);
    lf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Select client version"
        };
        b.prototype.LATEST_VERSION = {
            "0.0": !0
        };
        b.prototype.events = {
            "change .js-select-head": "updateHead",
            "change .js-select-version": "updateVersion"
        };
        b.prototype.initialize = function() {
            var b, e, c;
            a: {
                try {
                    c = JSON.parse($.cookie("head"));
                    break a
                } catch (f) {}
                c =
                    void 0
            }
            this.active = c || {};
            if (this.active.version) return this.active.version = [null != (b = this.active.version) ? b : 0, null != (e = this.active.patch) ? e : 0].join(".")
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("header_version_picker", {
                active: this.formatActive(),
                heads: [null].concat(this.listHeads()),
                versions: [null].concat(this.listVersions())
            }));
            return this
        };
        b.prototype.formatVersion = function(b) {
            return "0.0" === b ? "latest" : b
        };
        b.prototype.formatActive = function() {
            return {
                name: this.active.name,
                version: this.formatVersion(this.active.version)
            }
        };
        b.prototype.listHeads = function() {
            var b, e, c;
            e = window.clientDeployments;
            c = [];
            for (b in e) c.push({
                displayName: l.capitalize(b),
                value: b,
                selected: this.active.name === b
            });
            return c
        };
        b.prototype.listVersions = function() {
            var b, e, c, f;
            c = _.extend({}, this.LATEST_VERSION, window.clientDeployments[this.active.name]);
            f = [];
            for (e in c) b = c[e], f.push({
                displayName: this.formatVersion(e),
                value: e,
                selected: this.active.version === e,
                active: b
            });
            return f
        };
        b.prototype.updateHead = function(b) {
            this.active.name = $(b.target).val();
            this.active.version =
                null;
            return this.render()
        };
        b.prototype.updateVersion = function(b) {
            var e;
            this.active.version = $(b.target).val();
            this.render();
            e = this.active.version.split(".");
            b = e[0];
            e = {
                name: this.active.name,
                version: b,
                patch: e[1]
            };
            if (0 <= parseInt(b)) return $.cookie("head", JSON.stringify(e), {
                path: "/"
            }), document.location.reload()
        };
        return b
    }(A);
    pf = function(c) {
        function b() {
            this.loginPassword = k(this.loginPassword, this);
            this.loginGoogle = k(this.loginGoogle, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Log In"
        };
        b.prototype.className = "login-popover";
        b.prototype.initialize = function() {
            return this.errors = {}
        };
        b.prototype.events = {
            "click .js-google-login": "loginGoogle",
            "click .js-password-login": "loginPassword"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("login_popover", {
                badLogin: this.errors.badLogin,
                returnUrl: "/"
            }));
            return this
        };
        b.prototype.loginGoogle = function(b) {
            l.stop(b);
            t("Header", "Log In", "Google");
            TRMixpanel.justLoggedIn();
            b = $(b.target).closest("form");
            b.find('input[name="mode"]').val("popup");
            b.find('input[name="immediate"]').val(!1);
            b.find('input[name="returnUrl"]').val(document.location.pathname);
            return b.submit()
        };
        b.prototype.loginPassword = function(b) {
            return TRMixpanel.justLoggedIn()
        };
        return b
    }(A);
    gf = function(c) {
        function b() {
            this.toggleBoardsSidebar = k(this.toggleBoardsSidebar, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "header-boards-button";
        b.prototype.events = {
            "click .js-boards-menu": "toggleBoardsSidebar"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("header_boards_menu_button"));
            return this
        };
        b.prototype.toggleBoardsSidebar = function(b) {
            l.stop(b);
            t("Header", "Boards Menu", "Toggle Boards Menu");
            ba.getShowSidebar() ? ba.hideSidebar() : ba.showSidebar()
        };
        return b
    }(A);
    jf = function(c) {
        function b() {
            this.logout = k(this.logout, this);
            this.home = k(this.home, this);
            this.reco = k(this.reco, this);
            this.account = k(this.account, this);
            this.billing = k(this.billing, this);
            this.cards = k(this.cards, this);
            this.profile = k(this.profile,
                this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.model.ond("change:loginTypes", this.render)
        };
        b.prototype.getViewTitle = function() {
            return this.model.getMemberViewTitle()
        };
        b.prototype.events = {
            "click .js-profile": "profile",
            "click .js-cards": "cards",
            "click .js-billing": "billing",
            "click .js-account": "account",
            "click .js-help": "help",
            "click .js-platforms": "platforms",
            "click .js-shortcuts": "shortcuts",
            "click .js-reco": "reco",
            "click .js-home": "home",
            "click .js-logout": "logout"
        };
        b.prototype.render = function() {
            var b, e;
            P("render", "rendering HeaderMemberMenuView");
            b = this.model.toJSON();
            b.cardsUrl = B.getMemberCardsUrl();
            b.profileUrl = B.getMemberProfileUrl();
            b.billingUrl = B.getMemberBillingUrl();
            b.accountUrl = B.getMemberAccountUrl();
            b.canLogOut = y.canLogIn();
            b.hasTrelloGold = this.model.isGold();
            b.hasAccount = Ga.hasAccount(null != (e = b.paidAccount) ? e.standing : void 0);
            this.$el.html(v.fill("header_member_menu", b));
            return this
        };
        b.prototype.profile =
            function() {
                return t("Header", "User Menu", "Profile")
            };
        b.prototype.cards = function() {
            return t("Header", "User Menu", "Cards")
        };
        b.prototype.billing = function() {
            return t("Header", "User Menu", "Billing")
        };
        b.prototype.account = function() {
            return t("Header", "User Menu", "Settings")
        };
        b.prototype.help = function() {
            return t("Header", "User Menu", "Help")
        };
        b.prototype.platforms = function() {
            return t("Header", "User Menu", "Platforms")
        };
        b.prototype.shortcuts = function() {
            return t("Header", "User Menu", "Shortcuts")
        };
        b.prototype.reco =
            function() {
                return t("Header", "User Menu", "Recommend")
            };
        b.prototype.home = function() {
            return t("Header", "User Menu", "About Trello")
        };
        b.prototype.logout = function(b) {
            if (y.canLogIn()) return y.logoutPost(), t("Header", "User Menu", "Log Out");
            x.pushView({
                view: this.model.getView(Gb)
            });
            return l.stop(b)
        };
        return b
    }(A);
    mf = function(c) {
        function b() {
            this.openAnnouncement = k(this.openAnnouncement, this);
            this.renderUnreadAnnouncementCount = k(this.renderUnreadAnnouncementCount, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            Ta.onAddRemove(this.renderUnreadAnnouncementCount);
            bb.onAddRemove(this.renderUnreadAnnouncementCount);
            bb.ond("change:unread", this.renderUnreadAnnouncementCount);
            this.updateAllAnnouncements = _.debounce(this.updateAllAnnouncements, 6E4, !0);
            return this.setInterval(function(b) {
                return function() {
                    return b.renderUnreadAnnouncementCount()
                }
            }(this), 3E4)
        };
        b.prototype.events = {
            click: "openAnnouncement",
            mouseover: "updateAllAnnouncements"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("woof_header"));
            this.renderUnreadAnnouncementCount();
            return this
        };
        b.prototype.renderUnreadAnnouncementCount = function() {
            var b, e;
            e = Ta.unreadCount();
            b = this.$(".header-btn");
            0 <= F.call(_.pluck(Ta.toJSON(), "type"), "downtime") ? (b.find(".js-phrase").text("Down for maintenance soon\u2026"), b.addClass("woof-alert")) : b.find(".js-phrase").text("New stuff!");
            y.isLoggedIn() && 0 < e ? b.removeClass("woof-crouch woof-hide").addClass("woof-up") : y.isLoggedIn() && da.get("tacoShow") > (new Date).getTime() ? b.removeClass("woof-up woof-hide").addClass("woof-crouch") :
                b.removeClass("woof-up woof-crouch woof-alert").addClass("woof-hide")
        };
        b.prototype.updateAllAnnouncements = function() {
            return bb.fetch()
        };
        b.prototype.openAnnouncement = function(b) {
            l.stop(b);
            this.updateAllAnnouncements();
            x.toggle({
                elem: this.$(".header-btn"),
                top: 40,
                view: y.me().getView(cf)
            });
            t("Header", "Announcement", "Unread", Ta.unreadCount())
        };
        return b
    }(A);
    cf = function(c) {
        function b() {
            this.openAnnouncementLink = k(this.openAnnouncementLink, this);
            this.clickGoogle = k(this.clickGoogle, this);
            this.clickFacebook =
                k(this.clickFacebook, this);
            this.clickTwitter = k(this.clickTwitter, this);
            this.clickBlog = k(this.clickBlog, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return bb.onAddRemove(this.render)
        };
        b.prototype.getViewTitle = function() {
            return "Announcements"
        };
        b.prototype.events = {
            "click .js-blog": "clickBlog",
            "click .js-t": "clickTwitter",
            "click .js-fb": "clickFacebook",
            "click .js-g": "clickGoogle",
            "click a": "openAnnouncementLink"
        };
        b.prototype.render = function() {
            var b, e, c, f, h, m;
            b = {
                announcements: bb.toJSON()
            };
            c = {
                announcement: v.announcement
            };
            m = bb.getUnread();
            f = 0;
            for (h = m.length; f < h; f++) e = m[f], e.markRead();
            da.set("tacoShow", (new Date).addMinutes(60).getTime());
            this.$el.html(v.fill("header_announcements", b, {}, c));
            return this
        };
        b.prototype.clickBlog = function() {
            return t("Header", "Announcements Menu", "Trello Blog")
        };
        b.prototype.clickTwitter = function() {
            return t("Header", "Announcements Menu", "Twitter Link")
        };
        b.prototype.clickFacebook = function() {
            return t("Header",
                "Announcements Menu", "Facebook Link")
        };
        b.prototype.clickGoogle = function() {
            return t("Header", "Announcements Menu", "Google+ Link")
        };
        b.prototype.openAnnouncementLink = function(b) {
            if (!$(b.target).closest("a").is(".js-blog, .js-t, .js-fb, .js-g, .js-close-popover")) return t("Info", "Announcements", "Open Announcement Link")
        };
        return b
    }(A);
    Eb = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "header-banner header-banner-warning";
        return b
    }(A);
    ef = function(c) {
        function b() {
            this.render =
                k(this.render, this);
            this.initialize = k(this.initialize, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            var b, e, c, f;
            c = {
                gmail: /@(gmail|googlemail).com$/,
                yahoo: /@(yahoo|ymail).com$/,
                live: /@(hotmail|live).com$/,
                mac: /@(me|mac).com$/
            };
            b = {
                gmail: "http://gmail.com",
                yahoo: "http://mail.yahoo.com",
                live: "http://live.com",
                mac: "https://www.icloud.com/"
            };
            for (e in c)
                if (f = c[e], f.test(this.model.get("email"))) {
                    this.emailInboxUrl = b[e];
                    break
                }
            if (null == this.emailInboxUrl) return S({
                url: "/checkYourEmail",
                data: {
                    email: this.model.get("email")
                },
                dataType: "json",
                success: function(b) {
                    return function(d) {
                        if (null == d.error) return b.emailInboxUrl = d.url, b.render()
                    }
                }(this)
            })
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            null != this.emailInboxUrl && (b.emailInboxUrl = this.emailInboxUrl, b.knownEmailProvider = !0);
            this.$el.html(v.fill("header_warning_banner", b));
            return this
        };
        return b
    }(Eb);
    rf = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.model.bind("change:loginTypes", function(b) {
                return function() {
                    b.$el.toggle(!y.canLogIn());
                    return $(window).triggerHandler("resize")
                }
            }(this))
        };
        b.prototype.events = {
            "click .js-change-password": "changePassword"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("header_warning_password", this.model.toJSON()));
            return this
        };
        b.prototype.changePassword = function(b) {
            l.stop(b);
            t("Member View", "Account Page", "Open Change Password Menu");
            return x.toggle({
                elem: this.$(".js-change-password"),
                top: 24,
                view: this.model.getView(Gb)
            })
        };
        return b
    }(Eb);
    qf = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.model.ond("change:prefs", this.render)
        };
        b.prototype.render = function() {
            var b, e, c;
            c = this.model.toJSON();
            b = this.model.get("prefs");
            e = "public" === b.voting;
            b = "public" === b.comments;
            c.interactions = e && b ? "subscribe, vote or comment on" : e ? "subscribe or vote on" : b ? "subscribe or comments on" : "subscribe to";
            e = encodeURIComponent(B.getBoardUrl(this.modelCache, this.model));
            c.signupUrl = "/signup?returnUrl=" + e + "&source=public-board-banner";
            c.tourUrl = "/tour?board=" + e + "&source=public-board-banner";
            this.$el.html(v.fill("header_public_board", c));
            return this
        };
        return b
    }(Eb);
    nf = function(c) {
        function b() {
            this.showLoginOrSignupDialog = k(this.showLoginOrSignupDialog, this);
            this.switchAccounts = k(this.switchAccounts, this);
            this.createNewAccount = k(this.createNewAccount, this);
            this.ignoreInvite = k(this.ignoreInvite, this);
            this.hideHeader =
                k(this.hideHeader, this);
            this.joinModel = k(this.joinModel, this);
            this.render = k(this.render, this);
            this.getGhost = k(this.getGhost, this);
            this.getMemberAdder = k(this.getMemberAdder, this);
            this.getInviteToken = k(this.getInviteToken, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-join-model": "joinModel",
            "click .js-ignore-invite": "ignoreInvite",
            "click .js-switch-accounts": "switchAccounts",
            "click .js-create-new-account": "createNewAccount"
        };
        b.prototype.className = "header-banner header-banner-warning header-banner-invited";
        b.prototype.initialize = function() {
            this.boardOrOrg = this.options.idBoard ? this.Board.get(this.options.idBoard) : this.Organization.get(this.options.idOrganization);
            return O["for"](this.modelCache).loadMemberEmail(this.getGhost().id, function(b) {
                return function(e, c) {
                    null != (null != c ? c.email : void 0) && S({
                        url: "/1/search/members/",
                        type: "get",
                        data: {
                            query: c.email
                        },
                        dataType: "json",
                        success: function(e) {
                            if (!_.isEmpty(e) && "normal" === e[0].memberType) return b.hasAccount = !0
                        }
                    });
                    return b.render()
                }
            }(this))
        };
        b.prototype.getInviteToken =
            function() {
                return l.inviteTokenFor(this.boardOrOrg.id)
            };
        b.prototype.getMemberAdder = function() {
            var b;
            b = this.getInviteToken().split("-")[1];
            return this.Member.get(b)
        };
        b.prototype.getGhost = function() {
            var b;
            b = this.getInviteToken().split("-")[0];
            return this.Member.get(b)
        };
        b.prototype.render = function() {
            var b, e, c;
            b = this.model.toJSON();
            b.isLoggedIn = y.isLoggedIn();
            b[this.boardOrOrg.typeName.toLowerCase()] = this.boardOrOrg.toJSON();
            b.modelType = this.boardOrOrg.typeName;
            e = this.getMemberAdder();
            null != e && (b.memberAdder =
                e.toJSON(), b.isInviter = y.isMe(e));
            b.ghost = null != (c = this.getGhost()) ? c.toJSON() : void 0;
            $(this.el).html(v.fill("header_invite", b));
            return this
        };
        b.prototype.joinModel = function(b) {
            var e;
            l.stop(b);
            return y.isLoggedIn() ? (e = _.extend(this.model.toJSON(), {
                ghostEmail: this.getGhost().get("email")
            }), df.toggle({
                elem: $(b.target),
                top: 35,
                model: this.model,
                title: "Add Email Address?",
                data: e,
                confirmText: "Add",
                fxConfirm: function(b) {
                    return function() {
                        var d, e, c;
                        e = b.options.idBoard ? "board" : "organization";
                        d = null != (c = b.options.idBoard) ?
                            c : b.options.idOrganization;
                        return S({
                            url: "/associate-json/" + e + "/" + d + "/" + l.inviteTokenFor(d),
                            dataType: "json",
                            type: "post",
                            success: function(d) {
                                if (null == d.error) return b.deleteTokenCookie(), b.hideHeader(), Q.show("You have joined this " + e, "info", null, 5E3)
                            }
                        })
                    }
                }(this)
            })) : this.showLoginOrSignupDialog()
        };
        b.prototype.deleteTokenCookie = function() {
            var b;
            return $.cookie("invite-token-" + (null != (b = this.options.idBoard) ? b : this.options.idOrganization), null, {
                path: "/"
            })
        };
        b.prototype.hideHeader = function() {
            $(this.el).hide();
            return l.calcBoardLayout()
        };
        b.prototype.ignoreInvite = function(b) {
            l.stop(b);
            if (null != this.getGhost()) return this.boardOrOrg.memberList.remove(this.getGhost(), {
                invite: !0,
                success: function(b) {
                    return function() {
                        b.hideHeader();
                        b.deleteTokenCookie();
                        return Q.show("You did not join this board", "error", null, 5E3)
                    }
                }(this)
            })
        };
        b.prototype.createNewAccount = function(b) {
            l.stop(b);
            t("Header", "Login/Signup Menu", "Open Login/Signup Menu: Create New");
            return this.showLoginOrSignupDialog(!0)
        };
        b.prototype.switchAccounts =
            function(b) {
                l.stop(b);
                t("Header", "Login/Signup Menu", "Open Login/Signup Menu");
                return this.showLoginOrSignupDialog()
            };
        b.prototype.showLoginOrSignupDialog = function(b) {
            b = b ? !1 : this.hasAccount;
            return ka.show({
                view: new of({
                    model: this.Member.get(y.myId()),
                    modelCache: this.modelCache,
                    idGhost: this.getGhost().id,
                    idModel: this.boardOrOrg.id,
                    hasAccount: b,
                    modelType: this.options.idBoard ? "board" : "organization"
                })
            })
        };
        return b
    }(Eb);
    df = function(c) {
        function b() {
            b.__super__.constructor.apply(this, arguments);
            this.template =
                "confirm_merge"
        }
        n(b, c);
        b.prototype.render = function() {
            b.__super__.render.apply(this, arguments);
            this.appendSubview(this.subview(Ka, this.model), this.$(".js-member"));
            return this
        };
        return b
    }(pa);
    ff = function(c) {
        function b() {
            this.newOrg = k(this.newOrg, this);
            this.newBoard = k(this.newBoard, this);
            this.newCard = k(this.newCard, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Add"
        };
        b.prototype.events = {
            "click .js-new-card": "newCard",
            "click .js-new-board": "newBoard",
            "click .js-new-org": "newOrg"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("header_add_menu"));
            return this
        };
        b.prototype.newCard = function() {
            t("Header", "Add Menu", "New Card");
            return x.pushView({
                view: new CreateCardView({
                    model: this.model,
                    modelCache: this.modelCache
                })
            })
        };
        b.prototype.newBoard = function() {
            t("Header", "Add Menu", "New Board");
            return x.pushView({
                view: new pd({
                    model: this.model,
                    modelCache: this.modelCache
                })
            })
        };
        b.prototype.newOrg = function() {
            t("Header", "Add Menu", "New Org");
            return x.pushView({
                view: new Pb({
                    model: this.model,
                    modelCache: this.modelCache
                })
            })
        };
        return b
    }(A);
    of = function(c) {
        function b() {
            this.clickTab = k(this.clickTab, this);
            this.setFocusTo = k(this.setFocusTo, this);
            this.clickFormPart = k(this.clickFormPart, this);
            this.mouseenterFormPart = k(this.mouseenterFormPart, this);
            this.loginGoogle = k(this.loginGoogle, this);
            this.loginPassword = k(this.loginPassword, this);
            this.createAccount = k(this.createAccount, this);
            this.addMouseenterFormPartEvent = k(this.addMouseenterFormPartEvent, this);
            this.setDefaultActive = k(this.setDefaultActive,
                this);
            this.render = k(this.render, this);
            this.remove = k(this.remove, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Log In or Sign Up"
        };
        b.prototype.className = "login-signup-popover";
        b.prototype.remove = function() {
            this.$el.remove();
            return this
        };
        b.prototype.events = {
            "mouseenter .js-default-active": "addMouseenterFormPartEvent",
            "click .js-form-part": "clickFormPart",
            "click .js-tabs a": "clickTab",
            "click .js-google-login": "loginGoogle",
            "click .js-password-login": "loginPassword",
            "click .js-create-account": "createAccount"
        };
        b.prototype.render = function() {
            var b;
            b = this.Member.get(this.options.idGhost).toJSON();
            b.hasAccount = this.options.hasAccount;
            $(this.el).html(v.fill("hybrid_signup_login", b));
            _.defer(this.setDefaultActive);
            this.$(".js-insert-tooltip").html(y.me().getView(uf).render().el);
            return this
        };
        b.prototype.setDefaultActive = function() {
            this.setFocusTo(this.$(".js-default-active"));
            return this.$(".js-active-box").removeClass("start")
        };
        b.prototype.addMouseenterFormPartEvent =
            function() {
                this.$(".js-default-active").unbind("mouseenter");
                return this.$(".js-form-part").bind("mouseenter", this.mouseenterFormPart)
            };
        b.prototype.disableCreateAccount = function() {
            this.createDisabled = !0;
            return this.$(".js-create-account").attr("disabled", "disabled")
        };
        b.prototype.enableCreateAccount = function() {
            this.createDisabled = !1;
            return this.$(".js-create-account").removeAttr("disabled")
        };
        b.prototype.createAccount = function(b) {
            l.stop(b);
            if (!this.createDisabled) return t("Invite Header", "Create Account"),
                TRMixpanel.justSignedUp(), this.$(".js-bad-password").hide(), this.$(".js-bad-full-name").hide(), this.$(".js-bad-email").hide(), this.$(".js-used-email").hide(), b = $(b.target).closest("form"), this.disableCreateAccount(), S({
                    type: "POST",
                    dataType: "json",
                    url: "/signup-invitation",
                    data: {
                        email: b.find('input[name="email"]').val(),
                        idModel: this.options.idModel,
                        type: this.options.modelType,
                        fullName: b.find('input[name="fullName"]').val(),
                        password: b.find('input[name="password"]').val(),
                        inviteToken: l.inviteTokenFor(this.options.idModel)
                    },
                    success: function(b) {
                        return function(d) {
                            if (d.success || /invalid invitation/.test(d.error)) return location.reload();
                            if (/password/.test(d.error)) return b.$(".js-bad-password").show(), b.enableCreateAccount();
                            if (/fullName/.test(d.error)) return b.$(".js-bad-full-name").show(), b.enableCreateAccount();
                            if (/email/.test(d.error)) return b.enableCreateAccount(), /in use/.test(d.error) ? b.$(".js-used-email").show() : b.$(".js-bad-email").show()
                        }
                    }(this)
                })
        };
        b.prototype.loginPassword = function(b) {
            l.stop(b);
            t("Invite Header",
                "Log In", "Password");
            TRMixpanel.justLoggedIn();
            b = $(b.target).closest("form");
            b.find('input[name="returnUrl"]').val(document.location.pathname);
            return b.submit()
        };
        b.prototype.loginGoogle = function(b) {
            l.stop(b);
            t("Invite Header", "Log In", "Google");
            TRMixpanel.justLoggedIn();
            b = $(b.target).closest("form");
            b.find('input[name="login"]').val(!0);
            b.find('input[name="mode"]').val("popup");
            b.find('input[name="immediate"]').val(!1);
            b.find('input[name="returnUrl"]').val(document.location.pathname);
            return b.submit()
        };
        b.prototype.mouseenterFormPart = function(b) {
            if (!ha.isTouch() && 0 === this.$("*:input:focus").length && 0 === this.$(".js-tooltip-content.active").length) return this.setFocusTo($(b.target).closest(".js-form-part"))
        };
        b.prototype.clickFormPart = function(b) {
            if (!ha.isTouch()) return this.setFocusTo($(b.target).closest(".js-form-part"))
        };
        b.prototype.setFocusTo = function(b) {
            var e, c, f, h, m;
            b.siblings(".js-form-part").removeClass("active");
            b.addClass("active");
            this.$(".js-tab").removeClass("active");
            this.$(".js-tab[data-content=" +
                this.$(".js-form-part.active").attr("data-id") + "]").addClass("active");
            h = ["js-signup-form-pos", "js-login-form-pos"];
            m = [];
            c = 0;
            for (f = h.length; c < f; c++) e = h[c], m.push(this.$(".js-active-box").toggleClass(e, b.hasClass(e)));
            return m
        };
        b.prototype.clickTab = function(b) {
            b = this.$("." + $(b.target).attr("data-content"));
            return this.setFocusTo(b)
        };
        return b
    }(A);
    var Ua, vf, qd, pc, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b,
                e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    Ua = function(c) {
        function b() {
            this.switchSections = k(this.switchSections, this);
            this.setSectionLabel = k(this.setSectionLabel, this);
            this.renderArchivedLists = k(this.renderArchivedLists, this);
            this.loadData = k(this.loadData, this);
            this.render = k(this.render, this);
            this.debouncedLoadData = this.debounce(this.loadData, 400);
            this.results = {};
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Archive"
        };
        b.viewName = "CardAndListArchiveView";
        b.prototype.displayTypeClass = "sidebar-display-wide";
        b.prototype.className = "board-widgets-content fancy-scrollbar";
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.CARDS_PER_PAGE = 10;
            this.section = "cards";
            this.loading = !0;
            this.isSearching = !1;
            this.debouncedRenderCards = this.debounce(this.renderArchivedCards, 50);
            this.listenTo(this.modelCache,
                "add:Card remove:Card reset:Card change:Card:closed", function(b) {
                    return function() {
                        return b.debouncedRenderCards()
                    }
                }(this));
            return this.modelCache.ond("add:List remove:List reset:List change:List:closed", this.renderArchivedLists)
        };
        b.prototype.events = {
            "click .js-switch-section": "switchSections",
            "click .js-more-archive-cards": "getMoreCards",
            "keyup .js-search": "keyupArchiveEvent"
        };
        b.prototype._getArchivedCards = function() {
            return this.Card.find(function(b) {
                return function(e) {
                    return e.get("idBoard") ===
                        b.model.id && e.get("closed")
                }
            }(this))
        };
        b.prototype._getArchivedLists = function() {
            return this.List.find(function(b) {
                return function(e) {
                    return e.get("idBoard") === b.model.id && e.get("closed")
                }
            }(this))
        };
        b.prototype.getMoreCards = function() {
            var b, e, c, f, h;
            b = this.model;
            if ("cards" === this.section) return this.loading = !0, e = this._getArchivedCards(), c = {
                limit: this.CARDS_PER_PAGE,
                before: null != (h = "function" === typeof(f = _.min(_.map(e, function(b) {
                        return M.parse(b.get("dateLastActivity"))
                    }))).getTime ? f.getTime() : void 0) ?
                    h : null
            }, O["for"](this.modelCache).loadClosedCards(b.id, c, function(b) {
                return function(d, e) {
                    b.hasMoreCards = e.length === c.limit;
                    b.loading = !1;
                    b.renderArchivedCards()
                }
            }(this))
        };
        b.prototype.getData = function() {
            var b, e;
            b = this.model;
            "cards" === this.section && (this.loading = !0, e = {
                limit: this.CARDS_PER_PAGE
            }, O["for"](this.modelCache).loadClosedCards(b.id, e, function(b) {
                return function(d, c) {
                    b.hasMoreCards = c.length === e.limit;
                    b.loading = !1;
                    b.renderArchivedCards()
                }
            }(this)))
        };
        b.prototype.render = function() {
            var b, e, c, f, h,
                m, k, l;
            b = "lists" === this.section;
            c = !b;
            b ? (k = this._getArchivedLists(), e = function(b) {
                return b.get("name")
            }) : (k = this._getArchivedCards(), e = function(b) {
                var d;
                return null != (d = 0 - new Date(b.get("dateLastActivity"))) ? d : 0
            });
            k = _.sortBy(k, e);
            e = this.model.toJSON();
            b = {
                loading: this.loading,
                empty: !this.loading && 0 === k.length,
                emptyMessage: "No archived " + (b ? "lists" : "cards") + ".",
                hasMoreCards: !this.loading && this.hasMoreCards && c
            };
            l = {
                editable: this.model.editable(),
                owned: this.model.owned()
            };
            e["section_" + this.section] = b["section_" +
                this.section] = !0;
            e.content = v.fill("archive_items", b, l);
            this.$el.html(v.fill("board_archive", e));
            this.setSectionLabel(this.section);
            this.$archiveItems = this.$(".js-archive-items");
            c ? (this.$(".archive-controls").addClass("viewing-cards").removeClass("viewing-lists"), h = qd, f = {
                reOpenText: "Send to Board",
                canDelete: !0
            }) : (this.$(".archive-controls").addClass("viewing-lists").removeClass("viewing-cards"), h = pc, f = {
                reOpenText: "Send to Board",
                canDelete: !1
            });
            c = function() {
                var b, d, e;
                e = [];
                b = 0;
                for (d = k.length; b < d; b++) m =
                    k[b], e.push(this.subview(h, m, f));
                return e
            }.call(this);
            this.appendSubviews(c, this.$archiveItems);
            _.defer(function() {
                return K.refreshCardSortable()
            });
            return this
        };
        b.prototype.keyupArchiveEvent = function(b) {
            var e, c;
            if (!(e = b.keyCode, 0 <= F.call(lc, e)) && !(c = b.keyCode, 0 <= F.call(Ob, c))) b = this.$(".js-search").val(), this.$(".js-search-loading").removeClass("hide"), "" === b ? this.renderArchivedCards("latest") : this.debouncedLoadData()
        };
        b.prototype.loadData = function() {
            var b, e;
            e = "is:archived " + this.$(".js-search").val();
            b = this.model.id;
            O["for"](this.modelCache).loadSearchData({
                query: e,
                modelTypes: "cards",
                idBoards: b,
                partial: !0
            }, function(b) {
                return function(d, e) {
                    b.results = e;
                    d || b.renderArchivedCards("searching")
                }
            }(this))
        };
        b.prototype.renderArchivedLists = function() {
            "lists" === this.section && this.render()
        };
        b.prototype.renderArchivedCards = function(b) {
            var e, c, f, h, m, k, l;
            null != b && (this.isSearching = "searching" === b);
            this.$(".js-search-loading").addClass("hide");
            this.$(".spinner.loading").toggleClass("hide", !this.loading);
            this.$(".js-more-archive-cards").toggleClass("hide",
                this.isSearching);
            if ("cards" === this.section && this.model.viewState.getCurrentSidebarView() === this) {
                null != (f = this.$archiveItems) && f.empty();
                b = this.isSearching ? this.results.cards : this._getArchivedCards();
                h = {
                    reOpenText: "Send to Board",
                    canDelete: !0
                };
                f = [];
                m = 0;
                for (k = b.length; m < k; m++) e = b[m], e = this.Card.get(e.id), f.push(this.subview(qd, e, h));
                this.appendSubviews(f, this.$archiveItems);
                this.hasMoreCards && !this.isSearching ? null != (c = this.$archiveItems) && c.append("<a class='show-more clear js-more-archive-cards' href='#'>Load more cards.</a>") :
                    0 === b.length && (c = {
                        message: "No archived cards."
                    }, this.isSearching && (c.message = "No archived card results."), null != (l = this.$archiveItems) && l.append(v.fill("empty_list", c)))
            }
            K.debounceArchivedCardsRefresh()
        };
        b.prototype.setSectionLabel = function() {
            var b;
            this.$(".js-current-section").html("" + l.toTitleCase(this.section));
            b = "lists";
            "lists" === this.section && (b = "cards");
            this.$(".js-new-section").html(b)
        };
        b.prototype.switchSections = function(b) {
            l.stop(b);
            "cards" === this.section ? this.section = "lists" : (this.isSearching = !1, this.section = "cards");
            this.getData();
            return this.render()
        };
        return b
    }(A);
    vf = function(c) {
        function b() {
            this.onReopen = k(this.onReopen, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.listenTo(this.model.boardList, {
                "change:closed add remove reset": this.render
            })
        };
        b.prototype.render = function() {
            var b, e, c;
            e = this.model.boardList;
            c = {
                empty: 0 === e.filter(function(b) {
                    return b.get("closed")
                }).length
            };
            this.$el.html(v.fill("closed_boards",
                c));
            b = this.$(".js-archive-items");
            e.forEach(function(e) {
                return function(c) {
                    if (c.get("closed")) return c = new pc({
                        model: c,
                        onReopen: e.onReopen
                    }), b.append(c.render().el)
                }
            }(this));
            return this
        };
        b.prototype.onReopen = function(b) {
            return B.displayBoard({
                idBoard: b.id
            })
        };
        return b
    }(A);
    pc = function(c) {
        function b() {
            this.reopen = k(this.reopen, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.tagName = "li";
        b.prototype.className = "clearfix";
        b.prototype.events = {
            "click .js-reopen": "reopen"
        };
        b.prototype.render = function() {
            var b, e, c, f;
            b = null != this.model.owned ? this.model.owned() : this.model.editable();
            e = this.model.toJSON();
            e.reOpenText = null != (f = this.options.reOpenText) ? f : "Re-open";
            e.url = "function" === typeof(c = this.model).getUrl ? c.getUrl() : void 0;
            this.$el.html(v.fill("archive_item", e, {
                editable: b
            }));
            return this
        };
        b.prototype.reopen = function(b) {
            l.preventDefault(b);
            x.hide();
            this.model.update({
                closed: !1
            }, function(b) {
                return function() {
                    var d;
                    t(b.model.typeName, "Reopen",
                        "Via Archive");
                    return "function" === typeof(d = b.options).onReopen ? d.onReopen(b.model) : void 0
                }
            }(this));
            return !1
        };
        return b
    }(A);
    qd = function(c) {
        function b() {
            this.deleteModel = k(this.deleteModel, this);
            this.openCard = k(this.openCard, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.tagName = "div";
        b.prototype.className = "archived-list-card";
        b.prototype.events = {
            "click .list-card": "openCard",
            "click .js-reopen": "reopen",
            "click .js-delete": "deleteModel"
        };
        b.prototype.render = function() {
            var b, e, c, f;
            b = null != this.model.owned ? this.model.owned() : this.model.editable();
            c = {
                reOpenText: null != (e = this.options.reOpenText) ? e : "Re-open",
                canDelete: null != (f = this.options.canDelete) ? f : !1
            };
            e = this.subview(Fa, this.model, {
                dontFilter: !0
            });
            this.$el.html(e.render().el).append(v.fill("archived_card_options", c, {
                editable: b
            }));
            return this
        };
        b.prototype.openCard = function(b) {
            l.stop(b);
            B.showCardDetail(this.model);
            ka.calcPos()
        };
        b.prototype.deleteModel = function(b) {
            var e;
            l.stop(b);
            pa.toggle({
                elem: null !=
                    (e = $(b.target).closest(".js-delete")) ? e[0] : void 0,
                top: 22,
                model: this.model,
                title: "Delete Card?",
                text: "All actions will be removed from the activity feed and you won't be able to re-open the card. There is no undo.",
                confirmText: "Delete",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(d) {
                        b.model.destroy();
                        return t("Card", "Delete", "Via Archive")
                    }
                }(this)
            })
        };
        return b
    }(pc);
    var rd;
    rd = function(c) {
        return function(b) {
            var d, e;
            for (d in b) e = b[d], _.isFunction(e) ? b[d] = new ze.Template(e) : b[d] = rd(e);
            return b
        }
    }(this);
    v = rd(v);
    v.fill = function(c, b, d, e) {
        var g;
        null == b && (b = {});
        null == d && (d = {});
        null == e && (e = {});
        c = v[c];
        b = _.extend({
            __ed: null != d ? d.editable : void 0,
            __own: null != d ? d.owned : void 0,
            __loggedIn: "undefined" !== typeof y && null !== y ? y.isLoggedIn() : void 0,
            __siteDomain: siteDomain,
            __avatarDomain: avatarDomain,
            __logoDomain: logoDomain,
            __gold: "undefined" !== typeof y && null !== y ? null != (g = y.me()) ? g.isGold() : void 0 : void 0
        }, b, "undefined" !== typeof ua && null !== ua ? ua.tests(d.idABTest) : void 0);
        return c.render(b, e)
    };
    v.fillFromModel =
        function(c, b, d, e) {
            var g;
            null == d && (d = {});
            null == e && (e = {});
            g = {
                editable: "function" === typeof b.editable ? b.editable() : void 0,
                owned: "function" === typeof b.owned ? b.owned() : void 0
            };
            d = _.extend(b.toJSON(), d);
            return v.fill(c, d, g, e)
        };
    v.fillMenu = function(c, b, d) {
        return v.fill("menu-base", {
            content: v.fill(c, b, d)
        })
    };
    var ab;
    ab = new(function() {
        function c() {
            $(rpc).on("ready", function(b) {
                return function() {
                    $(window).on("beforeunload", function() {
                        rpc.isUsingSocket() || b.sendStatus("disconnected");
                        b.markCurrentBoardAsViewed()
                    });
                    setInterval(b.sendStatus, rpc.isUsingSocket() ? l.getMs({
                        minutes: 5
                    }) : l.getMs({
                        minutes: 1
                    }));
                    b.sendStatus();
                    return $(Ja).bind("setStatus", function() {
                        return b.sendStatus()
                    })
                }
            }(this));
            $(rpc).on("updateModels deleteModels", function(b) {
                return function(d, e) {
                    var c;
                    null != e.idModelChannel && e.idModelChannel === (null != (c = B.getCurrentBoard()) ? c.id : void 0) && b.scheduleMarkCurrentBoardAsViewed()
                }
            }(this))
        }
        c.prototype.sendStatus = function(b) {
            null == b && (b = Ja.getStatus());
            if (y.isLoggedIn()) return rpc.sendStatus(b)
        };
        c.prototype.markCurrentBoardAsViewed =
            function() {
                var b;
                clearTimeout(this._markAsViewedTimeout);
                return null != (b = B.getCurrentBoard()) ? b.markAsViewed() : void 0
            };
        c.prototype.scheduleMarkCurrentBoardAsViewed = function() {
            clearTimeout(this._markAsViewedTimeout);
            return this._markAsViewedTimeout = setTimeout(function(b) {
                return function() {
                    return b.markCurrentBoardAsViewed()
                }
            }(this), l.getMs({
                minutes: 1
            }))
        };
        return c
    }());
    var uf, wf, sd, xf, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor =
                    c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    wf = new(function() {
        function c() {
            this.hide = k(this.hide, this);
            this.windowClick = k(this.windowClick, this);
            this.toggle = k(this.toggle, this);
            this.show = k(this.show, this);
            this.tooltip = null;
            $(window).bind("click", this.windowClick)
        }
        c.prototype.show = function(b, d) {
            var e, c, f, h, m;
            e = $(v.fill("tooltip-content", {
                tooltipText: b
            }));
            c = $(".tooltip-container");
            c.html(e);
            this.tooltip = {
                tooltipText: b,
                $anchor: d,
                $elem: e
            };
            f = d.offset();
            h = f.left;
            m = f.top;
            f = d.outerHeight();
            c.css({
                left: h - 5,
                top: m + f
            });
            return e.addClass("active")
        };
        c.prototype.toggle = function(b, d) {
            var e;
            return d.is(null != (e = this.tooltip) ? e.$anchor : void 0) ? this.hide() : this.show(b, d)
        };
        c.prototype.windowClick = function(b) {
            if (0 === $(b.target).closest(".js-tooltip-content").length || 0 !== $(b.target).closest(".js-tooltip-close-button").length) return this.hide()
        };
        c.prototype.hide = function() {
            var b;
            this.tooltip = null;
            b = $(".tooltip-container");
            b.find(".tooltip-content").removeClass("active");
            return _.delay(function(d) {
                return function() {
                    return b.empty()
                }
            }(this), 300)
        };
        return c
    }());
    sd = function(c) {
        function b() {
            this.toggleTooltip = k(this.toggleTooltip, this);
            this.isActive = k(this.isActive, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "tooltip";
        b.prototype.events = {
            "click .js-tooltip-trigger": "toggleTooltip"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("tooltip", {
                linkText: this.linkText,
                tooltipText: this.tooltipText
            }));
            return this
        };
        b.prototype.isActive = function() {
            return !0
        };
        b.prototype.toggleTooltip = function(b) {
            l.stop(b);
            if (this.isActive()) return wf.toggle(this.tooltipText, this.$(".js-tooltip-anchor"))
        };
        return b
    }(A);
    uf = function(c) {
        function b() {
            this.isActive = k(this.isActive, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.linkText = "How come my info's already there?";
        b.prototype.tooltipText = "The person who invited you kindly pre-filled some info to save you time. Wasn't that nice of them?";
        b.prototype.isActive = function() {
            return 0 !== this.$el.closest(".active").length
        };
        return b
    }(sd);
    xf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.linkText = "";
        b.prototype.tooltipText = "This user has not yet confirmed that the email address we have on file belongs to them.";
        return b
    }(sd);
    var qc, rc, Ba, sc, Hb, tc, uc, td, vc, Ca, mb, wc, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    Ba = [{
        name: "voting",
        description: "Allow people to vote on cards.",
        imageClass: "power-up-icon-image-voting",
        aboutTemplate: "power_ups_about_voting",
        settingsView: function(c) {
            return new vc({
                model: c
            })
        },
        backgroundColor: "hsl(82, 25%, 90%)",
        screenshots: ["https://d78fikflryjgj.cloudfront.net/images/powerups/voting/screenshots/5a3055ee42904ad84ba81830694e4a03/screenshot1.png"]
    }, {
        name: "cardAging",
        description: "Cards visibly age with inactivity.",
        imageClass: "power-up-icon-image-card-aging",
        aboutTemplate: "power_ups_about_card_aging",
        settingsView: function(c) {
            return new rc({
                model: c
            })
        },
        backgroundColor: "hsl(227, 14%, 90%)",
        screenshots: ["https://d78fikflryjgj.cloudfront.net/images/powerups/card-aging/screenshots/d073fc23fd31de74ff54d5d023e64478/screenshot1.png", "https://d78fikflryjgj.cloudfront.net/images/powerups/card-aging/screenshots/c80b3b4586309dc983d6de5c3d1a5607/screenshot2.png"]
    }, {
        name: "calendar",
        description: "See your cards with due dates on a calendar.",
        imageClass: "power-up-icon-image-calendar",
        aboutTemplate: "power_ups_about_calendar",
        settingsView: function(c) {
            return new qc({
                model: c
            })
        },
        backgroundColor: "hsl(204, 30%, 90%)",
        screenshots: ["https://d78fikflryjgj.cloudfront.net/images/powerups/calendar/screenshots/f6a00a55c883ce90c323f6f4b9d8bc57/screenshot1.png", "https://d78fikflryjgj.cloudfront.net/images/powerups/calendar/screenshots/a26f919154bc1834a54f02e485dca9dd/screenshot2.png",
            "https://d78fikflryjgj.cloudfront.net/images/powerups/calendar/screenshots/b1c5841496fcf25c103ec3951a318a8c/screenshot_mobile1.png"
        ]
    }];
    mb = 0;
    for (wc = Ba.length; mb < wc; mb++) Ca = Ba[mb], Ca.displayName = ib.powerUpNames[Ca.name];
    td = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            var b, e, c;
            this.listView = new uc({
                model: this.model
            });
            this.currentMode = "list";
            this.detailViews = {};
            c = [];
            b = 0;
            for (e = Ba.length; b < e; b++) Ca = Ba[b], c.push(this.detailViews[Ca.name] =
                new sc({
                    model: this.model,
                    powerUp: Ca
                }));
            return c
        };
        b.prototype.events = {
            "click .js-back-view": "showListView",
            "click .js-power-up-detail": "showDetailView"
        };
        b.prototype.render = function() {
            this.$el.empty().append(this.listView.render().el);
            return this
        };
        b.prototype.showListView = function(b) {
            l.stop(b);
            this.$el.empty().append(this.listView.render().el);
            this.listView.delegateEvents();
            this.currentMode = "list";
            return this.$el.css({
                background: "",
                backgroundColor: ""
            })
        };
        b.prototype.showDetailView = function(b) {
            var e,
                c;
            l.stop(b);
            if ("detail" !== this.currentMode) return e = $(b.target).closest(".js-power-up-detail").find(".js-power-up-name").attr("data-power-up-name"), this.$el.empty().append(this.detailViews[e].render().el), b = null != (c = _.find(Ba, function(b) {
                return b.name === e
            }).backgroundColor) ? c : "", this.$el.css({
                backgroundColor: b
            }), this.detailViews[e].delegateEvents(), this.currentMode = "detail"
        };
        return b
    }(A);
    uc = function(c) {
        function b() {
            this.renderPowerUpsLength = k(this.renderPowerUpsLength, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            var b, e, c, f;
            this.listenTo(this.model, {
                "change:powerUps": this.renderPowerUpsLength
            });
            this.iconViews = [];
            f = [];
            e = 0;
            for (c = Ba.length; e < c; e++) Ca = Ba[e], b = {
                model: this.model,
                powerUp: Ca,
                viewType: "list"
            }, f.push(this.iconViews.push(new Hb(b)));
            return f
        };
        b.prototype.render = function() {
            this.$el.html(v.fillFromModel("power_ups_list", this.model));
            this.renderPowerUps();
            this.renderPowerUpsLength();
            return this
        };
        b.prototype.delegateEvents = function() {
            var d, e, c, f, h;
            b.__super__.delegateEvents.apply(this,
                arguments);
            f = this.iconViews;
            h = [];
            e = 0;
            for (c = f.length; e < c; e++) d = f[e], h.push(d.delegateEvents());
            return h
        };
        b.prototype.renderPowerUpsLength = function() {
            var b, e;
            e = this.model.get("powerUps").length;
            b = this.$(".js-power-up-count").empty().addClass("hide");
            if (0 < e) return b.text("" + e + " enabled").removeClass("hide")
        };
        b.prototype.renderPowerUps = function() {
            var b, e, c, f, h, m;
            b = this.$(".js-power-up-list").empty();
            h = this.iconViews;
            m = [];
            c = 0;
            for (f = h.length; c < f; c++) e = h[c], m.push(b.append(e.render().el));
            return m
        };
        return b
    }(A);
    sc = function(c) {
        function b() {
            this.renderContent = k(this.renderContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "power-up-detail";
        b.prototype.initialize = function(b) {
            this.powerUp = b.powerUp;
            this.listenTo(this.model, {
                "change:powerUps": this.renderContent
            });
            this.toolbarSelection = "settings";
            this.iconView = new Hb({
                model: this.model,
                powerUp: this.powerUp,
                viewType: "detail"
            });
            return this.screenshotsView = new tc({
                model: this.model,
                powerUp: this.powerUp
            })
        };
        b.prototype.events = {
            "click .js-toolbar-select": "selectContentSection"
        };
        b.prototype.render = function() {
            this.$el.html(v.fillFromModel("power_up_detail", this.model));
            this.renderIcon();
            this.renderContent();
            return this
        };
        b.prototype.delegateEvents = function() {
            b.__super__.delegateEvents.apply(this, arguments);
            return this.iconView.delegateEvents()
        };
        b.prototype.renderIcon = function() {
            return this.$(".js-power-up-icon").empty().append(this.iconView.render().el)
        };
        b.prototype.powerUpEnabled = function() {
            var b;
            return b = this.powerUp.name,
                0 <= F.call(this.model.get("powerUps"), b)
        };
        b.prototype.renderContent = function() {
            this.renderNavBar();
            if (this.powerUpEnabled()) switch (this.toolbarSelection) {
                case "screenshots":
                    return this.renderScreenshots();
                default:
                    return this.renderSettings()
            } else return this.renderScreenshots()
        };
        b.prototype.renderNavBar = function() {
            var b, e;
            b = this.$(".js-power-up-detail-navbar").empty();
            if (this.powerUpEnabled()) return e = {
                screenshots: "screenshots" === this.toolbarSelection,
                settings: "settings" === this.toolbarSelection
            }, b.html(v.fillFromModel("power_ups_detail_navbar",
                this.model, e))
        };
        b.prototype.renderSectionContent = function(b) {
            return this.$(".js-power-up-detail-content").empty().append(b)
        };
        b.prototype.renderScreenshots = function() {
            this.renderSectionContent(this.screenshotsView.render().el);
            return this.screenshotsView.delegateEvents()
        };
        b.prototype.renderSettings = function() {
            var b;
            b = this.powerUp.settingsView(this.model);
            this.renderSectionContent(b.render().el);
            return b.delegateEvents()
        };
        b.prototype.selectContentSection = function(b) {
            l.stop(b);
            this.toolbarSelection =
                $(b.target).attr("name");
            return this.renderContent()
        };
        return b
    }(A);
    tc = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "power-up-screenshots-wrapper";
        b.prototype.initialize = function(b) {
            this.powerUp = b.powerUp
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("power_up_detail_screenshots", {
                screenshots: this.powerUp.screenshots
            }));
            return this
        };
        return b
    }(A);
    Hb = function(c) {
        function b() {
            this.renderEnabled = k(this.renderEnabled, this);
            this.render =
                k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "power-up-icon js-power-up-detail";
        b.prototype.initialize = function(b) {
            this.powerUp = b.powerUp;
            this.viewType = b.viewType;
            return this.listenTo(this.model, {
                "change:powerUps": this.renderEnabled
            })
        };
        b.prototype.events = {
            "click .js-toggle-power-up:not(.enabled)": "enablePowerUp",
            "click .js-toggle-power-up.enabled": "disablePowerUp"
        };
        b.prototype.render = function() {
            var b;
            b = _.clone(this.powerUp);
            "detail" === this.viewType ?
                b.powerUpDesc = v.fill(this.powerUp.aboutTemplate) : (b.powerUpDesc = this.powerUp.description, b.isListView = !0);
            this.$el.html(v.fillFromModel("power_up_icon", this.model, b));
            this.renderEnabled();
            return this
        };
        b.prototype.enablePowerUp = function() {
            return this.model.addToSet("powerUps", this.powerUp.name)
        };
        b.prototype.disablePowerUp = function() {
            this.model.pull("powerUps", this.powerUp.name);
            if ("calendar" === this.powerUp.name) return B.getCurrentBoardView().closeCalendarIfOpen()
        };
        b.prototype.renderEnabled = function() {
            var b,
                e;
            b = (e = this.powerUp.name, 0 <= F.call(this.model.get("powerUps"), e));
            this.$(".js-toggle-btn").text(b ? "Disable" : "Enable").toggleClass("enabled", b).toggleClass("primary", !b);
            return this.$(".js-enabled-badge").toggleClass("hide", !b)
        };
        b.prototype.renderButtonState = function() {
            var b;
            b = this.powerUp.name;
            F.call(this.model.get("powerUps"), b);
            this.$(".js-toggle-btn").text(txt)
        };
        return b
    }(A);
    vc = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "fixed-width voting-prefs";
        b.prototype.initialize = function() {
            return this.listenTo(this.model, {
                "change:prefs": this.render
            })
        };
        b.prototype.events = {
            "click .js-voting-select:not(.disabled)": "selectPerm",
            "mouseenter .js-voting-select": "showSoftCheckMarks",
            "mouseleave .js-voting-select": "clearSoftCheckMarks"
        };
        b.prototype.render = function() {
            var b, e, c;
            b = this.model.toJSON({
                prefs: !0,
                url: !0
            });
            e = this.model.getOrganization();
            b.hasOrg = null != (null != e ? e.id : void 0);
            b.orgCanSee = b.hasOrg && ("public" ===
                (c = this.model.getPref("permissionLevel")) || "org" === c);
            b.premium = null != e ? e.isFeatureEnabled("observers") : void 0;
            b.voting_showObservers = (b.premium || b.voting_observers) && b.hasOrg;
            null != e && e.owned() ? (b.orgOwner = !0, b.orgName = e.get("displayName"), this.model.owned() || (b.setOrgNull = !0)) : this.model.owned() || (b.noEditOrg = !0);
            this.$el.html(v.fillFromModel("power_ups_voting_prefs", this.model, b));
            b = this.$(".icon-check");
            e = this.$(".checked-option")[0];
            b = b.index(e);
            this.displayChecksAbove(b, "checked-option");
            return this
        };
        b.prototype.selectPerm = function(b) {
            l.stop(b);
            b = $(b.target).closest(".js-voting-select").attr("name");
            return this.model.setPref("voting", b)
        };
        b.prototype.showSoftCheckMarks = function(b) {
            b = $(b.target).closest(".js-voting-select")[0];
            b = this.$(".js-voting-select").index(b);
            return this.displayChecksAbove(b, "soft-check")
        };
        b.prototype.clearSoftCheckMarks = function() {
            return this.displayChecksAbove(-1, "soft-check")
        };
        b.prototype.displayChecksAbove = function(b, e) {
            return this.$(".js-voting-select").each(function(c,
                f) {
                var h;
                if (!$(f).hasClass("disabled") && !$(f).children(".icon-check").hasClass("checked-option")) return h = $(f).children("div.icon-check"), c <= b ? h.addClass(e) : h.removeClass(e)
            })
        };
        return b
    }(A);
    rc = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "fixed-width card-aging-prefs";
        b.prototype.initialize = function() {
            return this.listenTo(this.model, {
                "change:prefs": this.render
            })
        };
        b.prototype.events = {
            "click .js-select:not(.disabled)": "selectMode"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0,
                url: !0
            }).prefs;
            this.$el.html(v.fillFromModel("power_ups_card_aging_prefs", this.model, {
                aging_regular: "regular" === b.cardAging,
                aging_pirate: "pirate" === b.cardAging
            }));
            return this
        };
        b.prototype.selectMode = function(b) {
            l.stop(b);
            b = $(b.target).closest(".js-select").attr("name");
            return this.model.setPref("cardAging", b)
        };
        return b
    }(A);
    qc = function(c) {
        function b() {
            this.render = k(this.render, this);
            this.generateNewFeedURL = k(this.generateNewFeedURL,
                this);
            this.generationComplete = k(this.generationComplete, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "fixed-width calendar-prefs";
        b.prototype.initialize = function() {
            this.generating = !1;
            return this.listenTo(this.model, {
                "change:prefs": this.render,
                "change:myPrefs.calendarKey": this.generationComplete
            })
        };
        b.prototype.events = {
            "click .js-calendar-pref-feed:not(.disabled)": "selectFeedEnabled",
            "click .js-calendar-feed-url:not(:disabled)": "focusInput",
            "click .js-regen-calendar-url:not(.disabled)": "generateNewFeedURL"
        };
        b.prototype.generationComplete = function() {
            this.generating = !1;
            return this.render()
        };
        b.prototype.generateNewFeedURL = function(b) {
            l.stop(b);
            this.generating = !0;
            this.model.generateCalendarKey();
            return this.render()
        };
        b.prototype.render = function() {
            var b, e, c;
            c = this.model.toJSON({
                prefs: !0
            }).prefs;
            e = this.model.getPref("calendarKey");
            b = "webcal://" + location.host + "/calendar/" + y.me().id + "/" + this.model.id + "/" + e + ".ics";
            e || (this.generating = !0, this.model.generateCalendarKey());
            this.$el.html(v.fillFromModel("power_ups_calendar_prefs",
                this.model, {
                    calendar_feed_enabled: c.calendarFeedEnabled,
                    calendar_feed_generated: null != e && !this.generating,
                    calendar_feed_url: b
                }));
            return this
        };
        b.prototype.focusInput = function(b) {
            return this.$(".js-calendar-feed-url").focus().select()
        };
        b.prototype.selectFeedEnabled = function(b) {
            l.stop(b);
            b = "enabled" === $(b.target).closest("a").attr("name");
            return this.model.setPref("calendarFeedEnabled", b)
        };
        return b
    }(A);
    var ud, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        F = [].indexOf || function(c) {
            for (var b =
                0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    ud = function() {
        function c() {
            this.removeDropHover = k(this.removeDropHover, this);
            this.drop = k(this.drop, this);
            this.dragend = k(this.dragend, this);
            this.dragexit = k(this.dragexit, this);
            this.dragleave = k(this.dragleave, this);
            this.dragover = k(this.dragover, this);
            this.dragenter = k(this.dragenter, this);
            this._isDraggingFiles = k(this._isDraggingFiles, this)
        }
        c.prototype._files = function(b) {
            var d, e, c;
            return null != (d = null != (e = b.originalEvent) ? null != (c = e.dataTransfer) ?
                c.files : void 0 : void 0) ? d : []
        };
        c.prototype._urls = function(b, d) {
            var e, c, f, h;
            e = null != (c = b.originalEvent) ? c.dataTransfer : void 0;
            return null != (null != e ? e.items : void 0) ? (e = _.filter(null != (f = e.items) ? f : [], function(b) {
                return "text/uri-list" === b.type
            }), async.map(e, function(b, d) {
                return b.getAsString(function(b) {
                    return d(null, b)
                })
            }, function(b, e) {
                return d(e)
            })) : (null != (h = 0 <= F.call(null != e ? e.types : void 0, "text/x-moz-url")) ? h : 1) ? d([e.getData("text/plain")]) : d([])
        };
        c.prototype._isDraggingFiles = function(b) {
            var d, e,
                c;
            b = null != (d = b.originalEvent) ? d.dataTransfer : void 0;
            return null != b && (null != b.items && _.any(b.items, function(b) {
                return "file" === b.kind || "text/uri-list" === b.type
            }) || null != b.types && _.any(b.types, function(b) {
                return "application/x-moz-file" === b || "text/x-moz-url" === b
            }) || 0 < (null != (e = b.files) ? e.length : void 0) && ("copy" === (c = b.effectAllowed) || "all" === c) || /mac/i.test(navigator.platform) && /safari/i.test(navigator.userAgent))
        };
        c.prototype.dragenter = function(b) {
            if (this._isDraggingFiles(b)) return x.hide(), l.stop(b),
                this.didEnter = !0, _.defer(function(b) {
                    return function() {
                        return b.didEnter = !1
                    }
                }(this)), this.model.editable() && this.$el.addClass("drophover"), !1
        };
        c.prototype.dragover = function(b) {
            var d;
            if (this._isDraggingFiles(b)) {
                if (null != (null != (d = b.originalEvent) ? d.dataTransfer : void 0)) b.originalEvent.dataTransfer.dropEffect = "copy";
                l.stop(b);
                return !1
            }
        };
        c.prototype.dragleave = function(b) {
            if (this._isDraggingFiles(b)) return l.stop(b), this.didEnter || this.removeDropHover(), !1
        };
        c.prototype.dragexit = function(b) {
            if (this._isDraggingFiles(b)) return l.stop(b), !1
        };
        c.prototype.dragend = function(b) {
            if (this._isDraggingFiles(b)) return l.stop(b), this.removeDropHover(), !1
        };
        c.prototype.drop = function(b) {
            var d, e, c, f;
            if (this._isDraggingFiles(b) && this.model.editable()) {
                l.stop(b);
                this.$el.removeClass("drophover");
                if (null != (null != (c = this.model) ? c.upload : void 0))
                    if (d = this._files(b), e = function(b) {
                        return function() {
                            var d, e, c;
                            return null != (d = y.me()) && d.isFeatureEnabled("largeAttachments") || null != (e = b.model.getBoard()) && null != (c = e.getOrganization()) && c.isFeatureEnabled("largeAttachments") ?
                                Q.show("File size exceeds 250MB limit", "error", "upload", 5E3) : Q.show("File size exceeds 10MB limit", "error", "upload", 5E3)
                        }
                    }(this), 0 < d.length) {
                        if (_.any(d, function(b) {
                            return !l.validCardUpload(b)
                        })) {
                            e();
                            return
                        }
                        async.forEachSeries(d, function(b) {
                            return function(d, e) {
                                return b.model.upload(d, e)
                            }
                        }(this), function(b) {
                            return function(c) {
                                Q.hide("upload");
                                1 < d.length && Q.show("Finished!", "info", "AjaxQueueUpload", 2E3);
                                c && e();
                                return b.removeDropHover()
                            }
                        }(this));
                        return
                    }
                if (null != (null != (f = this.model) ? f.uploadUrl : void 0)) return this._urls(b,
                    function(b) {
                        return function(d) {
                            return async.forEachLimit(d, 2, function(d, e) {
                                return _.any([siteDomain, attachmentsDomain, avatarDomain, logoDomain], function(b) {
                                    return 0 === d.indexOf(b)
                                }) ? e() : b.model.uploadUrl(d, "", e)
                            }, function() {})
                        }
                    }(this))
            }
        };
        c.prototype.removeDropHover = function() {
            return $(".drophover").removeClass("drophover")
        };
        return c
    }();
    var Qb, sb, vd, tb, oc, yf, wd, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype =
                new d;
            c.__super__ = b.prototype;
            return c
        },
        D = [].slice,
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    sb = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Mention\u2026"
        };
        b.prototype.events = {
            "mouseenter .js-select-member": "hoverItem",
            "click .js-select-member": "insertMember",
            "click .js-select-all-card-members": "selectAllCardMembers",
            "mouseenter .js-select-all-card-members": "deselectMember",
            "click .js-select-all-board-members": "selectAllBoardMembers",
            "mouseenter .js-select-all-board-members": "deselectMember",
            "click .js-select-all-commenters": "selectAllCommenters",
            "mouseenter .js-select-all-commenters": "deselectMember",
            keydown: "keydownEvent",
            "keyup .js-filter-mentionables": "keyupEvent"
        };
        b.prototype.render = function() {
            var b, e, c, f;
            this.getMembers();
            b = {};
            this.options.input && (b.input = !0);
            this.options.button && (b.button = !0);
            b.showAllCardMembers =
                0 < (e = this.idCardMems.length) && 12 > e;
            b.showAllBoardMembers = 0 < (c = this.idBoardMems.length) && 12 > c;
            b.showAllCommenters = 0 < (f = this.idCommenters.length) && 12 > f;
            this.$el.html(v.fill("popover_auto_mentioner", b));
            this.$memList = this.$(".js-available-members");
            b.button && (this.$(".js-select-all-card-members .mem-count").text("(" + this.idCardMems.length + ")"), this.$(".js-select-all-board-members .mem-count").text("(" + this.idBoardMems.length + ")"), this.$(".js-select-all-commenters .mem-count").text("(" + this.idCommenters.length +
                ")"), (b.showAllCardMembers || b.showAllBoardMembers || b.showAllCommenters) && this.$(".js-select-multiple-options").removeClass("hide"));
            this.options.button ? this.fillMembers(this.idAllMembers) : this.options.input && this.filterMentionables();
            return this
        };
        b.prototype.getCard = function() {
            return this.options.card
        };
        b.prototype.getTextInput = function() {
            return $(this.options.target)
        };
        b.prototype.getMembers = function() {
            var b, e, c;
            c = y.myId();
            e = this.getCard();
            b = e.getBoard();
            this.idCardMems = _.without(e.getIdCardMems(),
                c);
            this.idBoardMems = _.without(b.getIdBoardMems(), c);
            this.idCommenters = _.without(e.getIdCommenters(), c);
            this.idAllMembers = _.uniq(this.idCardMems.concat(this.idBoardMems).concat(this.idCommenters))
        };
        b.prototype.clearMemberList = function() {
            return this.$memList.empty()
        };
        b.prototype.keydownEvent = function(b) {
            var e;
            if (13 === (e = b.keyCode) || 9 === e) l.stop(b), this.$memList.find(".item.selected:first .js-select-member").click()
        };
        b.prototype.keyupEvent = function(b) {
            var e, c;
            if (!(13 === (e = b.keyCode) || 9 === e || 37 === e ||
                39 === e))
                if (38 === (c = b.keyCode) || 40 === c) l.stop(b), l.navMenuList(this.$memList, ".item", b.keyCode);
                else return this.filterMentionables()
        };
        b.prototype.filterMentionables = function(b) {
            var e, c, f, h, m, k;
            this.clearMemberList();
            this.options.button ? e = $(".js-filter-mentionables").val().trim().toLowerCase() : this.options.input && (e = this.getTextInput(), e = l.getWordFromCaret(e), e = e.str.substring(1).toLowerCase());
            h = RegExp("^" + l.escapeForRegex(e));
            b = this.idAllMembers;
            this.idMatchMems = [];
            m = 0;
            for (k = b.length; m < k; m++) c = b[m],
                f = l.getMemNameArray(this.modelCache, c), _.find(f, function(b) {
                    return h.test(b)
                }) && this.idMatchMems.push(c);
            if (this.options.input && (1 === this.idMatchMems.length && e === this.Member.get(this.idMatchMems[0]).get("username") || 0 === this.idMatchMems.length)) _.delay(function() {
                return x.hide()
            }, 5);
            else return this.fillMembers(this.idMatchMems), l.selectMenuItem(this.$memList, ".item", this.$memList.find(".item").first())
        };
        b.prototype.hoverItem = function(b) {
            b = $(b.target).closest(".item");
            return l.selectMenuItem(this.$memList,
                ".item", b)
        };
        b.prototype.deselectMember = function(b) {
            return this.$memList.find(".item").removeClass("selected")
        };
        b.prototype._membersFromIds = function(b) {
            return _.compact(_.map(b, function(b) {
                return function(d) {
                    return b.Member.get(d)
                }
            }(this)))
        };
        b.prototype.fillMembers = function(b) {
            var e, c, f;
            e = this._membersFromIds(b).slice(0, 6);
            this.$memList.empty();
            c = 0;
            for (f = e.length; c < f; c++) b = e[c], this.appendSubview(this.subview(Ka, b), this.$memList);
            this.$(".js-empty-list").toggleClass("hide", 0 < e.length);
            x.calcPos()
        };
        b.prototype.insertMember = function(b) {
            var e, c;
            l.stop(b);
            t("Card Detail", "Mention Member Autocomplete", "Insert");
            e = $(b.target).closest(".js-select-member").find(".username").text();
            b = this.getTextInput();
            this.options.button ? l.insertSelection(b, "@" + e + " ") : this.options.input && (c = l.getWordFromCaret(b), l.insertSelection(b, "@" + e + " ", c.start, c.end));
            x.hide()
        };
        b.prototype.selectAllCardMembers = function(b) {
            var e, c, f, h, m;
            l.stop(b);
            t("Card Detail", "Mention Member Autocomplete", "Insert - All Card Members");
            b = this.getTextInput().focus();
            e = "";
            m = this.idCardMems;
            f = 0;
            for (h = m.length; f < h; f++) c = m[f], c = this.Member.get(c).get("username"), e += "@" + c + " ";
            l.insertSelection(b, e);
            x.hide()
        };
        b.prototype.selectAllBoardMembers = function(b) {
            var e, c, f, h, m;
            l.stop(b);
            t("Card Detail", "Mention Member Autocomplete", "Insert - All Board Members");
            b = this.getTextInput().focus();
            e = "";
            m = this.idBoardMems;
            f = 0;
            for (h = m.length; f < h; f++) c = m[f], c = this.Member.get(c).get("username"), e += "@" + c + " ";
            l.insertSelection(b, e);
            x.hide()
        };
        b.prototype.selectAllCommenters = function(b) {
            var e,
                c, f, h, m;
            l.stop(b);
            t("Card Detail", "Mention Member Autocomplete", "Insert - All Commenters");
            b = this.getTextInput().focus();
            e = "";
            m = this._membersFromIds(this.idCommenters);
            f = 0;
            for (h = m.length; f < h; f++) c = m[f], c = c.get("username"), e += "@" + c + " ";
            l.insertSelection(b, e);
            x.hide()
        };
        return b
    }(A);
    oc = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Emoji"
        };
        b.prototype.events = {
            "mouseenter .js-select-emoji": "hoverItem",
            "click .js-select-emoji": "selectEmoji",
            keydown: "keydownEvent",
            "keyup .js-filter-emoji": "keyupEvent",
            "click .js-upload-emoji": "openEmojiUploader"
        };
        b.prototype.initialize = function() {
            this._customEmoji = {};
            if (y.me().isFeatureEnabled("customEmoji")) return null == y.me().get("customEmoji") && O["for"](this.modelCache).loadMemberCustomEmoji(y.myId(), this.updateCustomEmoji), this.listenTo(y.me().customEmojiList, "change add remove reset", this.updateCustomEmoji), this.updateCustomEmoji()
        };
        b.prototype.render = function() {
            var b;
            b = {};
            this.options.input && (b.input = !0);
            this.options.button && (b.button = !0);
            this.$el.html(v.fill("popover_emoji_completer", b));
            this.$emojiList = this.$(".js-available-emoji");
            this.options.input && this.filterEmoji(this.getInput());
            this.options.button && this.fillDefaultEmojiList();
            return this
        };
        b.prototype.keyupEvent = function(b) {
            var e, c;
            if (38 === (e = b.keyCode) || 40 === e) l.stop(b), l.navMenuList(this.$emojiList, ".item", b.keyCode);
            else if (!(13 === (c = b.keyCode) || 9 === c)) return b = this.getInput(), this.filterEmoji(b)
        };
        b.prototype.keydownEvent = function(b) {
            var e;
            if (13 === (e = b.keyCode) || 9 === e)
                if (l.stop(b), b = this.$emojiList.find(".item.selected:first .js-select-emoji"), 0 < b.length) return b.click()
        };
        b.prototype.updateCustomEmoji = function() {
            this._customEmoji = _.object(y.me().customEmojiList.map(function(b) {
                return [b.get("name"), b.get("value")]
            }));
            return this.render()
        };
        b.prototype.getTextInput = function() {
            return $(this.options.target)
        };
        b.prototype.getInput = function() {
            var b;
            if (this.options.button) return this.$(".js-filter-emoji").val();
            b = this.getTextInput();
            return l.getWordFromCaret(b).str.substring(1)
        };
        b.prototype.filterEmoji = function(b) {
            this.clearEmojiList();
            if (this.fillEmojiList(b)) return l.selectMenuItem(this.$emojiList, ".item", this.$emojiList.find(".item").first())
        };
        b.prototype.renderEmojiList = function(b) {
            var e, c, f, h;
            c = 0;
            for (f = b.length; c < f; c++) e = b[c], e = {
                name: e,
                image: null != (h = this._customEmoji[e]) ? h : Bb[e]
            }, this.$emojiList.append(v.fill("select_emoji", e));
            return this
        };
        b.prototype.fillDefaultEmojiList = function(b) {
            this.renderEmojiList("smile thumbsup facepalm ballot_box_with_check warning sunglasses".split(" "));
            x.calcPos()
        };
        b.prototype.fillEmojiList = function(b) {
            var e;
            e = b.replace(/\W+/g, "");
            if ("" === b) return this.fillDefaultEmojiList(), !1;
            if (/[A-Z]/.test(e) && this.options.input) return x.hide(), !1;
            e = e.toLowerCase();
            this.$(".js-emoji-name").text(e);
            this.$(".js-upload-emoji").attr("data-emojiname", e);
            b = this.getEmojiSuggestions(e).slice(0, 6);
            0 < b.length ? (this.$(".js-results").removeClass("hide"), this.$(".js-no-results").addClass("hide"), this.renderEmojiList(b), x.calcPos()) : (this.$(".js-results").addClass("hide"),
                this.$(".js-no-results").removeClass("hide"));
            return 0 !== b.length
        };
        b.prototype.clearEmojiList = function() {
            return this.$emojiList.empty()
        };
        b.prototype.getEmojiSuggestions = function(b) {
            var e, c, f, h, m, k, s, w;
            h = RegExp("^" + l.escapeForRegex(b));
            b = function() {
                var b;
                b = [];
                for (f in this._customEmoji) h.test(f) && b.push(f);
                return b
            }.call(this);
            k = function() {
                var b;
                b = [];
                for (f in Bb) h.test(f) && b.push(f);
                return b
            }();
            if (null == this._sortOverride) {
                m = "thumbsup smile warning sunglasses facepalm question thumbsdown wink smiley smile_cat bowtie heart laughing".split(" ");
                this._sortOverride = {};
                c = s = 0;
                for (w = m.length; s < w; c = ++s) e = m[c], this._sortOverride[e] = c + 1
            }
            return _.uniq(D.call(b).concat(D.call(k))).sort(function(b) {
                return function(d, e) {
                    var c, f;
                    c = b._sortOverride[d];
                    f = b._sortOverride[e];
                    if (c && !f) return -1;
                    if (f && !c) return 1;
                    c && f && (d = c, e = f);
                    return d < e ? -1 : d > e ? 1 : 0
                }
            }(this))
        };
        b.prototype.hoverItem = function(b) {
            b = $(b.target).closest(".item");
            return l.selectMenuItem(this.$emojiList, ".item", b)
        };
        b.prototype.selectEmoji = function(b) {
            l.stop(b);
            b = $(b.target).closest(".js-select-emoji").find(".emoji-name").text();
            this.insertEmoji(b);
            x.hide()
        };
        b.prototype.insertEmoji = function(b) {
            var e, c, f;
            e = this.getTextInput();
            this.options.input ? f = l.getWordFromCaret(e) : (c = l.getCaretPosition(e)) && (f = {
                start: c,
                end: c
            });
            l.insertSelection(e, ":" + ("" + b).trim() + ": ", null != f ? f.start : void 0, null != f ? f.end : void 0);
            return t("Emoji Select", b)
        };
        b.prototype.openEmojiUploader = function(b) {
            l.stop(b);
            b = this.$(b.target).attr("data-emojiname");
            x.pushView({
                keepEdits: !0,
                view: yf,
                options: {
                    model: y.me(),
                    emojiName: b,
                    completerView: this
                }
            });
            t("Card Detail View",
                "Open Custom Emoji Uploader")
        };
        return b
    }(A);
    vd = function(c) {
        function b() {
            this.search = k(this.search, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Add Card\u2026"
        };
        b.prototype.events = {
            "mouseenter .js-select-card": "hoverItem",
            "click .js-select-card": "selectCard",
            keydown: "keydownEvent",
            "keyup .js-search": "keyupEvent"
        };
        b.prototype.initialize = function() {
            this.cards = [];
            return this.debouncedSearch = _.debounce(this.search, 200)
        };
        b.prototype.render =
            function() {
                var b;
                b = {};
                this.options.input && (b.input = !0);
                this.options.button && (b.button = !0, b.hideLoading = !0);
                this.$el.html(v.fill("popover_card_completer", b));
                return this.renderCards()
            };
        b.prototype.renderCards = function() {
            var b, e, c;
            b = this.$(".js-card-list").empty();
            var f, h, m, k;
            m = this.cards;
            k = [];
            f = 0;
            for (h = m.length; f < h; f++) e = m[f], c = e.toJSON(), e = e.getBoard(), null != e && (c.boardName = e.get("name")), k.push(v.fill("select_card", c));
            b.append(k);
            this.$(".js-loading").addClass("hide");
            l.selectMenuItem(b, ".item",
                b.find(".item").first());
            x.calcPos();
            return this
        };
        b.prototype.keyupEvent = function(b) {
            var e, c;
            if (38 === (e = b.keyCode) || 40 === e) l.stop(b), l.navMenuList(this.$(".js-card-list"), ".item", b.keyCode);
            else if (!(c = b.keyCode, 0 <= F.call([13, 9, 37, 39].concat(D.call(Ob)), c))) return b = this.$(".js-search").val(), this.debouncedSearch(b)
        };
        b.prototype.keydownEvent = function(b) {
            var e, c;
            e = this.$(".js-card-list");
            if (13 === (c = b.keyCode) || 9 === c)
                if (l.stop(b), b = e.find(".item.selected:first .js-select-card"), 0 < b.length) return b.click()
        };
        b.prototype.getTextInput = function() {
            return $(this.options.target)
        };
        b.prototype.search = function(b, e) {
            var c, f, h;
            if (b !== this._lastQuery)
                if (this._lastQuery = b, "" === b) this.cards = [], this.renderCards(), "function" === typeof e && e(null, []);
                else {
                    if (l.isShortId(b) && (f = this.options.card, c = null != f ? f.getBoard() : void 0, null != c)) {
                        async.assembly([
                            function(e) {
                                return function(f) {
                                    var h;
                                    null != (h = c.getCard(b)) ? f(null, h) : O["for"](e.modelCache).loadCardData(c.id, b, function(e, h) {
                                        return f(null, c.getCard(b))
                                    })
                                }
                            }(this)
                        ], function(b) {
                            return function(d,
                                c) {
                                b.cards = null == d && null != c ? [c] : [];
                                return "function" === typeof e ? e(null, b.cards) : void 0
                            }
                        }(this));
                        return
                    }
                    h = {
                        query: b,
                        modelTypes: "cards",
                        partial: !0
                    };
                    return O["for"](this.modelCache).loadSearchData(h, function(c) {
                        return function(g, h) {
                            if (b === c._lastQuery) {
                                if (null == g) return c.cards = function() {
                                    var b, d, e, c;
                                    e = h.cards;
                                    c = [];
                                    b = 0;
                                    for (d = e.length; b < d; b++) f = e[b], c.push(this.Card.get(f.id));
                                    return c
                                }.call(c), c.options.input && _.isEmpty(c.cards) && x.hide(), c.renderCards(), "function" === typeof e ? e(null, h.cards) : void 0;
                                c.options.input &&
                                    x.hide();
                                return "function" === typeof e ? e(g) : void 0
                            }
                        }
                    }(this))
                }
        };
        b.prototype.hoverItem = function(b) {
            var e;
            e = this.$(".js-card-list");
            b = $(b.target).closest(".item");
            return l.selectMenuItem(e, ".item", b)
        };
        b.prototype.selectCard = function(b) {
            l.stop(b);
            b = $(b.target).closest(".js-select-card").attr("id");
            b = this.Card.get(b);
            null != b && this.insertCard(b);
            x.hide()
        };
        b.prototype.insertCard = function(b) {
            var e, c, f;
            c = b.get("url");
            b = this.getTextInput();
            this.options.input ? (f = l.getLineFromCaret(b), e = f.str.lastIndexOf("#"), -1 !== e && (f.start += e)) : (e = l.getCaretPosition(b)) && (f = {
                start: e,
                end: e
            });
            l.insertSelection(b, "" + c + " ", null != f ? f.start : void 0, null != f ? f.end : void 0);
            return t("Card Select", this.options.input ? "inline" : "via menu")
        };
        return b
    }(A);
    tb = function() {
        function c() {
            this.getInputCardCompleterView = k(this.getInputCardCompleterView, this);
            this.getCardCompleterView = k(this.getCardCompleterView, this);
            this.getEmojiCompleterView = k(this.getEmojiCompleterView, this);
            this.getAutoMentionerView = k(this.getAutoMentionerView, this);
            this.openAutoMentioner =
                k(this.openAutoMentioner, this);
            this.openEmojiCompleter = k(this.openEmojiCompleter, this)
        }
        c.prototype.openEmojiCompleter = function(b) {
            l.stop(b);
            return x.pushView({
                view: this.getEmojiCompleterView("button")
            })
        };
        c.prototype.openAutoMentioner = function(b) {
            l.stop(b);
            x.pushView({
                view: this.getAutoMentionerView("button")
            });
            return t("Card Detail", "Mention Autocomplete", "Open Menu - With Click")
        };
        c.prototype.getAutoMentionerView = function(b) {
            var d;
            d = this.getCard();
            return new sb({
                model: d,
                button: "button" === b,
                input: "input" ===
                    b,
                target: this.getTextInput(),
                card: d,
                modelCache: this.modelCache
            })
        };
        c.prototype.getEmojiCompleterView = function(b) {
            var d;
            d = this.getCard();
            return new oc({
                model: d,
                button: "button" === b,
                input: "input" === b,
                target: this.getTextInput(),
                card: d,
                modelCache: this.modelCache
            })
        };
        c.prototype.getCardCompleterView = function(b) {
            var d;
            d = this.getCard();
            return new vd({
                model: d,
                button: "button" === b,
                input: "input" === b,
                target: this.getTextInput(),
                card: d,
                modelCache: this.modelCache
            })
        };
        c.prototype.getInputCardCompleterView = function() {
            var b,
                d;
            b = this.getCard();
            d = {
                input: !0,
                target: this.getTextInput(),
                card: b,
                modelCache: this.modelCache
            };
            return this.subview(vd, b, d)
        };
        c.prototype.commentAddAttachment = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target),
                keepEdits: !0,
                top: 35,
                view: xc,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            });
            t("Card Detail", "Comment Box - Open Attachment Type Picker")
        };
        c.prototype.commentMentionMember = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target),
                keepEdits: !0,
                top: 35,
                view: this.getAutoMentionerView("button")
            });
            t("Card Detail",
                "Comment Box - Mention Members")
        };
        c.prototype.commentAddEmoji = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target),
                keepEdits: !0,
                top: 35,
                view: this.getEmojiCompleterView("button")
            });
            t("Card Detail", "Comment Box - Add Emoji")
        };
        c.prototype.commentAddCard = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target),
                keepEdits: !0,
                top: 35,
                view: this.getCardCompleterView("button")
            });
            t("Card Detail", "Comment Box - Add Card")
        };
        return c
    }();
    Qb = function() {
        function c() {}
        c.prototype.checkInsert = function(b) {
            var d, e, c, f, h, m, k, s;
            if (x.isVisible &&
                !ha.isTouch() && !(b.shiftKey && (38 === (e = b.keyCode) || 40 === e) || b.altKey && (38 === (f = b.keyCode) || 40 === f)))
                if (27 === b.keyCode) l.stop(b), x.hide();
                else {
                    e = [{
                        listClass: ".js-available-members",
                        itemClass: ".js-select-member"
                    }, {
                        listClass: ".js-available-emoji",
                        itemClass: ".js-select-emoji"
                    }, {
                        listClass: ".js-card-list",
                        itemClass: ".js-select-card"
                    }];
                    h = 0;
                    for (m = e.length; h < m; h++)
                        if (d = e[h], f = d.listClass, c = d.itemClass, d = $(".pop-over").find(f), 0 < d.length) {
                            if (13 === (k = b.keyCode) || 9 === k) return l.stop(b), d.find(".item:first").hasClass("selected") &&
                                (this.keyAutoMention(b), d = $(".pop-over").find(f)), d.find(".item.selected:first " + c).first().click(), x.hide(), !1;
                            if (38 === (s = b.keyCode) || 40 === s) return l.stop(b), l.navMenuList(d, ".item", b.keyCode), !1
                        }
                }
        };
        c.prototype.keyAutoMention = function(b) {
            var d, e;
            if (!ha.isTouch() && !(e = b.keyCode, 0 <= F.call([9, 27].concat(D.call(Ob), D.call(lc)), e)))
                if (b = l.getWordFromCaret(this.getTextInput()), /^@\S/.test(b.str.substring(0, 2))) d = this.getAutoMentionerView("input"), x.load(d), 0 !== d.idMatchMems.length && (x.show({
                    elem: this.getMentionTarget(),
                    top: 35,
                    view: d,
                    preloaded: !0,
                    keepEdits: !0
                }), this.getTextInput().is(":focus") || this.getTextInput().focus());
                else if (/^:[a-z0-9_]+$/.test(b.str)) d = this.getEmojiCompleterView("input"), x.load(d), x.show({
                elem: this.getEmojiTarget(),
                top: 35,
                view: d,
                preloaded: !0,
                keepEdits: !0
            }), this.getTextInput().is(":focus") || this.getTextInput().focus();
            else if (b = l.getLineFromCaret(this.getTextInput()), e = /^(?:.*\s)?\#((?!\s)[^\#\.,;:@]{0,32})$/, null != (b = null != (d = e.exec(b.str)) ? d[1] : void 0)) null == this.debouncedCardSearch && (this.debouncedCardSearch =
                _.debounce(function(b) {
                    return function(d) {
                        var e, c;
                        e = b.getInputCardCompleterView();
                        c = function() {
                            return x.show({
                                elem: b.getCardTarget(),
                                top: 35,
                                view: e,
                                preloaded: !0,
                                keepEdits: !0
                            })
                        };
                        b._lastQuery = d;
                        return e.search(d, function(k, l) {
                            if (d === b._lastQuery) return !k && !_.isEmpty(l) ? (x.load(e), c()) : x.hide()
                        })
                    }
                }(this), 200)), this.debouncedCardSearch(b);
            else return _.delay(function() {
                return x.hide()
            }, 5)
        };
        return c
    }();
    wd = ma(tb, function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle =
            function() {
                return "Options"
            };
        b.prototype.events = function() {
            return {
                "click .js-open-mention-selector": "openAutoMentioner",
                "click .js-open-emoji-selector": "openEmojiCompleter",
                keydown: "keydownEvent"
            }
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("popover_insertion_menu"));
            return this
        };
        b.prototype.keydownEvent = function(b) {
            if (13 === b.keyCode) return l.stop(b), this.$emojiList.find(".item.selected:first .js-select-emoji").click();
            if (13 === b.keyCode) return l.stop(b), this.$memList.find(".item.selected:first .js-select-member").click()
        };
        b.prototype.getCard = function() {
            return this.model.getCard()
        };
        b.prototype.getTextInput = function() {
            return this.options.parent.getTextInput()
        };
        return b
    }(A));
    yf = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Upload Emoji"
        };
        b.prototype.events = function() {
            return {
                "click .js-upload-emoji": "uploadEmoji",
                "change .js-upload-emoji-file": "fileChange",
                "input .js-emoji-name": "nameChange"
            }
        };
        b.prototype.initialize =
            function(b) {
                var e, c, f, h;
                this.completerView = b.completerView;
                this.hasGold = this.model.isFeatureEnabled("customEmoji");
                this.hasJPS = !1;
                f = this.model.organizationList.models;
                h = [];
                e = 0;
                for (c = f.length; e < c && !(b = f[e], this.hasJPS = b.isJPS()); e++) h.push(void 0);
                return h
            };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            b.emojiName = this.options.emojiName;
            b.hasGold = this.hasGold;
            b.hasJPS = this.hasJPS;
            b.canUpload = this.hasGold || this.hasJPS;
            this.$el.html(v.fill("popover_emoji_uploader", b));
            this._validate();
            this.renderEmoji();
            return this
        };
        b.prototype.renderEmoji = function() {
            var b, e;
            b = this.$(".js-emoji-name").val() || "???";
            b = ":" + b.toLowerCase().trim().replace(/\s+/g, "_") + ":";
            this.$(".js-emoji-preview-name").text(b);
            this.$(".js-emoji-preview");
            b = null != (e = this.$(".js-upload-emoji-file").prop("files")) ? e[0] : void 0;
            /^image\/.*/.test(null != b ? b.type : void 0) ? (e = new FileReader, e.onload = function(b) {
                    return function(d) {
                        b.$(".js-emoji-conversion").removeClass("hide");
                        return b.$(".js-emoji-preview").attr("src", d.target.result)
                    }
                }(this),
                e.readAsDataURL(b)) : this.$(".js-emoji-conversion").addClass("hide");
            return this
        };
        b.prototype.fileChange = function(b) {
            var e, c, f, h, m;
            c = this.$(".js-emoji-name");
            e = this.$(".js-upload-emoji-file");
            "" === c.val() && ($(b.target), b = null != (h = e.prop("files")) ? h[0] : void 0, null != b ? f = b.name : e.val() && (f = null != (m = /[^\/]+$/.exec(e.val())) ? m[0] : void 0), null == f && (f = ""), f = f.split(".")[0], f = f.toLowerCase().replace(/[^a-z0-9_]/g, ""), c.val(f), this.$(".js-emoji-name").focus().select());
            this.renderEmoji();
            return this._validate()
        };
        b.prototype.nameChange = function(b) {
            this.renderEmoji();
            return this._validate()
        };
        b.prototype._validate = function(b) {
            var e, c, f;
            b = this.$(".js-emoji-name").val();
            e = this.$(".js-upload-emoji-file");
            c = /^[a-z0-9_\s]+$/.test(b);
            e = 0 < (null != (f = e.prop("files")) ? f.length : void 0) || e.val();
            f = c && e && (this.hasGold || this.hasJPS);
            this.$(".js-invalid-name").toggleClass("hide", c || "" === b);
            return this.$(".js-upload-emoji").toggleClass("disabled", !f)
        };
        b.prototype.uploadEmoji = function(b) {
            var e, c, f, h, m;
            l.stop(b);
            if (!$(".js-upload-emoji").hasClass("disabled"))
                if (this.$(".error").addClass("hide"),
                    e = this.$(".js-upload-emoji-file"), b = null != (m = e.prop("files")) ? m[0] : void 0, f = this.$(".js-emoji-name").val().trim().toLowerCase().replace(/\s+/g, "_"), h = function(b) {
                        return function() {
                            b.completerView.insertEmoji(f);
                            return x.hide()
                        }
                    }(this), !b && e.val()) l.uploadFile(e, h);
                else if (null != b && !l.validFileSize(b)) Q.flash("File Too Large", "error");
            else if (null != b && f) return m = new FileReader, c = new FormData, c.append("token", y.myToken()), c.append("file", b), c.append("name", f), m.onload = function(b) {
                return function(d) {
                    return b.model.customEmojiList.create({
                        url: d.target.result,
                        name: f
                    }, {
                        data: c,
                        processData: !1,
                        contentType: !1,
                        success: h,
                        error: function() {
                            return this.$(".error").removeClass("hide")
                        }
                    })
                }
            }(this), m.readAsDataURL(b)
        };
        return b
    }(A);
    var cb, zf, Af, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    cb = new(function() {
        function c() {
            this._setRawStream = k(this._setRawStream, this);
            this.stream =
                null
        }
        c.prototype.supportsGetUserMedia = function() {
            return null != navigator.getUserMedia || null != navigator.webkitGetUserMedia
        };
        c.prototype.connected = function() {
            return null != this.stream
        };
        c.prototype.getStream = function() {
            return this.stream
        };
        c.prototype.getError = function() {
            var b;
            return null != (null != (b = this.error) ? b.PERMISSION_DENIED : void 0) ? "Access Denied" : this.error
        };
        c.prototype.connect = function(b) {
            var d, e;
            if (null != this.stream) return b(null, this.stream);
            this.error = null;
            d = function(d) {
                return function(e) {
                    d.error =
                        e;
                    d.stream = null;
                    return b("Could not connect")
                }
            }(this);
            e = {
                video: !0
            };
            if (null != navigator.getUserMedia) return navigator.getUserMedia(e, function(d) {
                return function(e) {
                    d._setRawStream(e);
                    d.stream = e;
                    return b(null, d.stream)
                }
            }(this), d);
            if (null != navigator.webkitGetUserMedia) return navigator.webkitGetUserMedia(e, function(d) {
                return function(e) {
                    d._setRawStream(e);
                    d.stream = webkitURL.createObjectURL(e);
                    return b(null, d.stream)
                }
            }(this), d)
        };
        c.prototype._setRawStream = function(b) {
            this.stop();
            return this.rawStream = b
        };
        c.prototype.stop = function() {
            var b;
            null != (b = this.rawStream) && "function" === typeof b.stop && b.stop();
            return this.rawStream = this.stream = null
        };
        return c
    }());
    Af = function(c) {
        function b() {
            this.snap = k(this.snap, this);
            this.connectCamera = k(this.connectCamera, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-connect-camera": "connectCamera",
            "click .js-snap": "snap"
        };
        b.prototype.willBePopped = function() {
            return cb.stop()
        };
        b.prototype.getViewTitle =
            function() {
                return "Take a Photo"
            };
        b.prototype.render = function() {
            var b;
            b = {
                error: cb.getError(),
                connected: cb.connected()
            };
            this.$el.html(v.fill("take_photo", b));
            cb.connected() && (b = this.$(".video")[0], b.src = cb.getStream(), b.play());
            return this
        };
        b.prototype.connectCamera = function() {
            return cb.connect(function(b) {
                return function(e) {
                    return b.render()
                }
            }(this))
        };
        b.prototype.snap = function() {
            var b, e;
            e = this.$(".video")[0];
            b = $("<canvas>").attr({
                width: 640,
                height: 480
            });
            b[0].getContext("2d").drawImage(e, 0, 0, 640, 480);
            e = this.model.getView(zf);
            e.setImage(b[0].toDataURL("image/png"));
            cb.stop();
            x.pushView({
                view: e
            });
            e.on("done", function(b) {
                return function(d) {
                    x.popView();
                    return b.trigger("done", d)
                }
            }(this));
            return e.on("back", function(b) {
                return function() {
                    b.render();
                    return b.connectCamera()
                }
            }(this))
        };
        return b
    }(A);
    zf = function(c) {
        function b() {
            this.back = k(this.back, this);
            this.done = k(this.done, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Crop Photo"
        };
        b.prototype.events = function() {
            return {
                "click .js-done": "done",
                "click .js-back": "back"
            }
        };
        b.prototype.setImage = function(b) {
            return this.url = b
        };
        b.prototype.render = function() {
            this.forceIntoDom();
            this.$el.html(v.fill("crop_photo"));
            this.$(".crop-image").attr("src", this.url).css({
                "max-width": 4096,
                "max-height": 4096
            }).crop({
                width: 270,
                height: 270
            }).on("mousewheel", function(b) {
                var e;
                e = $(this).data("crop");
                return 0 > b.originalEvent.wheelDelta ? e.zoomIn() : e.zoomOut()
            }).on("crop", function(b) {
                return function(e) {
                    b.cropX =
                        e.cropX;
                    b.cropY = e.cropY;
                    b.cropW = e.cropW;
                    return b.cropH = e.cropH
                }
            }(this));
            return this
        };
        b.prototype.done = function() {
            var b, e;
            e = this.$(".crop-image")[0];
            b = $("<canvas>").attr({
                width: 270,
                height: 270
            });
            b[0].getContext("2d").drawImage(e, this.cropX, this.cropY, this.cropW, this.cropH, 0, 0, 270, 270);
            x.popView();
            return this.trigger("done", b[0].toDataURL("image/png"))
        };
        b.prototype.back = function() {
            x.popView();
            return this.trigger("back")
        };
        return b
    }(A);
    var S;
    S = l.queued(function(c, b) {
        var d, e;
        null == c.data && (c.data = {});
        c.data.token =
            y.myToken();
        if (null == (d = c.data).invitationTokens) d.invitationTokens = l.invitationTokens().join(",");
        if (c.background) {
            try {
                xa.send(c)
            } catch (g) {
                throw d = g, b(), d;
            }
            return b()
        }
        e = c.complete;
        null == c.modelCache && (c.modelCache = B.getCurrentModelCache());
        c.complete = function() {
            null != e && e.apply(this, arguments);
            return b()
        };
        try {
            return xa.ajax(c)
        } catch (f) {
            throw d = f, b(), d;
        }
    }, 3);
    var xd, Bf, yd, F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        },
        k = function(c, b) {
            return function() {
                return c.apply(b,
                    arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    xd = function() {
        function c() {}
        c.prototype.events = {
            "click .js-change-cc": "changeCreditCard",
            "click .js-change-billing-contact": "changeBillingContact",
            "click .js-switch-to-yearly-billing": "switchToYearlyBilling",
            "click .js-start-cancel": "startCancel",
            "click .js-cancel-cancel": "cancelCancel",
            "click .js-cancel": "cancel",
            'change input[type="radio"]': "showFeedbackTextarea",
            "click .js-reactivate-monthly": "reactivateMonthly",
            "click .js-reactivate-yearly": "reactivateYearly",
            "click .js-renew": "renew",
            "click .js-resolve-billing-issue": "changeCCProblem",
            "click .js-enter-new-credit-card": "changeCCDenied"
        };
        c.prototype.setup = function() {
            var b;
            this.pollingStart = new Date;
            this.getBillingStatement();
            this.monthlyProductNumber = this.features.productShortNames[this.productPrefix + "Monthly"];
            this.yearlyProductNumber = this.features.productShortNames[this.productPrefix +
                "Yearly"];
            if (oa.processing(null != (b = this.model.get("paidAccount")) ? b.standing : void 0)) return this.getPaidAccount()
        };
        c.prototype.processBillingStatement = function(b) {
            var d, e, c, f, h;
            d = 0;
            h = [];
            c = 0;
            for (f = b.length; c < f; c++) e = b[c], h.push(this.formatBillingStatement(e, d += e.amount));
            return h
        };
        c.prototype.formatBillingStatement = function(b, d) {
            b.date = M.toShortString(new Date(b.date));
            b.balance = d.toFixed(2);
            if (0 === b.item.indexOf("Credit.")) return b["return"] = Math.abs(b.amount).toFixed(2);
            if (0 === b.item.indexOf("Refund to your")) return b.refund =
                Math.abs(b.amount).toFixed(2);
            b.credit = 0 < b.amount ? b.amount.toFixed(2) : "";
            return b.debit = 0 > b.amount ? (-b.amount).toFixed(2) : ""
        };
        c.prototype.getBillingStatement = function() {
            return S({
                url: "" + this.model.urlRoot + "/" + this.model.id + "/paidAccount/statement",
                background: !0,
                success: function(b) {
                    return function(d) {
                        var e, c, f;
                        if (null != b.model.attributes && (b.billingStatementData = {
                                statement: null != (c = null != d ? d.statement : void 0) ? c : [],
                                balance: null != (f = null != d ? d.balance : void 0) ? f : 0,
                                statementUrl: null != d ? d.statementUrl : void 0
                            },
                            b.processBillingStatement(b.billingStatementData.statement), b.billingStatementData.statement = function() {
                                var b, d, c, f;
                                c = this.billingStatementData.statement;
                                f = [];
                                b = 0;
                                for (d = c.length; b < d; b++) e = c[b], 0 !== e.amount && f.push(e);
                                return f
                            }.call(b), b.billingStatementData.statement.reverse(), b.renderBillingStatement(), new Date < l.dateAfter({
                                date: b.pollingStart,
                                minutes: 10
                            }))) return b.setTimeout(_.bind(b.getBillingStatement, b), l.getMs({
                            seconds: 5
                        }))
                    }
                }(this),
                error: function(b) {
                    return function(d) {
                        return b.$("#billing-statement").text(d.responseText)
                    }
                }(this)
            })
        };
        c.prototype.getPaidAccount = function() {
            return this.paidAccountLoader(function(b) {
                return function(d, e) {
                    var c;
                    if (!(d || null == e)) return oa.processing(null != (c = b.model.get("paidAccount")) ? c.standing : void 0) && new Date < l.dateAfter({
                        date: b.pollingStart,
                        minutes: 1
                    }) ? b.setTimeout(_.bind(b.getPaidAccount, b), 1E3) : b.renderMainContent
                }
            }(this))
        };
        c.prototype._urlBase = function(b) {
            var d;
            return "/" + (null != (d = this.model.get("name")) ? d : this.model.get("username"))
        };
        c.prototype.renderMainContent = function(b) {
            var d, e, c, f, h,
                m, k, s, w, n, t, C, x, y, A, B, D;
            null == b && (b = !1);
            e = this.model.toJSON();
            e.urlBase = this._urlBase();
            e.changeCardUrl = this.changeCardUrl;
            e.productName = this.productName;
            e.productIconClass = this.productIconClass;
            e.canSwitchToYearly = !1;
            _.extend(e, this.pricing);
            k = e.paidAccount;
            for (d in k) c = k[d], e["paidAccount_" + d] = c;
            if (null != (null != (s = e.paidAccount) ? null != (n = s.products) ? n[0] : void 0 : void 0)) e.nextBillingDate = M.toLongDateString(null != (t = e.paidAccount.billingDates) ? t[e.paidAccount.products[0]] : void 0);
            e.billableMemberCount =
                this.model.get("billableMemberCount");
            d = null != (C = e.paidAccount) ? null != (x = C.products) ? x[0] : void 0 : void 0;
            e.monthlyPrice = this.features.getPrice(this.pricing.monthlyProduct);
            e.yearlyPrice = this.features.getPrice(this.pricing.yearlyProduct);
            e.yearlyDiscount = this.features.getYearlyDiscount(this.pricing.yearlyProduct, d);
            e.yearlyIsDiscount = !/^-/.test(e.yearlyDiscount);
            e.billedMonthly = this.features.isMonthly(d);
            e.billedYearly = !e.billedMonthly;
            e.price = this.features.getPrice(d);
            e.nextChargeAmount = this.features.getPrice(d);
            this.features.isPerUser(d) && (e.isPerUser = !0, e.nextChargeAmount = "function" === typeof(f = this.model).totalPerUserPrice ? f.totalPerUserPrice(d) : void 0, e.totalYearlyPrice = "function" === typeof(h = this.model).totalPerUserPrice ? h.totalPerUserPrice(this.pricing.yearlyProduct) : void 0, e.totalMonthlyPrice = "function" === typeof(m = this.model).totalPerUserPrice ? m.totalPerUserPrice(this.pricing.yearlyProduct) : void 0);
            if (this.features.isMonthly(d) && !(35 === d || 39 === d)) e.canSwitchToYearly = !0;
            e.activeAccount = oa.active(e.paidAccount);
            e.processingAccount = oa.processing(null != (y = e.paidAccount) ? y.standing : void 0);
            e.problemAccount = oa.problem(null != (A = e.paidAccount) ? A.standing : void 0);
            null != e.paidAccount && (e.willExpire = oa.willExpire(e.paidAccount));
            e.willExpire && (e.expirationDate = M.toLongDateString(e.paidAccount.expirationDates[null != e ? null != (B = e.paidAccount) ? null != (D = B.products) ? D[0] : void 0 : void 0 : void 0]));
            null != e.accountStanding && (e.accountStandingDisplay = l.toTitleCase(e.accountStanding));
            e.cancelledAccount = oa.cancelled(e.paidAccount);
            e.needCC = oa.needCC(null != (w = e.paidAccount) ? w.standing : void 0);
            b && (e.processingReactivation = !0);
            this.$(".js-content").html(v.fill("billing", e));
            this.setActiveView(".js-billing");
            this.renderBillingStatement();
            "function" === typeof this.renderBanner && this.renderBanner();
            return this
        };
        c.prototype.renderBillingStatement = function() {
            if (null != this.billingStatementData) return this.$("#billing-statement").html(v.fill("billing_statement", this.billingStatementData))
        };
        c.prototype.changeCreditCard = function(b) {
            return t("" +
                this.model.typeName + " View", "Billing Page", "Change CC - Good Standing")
        };
        c.prototype.changeBillingContact = function(b) {
            l.stop(b);
            t("" + this.model.typeName + " View", "Billing Page", "Open Change Billing Contact Info");
            return x.toggle({
                elem: this.$(".js-change-billing-contact"),
                top: 20,
                view: this.model.getView(Bf)
            })
        };
        c.prototype.switchToYearlyBilling = function(b) {
            var d;
            l.stop(b);
            b = (d = this.model.get("paidAccount").products[0], 0 <= F.call(this.features.prebilledProducts, d)) ? "You will be charged immediately for the yearly amount and your contract will be extended by a year.  The billing contact will be notified of the change." :
                "You will be charged a prorated amount for the remainder of the month and charged immediately for the yearly amount. The billing contact will be notified of the change.";
            return pa.toggle({
                elem: this.$(".js-switch-to-yearly-billing"),
                top: 35,
                model: this.model,
                title: "Switch to Yearly Billing?",
                text: b,
                confirmText: "Sounds good. Switch!",
                confirmBtnClass: "primary",
                fxConfirm: function(b) {
                    return function(d) {
                        return S({
                            url: "" + b.model.urlRoot + "/" + b.model.id + "/paidAccount/products",
                            type: "POST",
                            data: {
                                products: [b.yearlyProductNumber]
                            },
                            success: function(d) {
                                t(b.model.typeName, "Successfully Switched " + b.productName + " to Yearly Billing");
                                return b.model.set(d)
                            }
                        })
                    }
                }(this)
            })
        };
        c.prototype.startCancel = function(b) {
            l.stop(b);
            this.$(".js-start-cancel").hide();
            b = this.$(".js-random-reasons");
            b.html(_.shuffle(b.find("label")));
            return this.$(".js-cancel-feedback").show()
        };
        c.prototype.showFeedbackTextarea = function(b) {
            return this.$(".js-long-feedback").show()
        };
        c.prototype.cancelCancel = function(b) {
            l.stop(b);
            this.$(".js-start-cancel").show();
            return this.$(".js-cancel-feedback").hide()
        };
        c.prototype.cancel = function(b) {
            var d, e, c, f, h, m, k, s, w, n, v, C;
            t("Member View", "Billing Page", "Open Cancel Trello Gold Dialog");
            b = null != (c = this.$("input[type='radio']:checked").val()) ? c : "not specified";
            c = null != (h = this.$(".js-long-feedback").val()) ? h : "none given";
            m = this.model.toJSON();
            h = this.Auth.me().toJSON();
            k = null != (d = m.paidAccount) ? null != (w = d.products) ? w[0] : void 0 : void 0;
            e = {};
            e.ID = m.id;
            if (null != (n = m.paidAccount) && n.ixSubscriber) e.ixSubscriber = null != (v = m.paidAccount) ? v.ixSubscriber : void 0;
            m.displayName &&
                (e["Organization Display Name"] = m.displayName);
            m.name && (e["Organization Name"] = m.name);
            e["Full Name"] = m.fullName ? m.fullName : h.fullName;
            e.Username = m.username ? m.username : h.username;
            m.idBoards && (e["# Boards"] = m.idBoards.length);
            m.memberships && (e["# Members"] = m.memberships.length);
            null != k && (e["Next Billing Date"] = M.toLongDateString(null != (C = m.paidAccount.billingDates) ? C[k] : void 0), e.Interval = k === this.yearlyProductNumber ? "Yearly" : "Monthly", e.Price = this.features.formatPrice(k));
            e["Trello Version"] = TrelloVersion.replace(/\s+/g,
                " ");
            d = function() {
                var b;
                b = [];
                for (f in e) s = e[f], b.push("" + f + ": " + s);
                return b
            }().join("\n");
            l.bugzscout({
                me: h,
                area: "Cancellations",
                description: "Cancelled " + this.productName + " - " + e.Interval + "\n",
                extra: "" + d + "\n\nReason: " + b + "\n\nDetails:\n\n" + c
            });
            S({
                url: "" + this.model.urlRoot + "/" + this.model.id + "/paidAccount/cancel",
                type: "POST",
                success: function(b) {
                    return function(d) {
                        t(b.model.typeName, "Successfully Canceled Paid Account");
                        b.model.set(d);
                        b.$(".js-start-cancel").hide();
                        b.$(".js-cancel-feedback").hide();
                        return b.$(".js-cancelled").show()
                    }
                }(this)
            })
        };
        c.prototype.reactivateMonthly = function(b) {
            t("" + this.model.typeName + " View", "Billing Page", "Reactivate " + this.productName + " - Monthly");
            this.reactivate(b, this.monthlyProductNumber, "Monthly")
        };
        c.prototype.reactivateYearly = function(b) {
            t("" + this.model.typeName + " View", "Billing Page", "Reactivate " + this.productName + " - Yearly");
            this.reactivate(b, this.yearlyProductNumber, "Yearly")
        };
        c.prototype.reactivate = function(b, d, e) {
            var c;
            l.stop(b);
            null == (null != (c = this.model.get("paidAccount")) ?
                c.cardType : void 0) ? (b = "" + this._urlBase() + "/billing/card/" + this.productPrefix + e, B.navigate(b, {
                trigger: !0
            })) : S({
                url: "" + this.model.urlRoot + "/" + this.model.id + "/paidAccount/reactivate",
                type: "POST",
                data: {
                    products: [d]
                },
                success: function(b) {
                    return function(d) {
                        t(b.model.typeName, "Sucessfully Reactivate " + b.productName + " - " + e);
                        return b.renderMainContent(!0)
                    }
                }(this)
            })
        };
        c.prototype.renew = function(b) {
            t("" + this.model.typeName + " View", "Billing Page", "Renew Expiring " + this.productName + " Subscription");
            S({
                url: "" +
                    this.model.urlRoot + "/" + this.model.id + "/paidAccount/products",
                type: "POST",
                data: {
                    products: [this.model.get("paidAccount").products[0]]
                },
                success: function(b) {
                    return function(e) {
                        t(b.model.typeName, "Successfully Renewed Expiring Yearly " + b.productName + " Subscription");
                        return b.model.set(e)
                    }
                }(this)
            })
        };
        c.prototype.changeCCProblem = function(b) {
            return t("" + this.model.typeName + " View", "Billing Page", "Change CC - Resolve Overdue Billing Issue")
        };
        c.prototype.changeCCDenied = function(b) {
            return t("" + this.model.typeName +
                " View", "Billing Page", "Change CC - Denied")
        };
        return c
    }();
    yd = function(c) {
        function b() {
            this.pollForCCAuth = k(this.pollForCCAuth, this);
            this.submitPaidForm = k(this.submitPaidForm, this);
            this.changeCreditCard = k(this.changeCreditCard, this);
            this.createPaidAccount = k(this.createPaidAccount, this);
            this.hideAuthorizing = k(this.hideAuthorizing, this);
            this.delayShowAuthorizing = k(this.delayShowAuthorizing, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.pollForCCAuth =
            function() {
                var b, e;
                null == this._startedPolling && (this._startedPolling = Date.now());
                if (this._startedPolling + l.getMs({
                    seconds: 60
                }) < Date.now()) return this.hideAuthorizing(), B.organizationBillingView(this.model.get("name"));
                b = function(b) {
                    return function(d) {
                        return oa.active(d) ? b.profileView : oa.needCC(null != d ? d.standing : void 0) ? b.billingView : !1
                    }
                }(this);
                if (e = b(this.model.get("paidAccount"))) this.hideAuthorizing(), e();
                else return S({
                    background: !0,
                    url: "" + this.model.urlRoot + "/" + this.model.id + "?paid_account=true",
                    success: function(c) {
                        return function(f) {
                            return (e = b(f.paidAccount)) ? (c.model.set(f), c.hideAuthorizing(), e()) : _.delay(_.bind(c.pollForCCAuth, c), 1E3)
                        }
                    }(this),
                    error: function(b) {
                        return function(d) {
                            b.hideAuthorizing();
                            return b.billingView()
                        }
                    }(this)
                })
            };
        b.prototype.events = {
            "click .js-submit-create-paid-account": "createPaidAccount",
            "click .js-submit-change-credit-card": "changeCreditCard",
            "change input[name='product']": "changeProduct"
        };
        b.prototype.render = function() {
            var b, e, c, f, h, m, k, l, w, n, t, C, x;
            c = this.model.toJSON({
                prefs: !0
            });
            c.productNumber = this.options.productNumber;
            c.productName = this.options.productName;
            h = this.features.productShortNames[this.pricing.monthlyProduct];
            l = this.features.productShortNames[this.pricing.yearlyProduct];
            (f = aa.isPerUser(this.options.productNumber)) && (e = this.model.get("billableMemberCount"));
            c.productOptions = [{
                id: h,
                checked: this.options.productNumber === h,
                isMonthly: !0,
                isPerUser: f,
                billableMemberCount: e,
                totalPerUserPrice: "function" === typeof(w = this.model).totalPerUserPrice ? w.totalPerUserPrice(h) : void 0,
                price: this.features.getPrice(h)
            }, {
                id: l,
                checked: this.options.productNumber === l,
                isYearly: !0,
                isPerUser: f,
                billableMemberCount: e,
                totalPerUserPrice: "function" === typeof(n = this.model).totalPerUserPrice ? n.totalPerUserPrice(l) : void 0,
                price: this.features.getPrice(l),
                save: "" + this.features.getYearlyDiscount(this.pricing.yearlyProduct, this.pricing.monthlyProduct)
            }];
            e = null != (m = this.options.products) ? m : [];
            l = [];
            f = 0;
            for (h = e.length; f < h; f++) m = e[f], l.push(this.features.products[m]);
            c.productNames = null != l ? l.join(",") :
                void 0;
            c.billingFullName = null != (k = null != (t = c.paidAccount) ? t.contactFullName : void 0) ? k : y.me().get("fullName");
            c.billingEmail = null != (C = null != (x = c.paidAccount) ? x.contactEmail : void 0) ? C : y.me().get("email");
            t = this.options.formAreas;
            for (b in t) k = t[b], c["formAreas_" + b] = k;
            c.action = this.options.action;
            c.showRecommend = this.pricing.showRecommend;
            this.$el.html(v.fill("credit_card", c));
            return this
        };
        b.prototype.delayShowAuthorizing = function() {
            this.finishedAuth = !1;
            return _.delay(function(b) {
                return function() {
                    if (!b.finishedAuth) return l.scrollToTop(),
                        Q.show("Authorizing...", "info", "authorizing")
                }
            }(this), 1E3)
        };
        b.prototype.hideAuthorizing = function() {
            this.finishedAuth = !0;
            return Q.hide("authorizing")
        };
        b.prototype.changeProduct = function(b) {
            b = $(b.target).val();
            this.$("input[name='products']").val(b)
        };
        b.prototype.createPaidAccount = function(b) {
            return this.submitPaidForm(b, "js-submit-create-paid-account", "paidAccount", "products billingContactEmail billingContactFullName name cardNumber expMonth expYear cvv companyName streetAddress1 streetAddress2 city state zipCode country".split(" "))
        };
        b.prototype.changeCreditCard = function(b) {
            return null == this.model.get("paidAccount") || null == this.model.get("paidAccount").cardType && _.isEmpty(this.model.get("paidAccount").products) ? this.createPaidAccount(b) : this.submitPaidForm(b, "js-submit-change-credit-card", "paidAccount/creditCard", "products name cardNumber expMonth expYear cvv companyName streetAddress1 streetAddress2 city state zipCode country".split(" "))
        };
        b.prototype.submitPaidForm = function(b, e, c, f) {
            var h, m, k, s, w;
            k = this.options.productName;
            m = this.options.productNumber;
            this.$("input").removeClass("input-error");
            this.$(".js-tos-error").addClass("hide");
            l.preventDefault(b);
            if (this.$("[name=acceptTOS]").is(":checked")) {
                b = {};
                s = 0;
                for (w = f.length; s < w; s++) h = f[s], b[h] = this.$("[name=" + h + "]").val(), this.$("label[for=" + h + "].form-error").addClass("hide");
                this.delayShowAuthorizing();
                this.$("." + e).attr("disabled", "disabled");
                this.$(".error").hide();
                return S({
                    showSendingAfter: -1,
                    url: "" + this.model.urlRoot + "/" + this.model.id + "/" + c,
                    data: b,
                    type: "POST",
                    success: function(b) {
                        return function(d) {
                            b.pollForCCAuth();
                            TRMixpanel.trackPurchase(k, m);
                            if ("Business Class" === k) return ua.event("Bought BC", b.model.id), t("Business Class", "Purchase", ua.inTest("lockInPrice") ? "lock in price" : "yearly price");
                            if ("Trello Gold" === k) return t("Trello Gold", "Purchase")
                        }
                    }(this),
                    error: function(b) {
                        return function(d) {
                            var c, f, g;
                            if (/^invalid value for /.test(null != d ? d.responseText : void 0)) {
                                if (c = d.responseText.replace("invalid value for ", "").split(","), 0 < (null != c ? c.length : void 0)) {
                                    f = 0;
                                    for (g = c.length; f < g; f++) d = c[f], b.$("#" + d).addClass("input-error"),
                                        b.$("label[for=" + d + "].form-error").removeClass("hide");
                                    b.$("#" + c[0]).focus()
                                }
                            } else b.$(".error").text(null != (c = d.responseText) ? c : "error").show(), l.scrollToTop();
                            b.hideAuthorizing();
                            return b.$("." + e).removeAttr("disabled", "disabled")
                        }
                    }(this)
                })
            }
            this.$(".js-tos-error").removeClass("hide")
        };
        b.prototype.pollForCCAuth = function() {
            return b.pollForCCAuth.call(this)
        };
        return b
    }(A);
    Bf = function(c) {
        function b() {
            this.changeBillingContact = k(this.changeBillingContact, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Change Billing Contact"
        };
        b.prototype.events = {
            "click .js-submit": "changeBillingContact",
            "submit form": "changeBillingContact"
        };
        b.prototype.render = function() {
            var b, e, c, f, h;
            b = this.model.toJSON({
                prefs: !0
            });
            b.billingFullName = null != (e = null != (c = b.paidAccount) ? c.contactFullName : void 0) ? e : y.me().get("fullName");
            b.billingEmail = null != (f = null != (h = b.paidAccount) ? h.contactEmail : void 0) ? f : y.me().get("email");
            this.$el.html(v.fill("billing_contact", b));
            return this
        };
        b.prototype.changeBillingContact = function(b) {
            var e, c, f, h;
            l.stop(b);
            b = {};
            b.billingContactFullName = this.$("input#billingContactFullName").val();
            b.billingContactEmail = this.$("input#billingContactEmail").val();
            this.$(".js-submit").attr("disabled", "disabled");
            h = ["billingContactFullName", "billingContactEmail"];
            c = 0;
            for (f = h.length; c < f; c++) e = h[c], this.$("#" + e).removeClass("input-error");
            return S({
                url: "" + this.model.urlRoot + "/" + this.model.id + "/paidAccount/billingContact",
                data: b,
                type: "POST",
                success: function(b) {
                    return function(d) {
                        b.model.set(d);
                        return x.hide()
                    }
                }(this),
                error: function(b) {
                    return function(d) {
                        var e;
                        d = null != (e = d.responseText) ? e : "error";
                        b.$(".js-submit").removeAttr("disabled", "disabled");
                        if (/billingContactFullName/.test(d)) b.$("#billingContactFullName").addClass("input-error");
                        else if (/email/.test(d)) b.$("#billingContactEmail").addClass("input-error");
                        else return b.$(".error").text(d).show()
                    }
                }(this)
            })
        };
        return b
    }(A);
    var Tb;
    Tb = new(function() {
        function c() {
            this.settings = {};
            this._update = _.debounce(this._update, 100)
        }
        var b;
        b = function(b,
            e, c, f, h, m, k, l) {
            null == l && (l = !0);
            null == m && (m = 5);
            b.beginPath();
            b.moveTo(e + m, c);
            b.lineTo(e + f - m, c);
            b.quadraticCurveTo(e + f, c, e + f, c + m);
            b.lineTo(e + f, c + h - m);
            b.quadraticCurveTo(e + f, c + h, e + f - m, c + h);
            b.lineTo(e + m, c + h);
            b.quadraticCurveTo(e, c + h, e, c + h - m);
            b.lineTo(e, c + m);
            b.quadraticCurveTo(e, c, e + m, c);
            b.closePath();
            l && b.stroke();
            if (k) return b.fill()
        };
        c.prototype._update = function() {
            if (ha.allowsDynamicFavicon()) return async.assembly([
                function(b) {
                    return function(e) {
                        var c, f;
                        return null != b.settings.url ? (f = ua._hasher("" +
                            b.settings.hasNotifications + "-" + b.settings.tiled + "-" + b.settings.url), c = "" + window.backgroundDomain + "/favicon/" + f + ".png", l.waitForImageLoad(c, function() {
                            return e(null, c)
                        }, function() {
                            return e()
                        })) : e()
                    }
                }(this),
                function(d) {
                    return function(e, c) {
                        var f, h, m, k;
                        if (null != c) return e(null, c);
                        m = null != d.settings.url ? "/dynamic-favicon?background=" + d.settings.url + "&tiled=" + (d.settings.tiled ? "1" : "0") + "&unread=" + (d.settings.hasNotifications ? "1" : "0") : (f = document.createElement("canvas"), f.width = f.height = 64, null != (h = "function" ===
                            typeof f.getContext ? f.getContext("2d") : void 0) ? (h.save(), h.fillStyle = null != (k = d.settings.color) ? k : Pa.blue.color, b(h, 0, 0, 64, 64, 12, !0), h.fillStyle = "#f8f8f8", b(h, 8, 8, 20, 44, 4, !0), b(h, 36, 8, 20, 28, 4, !0), h.restore(), d.settings.hasNotifications ? (h.fillStyle = "#fff", b(h, 40, 0, 24, 24, 12, !0), h.fillStyle = "#f44", b(h, 42, 2, 20, 20, 10, !0)) : void 0, f.toDataURL("image/png")) : null);
                        return e(null, m)
                    }
                }(this)
            ], function(b, e) {
                if (null == b && null != e) return $("#favicon").remove(), $("<link>").attr({
                    id: "favicon",
                    rel: "icon",
                    type: "image/png",
                    sizes: "64x64",
                    href: e
                }).appendTo("head")
            })
        };
        c.prototype.setNotifications = function(b) {
            this.settings.hasNotifications = b;
            return this._update()
        };
        c.prototype.setBackground = function(b) {
            var e, c;
            c = b.url;
            e = b.tiled;
            b = b.color;
            this.settings.url = c;
            this.settings.tiled = e;
            this.settings.color = b;
            return this._update()
        };
        return c
    }());
    var zd;
    zd = function() {
        function c() {}
        c.prototype.switchSection = function(b) {
            this.$(".js-content").addClass("hide").detach();
            this.$(".js-loading-page").removeClass("hide");
            this.$(".tabbed-pane-nav-item-button").removeClass("active");
            this.$(b.target).addClass("active");
            return t(this.model.typeName + " View", "Detail Sidebar", "Open " + this.$(b.target).text() + " Page")
        };
        return c
    }();
    var La, Va, ub, O, W, Ad, D = [].slice,
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] ===
                    c) return b;
            return -1
        };
    Ad = function() {
        function c(b) {
            this.cache = b
        }
        c.prototype._loadApiData = function() {
            var b, d, e, c, f, h, m, k;
            e = arguments[0];
            b = arguments[1];
            h = arguments[2];
            m = 5 <= arguments.length ? D.call(arguments, 3, k = arguments.length - 1) : (k = 3, []);
            c = arguments[k++];
            f = m[0];
            d = m[1];
            return async.auto({
                result: function(d) {
                    var c;
                    _.isString(e) || (e = e.prototype.typeName);
                    c = l.invitationTokens();
                    _.isEmpty(c) || (h.invitationTokens = c.join(","));
                    null == f && (f = "" + l.pluralize(e) + "/" + b);
                    return QuickLoad("/1/" + f + "?" + $.param(h), function(b,
                        e, c) {
                        d(null, b);
                        if (null != (b = null != c ? c.getResponseHeader("X-Server-Time") : void 0)) return yc.updateServerTime(parseInt(b))
                    }, function(c) {
                        return 0 === (null != c ? c.indexOf("invalid token") : void 0) ? y.logoutPost() : d("Api load error on " + e + ", " + b + ", " + h + ": " + c)
                    })
                },
                header: function(b) {
                    return d ? b() : O.waitFor("headerData", b)
                }
            }, function(b) {
                return function(d, f) {
                    var h;
                    h = f.result;
                    if (d) "function" === typeof c && c(d);
                    else return null != b.cache ? b.cache.enqueueDelta(e, h, function(b, d) {
                            return "function" === typeof c ? c(b, d) : void 0
                        }) :
                        c(d, h)
                }
            }(this))
        };
        c.prototype.loadHeaderData = function(b) {
            return y.isLoggedIn() ? this._loadApiData(ca, "me", Re, void 0, !0, b) : "function" === typeof b ? b(null, {}) : void 0
        };
        c.prototype.loadBoardsMenuData = function(b) {
            return y.isLoggedIn() ? this._loadApiData(ca, "me", Ge, b) : "function" === typeof b ? b(null, {}) : void 0
        };
        c.prototype.loadBoardData = function(b, d, e) {
            return this._loadApiData(ra, b, d, e)
        };
        c.prototype.loadBoardListData = function(b, d, e) {
            return this._loadApiData(ra, b, d, e)
        };
        c.prototype.loadCardData = function() {
            var b,
                d, e;
            b = 3 <= arguments.length ? D.call(arguments, 0, e = arguments.length - 2) : (e = 0, []);
            d = arguments[e++];
            e = arguments[e++];
            b = b[0];
            return null != b ? this._loadApiData(Ea, d, kd, "boards/" + b + "/cards/" + d, e) : this._loadApiData(Ea, d, kd, e)
        };
        c.prototype.loadCardDetails = function(b, d, e, c) {
            return this._loadApiData(Ea, d, _.extend({
                actions_limit: e
            }, Ie), "boards/" + b + "/cards/" + d, c)
        };
        c.prototype.loadCardVoters = function(b, d) {
            return this._loadApiData(Ea, b, Je, "cards/" + b, d)
        };
        c.prototype.loadCardCopyData = function(b, d, e) {
            return this._loadApiData(Ea,
                d, He, "boards/" + b + "/cards/" + d, e)
        };
        c.prototype.loadNotificationData = function(b, d) {
            return this._loadApiData(ca, b, {
                notifications: "all",
                notifications_limit: 10
            }, d)
        };
        c.prototype.loadMoreNotificationData = function(b, d, e) {
            return $.get("/1/members/" + b + "/notifications", {
                filter: "all",
                limit: 10,
                page: d
            }).done(function(b) {
                return function(d) {
                    return b.cache.enqueueDelta(vb.prototype.typeName, d, e)
                }
            }(this)).fail(function() {
                return "function" === typeof e ? e("error") : void 0
            })
        };
        c.prototype.loadMemberBoardsData = function(b, d) {
            return this._loadApiData(ca,
                b, Me, d)
        };
        c.prototype.loadMemberCardsData = function(b, d) {
            return this._loadApiData(ca, b, Ne, d)
        };
        c.prototype.loadMemberEmail = function(b, d) {
            return this._loadApiData(ca, b, {
                fields: "email",
                invitationTokens: l.invitationTokens().join(",")
            }, d)
        };
        c.prototype.loadOrganizationMemberGhost = function(b, d, e) {
            var c;
            b = null != (c = l.inviteTokenFor(b)) ? c.split("-")[0] : void 0;
            return null == b ? e(null, {}) : this._loadApiData(ca, b, {
                    fields: "fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,url",
                    invitationTokens: l.invitationTokens().join(",")
                },
                function(b, d) {
                    return null != b ? e(null, {}) : e(null, d)
                })
        };
        c.prototype.loadMyBoardsUnreadData = function(b) {
            return this._loadApiData(ca, "me", Qe, b)
        };
        c.prototype.loadMoreActionData = function() {
            var b, d, e, c, f, h, m;
            f = arguments[0];
            e = arguments[1];
            m = arguments[2];
            c = arguments[3];
            b = 6 <= arguments.length ? D.call(arguments, 4, d = arguments.length - 1) : (d = 4, []);
            h = arguments[d++];
            d = b[0];
            b = b[1];
            c = {
                filter: "all",
                limit: c,
                page: m
            };
            null != d && (c.idModels = d.join(","));
            null != b && (c.filter = b);
            return this._loadApiData(nb, e, c, "" + f + "s/" + e + "/actions",
                h)
        };
        c.prototype.loadClosedCards = function(b, d, e) {
            var c, f;
            c = d.limit;
            d = d.before;
            f = {
                stickers: !0
            };
            null != c && (f.limit = c);
            null != d && (f.before = d);
            return this._loadApiData(Ea, b, f, "boards/" + b + "/cards/closed", e)
        };
        c.prototype.loadClosedBoards = function(b) {
            return this._loadApiData(ra, null, {
                filter: "closed"
            }, "members/me/boards", b)
        };
        c.prototype.loadMemberData = function(b, d) {
            return this._loadApiData(ca, b, {}, d)
        };
        c.prototype.loadMemberPaidAccount = function(b, d) {
            return this._loadApiData(ca, b, Pe, d)
        };
        c.prototype.loadMemberAccountData =
            function(b, d) {
                return this._loadApiData(ca, b, Le, d)
            };
        c.prototype.loadMemberProfileData = function(b, d) {
            ld.action_since = (new Date).addDays(-30).toString();
            return this._loadApiData(ca, b, ld, d)
        };
        c.prototype.loadMemberPasswordData = function(b, d) {
            return this._loadApiData(ca, b, {
                fields: "loginTypes"
            }, d)
        };
        c.prototype.loadMemberCustomBackgrounds = function(b, d) {
            return this._loadApiData(ca, b, {
                fields: "",
                boardBackgrounds: "custom"
            }, d)
        };
        c.prototype.loadMemberCustomStickers = function(b, d) {
            return this._loadApiData(ca, b, {
                fields: "",
                customStickers: "all"
            }, d)
        };
        c.prototype.loadMemberCustomEmoji = function(b, d) {
            return this._loadApiData(ca, b, {
                fields: "",
                customEmoji: "all"
            }, d)
        };
        c.prototype.loadMemberRecommendData = function(b, d) {
            return this._loadApiData(ca, b, {
                fields: "fullName,username",
                credits: "invitation,promoCode"
            }, d)
        };
        c.prototype._loadOrganizationPayload = function(b, d, e) {
            return this._loadApiData.call(this, Sa, d, b, e)
        };
        c.prototype.loadOrganizationData = function() {
            var b;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            return this._loadOrganizationPayload.apply(this, [Se].concat(D.call(b)))
        };
        c.prototype.loadOrganizationBoardsData = function() {
            var b;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            return this._loadOrganizationPayload.apply(this, [Te].concat(D.call(b)))
        };
        c.prototype.loadOrganizationPaidAccount = function() {
            var b;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            return this._loadOrganizationPayload.apply(this, [Ye].concat(D.call(b)))
        };
        c.prototype.loadOrganizationMinimal = function() {
            var b;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            return this._loadOrganizationPayload.apply(this, [Xe].concat(D.call(b)))
        };
        c.prototype.loadOrganizationMembersData = function() {
            var b;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            return this._loadOrganizationPayload.apply(this, [Ve].concat(D.call(b)))
        };
        c.prototype.loadOrganizationMembersMinimal = function() {
            var b;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            return this._loadOrganizationPayload.apply(this, [We].concat(D.call(b)))
        };
        c.prototype.loadOrganizationMemberMinimal = function(b, d, e) {
            return this._loadApiData(ca, d, Oe, e)
        };
        c.prototype.loadOrgMemberCardData =
            function(b, d, e) {
                return this._loadApiData(Ea, b, md, "organization/" + b + "/members/" + d + "/cards", e)
            };
        c.prototype.loadOrgMemberMinimalData = function(b, d, e) {
            return this._loadApiData(Ea, b, md, "organization/" + b + "/members/" + d + "/cards", e)
        };
        c.prototype.loadOrganizationExportData = function() {
            var b;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            return this._loadOrganizationPayload.apply(this, [Ue].concat(D.call(b)))
        };
        c.prototype.loadOrgNameById = function(b, d) {
            return this._loadApiData(Sa, b, {
                fields: "name"
            }, function(b, c) {
                return d(b,
                    null != c ? c.name : void 0)
            })
        };
        c.prototype.loadCurrentBoardData = function(b, d) {
            return this.loadBoardData(b, Ke, d)
        };
        c.prototype.loadBoardActions = function(b, d) {
            return this._loadApiData(ra, b, Ee, d)
        };
        c.prototype.loadBoardChecklists = function(b, d) {
            return this._loadApiData(ra, b, Ce, d)
        };
        c.prototype.loadBoardNames = function(b, d) {
            return async.forEach(b, function(b) {
                return function(d, c) {
                    return b._loadApiData(ra, d, {
                        fields: "name,closed"
                    }, c)
                }
            }(this), d)
        };
        c.prototype.loadMyOrganizations = function(b) {
            return this.loadMemberOrganizations("me",
                b)
        };
        c.prototype.loadMemberOrganizations = function(b, d) {
            return this._loadApiData(ca, b, Ze, d)
        };
        c.prototype.loadSearchData = function(b, d) {
            ua.inTest("elastic_search") && (b.elasticsearch = !0);
            return this._loadApiData("search", null, b, "search", d)
        };
        return c
    }();
    O = new(function(c) {
        function b() {
            this._loaders = {};
            this._waitComplete = {};
            this._waitCallbacks = {}
        }
        n(b, c);
        b.prototype.triggerWaits = function(b) {
            var e, c, f, h;
            this._waitComplete[b] = !0;
            h = null != (e = this._waitCallbacks[b]) ? e : [];
            c = 0;
            for (f = h.length; c < f; c++) e = h[c], e();
            return delete this._waitCallbacks[b]
        };
        b.prototype.waitFor = function(b, e) {
            var c;
            return this._waitComplete[b] ? e() : (null != (c = this._waitCallbacks)[b] ? c[b] : c[b] = []).push(e)
        };
        b.prototype["for"] = function(b) {
            var e;
            _.isString(b) || (b = b.name);
            return null != (e = this._loaders)[b] ? e[b] : e[b] = new Ad(ModelCacheCache["for"](b))
        };
        b.prototype.dropLoaderFor = function(b) {
            return delete this._loaders[b.name]
        };
        b.prototype.cacheCallback = function(b, e) {
            return function(c, f) {
                var h, m;
                if (!c) return h = null != (m = "function" === typeof b ? b(f) :
                    void 0) ? m : b, _.isString(h) && (h = ModelCacheCache["for"](h)), h.enqueueDelta(e, f)
            }
        };
        return b
    }(Ad));
    W = function(c) {
        function b(d, e) {
            this.getView = k(this.getView, this);
            this.clearCache = k(this.clearCache, this);
            this.onId = k(this.onId, this);
            this.toggle = k(this.toggle, this);
            this.api = k(this.api, this);
            this.run = k(this.run, this);
            this.pull = k(this.pull, this);
            this.addToSet = k(this.addToSet, this);
            this.update = k(this.update, this);
            this._handleError = k(this._handleError, this);
            this.setReady = k(this.setReady, this);
            this.ready = k(this.ready,
                this);
            this.waitForAttrs = k(this.waitForAttrs, this);
            this.waitForAttr = k(this.waitForAttr, this);
            var c, f;
            this._marked = {};
            this._lockQueue = {};
            this.modelCache = null != e ? e.modelCache : void 0;
            this._apiQueue = async.queue(function(b, d) {
                return b(d)
            }, 1);
            c = null;
            this._apiQueue.drain = function(b) {
                return function() {
                    var d;
                    d = c;
                    c = null;
                    return b.modelCache.unlock(d)
                }
            }(this);
            this._apiQueue.saturated = function(b) {
                return function() {
                    return null != c ? c : c = b.modelCache.lock("TrelloModel " + b.id + " saturated")
                }
            }(this);
            l.debounceEvents(this);
            b.__super__.constructor.apply(this, arguments);
            null != (f = this.modelCache) && f.add(this)
        }
        n(b, c);
        b.prototype._initSubEventsOn = function(b) {
            return this.listenTo(this, "change:" + b, function(e) {
                return function(c, f) {
                    var h, m, k, l;
                    m = null != (k = c.previousAttributes()) ? k[b] : void 0;
                    l = [];
                    for (h in f) k = f[h], (null == m || k !== m[h]) && l.push(e.trigger("change:" + b + "." + h));
                    return l
                }
            }(this))
        };
        b.prototype.waitForLock = function(b, e) {
            var c;
            c = function(e) {
                return function() {
                    return _.isEmpty(e._lockQueue[b]) ? delete e._lockQueue[b] : e._lockQueue[b].shift()(c)
                }
            }(this);
            if (null != this._lockQueue[b]) return this._lockQueue[b].push(e);
            this._lockQueue[b] = [];
            return e(c)
        };
        b.prototype.set = function(d, e) {
            var c, f, h, m, k, l, w, n, t, v, x;
            _.isArray(d) && (d = _.find(d, function(b) {
                return b.id === this.id || b._id === this.id
            }));
            if (null != (null != d ? d._id : void 0)) null == d.id && (d.id = d._id), delete d._id;
            d = _.clone(d);
            for (m in d)
                if (l = d[m], 0 <= m.indexOf("/")) {
                    k = m.split("/");
                    h = k[0];
                    f = 3 <= k.length ? D.call(k, 1, w = k.length - 1) : (w = 1, []);
                    k = k[w++];
                    null == d[h] && (d[h] = null != (v = _.clone(this.get(h))) ? v : {});
                    h = d[h];
                    c = n =
                        0;
                    for (t = f.length; n < t; c = ++n) c = f[c], h = h[c] = null != (x = _.clone(h[c])) ? x : {};
                    h[k] = l;
                    delete d[m]
                }
            return b.__super__.set.apply(this, arguments)
        };
        b.prototype.destructor = function() {
            var b, e, c, f;
            this.off();
            if (null != this._using) {
                f = this._using;
                e = 0;
                for (c = f.length; e < c; e++) b = f[e], "function" === typeof b.destructor && b.destructor()
            }
            this.clearCache();
            return l.shred(this)
        };
        b.prototype.destroy = function() {
            b.__super__.destroy.apply(this, arguments);
            return this.destructor()
        };
        b.prototype.destruct = function(b) {
            var e, c, f, h;
            if (_.isArray(b)) {
                null ==
                    this._using && (this._using = []);
                h = [];
                c = 0;
                for (f = b.length; c < f; c++) e = b[c], h.push(this._using.push(e));
                return h
            }
            return this.destruct([b])
        };
        b.prototype.waitForAttr = function(b, e) {
            var c;
            return null != (c = this.get(b)) ? e(null, c) : this.once("change:" + b, function(c) {
                return function() {
                    return c.waitForAttr(b, e)
                }
            }(this))
        };
        b.prototype.waitForAttrs = function(b, e) {
            return l.mapping(b, this.waitForAttr, function(c, f) {
                return e(c, _.object(b, f))
            })
        };
        b.get = function(b, e, c) {
            var f;
            if (_.isArray(e)) {
                var h, m, k;
                k = [];
                h = 0;
                for (m = e.length; h <
                    m; h++) f = e[h], k.push(this.get(b, f));
                return null != c && c.compact ? _.compact(k) : k
            }
            return ModelCacheCache["for"](b).get(this.prototype.typeName, e)
        };
        b.waitFor = function() {
            var b, e, c, f, h, m;
            b = arguments[0];
            e = arguments[1];
            h = 4 <= arguments.length ? D.call(arguments, 2, m = arguments.length - 1) : (m = 2, []);
            c = arguments[m++];
            f = h[0];
            return _.isArray(e) ? async.map(e, function(e) {
                return function(h) {
                    return e.waitFor(b, h, f, c)
                }
            }(this), c) : ModelCacheCache["for"](b).waitFor(this.prototype.typeName, e, c)
        };
        b.all = function(b) {
            return ModelCacheCache["for"](b).all(this.prototype.typeName)
        };
        b.find = function() {
            var b, e, c, f;
            c = arguments[0];
            b = 2 <= arguments.length ? D.call(arguments, 1) : [];
            if (1 === b.length) return b = b[0], _.filter(this.all(c), b);
            e = b[0];
            f = b[1];
            return this.find(c, function(b) {
                return b.get(e) === f
            })
        };
        b.findOne = function() {
            var b;
            b = 1 <= arguments.length ? D.call(arguments, 0) : [];
            return _.first(this.find.apply(this, b))
        };
        b.prototype.ready = function(b) {
            b && (this.isReady ? b() : (this.waitingForReady || (this.waitingForReady = []), this.waitingForReady.push(b)))
        };
        b.prototype.setReady = function() {
            var b, e, c, f;
            this.isReady = !0;
            if (this.waitingForReady) {
                e = this.waitingForReady;
                this.waitingForReady = null;
                c = 0;
                for (f = e.length; c < f; c++) b = e[c], "function" === typeof b && b()
            }
        };
        b.prototype._handleError = function(b) {
            return function(e, c, f, h) {
                c = e.status;
                e = e.responseText;
                return 400 <= c && 500 > c ? ("undefined" !== typeof console && null !== console && "function" === typeof console.error && console.error(e), "function" === typeof b ? b(e, null) : void 0) : h()
            }
        };
        b.prototype.update = function() {
            var b, e, c, f, h;
            _.isString(arguments[0]) ? (b = arguments[0], h = arguments[1],
                c = 4 <= arguments.length ? D.call(arguments, 2, f = arguments.length - 1) : (f = 2, []), c = c[0], e = arguments[f++], f = {}, f[b] = h) : (f = arguments[0], c = 3 <= arguments.length ? D.call(arguments, 1, b = arguments.length - 1) : (b = 1, []), c = c[0], e = arguments[b++]);
            null == c && !_.isFunction(e) && (c = e, e = null);
            (null != c ? c : {}).waitForServer || this.set(f);
            return this._persistUpdate(f, e)
        };
        b.prototype._persistUpdate = function(b, e) {
            return this.api({
                type: "put",
                data: b
            }, e)
        };
        b.prototype.addToSet = function() {
            var b, e, c, f, h, m, k;
            b = arguments[0];
            m = arguments[1];
            h = 4 <=
                arguments.length ? D.call(arguments, 2, f = arguments.length - 1) : (f = 2, []);
            f = arguments[f++];
            h = h[0];
            null == h && !_.isFunction(f) && (h = f, f = function() {});
            e = null != h ? h : {};
            h = e.waitForServer;
            e = e.collectionName;
            c = this;
            null == e && (e = b);
            h || this.set(b, _.uniq((null != (k = c.get(b)) ? k : []).concat(m)));
            return this.api({
                method: e,
                data: {
                    value: m
                },
                success: function(e) {
                    return function(f, h) {
                        var k;
                        k = {};
                        k[b] = _.uniq(c.get(b).concat(m));
                        e.modelCache.enqueueDelta(c, k);
                        return "function" === typeof h ? h(null, f) : void 0
                    }
                }(this)
            }, f)
        };
        b.prototype.pull =
            function() {
                var b, e, c, f, h, m, k;
                b = arguments[0];
                m = arguments[1];
                h = 4 <= arguments.length ? D.call(arguments, 2, f = arguments.length - 1) : (f = 2, []);
                f = arguments[f++];
                h = h[0];
                null == h && !_.isFunction(f) && (h = f, f = function() {});
                e = null != h ? h : {};
                h = e.waitForServer;
                e = e.collectionName;
                c = this;
                null == e && (e = b);
                h || this.set(b, _.without(null != (k = c.get(b)) ? k : [], m));
                return this.api({
                    method: "" + e + "/" + m,
                    type: "delete",
                    success: function(e) {
                        return function(f, h) {
                            var k;
                            k = {};
                            k[b] = _.without(c.get(b), m);
                            e.modelCache.enqueueDelta(c, k);
                            return "function" ===
                                typeof h ? h(null, f) : void 0
                        }
                    }(this)
                }, f)
            };
        b.prototype.run = function(b, e, c) {
            return this.api({
                method: b,
                data: e
            }, c)
        };
        b.prototype.api = function(b, e) {
            var c, f, h, m, k, l;
            h = b.method;
            l = b.type;
            c = b.data;
            k = b.success;
            f = b.datatype;
            m = this;
            null == f && (f = "");
            null == h && (h = "");
            null == l && (l = "post");
            null == c && (c = {});
            null == k && (k = function(b) {
                return function(d, e) {
                    var c;
                    d.id === m.id ? b.modelCache.enqueueDelta(m, d) : _.isArray(d) && (c = _.find(d, function(b) {
                        return b.id === m.id
                    }), null != c && b.modelCache.enqueueDelta(m, c));
                    return e(null, d)
                }
            }(this));
            null == e && (e = function() {});
            this.onId(function(b) {
                return function() {
                    var d;
                    d = b.url();
                    null != h && "" !== h && (d += "/" + h);
                    return b._apiQueue.push(function(e) {
                        return S({
                            url: d,
                            type: l,
                            data: c,
                            datatype: f,
                            success: function(b) {
                                return k(b, e)
                            },
                            error: b._handleError(e)
                        })
                    }, e)
                }
            }(this));
            return this
        };
        b.prototype.toggle = function() {
            var b, e, c, f, h;
            e = arguments[0];
            f = arguments[1];
            b = arguments[2];
            h = 5 <= arguments.length ? D.call(arguments, 3, c = arguments.length - 1) : (c = 3, []);
            c = arguments[c++];
            return this[b ? "addToSet" : "pull"](e, f, h[0], c)
        };
        b.prototype.onId =
            function(b) {
                var e;
                e = this;
                if (e.id) b(e.id);
                else e.once("change:id", function(c) {
                    return function() {
                        return b(e.id)
                    }
                }(this))
            };
        b.prototype.clearCache = function() {
            var b, e, c;
            if (this.viewCache) {
                c = this.viewCache;
                for (b in c) e = c[b], "function" === typeof e.destructor && e.destructor(), delete this.viewCache[b];
                return delete this.viewCache
            }
        };
        b.prototype.getView = function(b, e, c) {
            var f, h;
            h = b.prototype.uniqueId();
            f = e ? h + ":" + e : h;
            null == this.viewCache && (this.viewCache = {});
            e = this.viewCache;
            if (!e[f]) {
                if (!b || !_.isFunction(b)) {
                    P("render",
                        "view does not exist", h);
                    return
                }
                c = _.extend({
                    model: this,
                    modelCache: this.modelCache
                }, c);
                e[f] = new b(c);
                this.redelegateOnRemove(e[f])
            }
            return e[f]
        };
        b.prototype.redelegateOnRemove = function(b) {
            return b.$el.on("remove", function(e) {
                return function() {
                    return _.defer(function() {
                        b.delegateEvents();
                        return e.redelegateOnRemove(b)
                    })
                }
            }(this))
        };
        return b
    }(Backbone.Model);
    l.extendWithModelCacheHelpers(W);
    La = function(c) {
        function b(d, e) {
            this._update = k(this._update, this);
            this.modelCache = null != e ? e.modelCache : void 0;
            l.debounceEvents(this);
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.destructor = function() {
            var b, e;
            this.off();
            null != (b = this.modelCache) && b.off(null, null, this);
            null != (e = this.sourceModel) && e.off(null, null, this);
            return l.shred(this)
        };
        b.prototype.create = function(d, e) {
            var c, f;
            null == e && (e = {});
            c = this.modelCache.lock("Collection Create");
            f = e.success;
            e.success = function(b) {
                return function() {
                    var d;
                    d = 1 <= arguments.length ? D.call(arguments, 0) : [];
                    b.modelCache.unlock(c);
                    return "function" === typeof f ? f.apply(null, d) : void 0
                }
            }(this);
            null == e.modelCache && (e.modelCache = this.modelCache);
            return b.__super__.create.call(this, d, e)
        };
        b.prototype.onAddRemove = function(b) {
            return this.ond("add remove reset", b)
        };
        b.prototype._update = function(b) {
            var e, c;
            e = _.sortBy(b, function(b) {
                return b.cid
            });
            c = _.sortBy(this.models, function(b) {
                return b.cid
            });
            if (!_.isEqual(e, c)) return this.reset(b)
        };
        b.prototype.owner = function(b) {
            this.owner = b;
            return this
        };
        b.prototype.syncModel = function(b, e, c) {
            var f, h, m, k;
            this.sourceModel = b;
            h = (null != c ? c : {}).fxGetIds;
            this.modelCache =
                this.sourceModel.modelCache;
            m = function(b) {
                return function() {
                    var d, c, f;
                    d = b.sourceModel.get(e);
                    return null != (c = null != (f = "function" === typeof h ? h(d) : void 0) ? f : d) ? c : []
                }
            }(this);
            f = async.cargo(function(b) {
                return function(b, d) {
                    var e;
                    e = _.countBy(m());
                    _.any(b, function(b) {
                        return b.id in e
                    }) && k(_.keys(e));
                    return d()
                }
            }(this));
            k = function(b) {
                return function(d) {
                    return b._update(b.model.get(b.modelCache.name, d, {
                        compact: !0
                    }))
                }
            }(this);
            this.sync = function(b) {
                return function() {
                    return k(m())
                }
            }(this);
            this.sourceModel.on("change:" +
                e, this.sync, this);
            this.modelCache.on("add:" + this.model.prototype.typeName, function(b) {
                return function(d) {
                    f.push(d);
                    return b
                }
            }(this));
            this.sync();
            return this
        };
        b.prototype.syncCache = function(b, e, c) {
            var f, h, m;
            this.modelCache = b;
            this.sync = function(b) {
                return function() {
                    return b._update(_.filter(b.model.all(b.modelCache), c))
                }
            }(this);
            f = this.model.prototype.typeName;
            this.modelCache.on("add:" + f, function(b) {
                return function(d) {
                    if (c(d)) return b.add(d)
                }
            }(this), this);
            this.modelCache.on("remove:" + f, function(b) {
                    return function(d) {
                        if (c(d)) return b.remove(d)
                    }
                }(this),
                this);
            this.modelCache.on(" reset:" + f, function(b) {
                return function() {
                    return b.sync()
                }
            }(this), this);
            h = 0;
            for (m = e.length; h < m; h++) b = e[h], this.modelCache.on("change:" + f + ":" + b, this.sync, this);
            this.sync();
            return this
        };
        b.prototype.syncSubModels = function(b, e) {
            this.sourceModel = b;
            null == this.modelCache && (this.modelCache = this.sourceModel.modelCache);
            this.sync = function(b) {
                return function() {
                    var d, c, m, k, l, w, n, t;
                    l = null != (c = b.sourceModel.get(e)) ? c : [];
                    m = function() {
                        var b, e, c;
                        c = [];
                        b = 0;
                        for (e = l.length; b < e; b++) d = l[b], k = _.find(this.models,
                            function(b) {
                                return b.id === d.id
                            }), null != k ? this.modelCache.enqueueDelta(k, d) : k = new this.model(d, {
                            modelCache: this.modelCache,
                            collection: this
                        }), c.push(k);
                        return c
                    }.call(b);
                    t = b.models;
                    w = 0;
                    for (n = t.length; w < n; w++) c = t[w], null == c.id && m.push(c);
                    return b._update(m)
                }
            }(this);
            this.sourceModel.on("change:" + e, this.sync, this);
            this.sync();
            return this
        };
        return b
    }(Backbone.Collection);
    l.extendWithModelCacheHelpers(La);
    Va = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.addPlaceholder =
            function(b) {
                var e;
                e = _.uniqueId("placeholder");
                _.extend(b, {
                    id: e
                });
                this.add(b);
                return function(b) {
                    return function() {
                        return b.remove(e)
                    }
                }(this)
            };
        return b
    }(La);
    ub = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype["default"] = function() {
            return {}
        };
        b.prototype.sync = function(b, e, c) {
            var f, h, m, k;
            m = c.success;
            switch (b) {
                case "create":
                    throw Error("not implemented");
                case "read":
                    return b = null != (f = da.get(e.id)) ? f : {}, _.defaults(b, this["default"]()), "function" === typeof m ?
                        m(e, b, c) : void 0;
                case "update":
                    b = e.toJSON();
                    f = this["default"]();
                    delete b.id;
                    for (h in b) k = b[h], _.isEqual(k, f[h]) && delete b[h];
                    _.isEmpty(b) ? da.unset(e.id) : da.set(e.id, b);
                    return "function" === typeof m ? m(e, e.toJSON(), c) : void 0;
                case "delete":
                    return da.unset(e.id), "function" === typeof m ? m(e, null, c) : void 0
            }
        };
        b.prototype._persistUpdate = function(b, e) {
            var c;
            da.set(this.id, _.extend(null != (c = da.get(this.id)) ? c : this["default"](), b));
            return "function" === typeof e ? e(null, this.toJSON()) : void 0
        };
        b.prototype.toggle = function(b,
            e) {
            if (this.inSet(b, e)) return this.pull(b, e), !1;
            this.addToSet(b, e);
            return !0
        };
        b.prototype.inSet = function(b, e) {
            var c;
            return 0 <= F.call(null != (c = this.get(b)) ? c : [], e)
        };
        b.prototype.addToSet = function(b, e) {
            var c;
            return this.save(b, (null != (c = this.get(b)) ? c : []).concat(e))
        };
        b.prototype.pull = function(b, e) {
            var c;
            return this.save(b, _.without(null != (c = this.get(b)) ? c : [], e))
        };
        return b
    }(W);
    Backbone.prepareData = function(c, b, d) {
        var e, g;
        g = {
            token: y.myToken()
        };
        e = function() {
            switch (c) {
                case "create":
                case "update":
                    return _.extend(b.toJSON(),
                        g);
                case "delete":
                    return g;
                default:
                    return {}
            }
        }();
        "read" === c && _.isArray(d.fields) && (e.fields = d.fields.join(","));
        return "read" === c ? $.param(e) : JSON.stringify(e)
    };
    Backbone.syncOriginal = Backbone.sync;
    Backbone.sync = function(c, b, d) {
        var e, g, f;
        switch (c) {
            case "update":
                return null != d ? "function" === typeof d.success ? d.success(b, {}, d) : void 0 : void 0;
            case "create":
                d.wait || (e = b.modelCache.lock("Backbone.sync create"), g = _.once(function() {
                    return b.modelCache.unlock(e)
                }), f = function(b) {
                    return function() {
                        "function" === typeof b &&
                            b.apply(null, arguments);
                        return g()
                    }
                }, setTimeout(f(), 1E4), d.success = f(d.success), d.error = f(d.error));
                break;
            case "delete":
                if (/^placeholder/.test(b.id)) return
        }
        return Backbone.syncOriginal.apply(Backbone, arguments)
    };
    var Cf, zc, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    zc = function(c) {
        function b() {
            b.__super__.constructor.apply(this, arguments);
            this._initSubEventsOn("prefs")
        }
        n(b, c);
        b.prototype.prefNames = [];
        b.prototype.toJSON = function(d) {
            var e, c;
            null == d && (d = {});
            e = b.__super__.toJSON.apply(this, arguments);
            c = function(b) {
                return function(d, m, k) {
                    var l, w, n, t, v, x;
                    x = [];
                    n = 0;
                    for (t = d.length; n < t; n++) w = d[n], l = k ? "" + k + "_" + w : w, w = null != (v = null != m ? m[w] : void 0) ? v : b.getPref(w), _.isObject(w) && !_.isArray(w) ? x.push(c(_.keys(w), w, l)) : (e[l] = w, x.push(e["" + l + "_" + w] = !0));
                    return x
                }
            }(this);
            d.prefs && c(this.prefNames);
            return e
        };
        b.prototype.getPref = function(b) {
            var e;
            return null != (e = this.get("prefs")) ? e[b] : void 0
        };
        b.prototype.setPref = function(b, e) {
            return this.update("prefs/" + b, e)
        };
        b.prototype.set = function(d, e) {
            var c, f, h;
            d = _.clone(d);
            if (null != d.prefs)
                for (c in f = d.prefs, f) h = f[c], "none" === h && (h = "disabled"), "owners" === h && (h = "admins"), f[c] = h;
            return b.__super__.set.apply(this, arguments)
        };
        return b
    }(W);
    Cf = function(c) {
        function b() {
            b.__super__.constructor.apply(this, arguments);
            this._initSubEventsOn("myPrefs")
        }
        n(b, c);
        b.prototype.myPrefNames = [];
        b.prototype.myPrefDefaults = {};
        b.prototype.toJSON = function(d) {
            var e, c, f, h, m, k;
            null == d && (d = {});
            e = b.__super__.toJSON.apply(this, arguments);
            if (d.prefs) {
                k = this.myPrefNames;
                h = 0;
                for (m = k.length; h < m; h++) c = k[h], f = this.getPref(c), e[c] = f, e["" + c + "_" + f] = !0
            }
            return e
        };
        b.prototype.getPref = function(d) {
            var e, c;
            return 0 <= F.call(this.myPrefNames, d) ? null != (e = null != (c = this.get("myPrefs")) ? c[d] : void 0) ? e : this.myPrefDefaults[d] : b.__super__.getPref.apply(this, arguments)
        };
        b.prototype.setPref =
            function(d, e) {
                return 0 <= F.call(this.myPrefNames, d) ? this.setMyPref(d, e) : b.__super__.setPref.apply(this, arguments)
            };
        b.prototype.setMyPref = function(b, e) {
            var c;
            this.api({
                type: "put",
                method: "myPrefs/" + b,
                data: {
                    value: e
                }
            });
            c = _.clone(this.get("myPrefs"));
            c[b] = e;
            return this.set({
                myPrefs: c
            })
        };
        return b
    }(zc);
    var Df, Ef, Bd, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf ||
        function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    Df = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        return b
    }(W);
    Ef = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Df;
        b.prototype.initialize = function() {
            this.memberIndex = {};
            this.on("add", function(b) {
                return this.memberIndex[b.get("idMember")] = b
            });
            this.on("remove", function(b) {
                return delete this.memberIndex[b.get("idMember")]
            });
            return this.on("reset", function() {
                var b, e, c, f, h;
                this.memberIndex = {};
                f = this.models;
                h = [];
                e = 0;
                for (c = f.length; e < c; e++) b = f[e], h.push(this.memberIndex[b.get("idMember")] = b);
                return h
            })
        };
        b.prototype.getMember = function(b) {
            var e;
            b = null != (e = null != b ? b.id : void 0) ? e : b;
            return this.memberIndex[b]
        };
        return b
    }(La);
    Bd = function() {
        function c() {}
        c.prototype.orderedVisibleMembers = function() {
            return this.memberList.sortBy(function(b) {
                return function(d) {
                    return function() {
                        if (y.isMe(d)) return "0";
                        if (this.isDeactivated(d)) return "5";
                        if (this.isVirtual(d)) return "4";
                        switch (d.get("status")) {
                            case "active":
                                return "1";
                            case "idle":
                                return "2";
                            default:
                                return "3"
                        }
                    }.call(b) + d.get("fullName")
                }
            }(this)).filter(function(b) {
                return function(d) {
                    return (!b.isDeactivated(d) || b.canSeeDeactivated(y.me())) && !b.isObserver(d)
                }
            }(this))
        };
        c.prototype.getMemberType = function(b) {
            var d, e;
            d = "function" === typeof this.getOrganization && null != (e = this.getOrganization()) && e.isPremOrgAdmin(b) ? "admin" : this.getExplicitMemberType(b);
            "public" !== d && ("function" === typeof this.isVirtual &&
                this.isVirtual(b)) && (d = "virtual");
            return d
        };
        c.prototype._refreshMemberships = function() {
            return this._memberships.update(this.get("memberships"))
        };
        c.prototype._getMembershipFor = function(b) {
            this._memberships || (this._memberships = new Ef, this._refreshMemberships(), this.on("change:memberships", function(b) {
                return function() {
                    return b._refreshMemberships()
                }
            }(this)));
            return this._memberships.getMember(b)
        };
        c.prototype.getMembershipFor = function(b) {
            var d;
            return null != (d = this._getMembershipFor(b)) ? d.toJSON() : void 0
        };
        c.prototype.isMember = function(b) {
            return null != this._getMembershipFor(b)
        };
        c.prototype.isVirtual = function(b) {
            return "ghost" === (null != b ? b.get("memberType") : void 0)
        };
        c.prototype.isDeactivated = function(b) {
            var d;
            return !0 === (null != (d = this._getMembershipFor(b)) ? d.get("deactivated") : void 0)
        };
        c.prototype.isUnconfirmed = function(b) {
            var d;
            return !0 === (null != (d = this._getMembershipFor(b)) ? d.get("unconfirmed") : void 0)
        };
        c.prototype.isObserver = function(b) {
            return "observer" === this.getExplicitMemberType(b)
        };
        c.prototype.isPremOrgAdmin =
            function(b) {
                var d, e;
                _.isString(b) && (b = this.Member.get(b));
                b = null != (d = null != b ? "function" === typeof b.get ? b.get("idPremOrgsAdmin") : void 0 : void 0) ? d : [];
                d = this.getOrganization ? null != (e = this.getOrganization()) ? e.id : void 0 : this.id;
                return 0 <= F.call(b, d)
            };
        c.prototype.getExplicitMemberType = function(b) {
            var d, e;
            return this.isDeactivated(b) ? "deactivated" : this.isUnconfirmed(b) ? "unconfirmed" : (d = this._getMembershipFor(b)) ? d.get("memberType") : "function" === typeof this.getOrganization && null != (e = this.getOrganization()) &&
                e.isMember(b) ? "org" : "public"
        };
        c.prototype.canSeeDeactivated = function(b) {
            var d, e;
            return this.isMember(b) || (null != (d = b.organizationList) ? d.get(null != (e = this.getOrganization()) ? e.id : void 0) : void 0)
        };
        return c
    }();
    var Ff, Cd, Gf, Dd, Hf, If, Ed, Ma, Fd, F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        },
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) &&
                (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Ma = new(function() {
        function c() {}
        c.prototype.navigateToSearch = function(b, d) {
            var e;
            e = (null != d ? d : {
                trigger: !1
            }).trigger;
            return B.navigate(B.getSearchUrl(b), {
                trigger: e
            })
        };
        c.prototype.init = function() {
            var b, d, e;
            this.keywordMap = this.getKeywordMap();
            this.keywordsWithVariants = _.object(function() {
                var d, c;
                d = this.keywordMap;
                c = [];
                for (b in d) e = d[b], e.hasOwnProperty("variants") && c.push([b, e]);
                return c
            }.call(this));
            this.keywords =
                _.keys(this.keywordMap);
            this.variants = _.compact(_.flatten(function() {
                var e, c;
                e = this.keywordMap;
                c = [];
                for (b in e) d = e[b], c.push(d.variants);
                return c
            }.call(this)));
            this.keywordsAndVariants = this.keywords.concat(this.variants);
            this.keywordsWithSearchSuggest = _.object(function() {
                var d, c;
                d = this.keywordMap;
                c = [];
                for (b in d) e = d[b], e.hasOwnProperty("suggestionsSearchModelTypes") && c.push([b, e]);
                return c
            }.call(this))
        };
        c.prototype.inputIndex = null;
        c.prototype.isOnSearchPage = function() {
            return "search" === B.viewType
        };
        c.prototype.getSuggestionObjectContainingVariantOrKey = function(b) {
            var d, e, c;
            e = this.keywordMap[b];
            if (null != e) return {
                key: b,
                obj: e
            };
            c = this.keywordsWithVariants;
            for (d in c)
                if (e = c[d], 0 <= F.call(e.variants, b)) return {
                    key: d,
                    obj: e
                };
            return {}
        };
        c.prototype.findKeywords = function(b) {
            return "" === b ? [] : _.filter(this.keywordsAndVariants, function(d) {
                return RegExp("^" + l.escapeForRegex(b)).test(d)
            })
        };
        c.prototype.findUniqueKeywords = function(b) {
            b = this.findKeywords(b);
            return _.uniq(b, !1, function(b) {
                return function(e) {
                    return b.getSuggestionObjectContainingVariantOrKey(e).key
                }
            }(this))
        };
        c.prototype.getKeywordMap = function() {
            return {
                "is:archived": {
                    variants: ["archived", "is:closed", "closed"],
                    description: "Only include archived cards.",
                    containsRegex: /\bis:archived\b/
                },
                "is:open": {
                    variants: ["open"],
                    description: "Only include open cards.",
                    containsRegex: /\bis:open\b/
                },
                "is:starred": {
                    variants: ["is:starred"],
                    description: "Only include cards on starred boards.",
                    containsRegex: /\bis:starred\b/
                },
                "has:attachments": {
                    variants: ["attachments"],
                    description: "Only include cards with attachments.",
                    containsRegex: /\bhas:attachments\b/
                },
                "has:cover": {
                    variants: ["cover"],
                    description: "Only include cards with a cover.",
                    containsRegex: /\bhas:cover\b/
                },
                "has:description": {
                    variants: ["description"],
                    description: "Only include cards that have a description.",
                    containsRegex: /\bhas:description\b/
                },
                "has:stickers": {
                    variants: ["stickers"],
                    description: "Only include cards that have stickers.",
                    containsRegex: /\bhas:stickers\b/
                },
                "has:members": {
                    variants: ["members"],
                    suggestString: "has:members",
                    description: "Only include cards that have members assigned.",
                    containsRegex: /\bhas:members\b/
                },
                "@": {
                    moreInputNeeded: !0,
                    description: "Cards assigned to a member.",
                    containsRegex: /@\S*\b/,
                    suggestionsSearchModelTypes: "members"
                },
                "@me": {
                    variants: ["me"],
                    description: "Only include cards assigned to me.",
                    containsRegex: /\b@me\b/
                },
                "member:": {
                    moreInputNeeded: !0,
                    description: "Cards assigned to a member.",
                    containsRegex: /\bmember:\S*\b/,
                    suggestionsSearchModelTypes: "members"
                },
                "label:": {
                    moreInputNeeded: !0,
                    description: "Cards with this label.",
                    containsRegex: /\blabel:\S*\b/
                },
                "#": {
                    moreInputNeeded: !0,
                    description: "Cards with this label.",
                    containsRegex: /\b\#\S*\b/
                },
                "board:": {
                    moreInputNeeded: !0,
                    description: "Only cards on a particular board.",
                    containsRegex: /\bboard:\S*\b/,
                    suggestionsSearchModelTypes: "boards"
                },
                "list:": {
                    moreInputNeeded: !0,
                    description: "Cards in the list with matching text.",
                    containsRegex: /\blist:\S*\b/
                },
                "name:": {
                    moreInputNeeded: !0,
                    description: "Cards that match text in the name.",
                    containsRegex: /\bname:\S*\b/
                },
                "comment:": {
                    moreInputNeeded: !0,
                    description: "Cards that match text in the comment.",
                    containsRegex: /\bcomment:\S*\b/
                },
                "checklist:": {
                    moreInputNeeded: !0,
                    description: "Cards that match text in a checklist.",
                    containsRegex: /\bchecklist:\S*\b/
                },
                "description:": {
                    moreInputNeeded: !0,
                    description: "Cards that match text in the description.",
                    containsRegex: /\bdescription:\S*\b/
                },
                "due:day": {
                    variants: ["day", "today"],
                    description: "Cards due in the next 24 hours.",
                    containsRegex: /\bdue:day\b/
                },
                "due:week": {
                    description: "Cards due in the next 7 days.",
                    containsRegex: /\bdue:week\b/
                },
                "due:month": {
                    description: "Cards due in the next 28 days.",
                    containsRegex: /\bdue:month\b/
                },
                "due:overdue": {
                    variants: ["overdue"],
                    description: "Cards that are past due.",
                    containsRegex: /\bdue:overdue\b/
                },
                "created:day": {
                    description: "Cards created in the last 24 hours.",
                    containsRegex: /\bcreated:day\b/
                },
                "created:week": {
                    description: "Cards created in the last 7 days.",
                    containsRegex: /\bcreated:week\b/
                },
                "created:month": {
                    description: "Cards created in the last 28 days.",
                    containsRegex: /\bcreated:month\b/
                },
                "edited:day": {
                    description: "Cards edited in the last 24 hours.",
                    containsRegex: /\bedited:day\b/
                },
                "edited:week": {
                    description: "Cards edited in the last 7 days.",
                    containsRegex: /\bedited:week\b/
                },
                "edited:month": {
                    description: "Cards edited in the last 28 days.",
                    containsRegex: /\bedited:month\b/
                }
            }
        };
        return c
    }());
    window.Search = Ma;
    Fd = function(c) {
        function b() {
            this.shortcut = k(this.shortcut, this);
            this.fSearchOpen = !1;
            this.saveQueryDebounced = _.debounce(this.saveQuery, 100);
            this.openSearchResultsViewDebounced = _.debounce(this.openSearchResultsView, 100);
            this.autosuggestDebounced = _.debounce(this.autosuggest, 100);
            X.addHandler(this, {
                scope: "search_box"
            });
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            this.makeDebouncedMethods("renderInputState");
            return this.listenTo(na, {
                "change:query": this.renderInputQuery
            })
        };
        b.prototype.events = {
            "keydown .js-search-input": "searchKeydown",
            "click .js-search-input": "openSearchResultsView",
            "focus .js-search-input": "openSearchResultsView",
            "click .js-open-search-page": "openSearchPage",
            "click .js-search-focus": "openSearchResultsView",
            "mousedown .js-search-close": "clearSearch",
            shortcut: "shortcut"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("header_search"));
            this.renderInputStateDebounced();
            this.$(".js-search-input").val(na.getQuery());
            return this
        };
        b.prototype.renderInputQuery = function() {
            var b, e, c;
            b = this.$(".js-search-input");
            c = b.val();
            e = na.getQuery();
            0 < b.length && c !== e && (b.val(e), l.setCaretAtEnd(b))
        };
        b.prototype.renderInputState = function() {
            var b;
            b = this.fSearchOpen;
            this.hasInputValue();
            this.$(".js-search-input").toggleClass("header-search-input-wide focus", b);
            this.$(".js-search-icon, .js-close-icon, .js-open-button").toggleClass("header-search-icon-dark",
                b);
            this.$(".js-search-icon").toggleClass("hide", b);
            this.$(".js-close-icon").toggleClass("hide", !b);
            this.$(".js-open-button").toggleClass("hide", !b)
        };
        b.prototype.hasInputValue = function() {
            var b;
            return 0 < (null != (b = this.$(".js-search-input").val()) ? b.length : void 0)
        };
        b.prototype.shortcut = function(b, e) {
            if (191 === b && !e) return this.focusInput(), "Search"
        };
        b.prototype.focusInput = function() {
            var b;
            b = this.$(".js-search-input");
            b.length && l.setCaretAtEnd(b)
        };
        b.prototype.clearSearch = function(b) {
            l.stop(b);
            this.closeSearch()
        };
        b.prototype.closeSearch = function() {
            this.$(".js-search-input").val("").blur();
            na.setQuery("");
            this.fSearchOpen = !1;
            this.renderInputStateDebounced()
        };
        b.prototype.searchKeydown = function(b) {
            var e, c, f;
            this.renderInputStateDebounced();
            if (13 === (e = b.keyCode) || 9 === e || 39 === e) {
                if (e = $(".js-select-suggestion.selected").length) l.stop(b), $(".js-select-suggestion.selected").click()
            } else if (38 === (c = b.keyCode) || 40 === c) {
                if (e = $(".js-select-suggestion.selected").length) l.stop(b), l.navMenuList($(".js-search-suggestions-list"),
                    ".js-select-suggestion", b.keyCode)
            } else if (!(f = b.keyCode, 0 <= F.call(_.flatten([Ob, 37, 27]), f))) this.autosuggestDebounced(), this.saveQueryDebounced(), this.openSearchResultsViewDebounced()
        };
        b.prototype.autosuggest = function(b) {
            var e, c, f, h, m, k;
            e = this.$(".js-search-input");
            b = l.getWordFromCaret(e).str;
            f = Ma.findUniqueKeywords(b);
            h = na.getQuery();
            Ma.inputIndex = l.getCaretPosition(e);
            e = _.filter(f, function(b) {
                return !Ma.getSuggestionObjectContainingVariantOrKey(b).obj.containsRegex.test(h)
            });
            na.setSuggestions(e);
            e = !1;
            k = Ma.keywordsWithSearchSuggest;
            for (c in k)
                if (m = k[c], f = m.containsRegex, f.test(b)) {
                    e = !0;
                    e = m.suggestionsSearchModelTypes;
                    na.setSuggestionSearchModelTypes(e);
                    c = b.replace(RegExp("^" + c), "");
                    na.setSuggestionSearchTerm(c);
                    return
                }
            e || (na.clearSuggestionSearchTerm(), na.clearSuggestionSearchModelTypes())
        };
        b.prototype.saveQuery = function() {
            var b;
            b = this.$(".js-search-input").val();
            na.setQuery(b);
            /\/search/.test(location.pathname) && B.navigate(B.getSearchUrl(b), {
                replace: !0
            })
        };
        b.prototype.getResultsView = function() {
            return this.subview(Cd,
                null, null, "headerSearchResultsView")
        };
        b.prototype.openSearchResultsView = function(b) {
            l.stop(b);
            !this.fSearchOpen && !Ma.isOnSearchPage() && (b = this.$(".js-search-input"), l.setCaretAtEnd(b), x.show({
                elem: b,
                top: b.outerHeight() + 8,
                view: Cd,
                elActive: b,
                hidden: _.bind(this.closeSearch, this)
            }));
            this.fSearchOpen = !0;
            this.renderInputStateDebounced()
        };
        b.prototype.openSearchPage = function(b) {
            l.stop(b);
            b = na.getQuery();
            x.hide();
            Ma.navigateToSearch(b, {
                trigger: !0
            });
            return t("Header", "Open Search Page")
        };
        return b
    }(A);
    Cd = function(c) {
        function b() {
            this.sortStop =
                k(this.sortStop, this);
            this.renderOrganizationResults = k(this.renderOrganizationResults, this);
            this.renderMemberResults = k(this.renderMemberResults, this);
            this.renderBoardResults = k(this.renderBoardResults, this);
            this.renderCardResults = k(this.renderCardResults, this);
            this.renderResults = k(this.renderResults, this);
            this.render = k(this.render, this);
            this.getMoreCards = k(this.getMoreCards, this);
            this.results = null;
            this.cardPageNumber = this.suggestSerial = this.serial = 0;
            this.cardsLimit = Ma.isOnSearchPage() ? 12 : 8;
            this.searchStates = ["no-results", "no-input", "searching", "search-results", "err"];
            this.searchState = "no-results";
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Search Results"
        };
        b.prototype.className = "search-results-view";
        b.prototype.displayType = "search-over";
        b.prototype.hideHeader = !0;
        b.prototype.maxWidth = "600";
        b.prototype.initialize = function() {
            this.updateDebounced = _.debounce(this.update, 200);
            this.makeDebouncedMethods("renderSearchedSuggestions");
            this.listenTo(na, {
                "change:query": this.updateDebounced,
                "change:suggestions": this.renderSuggestions,
                "change:suggestionSearchTerm": this.renderSearchedSuggestionsDebounced
            });
            return this.listenTo(y.me().savedSearchList, "add remove reset change", this.renderSavedSearches)
        };
        b.prototype.events = {
            "click .js-see-all-saved-searches": "clearSearch",
            "click .js-saved-search-name": "doSavedSearch",
            "sortstop .js-saved-searches-list": "sortStop",
            "click .js-save-this-search": "saveThisSearch",
            "input .js-saved-search-name-input": "changeSearchName",
            "submit .js-save-this-search-form": "confirmSave",
            "click .js-save-this-search-cancel": "cancelSave",
            "click .js-show-search-tips": "showTips",
            "click .js-member-results .js-list .js-select-member": "trackMemClick",
            "click .js-org-results .js-list .list-card": "trackOrgClick",
            "click .js-select-suggestion": "selectSuggestion",
            "mouseenter .js-select-suggestion": "mouseenterSuggestion",
            "mouseleave .js-select-suggestion": "mouseleaveSuggestion",
            "click .js-show-more-cards": "showMoreCards",
            "click .js-show-more-boards": "showMoreBoards",
            "click .js-show-more-members": "showMoreMembers",
            "click .js-show-more-orgs": "showMoreOrgs",
            "mouseenter .search-result-card-hover-target": "highlightCard",
            "mouseleave .search-result-card-hover-target": "unHighlightCard"
        };
        b.prototype.update = function() {
            var b, e, c;
            b = null != b ? b : na.getQuery();
            this.err = null;
            this.results = _.isEmpty(b) ? {} : null;
            ++this.serial;
            e = this.serial;
            this.renderResults();
            if (!_.isEmpty(b)) return b = {
                query: b,
                partial: "undefined" !== typeof partial && null !== partial ? partial : !0,
                modelTypes: "cards,boards,organizations,members",
                board_fields: "name,url,prefs",
                cards_limit: null != (c = this.cardsLimit) ? c : 6,
                card_members: !0,
                card_board: !0,
                card_list: !0,
                card_stickers: !0,
                card_attachments: "cover",
                boards_limit: 8,
                members_limit: 8,
                organizations_limit: 6
            }, O["for"](this.modelCache).loadSearchData(b, function(b) {
                return function(d, c) {
                    var g, k;
                    b.err = d;
                    if (e !== b.serial) g = _.pluck(null != c ? null != (k = c.options) ? k.terms : void 0 : void 0, "text"), P("search", "discarding search for " + g + ", serial " + e);
                    else return b.err = d, b.results = c, b.renderResults()
                }
            }(this))
        };
        b.prototype.getMoreCards = function(b,
            e) {
            var c, f, h;
            c = e.partial;
            c = {
                query: b,
                partial: null != c ? c : !1,
                modelTypes: "cards",
                cards_limit: null != (f = this.cardsLimit) ? f : 6,
                cards_page: null != (h = this.cardPageNumber) ? h : 0,
                card_members: !0,
                card_board: !0,
                card_list: !0,
                card_stickers: !0,
                card_attachments: "cover"
            };
            O["for"](this.modelCache).loadSearchData(c, function(b) {
                return function(d, e) {
                    var c, f;
                    b.err = d;
                    c = _.pluck(null != (f = null != e ? e.cards : void 0) ? f : [], "id");
                    b.err = d;
                    b.results.cards = e.cards;
                    b.$(".js-loading-cards").addClass("hide");
                    return b.renderCardResults(c, {
                        append: !0
                    })
                }
            }(this))
        };
        b.prototype.render = function() {
            var b;
            b = {
                savedSearchesEnabled: y.me().isFeatureEnabled("savedSearches")
            };
            this.$el.html(v.fill("search_instant_results", b));
            this.update();
            this.renderSuggestions();
            this.renderSearchedSuggestionsDebounced();
            return this
        };
        b.prototype.selectSuggestion = function(b) {
            var e, c;
            l.stop(b);
            c = $(b.target).closest(".js-select-suggestion").attr("data-suggestionphrase");
            b = Ma.keywordMap[c];
            e = na.getQuery();
            e = l.removeWordAtIndex(e, Ma.inputIndex);
            c = l.stripExtraSpaces("" + e + " " + c);
            null != b && b.moreInputNeeded ||
                (c += " ");
            na.clearSuggestions();
            na.setQuery(c);
            na.clearSuggestionSearchTerm();
            na.clearSuggestionSearchModelTypes()
        };
        b.prototype.mouseleaveSuggestion = function(b) {
            return this.$(".js-select-suggestion").removeClass("selected")
        };
        b.prototype.mouseenterSuggestion = function(b) {
            return $(b.target).closest(".js-select-suggestion").addClass("selected")
        };
        b.prototype.renderSuggestions = function() {
            var b, e, c, f, h, m, k, l;
            m = na.getSuggestions();
            c = 0 < m.length;
            b = this.$(".js-search-suggestions");
            e = b.find(".js-search-suggestions-list").empty();
            if (c) {
                c = "";
                k = 0;
                for (l = m.length; k < l; k++) f = m[k], f = Ma.getSuggestionObjectContainingVariantOrKey(f), h = f.obj, h.phrase = f.key, c += v.fill("search_suggetion", h);
                e.append(c);
                this.$(".js-select-suggestion").first().addClass("selected");
                b.removeClass("hide")
            } else b.addClass("hide");
            return this
        };
        b.prototype.renderSearchedSuggestions = function() {
            var b, e, c, f;
            b = this.$(".js-search-suggestions").addClass("hide");
            e = b.find(".js-search-suggestions-list").empty();
            ++this.suggestSerial;
            f = this.suggestSerial;
            c = na.getSuggestionSearchTerm();
            "" !== c && (c = {
                query: c,
                modelTypes: na.getSuggestionSearchModelTypes(),
                partial: !0,
                board_fields: "name,url,prefs",
                boards_limit: 6,
                members_limit: 6
            }, O["for"](this.modelCache).loadSearchData(c, function(c) {
                return function(g, k) {
                    var l, w, n, t, x, G;
                    if (f === c.suggestSerial && (l = 0 < (null != k ? null != (w = k.boards) ? w.length : void 0 : void 0), w = 0 < (null != k ? null != (n = k.members) ? n.length : void 0 : void 0), n = "", (l || w) && !g)) {
                        if (l) {
                            G = k.boards;
                            t = 0;
                            for (x = G.length; t < x; t++) l = w = G[t], l.phrase = 'board:"' + w.name + '"', n += v.fill("search_suggetion_board",
                                l)
                        } else if (w) {
                            G = k.members;
                            t = 0;
                            for (x = G.length; t < x; t++) l = w = G[t], l.phrase = "@" + w.username, w = {
                                member: v.member
                            }, n += v.fill("search_suggetion_member", l, "", w)
                        }
                        e.append(n);
                        c.$(".js-select-suggestion").first().addClass("selected");
                        return b.removeClass("hide")
                    }
                }
            }(this)))
        };
        b.prototype.renderResults = function() {
            var b, e, c, f, h, m, k, l, w;
            e = _.pluck(null != (b = null != (k = this.results) ? k.cards : void 0) ? b : [], "id");
            b = _.pluck(null != (c = null != (l = this.results) ? l.boards : void 0) ? c : [], "id");
            c = _.pluck(null != (f = null != (w = this.results) ?
                w.members : void 0) ? f : [], "id");
            f = _.pluck(null != (h = null != (m = this.results) ? m.organizations : void 0) ? h : [], "id");
            this.searchState = null != this.err ? "err" : "" === na.getQuery() ? "no-input" : null == this.results ? "searching" : _.all([e, b, c, f], _.isEmpty) ? "no-results" : (this.renderCardResults(e), this.renderBoardResults(b), this.renderMemberResults(c), this.renderOrganizationResults(f), "search-results");
            this.renderSavedSearches();
            f = this.searchStates;
            h = 0;
            for (m = f.length; h < m; h++) e = f[h], this.$(".js-" + e).toggleClass("hide", e !== this.searchState);
            return this
        };
        b.prototype.renderSavedSearches = function() {
            var b, e, c, f;
            c = "no-input" === this.searchState;
            b = this.$(".js-save-this-search-menu");
            e = !b.hasClass("hide");
            this.$(".js-saved-search-links").toggleClass("hide", c || e);
            e = this.$(".js-saved-searches").toggleClass("hide", !c);
            c ? (b.addClass("hide"), this.renderSavedSearchItems(e)) : (f = na.getQuery(), b = _.find(y.me().savedSearchList.models, function(b) {
                return b.toJSON().query === f
            }), null != b && this.$(".js-current-search-name").text(b.get("name")), this.$(".js-save-this-search").toggleClass("hide",
                null != b), this.$(".js-current-search").toggleClass("hide", null == b));
            return this
        };
        b.prototype.renderSavedSearchItems = function(b) {
            var e, c, f;
            b = b.find(".js-saved-searches-list");
            b.sortable({
                axis: "y",
                delay: "75",
                distance: "7",
                containment: ".js-saved-searches-list",
                tolerance: "pointer",
                items: ".saved-search",
                start: function(b, d) {
                    var e;
                    K.sorting = !0;
                    e = $(d.helper).outerHeight();
                    return $(d.placeholder).height(e)
                },
                stop: function() {
                    return _.defer(function() {
                        return K.sorting = !1
                    })
                }
            });
            c = y.me().savedSearchList.models;
            this.$(".js-no-saved-searches").toggleClass("hide",
                0 < c.length);
            f = function() {
                var b, d, f;
                f = [];
                b = 0;
                for (d = c.length; b < d; b++) e = c[b], f.push(this.subview(Ed, e, {
                    parent: this
                }));
                return f
            }.call(this);
            b.empty();
            this.appendSubviews(f, b);
            return this
        };
        b.prototype.renderCardResults = function(b, e) {
            var c, f, h, m;
            h = (null != e ? e : {}).append;
            c = this.$(".js-card-results").addClass("hide");
            if (0 < b.length) {
                f = c.find(".js-list");
                null == h && f.empty();
                var k, l;
                l = [];
                h = 0;
                for (k = b.length; h < k; h++) m = b[h], m = this.Card.get(m), l.push(this.subview(Ff, m));
                this.appendSubviews(l, f);
                c.removeClass("hide")
            }
            c =
                b.length === this.cardsLimit;
            this.$(".js-show-more-cards").toggleClass("hide", !c);
            return this
        };
        b.prototype.renderBoardResults = function(b) {
            var e, c, f;
            e = this.$(".js-board-results").addClass("hide");
            if (0 < b.length) {
                c = e.find(".js-list").empty();
                var h, m, k;
                k = [];
                h = 0;
                for (m = b.length; h < m; h++) f = b[h], k.push(this.subview(Jf, this.Board.get(f)));
                this.appendSubviews(k, c);
                e.removeClass("hide")
            }
            this.$(".js-show-more-boards").toggleClass("hide", !0);
            return this
        };
        b.prototype.renderMemberResults = function(b) {
            var e, c, f;
            e = this.$(".js-member-results").addClass("hide");
            if (0 < b.length) {
                c = e.find(".js-list").empty();
                var h, m, k;
                k = [];
                h = 0;
                for (m = b.length; h < m; h++) f = b[h], k.push(this.subview(Gf, this.Member.get(f)));
                this.appendSubviews(k, c);
                e.removeClass("hide")
            }
            this.$(".js-show-more-members").toggleClass("hide", !0);
            return this
        };
        b.prototype.renderOrganizationResults = function(b) {
            var e, c;
            e = this.$(".js-org-results").addClass("hide");
            if (0 < b.length) {
                var f, h, m;
                m = [];
                f = 0;
                for (h = b.length; f < h; f++) c = b[f], m.push(v.fill("organization_search_list_item", this.Organization.get(c).toJSON()));
                e.removeClass("hide").find(".js-list").empty().append(m)
            }
            this.$(".js-show-more-orgs").toggleClass("hide", !0);
            return this
        };
        b.prototype.clearSearch = function() {
            return na.setQuery("")
        };
        b.prototype.doSavedSearch = function(b) {
            b = this.$(b.target).closest(".saved-search").find(".js-saved-search-query").text();
            return na.setQuery(b)
        };
        b.prototype.sortStop = function(b, e) {
            l.stopPropagation(b);
            e.item.trigger("movesavedsearch", [e])
        };
        b.prototype.saveThisSearch = function() {
            this.$(".js-saved-search-links").addClass("hide");
            this.$(".js-save-this-search-menu").removeClass("hide");
            this.$(".js-saved-search-name-input").val("").focus();
            return this.$(".js-save-this-search-submit").addClass("disabled")
        };
        b.prototype.changeSearchName = function() {
            var b, e;
            e = this.$(".js-save-this-search-submit");
            b = this.$(".js-saved-search-name-input");
            return e.toggleClass("disabled", 0 === b.val().trim().length)
        };
        b.prototype.confirmSave = function(b) {
            var e;
            l.preventDefault(b);
            if (!this.$(".js-save-this-search-submit").hasClass("disabled")) return b = this.$(".js-saved-search-name-input").val().trim(),
                e = na.getQuery(), y.me().savedSearchList.saveSearch(b, e), this.cancelSave()
        };
        b.prototype.cancelSave = function() {
            this.$(".js-saved-search-links").removeClass("hide");
            return this.$(".js-save-this-search-menu").addClass("hide")
        };
        b.prototype.closeAllDeleteMenus = function() {
            var b, e, c, f, h;
            f = this.subviewsOfType(Ed);
            h = [];
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], h.push(b.cancelDeletion());
            return h
        };
        b.prototype.trackMemClick = function() {
            return t("Search", "Select Member")
        };
        b.prototype.trackOrgClick = function() {
            return t("Search",
                "Select Organization")
        };
        b.prototype.showTips = function(b) {
            l.stop(b);
            this.$(".js-search-tips-helper").addClass("hide");
            this.$(".js-search-tips-list").removeClass("hide")
        };
        b.prototype.showMoreCards = function(b) {
            this.$(".js-loading-cards").removeClass("hide");
            this.$(".js-show-more-cards").addClass("hide");
            this.cardPageNumber++;
            this.getMoreCards(na.getQuery(), {
                partial: !0
            })
        };
        b.prototype.showMoreBoards = function(b) {};
        b.prototype.showMoreMembers = function(b) {};
        b.prototype.showMoreOrgs = function(b) {};
        b.prototype.highlightCard =
            function(b) {
                $(b.target).closest(".search-result-card").addClass("search-result-card-highlight-card").closest(".js-list").addClass("search-result-card-highlight-section")
            };
        b.prototype.unHighlightCard = function(b) {
            $(b.target).closest(".search-result-card").removeClass("search-result-card-highlight-card").closest(".js-list").removeClass("search-result-card-highlight-section")
        };
        return b
    }(A);
    Hf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typename = "SavedSearch";
        return b
    }(W);
    If = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Hf;
        b.prototype.url = function() {
            return "/1/member/" + this.member.id + "/savedSearches"
        };
        b.prototype.initialize = function(b, e) {
            this.member = e.member;
            return this.bind("change:pos", this.sort)
        };
        b.prototype.comparator = function(b) {
            return b.get("pos") || 0
        };
        b.prototype.saveSearch = function(b, e) {
            var c;
            c = this.length ? this.at(this.length - 1).get("pos") + l.spacing : l.spacing;
            return this.create({
                name: b,
                query: e,
                pos: c
            }, {
                modelCache: this.modelCache
            })
        };
        return b
    }(Va);
    Ed = function(c) {
        function b() {
            this.moveSavedSearch = k(this.moveSavedSearch, this);
            this.cancelDeletion = k(this.cancelDeletion, this);
            this.confirmDeletion = k(this.confirmDeletion, this);
            this.deleteSavedSearch = k(this.deleteSavedSearch, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "saved-search";
        b.prototype.events = {
            "click .js-delete-saved-search": "deleteSavedSearch",
            "click .js-delete-saved-search-confirm": "confirmDeletion",
            "click .js-delete-saved-search-cancel": "cancelDeletion",
            movesavedsearch: "moveSavedSearch"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            b.allowDelete = y.me().isFeatureEnabled("savedSearches") || "@me" !== b.query;
            this.$el.html(v.fill("saved_search", b));
            return this
        };
        b.prototype.deleteSavedSearch = function(b) {
            this.options.parent.closeAllDeleteMenus();
            this.$(".js-saved-search-name").addClass("saved-search-item-faded");
            this.$(".js-delete-saved-search").addClass("hide");
            this.$(".js-delete-saved-search-menu").removeClass("hide");
            return _.defer(function(b) {
                return function() {
                    return b.$(".js-delete-saved-search-menu").addClass("saved-search-delete-menu-shown")
                }
            }(this))
        };
        b.prototype.confirmDeletion = function(b) {
            return this.model.destroy()
        };
        b.prototype.cancelDeletion = function(b) {
            this.$(".js-saved-search-name").removeClass("saved-search-item-faded");
            this.$(".js-delete-saved-search").removeClass("hide");
            return this.$(".js-delete-saved-search-menu").addClass("hide").removeClass("saved-search-delete-menu-shown")
        };
        b.prototype.moveSavedSearch =
            function(b, e) {
                var c;
                c = e.item.parent().children().index(e.item);
                this.model.update("pos", l.calcPos(c, y.me().savedSearchList, this.model));
                return this.model.collection.sort({
                    silent: !0
                })
            };
        return b
    }(A);
    Ff = function(c) {
        function b() {
            this.openCard = k(this.openCard, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "search-result-card";
        b.prototype.events = {
            "click .list-card": "openCard"
        };
        b.prototype.render = function() {
            var b, e, c;
            b = this.model.getBoard();
            c = this.model.getList();
            e = this.model.toJSON();
            e = _.extend(e, {
                listName: c.get("name"),
                boardName: b.get("name"),
                permLevel: b.getPermLevelIconClass(),
                archived: c.get("closed") ? " (archived)" : ""
            });
            this.$el.html(v.fill("search_results_card", e));
            b = this.subview(Fa, this.model, {
                viewPrefix: "search_",
                hideMenu: !0,
                applyBoardCardFilter: !1
            });
            this.appendSubview(b, this.$(".js-list-card-container"));
            return this
        };
        b.prototype.openCard = function(b) {
            this.model.showDetail();
            t("Search", "Select Card")
        };
        return b
    }(A);
    Dd = function(c) {
        function b() {
            this.appendMemberToSearchResults =
                k(this.appendMemberToSearchResults, this);
            this.renderSearchResults = k(this.renderSearchResults, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.renderSearchResults = function(b, e) {
            var c, f, h, m, k, s, w;
            this.$(".js-org-members").hide();
            this.$el.find(".js-error").hide();
            c = this.$el.find(".js-search-results");
            c.find(".js-list").empty();
            this.$el.find(".js-uninvited-search-results").hide().empty();
            if ("" === b) this.clearSearchResults(), this.loadingEl.hide();
            else {
                m = _.isEmpty(e);
                h = 3 <= b.trim().length;
                f = 1 === e.length && l.checkEmail(b);
                this.$(".js-no-results").toggleClass("hide", !m);
                c.toggle(!m);
                h || "function" === typeof this.renderOrgMembers && this.renderOrgMembers();
                this.helperEl.hide();
                if (!m && null == e[0].id) this.renderEmailInviteToSearchResults(e[0]), c.hide(), this.loadingEl.hide();
                else {
                    s = 0;
                    for (w = e.length; s < w; s++) m = e[s], h = m.joined, k = 0 < m.similarity, delete m.joined, delete m.similarity, this.modelCache.update("Member", m), c = {
                            id: m.id
                        }, h && (c.extraText = "ghost" === m.memberType ? "invited" : "joined", c.className = "disabled"),
                        c.isKnownMember = k || f, this.appendMemberToSearchResults(c);
                    this.loadingEl.hide();
                    f = this.$(".js-search-results .js-list li.js-autoselect:first");
                    l.selectMenuItem(this.$(".js-search-results .js-list"), "li", f)
                }
                x.calcPos()
            }
        };
        b.prototype.appendMemberToSearchResults = function(b) {
            var e, c, f;
            c = this.Member.get(b.id);
            e = "function" === typeof(f = this.model).getOrganization ? f.getOrganization() : void 0;
            e = null != e && e.isPremOrgAdmin(c) ? _.compact([b.className, "no-option"]).join(" ") : b.className;
            b = this.subview(Ka, c, _.extend({
                    showUnconfirmed: !0
                },
                b));
            this.appendSubview(b, this.$(".js-search-results .js-list"));
            return b.$("li").addClass(e)
        };
        return b
    }(A);
    Gf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.tagName = "li";
        b.prototype.className = "search-result-member";
        b.prototype.events = {
            "mouseenter .js-select-member": "hoverMember",
            "mouseleave .js-select-member": "blurMember"
        };
        b.prototype.render = function() {
            this.$el.empty();
            this.appendSubview(this.subview(Ka, this.model, {
                linkName: !0
            }));
            return this
        };
        b.prototype.blurMember =
            function(b) {
                $(b.target).closest(".item").removeClass("selected")
            };
        b.prototype.hoverMember = function(b) {
            var e;
            e = $(b.target).closest(".item");
            l.selectMenuItem($(b.target).closest(".js-list"), ".item", e)
        };
        return b
    }(A);
    $(function() {
        return Ma.init()
    });
    var nb, wb, Ac, Rb, Bc, Kf, Lf, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        D = [].slice;
    nb = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.typeName = "Action";
        b.prototype.urlRoot = "/1/actions";
        b.getListForModel = function() {
            var b, e, c, f;
            e = arguments[0];
            b = 2 <= arguments.length ? D.call(arguments, 1) : [];
            if (2 === b.length) f = b[0], c = b[1];
            else if (1 === b.length) b = b[0], f = b.typeName, c = b.id;
            else return;
            f = f.toLowerCase();
            return _.filter(this.all(e), function(b) {
                return b.includesModel(f, c)
            })
        };
        b.prototype.getModel = function() {
            return this.collection.options.model
        };
        b.prototype.triggerCacheEvents = function(b, e) {
            var c, f, h, m;
            m = this.idModels();
            f = 0;
            for (h = m.length; f < h; f++) c = m[f], b.trigger("" + e + ":" + this.typeName + ":" + c)
        };
        b.prototype.isMember = function(b) {
            return this.get("idMemberCreator") === b.id
        };
        b.prototype.getDate = function() {
            return M.parse(this.get("date"))
        };
        b.prototype.getBoard = function() {
            var b, e;
            return this.Board.get(null != (b = this.get("data")) ? null != (e = b.board) ? e.id : void 0 : void 0)
        };
        b.prototype.getCard = function() {
            var b, e;
            return this.Card.get(null != (b = this.get("data")) ? null != (e = b.card) ? e.id : void 0 : void 0)
        };
        b.prototype.editable = function() {
            var b;
            b = this.get("idMemberCreator");
            return "commentCard" === this.get("type") && y.isMe(b)
        };
        b.prototype.deletable = function() {
            var b, e, c;
            e = this.get("idMemberCreator");
            return "commentCard" === this.get("type") && ("observer" !== (null != (c = this.getBoard()) ? c.getExplicitMemberType(y.me()) : void 0) && y.isMe(e) || null != (b = this.getBoard()) && 0 < b.compareMemberType(y.me(), this.Member.get(e), {
                mode: "commentDelete"
            }) && !(!b.isPremOrgAdmin(y.me()) && b.isPremOrgAdmin(e)))
        };
        b.prototype.isPlaceholder = function() {
            return null == this.get("date")
        };
        b.prototype.includesModel = function(b, e) {
            var c, f;
            b = b.toLowerCase();
            return (null != (c = this.get("data")) ? null != (f = c[b]) ? f.id : void 0 : void 0) === e || "member" === b && this.get("idMemberCreator") === e
        };
        b.prototype.idModels = function() {
            var b, e, c, f;
            f = null != (c = this.get("data")) ? c : {};
            c = [];
            for (b in f) e = f[b], null != (null != e ? e.id : void 0) && c.push(e.id);
            b = this.get("idMemberCreator");
            null != b && c.push(b);
            return c
        };
        b.prototype.takingTooLong = function() {
            this.isTakingTooLong = !0;
            return this.trigger("takingTooLong")
        };
        return b
    }(W);
    Ac = function(c) {
        function b(b) {
            this.modelCache = b
        }
        n(b, c);
        b.getActionListMaker = function(b) {
            var e, c;
            null == this._makers && (this._makers = {});
            return null != (e = this._makers)[c = b.name] ? e[c] : e[c] = new this(b)
        };
        b.prototype.getCardUrl = function(d, e) {
            var c, f;
            return null != (null != (f = c = this.Card.get(e.id)) ? f.get("url") : void 0) ? B.getCardUrl(c) : b.__super__.getCardUrl.apply(this, arguments)
        };
        b.prototype.getBoardUrl = function(d) {
            var e, c;
            return null != (null != (c = e = this.Board.get(d.id)) ? c.get("url") : void 0) ? B.getBoardUrl(this.modelCache,
                e) : b.__super__.getBoardUrl.apply(this, arguments)
        };
        b.prototype.getMember = function(b) {
            return this.Member.get(b)
        };
        b.prototype.getBoard = function(b) {
            return this.Board.get(b)
        };
        b.prototype.attachmentPreviewEntity = function(d) {
            var e;
            e = b.__super__.attachmentPreviewEntity.call(this, d);
            ha.isHighDPI() && null != d.previewUrl2x && (e.url = d.previewUrl2x);
            return e
        };
        b.prototype.attachmentEntity = function(d) {
            d = b.__super__.attachmentEntity.call(this, d);
            d.known = rb.interpret(d.url, this.modelCache);
            return d
        };
        return b
    }(Mb);
    l.extendWithModelCacheHelpers(Ac);
    wb = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = nb;
        b.prototype.initialize = function(b, e) {
            this.options = e
        };
        b.prototype.comparator = function(b) {
            return -b.getDate() || 0
        };
        b.prototype._getRelatedBoards = function(b) {
            var e, c, f;
            c = function() {
                var b, d, c, g, k, l, n;
                c = this.models;
                n = [];
                b = 0;
                for (d = c.length; b < d; b++)
                    if (f = c[b], "moveCardToBoard" === (g = f.get("type")) || "moveCardFromBoard" === g) e = f.get("data"), n.push((null != (k = e.boardTarget) ? k.id : void 0) || (null != (l = e.boardSource) ?
                        l.id : void 0));
                return n
            }.call(this);
            c = _.compact(_.uniq(c));
            c = _.reject(c, function(b) {
                return function(d) {
                    return null != b.Board.get(d)
                }
            }(this));
            return 0 === c.length ? b() : O["for"](this.modelCache).loadBoardNames(c, b)
        };
        return b
    }(La);
    Rb = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function(b) {
            this.renderOpts = b.renderOpts;
            this.makeDebouncedMethods("render");
            this.listenTo(this.collection, "add remove reset", this.renderDebounced);
            return this.actionViews = []
        };
        b.prototype.getActionListMaker = function() {
            return Ac.getActionListMaker(this.modelCache)
        };
        b.prototype.render = function() {
            return this.collection._getRelatedBoards(function(b) {
                return function() {
                    var e, c, f, h, m, k, l, w, n;
                    c = b.saveEdits();
                    f = c[0];
                    c = c[1];
                    e = b.collection.models;
                    e = _.sortBy(e, function(b) {
                        return -M.parse(b.get("date"))
                    });
                    e = b.getActionListMaker().groupActions(e, {
                        limit: b.renderOpts.limit
                    });
                    (l = !b.$el.html()) && b.removeActionViews();
                    b.$(".js-board-member-profile-no-activity").toggleClass("hide", 0 < e.length);
                    k = w = 0;
                    for (n = e.length; w < n; k = ++w)
                        if (m = e[k], h = _.first(m), l || b.actionGroupNeedsRerender(m, h, k)) h = b.rerenderActionGroup(m, h, k, e, {
                            rerenderAll: l
                        }), b.restoreEdits(f, c, h)
                }
            }(this))
        };
        b.prototype.saveEdits = function() {
            var b, e;
            e = [];
            b = 0;
            _.each(this.$el.find(".editing textarea"), function(c) {
                return function(c) {
                    var g;
                    g = l.getElem(c);
                    e.push(g.val());
                    if (g.is(":focus")) return g.parents(".editing").addClass("focused"), b = l.getCaretPosition(c)
                }
            }(this));
            null != e && e.reverse();
            return [e, b]
        };
        b.prototype.restoreEdits = function(b,
            e, c) {
            if (c.$el.hasClass("editing")) return c.$("textarea").val(b.pop()), b = l.getElem(c.$("textarea")), c.$el.hasClass("focused") && l.setCaretPosition(b, e), c.openEditView()
        };
        b.prototype.rerenderActionGroup = function(b, e, c, f, h) {
            var m, k;
            b = 1 === b.length ? /^comment/.test(e.get("type")) ? this.subview(Kf, e, this.renderOpts) : this.subview(Bc, e, this.renderOpts) : this.subview(Lf, e, _.defaults({
                list: b
            }, this.renderOpts));
            h.rerenderAll ? (this.appendSubview(b), this.actionViews.push(b)) : (this.insertActionView(b, c), 1 === this.actionViews.length &&
                1 === f.length ? (this.actionViews[c].remove(), this.actionViews.splice(c, 1, b)) : null == this.actionViews[c + 1] ? this.actionViews.splice(c, 1, b) : f.length <= this.actionViews.length ? this.actionViews[c + 1].model.id === (null != (m = _.first(f[c + 1])) ? m.id : void 0) ? (this.actionViews[c].remove(), this.actionViews.splice(c, 1, b)) : (this.actionViews.splice(c, 0, b), null != (k = this.actionViews[this.actionViews.length - 1]) && k.remove(), this.actionViews = this.actionViews.splice(0, this.actionViews.length - 1)) : this.actionViews.splice(c, 0, b));
            return b
        };
        b.prototype.actionGroupNeedsRerender = function(b, e, c) {
            var f, h, m;
            if ((null != (h = this.actionViews[c + 1]) ? null != (m = h.model) ? m.id : void 0 : void 0) === e.id) this.actionViews[c].remove(), this.actionViews.splice(c, 1);
            c = this.actionViews[c];
            if (1 === b.length && (!c || e.id !== c.model.id)) return !0;
            if (1 < b.length) {
                if (null == (null != c ? c.list : void 0)) return !0;
                c = c.list;
                f = h = 0;
                for (m = b.length; h < m; f = ++h)
                    if (e = b[f], f = null != c ? c[f] : void 0, (null != f ? f.id : void 0) !== e.id) return !0
            }
            return !1
        };
        b.prototype.insertActionView = function(b,
            e) {
            return this.actionViews[e] ? (b.delegateEvents(), b.render().$el.insertBefore(this.actionViews[e].el)) : this.appendSubview(b)
        };
        b.prototype.removeActionViews = function() {
            var b, e, c, f;
            f = this.actionViews;
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], b.remove();
            this.actionViews = []
        };
        b.prototype.delegateEvents = function() {
            var d, e, c, f;
            b.__super__.delegateEvents.apply(this, arguments);
            f = this.actionViews;
            e = 0;
            for (c = f.length; e < c; e++) d = f[e], d.delegateEvents()
        };
        b.prototype.undelegateEvents = function() {
            var d, e, c, f;
            b.__super__.undelegateEvents.apply(this,
                arguments);
            f = this.actionViews;
            e = 0;
            for (c = f.length; e < c; e++) d = f[e], d.undelegateEvents()
        };
        b.prototype.remove = function() {
            this.removeActionViews();
            return b.__super__.remove.apply(this, arguments)
        };
        return b
    }(A);
    Bc = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "phenom phenom-action clearfix";
        b.prototype.getActionListMaker = function() {
            return Ac.getActionListMaker(this.modelCache)
        };
        b.prototype.initialize = function(b) {
            var e;
            this.context = b.context;
            this.listenTo(this.model,
                "takingTooLong change", this.render);
            b = this.model.get("data");
            if (null != (null != (e = b.card) ? e.id : void 0) && b.board) return this.listenTo(this.modelCache, "remove:Action:" + this.model.get("id"), function(b) {
                return function() {
                    return b.remove()
                }
            }(this))
        };
        b.prototype.events = {
            "click .js-show-mem-menu": "viewMemberActionMenu",
            "click .js-open-attachment-viewer": "openAttachmentViewer",
            "click .js-reply-to-action": "reply"
        };
        b.prototype.destructor = function() {};
        b.prototype.addAdditionalInfo = function(b) {
            var e, c, f, h;
            h = b.entities;
            c = 0;
            for (f = h.length; c < f; c++)
                if (e = h[c], e[e.type + "Type"] = !0, e && (e.id || e.idContext)) e.isContext = b.isContext = e.id === this.context.id || e.idContext === this.context.id
        };
        b.prototype.addContextData = function(b) {
            var e, c, f, h, m, k, l, w;
            c = this.Board.get(null != (h = this.model.get("data")) ? null != (m = h.board) ? m.id : void 0 : void 0);
            this.options.showBoard && null != c && (b.board = c.toJSON({
                prefs: !0,
                url: !0
            }), b.boardPLevelIconClass = c.getPermLevelIconClass(), b.boardPLevelAltText = c.getPermLevelAltText());
            this.options.showOrganization &&
                (h = this.Organization.get(null != (e = this.model.get("data")) ? null != (f = e.organization) ? f.id : void 0 : void 0), null != h && (b.organization = h.toJSON({
                    prefs: !0,
                    url: !0
                }), b.orgPLevelIconClass = h.getPermLevelIconClass(), b.orgPLevelAltText = h.getPermLevelAltText()));
            f = this.Member.get(this.model.get("idMemberCreator"));
            e = this.model.get("type");
            b.showAttachmentPreview = !this.options.compact;
            b.showOptions = !this.model.isPlaceholder() && !this.options.compact && !this.options.readOnly;
            b.canReply = (null != c ? c.canComment(y.me()) :
                void 0) && ("commentCard" === e || "copyCommentCard" === e || "addAttachmentToCard" === e) && null != f && !y.isMe(f);
            b.canDelete = this.model.deletable();
            b.canEdit = this.model.editable();
            b.canPromoteToCard = ("4dfa1af85ace37e9f202ad1c" === (k = null != (l = this.model.getBoard()) ? l.id : void 0) || "51c323b425899096b700000f" === k) && "commentCard" === this.model.get("type") && (null != (w = this.model.getCard()) ? w.editable() : void 0);
            b.member = null != f ? f.toJSON() : void 0;
            if (null != (c = b.member)) c.url = B.getMemberProfileUrl(b.member.id)
        };
        b.prototype.renderFromData =
            function(b) {
                var e, c, f, h, m, k, l, w, n, t;
                this.addContextData(b);
                e = {
                    entity: v.entity,
                    member: v.member
                };
                b.entities = b.entities.slice(1);
                b.useEmbedly = !this.options.compact && ("commentCard" === (f = this.model.get("type")) || "copyCommentCard" === f);
                b.usePreviews = !this.options.compact && "addAttachmentToCard" === this.model.get("type");
                P("actions", b);
                switch (this.model.get("type")) {
                    case "commentCard":
                    case "copyCommentCard":
                        this.$el.addClass("phenom-comment");
                        break;
                    case "addAttachmentToCard":
                        this.$el.addClass("phenom-attachment");
                        break;
                    default:
                        this.$el.addClass("phenom-other")
                }
                this.$el.html(v.fill("action", b, {}, e));
                if (b.useEmbedly) {
                    e = this.$(".js-embedly");
                    w = b.entities;
                    k = 0;
                    for (l = w.length; k < l; k++)
                        if (f = w[k], "comment" === f.type && null != f.embedly) try {
                            for (h in n = JSON.parse(f.embedly), n) m = n[h], m["type_" + m.type] = !0, m.requireHttps = !0, e.show().append(v.fill("embedly", m))
                        } catch (x) {}
                }
                if (!b.hasMoreThanOneChild && "addAttachmentToCard" !== (t = this.model.get("type")) && "attachmentPreview" !== t && "commentCard" !== t && "copyCommentCard" !== t) h = _.last(this.$(".phenom-desc").contents()),
                    n = $.trim(h.nodeValue), m = ".", 0 < n.length && (m = " " + $.trim(h.nodeValue) + "."), this.$(".phenom-desc").contents().last().remove(), this.$(".phenom-desc").append(_.escape(m));
                b.usePreviews && (b = _.filter(b.entities, function(b) {
                    return "attachment" === b.type
                }), _.isEmpty(b) || (c = this.$(".js-previews"), rb.previewHtml(b[0].url, function(b, d) {
                    c.empty();
                    if (null != b) {
                        if (null != b.login) return $("<div>").addClass("attachment-extra-info-login").html(b.login).appendTo(c), c.removeClass("hide")
                    } else if (null != d) return $("<div>").addClass("attachment-extra-info").html(d).appendTo(c),
                        c.removeClass("hide")
                })));
                M.update(this.el);
                this.model.isTakingTooLong ? this.$el.addClass("unsent") : this.$el.removeClass("unsent");
                return this
            };
        b.prototype.render = function() {
            var b, e, c;
            P("render", "rendering action");
            b = {
                saved: null != this.model.id,
                entities: this.getActionListMaker().getEntityList(this.model).entities,
                date: this.model.get("date"),
                hasChildren: !1,
                dateLastEdited: null != (e = this.model.get("data")) ? e.dateLastEdited : void 0,
                textData: null != (c = this.model.get("data")) ? c.textData : void 0
            };
            this.addAdditionalInfo(b);
            return this.renderFromData(b)
        };
        b.prototype.viewMemberActionMenu = function(b) {
            var e, c;
            l.stop(b);
            e = this.Member.get(null != (c = $(b.target).closest("[idmember]").attr("idmember")) ? c : this.model.get("idMemberCreator"));
            c = 22;
            0 < $(b.target).closest(".member").length && (c = 36);
            x.toggle({
                elem: this.$(b.target).closest(".js-show-mem-menu"),
                top: c,
                view: Ub,
                options: {
                    model: e,
                    modelCache: this.modelCache
                }
            })
        };
        b.prototype.openAttachmentViewer = function(b) {
            var e;
            !b.metaKey && !b.ctrlKey && (e = $(b.target), 0 < e.closest(".window-main-col").length &&
                (l.stop(b), b = e.closest(".js-open-attachment-viewer").attr("data-idattachment"), (new Cc({
                    model: this.model.getCard(),
                    modelCache: this.modelCache,
                    idAttachment: b
                })).render()))
        };
        b.prototype.reply = function(b) {
            l.stop(b);
            this.$el.trigger("replyToAction", this.model);
            return t("Card", "Reply to Comment")
        };
        return b
    }(A);
    Lf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function(d) {
            this.opts = d.opts;
            this.list = d.list;
            return b.__super__.initialize.apply(this,
                arguments)
        };
        b.prototype.render = function() {
            var b, e, c, f, h;
            P("render", "rendering action");
            b = this.getActionListMaker().getEntityLists(this.list)[0];
            e = b.entities;
            b = b.children;
            e = {
                saved: null != this.model.id,
                entities: e,
                date: this.model.get("date"),
                hasChildren: !0,
                dateLastEdited: null != (c = this.model.get("data")) ? c.dateLastEdited : void 0,
                children: _.sortBy(b, function(b) {
                    return b.id
                }),
                hasMoreThanOneChild: 1 < b.length
            };
            this.addContextData(e);
            h = e.children;
            b = 0;
            for (f = h.length; b < f; b++) c = h[b], this.addAdditionalInfo(c);
            this.addAdditionalInfo(e);
            return this.renderFromData(e)
        };
        return b
    }(Bc);
    Kf = ma(Qb, tb, function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = l.extendEvents({
            "click .action-comment": "clickComment",
            "click .js-confirm-delete-action": "confirmDeleteAction",
            "click .js-promote-to-card": "promoteToCard",
            "click .js-edit-action": "editAction",
            "click .js-save-edit": "saveEdit",
            "keyup .js-text": "keyAutoMention",
            "keydown .js-text": "keydownJsText",
            "click .js-comment-add-attachment": "commentAddAttachment",
            "click .js-comment-mention-member": "commentMentionMember",
            "click .js-comment-add-emoji": "commentAddEmoji",
            "click .js-comment-add-card": "commentAddCard"
        });
        b.prototype.confirmDeleteAction = function(b) {
            l.stop(b);
            pa.toggle({
                elem: $(b.target).closest(".js-confirm-delete-action")[0],
                top: 22,
                model: this.model,
                title: "Delete Comment?",
                text: "Deleting a comment is forever. There is no undo.",
                confirmText: "Delete Comment",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(d) {
                        t("Card", "Delete Comment");
                        return b.model.destroy()
                    }
                }(this)
            })
        };
        b.prototype.getTextInput = function() {
            return this.$(".js-text")
        };
        b.prototype.getMentionTarget = function() {
            return this.$(".js-comment-mention-member:visible")[0]
        };
        b.prototype.getEmojiTarget = function() {
            return this.$(".js-comment-add-emoji:visible")[0]
        };
        b.prototype.getCardTarget = function() {
            return this.$(".js-comment-add-card:visible")[0]
        };
        b.prototype.editAction = function(b) {
            l.stop(b);
            if (!this.$el.hasClass("editing")) return this.$el.addClass("editing"), this.$("textarea").focus().select(),
                this.openEditView()
        };
        b.prototype.openEditView = function() {
            this.$el.append(v.fill("comment_edit_controls", {}, {}, {
                comment_options: v.comment_options
            }));
            this.$(".js-text").attr("placeholder", "")
        };
        b.prototype.keydownJsText = function(b) {
            return l.isForceSubmitKey(b) ? this.saveEdit(b) : this.checkInsert(b)
        };
        b.prototype.saveEdit = function(b) {
            var e;
            if ("keypress" !== b.type || l.isForceSubmitKey(b) || 13 === b.keyCode && (!$(b.target).is("textarea") || $(b.currentTarget).hasClass("single-line"))) e = this.$(".js-text").val(), /^\s*$/.test(e) ?
                (this.$(".js-text").val("").focus(), this.$(".js-text").attr("placeholder", "Must have at least ONE character...")) : (l.stop(b), this.$(".js-spinner").show(), this.$(".js-hide-on-sending").hide(), this.$(".current-comment").text(e), sa.cancelEdits(), this.model.set("data", _.extend(this.model.get("data"), {
                    text: e
                })).update("text", e), t("Card", "Edit Comment"))
        };
        b.prototype.showError = function(b) {};
        b.prototype.cancelEdit = function(b) {
            b && l.stop(b);
            x.hide();
            sa.cancelEdits()
        };
        b.prototype.clickComment = function(b) {
            "Card" ===
            this.context.typeName || $(b.target).is("a,textarea") || (l.stop(b), b = this.getActionListMaker().getEntityList(this.model).entities, b = _.find(b, function(b) {
                return "card" === b.type
            }), B.showCardDetail(this.Card.get(b.id)))
        };
        b.prototype.promoteToCard = function() {
            var b, e, c, f;
            c = this.model.get("idMemberCreator");
            c = this.Member.get(c);
            f = this.model.get("data").text;
            null != c ? (e = "Proposed by [" + c.get("fullName") + "](/" + c.get("username") + ")", b = "@" + c.get("username") + " Your proposal has been accepted.") : (e = "Promoted from comment",
                b = null);
            return async.waterfall([
                function(b) {
                    return function(d) {
                        return b.model.getCard().getList().cardList.create({
                            name: f,
                            desc: e,
                            pos: "bottom"
                        }, {
                            success: function(b) {
                                return d(null, b)
                            },
                            error: function() {
                                return d("couldn't create card")
                            }
                        })
                    }
                }(this),
                function(e) {
                    return function(e, c) {
                        return null != b ? e.addComment(b) : c()
                    }
                }(this)
            ], function() {})
        };
        b.prototype.getCard = function() {
            return this.model.getCard()
        };
        return b
    }(Bc));
    var bb, Mf, Ta, Gd, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b,
                e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        };
    Mf = function(c) {
        function b(d) {
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName = "Announcement";
        b.prototype._key = function() {
            return "announcement-" + this.id + "-read"
        };
        b.prototype.isUnread = function() {
            return !da.get(this._key())
        };
        b.prototype.markRead = function() {
            $.post("/announcements/dismiss", {
                id: this.id
            });
            da.set(this._key(), !0);
            return this.trigger("change:unread")
        };
        return b
    }(W);
    Gd = function(c) {
        function b(d, e) {
            this.requiresLogin = e.requiresLogin;
            this.dataUrl = e.dataUrl;
            this.sync = k(this.sync, this);
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Mf;
        b.prototype.sync = function(b, e, c) {
            if (!this.requiresLogin || y.isLoggedIn()) return $.ajax({
                url: this.dataUrl,
                success: function(b) {
                    return "function" === typeof c.success ? c.success(e, b, c) : void 0
                }
            })
        };
        b.prototype.getUnread = function() {
            return this.filter(function(b) {
                return b.isUnread()
            })
        };
        b.prototype.unreadCount = function() {
            return this.filter(function(b) {
                return b.isUnread()
            }).length
        };
        b.prototype.top = function() {
            return this.detect(function(b) {
                return b.isUnread()
            })
        };
        return b
    }(La);
    Ta = bb = null;
    _.defer(function() {
        var c, b, d, e;
        Ta = new Gd([], {
            requiresLogin: !0,
            dataUrl: "/announcements"
        });
        bb = new Gd([], {
            requiresLogin: !1,
            dataUrl: "/announcements/all"
        });
        d = l.getMs({
            minutes: 10 + 5 * Math.random()
        });
        e = null;
        b = ("function" === typeof document.hasFocus ? document.hasFocus() : void 0) || !0;
        c = function() {
            if (b && (null == e ||
                Date.now() - e > d)) return Ta.fetch(), e = Date.now()
        };
        $(window).on("focus", function(d) {
            b = !0;
            return c()
        });
        $(window).on("blur", function(d) {
            return b = !1
        });
        setInterval(c, d / 4);
        return c()
    });
    var Nf, Of, Na, Hd, Pf, Qf, Rf, Sf, Tf, Uf, Vf, Wf, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Hd = function(c) {
        function b() {
            this.render =
                k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "badges";
        b.prototype.initialize = function(b) {
            var e, c, f, h;
            f = [Uf, Vf, Wf, Rf, Qf, Of, Pf, Sf, Nf, Tf];
            h = [];
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], h.push(new b(this, {
                modelCache: this.modelCache
            }));
            this.badges = h
        };
        b.prototype.render = function() {
            var b;
            this.$el.append(function() {
                var e, c, f, h;
                f = this.badges;
                h = [];
                e = 0;
                for (c = f.length; e < c; e++) b = f[e], b.visible() && h.push(b.render().$el);
                return h
            }.call(this));
            return this
        };
        b.prototype.remove =
            function() {
                var d, e, c, f, h;
                b.__super__.remove.apply(this, arguments);
                f = this.badges;
                h = [];
                e = 0;
                for (c = f.length; e < c; e++) d = f[e], h.push(d.remove());
                return h
            };
        return b
    }(A);
    Na = function() {
        function c(b, d) {
            var e;
            this.badgesView = b;
            this.modelCache = d.modelCache;
            this.render = k(this.render, this);
            null == this.$el && (this.$el = $("<div>"));
            if (0 < this.dependentBadges.length) {
                var c, f, h, m;
                h = this.dependentBadges;
                m = [];
                c = 0;
                for (f = h.length; c < f; c++) e = h[c], m.push("change:badges." + e);
                this.badgesView.listenTo(this.badgesView.model, m.join(" "),
                    this.render)
            }
        }
        c.prototype.shouldUpdate = !0;
        c.prototype.dependentBadges = [];
        c.prototype.additionalClasses = [];
        c.prototype.rendered = !1;
        c.prototype.visible = function() {
            throw Error("Badge subclasses must specify a `visible` predicate");
        };
        c.prototype.update = function() {
            this.shouldUpdate && this.$el.attr("title", _.result(this, "title")).find(".badge-text").html(this.text ? _.result(this, "text") : "");
            return this
        };
        c.prototype.remove = function() {
            var b;
            null != (b = this.$el) && b.detach();
            return this.rendered = !1
        };
        c.prototype.render =
            function() {
                var b, d;
                if (this.rendered) return this.visible() ? this.update() : this.remove(), this;
                if (!this.visible()) return this;
                d = this.text ? _.result(this, "text") : "";
                b = _.result(this, "icon");
                this.$el.attr("title", _.result(this, "title")).attr("class", "").addClass("badge").addClass(_.result(this, "additionalClasses").join(" ")).toggleClass("badge-state-image-only", !d).html(v.fill("badge", {
                    text: d,
                    icon: b
                }));
                b = _.find(this.badgesView.badges, function(b) {
                    return function(d) {
                        return d.rendered && d.position > b.position
                    }
                }(this));
                null == b ? this.badgesView.$el.append(this.$el) : this.$el.insertBefore(b.$el);
                this.rendered = !0;
                return this
            };
        c.prototype.badge = function(b) {
            var d;
            return null != (d = this.badgesView.model.get("badges")) ? d[b] : void 0
        };
        return c
    }();
    l.extendWithModelCacheHelpers(Na);
    Uf = function(c) {
        function b() {
            var d, e;
            b.__super__.constructor.apply(this, arguments);
            this._cachedNotificationCount = null;
            e = function() {
                var b, e, c, m;
                c = ["add", "remove", "change"];
                m = [];
                b = 0;
                for (e = c.length; b < e; b++) d = c[b], m.push("" + d + ":Notification:" + this.badgesView.model.id);
                return m
            }.call(this);
            this.badgesView.listenTo(this.modelCache, e.join(" "), function(b) {
                return function() {
                    b._cachedNotificationCount = null;
                    return b.render()
                }
            }(this))
        }
        n(b, c);
        b.prototype.icon = "notification";
        b.prototype.position = 0;
        b.prototype.visible = function() {
            return 0 < this.notificationCount()
        };
        b.prototype.notificationCount = function() {
            null == this._cachedNotificationCount && (this._cachedNotificationCount = this.badgesView.model.id ? _.count(this.Notification.all(), function(b) {
                return function(e) {
                    var c, f;
                    return e.get("unread") &&
                        (null != (c = e.get("data")) ? null != (f = c.card) ? f.id : void 0 : void 0) === b.badgesView.model.id
                }
            }(this)) : 0);
            return this._cachedNotificationCount
        };
        b.prototype.text = function() {
            return this.notificationCount().toString()
        };
        b.prototype.title = function() {
            return "This card has " + l.formatCount(this.notificationCount(), "unread notification") + "."
        };
        b.prototype.additionalClasses = ["badge-state-unread-notification"];
        return b
    }(Na);
    Vf = function(c) {
        function b() {
            b.__super__.constructor.apply(this, arguments);
            this.badgesView.listenTo(this.badgesView.model,
                "change:subscribed", this.render)
        }
        n(b, c);
        b.prototype.shouldUpdate = !1;
        b.prototype.position = 1;
        b.prototype.icon = "follow";
        b.prototype.visible = function() {
            return this.badgesView.model.get("subscribed")
        };
        b.prototype.title = "You are subscribed to this card.";
        return b
    }(Na);
    Wf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.position = 2;
        b.prototype.dependentBadges = ["votes", "viewingMemberVoted"];
        b.prototype.icon = "vote";
        b.prototype.additionalClasses = function() {
            var b;
            b = ["badge-state-votes"];
            this.badge("viewingMemberVoted") && b.push("badge-state-voted");
            return b
        };
        b.prototype.title = function() {
            return "This card has " + l.formatCount(this.voteCount(), "vote") + "."
        };
        b.prototype.text = function() {
            return l.formatCount(this.voteCount(), "vote")
        };
        b.prototype.visible = function() {
            return 0 < this.voteCount()
        };
        b.prototype.voteCount = function() {
            var b;
            return null != (b = this.badge("votes")) ? b : 0
        };
        b.prototype.update = function() {
            this.$el.toggleClass("badge-state-voted", this.badge("viewingMemberVoted"));
            return b.__super__.update.apply(this, arguments)
        };
        return b
    }(Na);
    Rf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.shouldUpdate = !1;
        b.prototype.position = 3;
        b.prototype.dependentBadges = ["description"];
        b.prototype.icon = "desc";
        b.prototype.title = "This card has a description.";
        b.prototype.visible = function() {
            return this.badge("description")
        };
        return b
    }(Na);
    Qf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.position =
            4;
        b.prototype.dependentBadges = ["comments"];
        b.prototype.icon = "comment";
        b.prototype.title = function() {
            return "This card has " + l.formatCount(this.commentCount(), "comment") + "."
        };
        b.prototype.text = function() {
            return this.commentCount().toString()
        };
        b.prototype.visible = function() {
            return 0 < this.commentCount()
        };
        b.prototype.commentCount = function() {
            var b;
            return null != (b = this.badge("comments")) ? b : 0
        };
        return b
    }(Na);
    Of = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.position =
            5;
        b.prototype.dependentBadges = ["attachments"];
        b.prototype.icon = "attachment";
        b.prototype.attachmentCount = function() {
            var b;
            return null != (b = this.badge("attachments")) ? b : 0
        };
        b.prototype.visible = function() {
            return 0 < this.attachmentCount()
        };
        b.prototype.text = function() {
            return this.attachmentCount().toString()
        };
        b.prototype.title = function() {
            return "This card has " + l.formatCount(this.attachmentCount(), "attachment") + "."
        };
        return b
    }(Na);
    Pf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.position = 6;
        b.prototype.dependentBadges = ["checkItems", "checkItemsChecked"];
        b.prototype.icon = "checklist";
        b.prototype.title = function() {
            return "This card has " + this.badge("checkItemsChecked") + " of " + this.badge("checkItems") + " checklist items completed."
        };
        b.prototype.visible = function() {
            return this.badge("checkItems")
        };
        b.prototype.text = function() {
            return "" + this.badge("checkItemsChecked") + "/" + this.badge("checkItems")
        };
        b.prototype.additionalClasses = function() {
            return this.isCompleted() ? ["badge-state-complete"] : []
        };
        b.prototype.isCompleted = function() {
            return this.badge("checkItemsChecked") === this.badge("checkItems")
        };
        b.prototype.update = function() {
            this.$el.toggleClass("badge-state-complete", this.isCompleted());
            return b.__super__.update.apply(this, arguments)
        };
        return b
    }(Na);
    Sf = function(c) {
        function b() {
            b.__super__.constructor.apply(this, arguments);
            this.badgesView.listenTo(this.badgesView.model, "change:due", this.render)
        }
        n(b, c);
        b.prototype.shouldUpdate = !0;
        b.prototype.position = 7;
        b.prototype.render = function() {
            b.__super__.render.apply(this,
                arguments);
            this.badgesView.stopListening(M, "renderInterval");
            this.visible() && this.badgesView.listenTo(M, "renderInterval", this.render);
            return this
        };
        b.prototype.icon = "clock";
        b.prototype.visible = function() {
            return null != this.badgesView.model.get("due")
        };
        b.prototype.text = function() {
            return M.toDateString(this.dueDate(), {
                smartYear: !0
            })
        };
        b.prototype.dueDate = function() {
            return M.parse(this.badgesView.model.get("due"))
        };
        b.prototype.hoursLeft = function() {
            return (this.dueDate() - new Date) / l.getMs({
                hours: 1
            })
        };
        b.prototype.classDispatch = [
            [-36, "badge-state-due-past"],
            [0, "badge-state-due-now"],
            [24, "badge-state-due-soon"], "badge-state-due-future"
        ];
        b.prototype.additionalClasses = function() {
            return [this.firstLessThan(this.hoursLeft(), this.classDispatch)]
        };
        b.prototype.titleDispatch = [
            [-36, "This card is past due."],
            [0, "This card is recently overdue!"],
            [1, "This card is due in less than an hour."],
            [1.3, "This card is due in about an hour."],
            [24,
                function(b) {
                    return "This card is due in " + this.firstLessThan(b % 1, [
                        [0.3, Math.floor(b).toString()],
                        [0.7,
                            "" + Math.floor(b).toString() + " and a half"
                        ], Math.ceil(b).toString()
                    ]) + " hours."
                }
            ], "This card is due later."
        ];
        b.prototype.title = function() {
            return this.firstLessThan(this.hoursLeft(), this.titleDispatch)
        };
        b.prototype.firstLessThan = function(b, e) {
            var c, f, h, m;
            h = 0;
            for (m = e.length; h < m; h++)
                if (f = e[h], _.isArray(f)) {
                    if (c = f[0], f = f[1], b <= c) return _.isFunction(f) ? f.call(this, b) : f
                } else return _.isFunction(f) ? f.call(this, b) : f
        };
        b.prototype.update = function() {
            this.$el.removeClass();
            this.$el.addClass(_.result(this, "additionalClasses").join(" ")).addClass("badge");
            return b.__super__.update.apply(this, arguments)
        };
        return b
    }(Na);
    Nf = function(c) {
        function b() {
            b.__super__.constructor.apply(this, arguments);
            this.badgesView.listenTo(this.badgesView.model, "change:closed", this.render)
        }
        n(b, c);
        b.prototype.shouldUpdate = !1;
        b.prototype.icon = "archive";
        b.prototype.text = "Archived";
        b.prototype.title = "This card is in the archive.";
        b.prototype.visible = function() {
            return this.badgesView.model.get("closed")
        };
        return b
    }(Na);
    Tf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.render = function() {
            b.__super__.render.apply(this, arguments);
            this.rendered && this.$el.click(function(b) {
                return function() {
                    return b.openLink()
                }
            }(this));
            return this
        };
        b.prototype.dependentBadges = ["fogbugz"];
        b.prototype.icon = "kiwi";
        b.prototype.title = "This card has a FogBugz case.";
        b.prototype.visible = function() {
            return this.badge("fogbugz")
        };
        b.prototype.openLink = function(b) {
            window.open(this.badge("fogbugz"), "FogBugz");
            return l.stop(b)
        };
        return b
    }(Na);
    var Xf, ra, Yf, Zf, $f, ag, Vb,
        pd, bg, cg, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        },
        D = [].slice;
    ag = function(c) {
        function b(d, e) {
            this.board = d;
            this.setArchiveSidebarDropzone = k(this.setArchiveSidebarDropzone, this);
            this.setShowSidebarFromPref =
                k(this.setShowSidebarFromPref, this);
            b.__super__.constructor.call(this, null, e);
            this.board.onId(function(b) {
                return function(d) {
                    b.fetch();
                    b.useSidebarPref() ? b.setShowSidebarFromPref() : b.set("showSidebar", !ia.fSmall);
                    b.set("listComposerOpen", !1);
                    return b.viewMap = {}
                }
            }(this));
            this.listenTo(this, "change:idActiveCard", function(b) {
                return function() {
                    var d, e;
                    e = b.Card.get(b.previousAttributes().idActiveCard);
                    null != e && b.stopListening(e, "change:closed");
                    d = b.getCard();
                    if (null != d) return b.listenTo(d, "change:closed",
                        function() {
                            return b.selectCardAfter(d)
                        })
                }
            }(this))
        }
        n(b, c);
        b.prototype.sync = function(b, e, c) {
            var f;
            f = c.success;
            switch (b) {
                case "read":
                    return "function" === typeof f ? f(e, this["default"](), c) : void 0;
                default:
                    throw Error("not implemented");
            }
        };
        b.prototype["default"] = function() {
            return {
                idActiveCard: null,
                sidebarViewArray: [db.prototype.viewName],
                archiveSidebarDropzoneVisible: !1,
                listWidthType: null
            }
        };
        b.prototype.pushSidebarView = function(b) {
            var e;
            e = this.get("sidebarViewArray");
            e.push(b.constructor.viewName);
            return this.setSidebarViewArray(e)
        };
        b.prototype.popSidebarView = function() {
            var b;
            b = this.get("sidebarViewArray");
            b.pop();
            0 === b.length && (b = [db.viewName]);
            return this.setSidebarViewArray(b)
        };
        b.prototype.clearSidebarViewArray = function() {
            return this.setSidebarViewArray([db.viewName])
        };
        b.prototype.setSidebarViewArray = function(b) {
            return this.set("sidebarViewArray", b)
        };
        b.prototype._createView = function(b) {
            var e, c, f, h;
            h = [db, Ua, Id, Jd, Kd];
            c = 0;
            for (f = h.length; c < f; c++)
                if (e = h[c], e.viewName === b) return this.board.getView(e);
            h = [Dc];
            c = 0;
            for (f = h.length; c <
                f; c++)
                if (e = h[c], e.viewName === b) return this.board.filter.getView(e);
            return this.board.getView(db)
        };
        b.prototype.getCurrentSidebarView = function() {
            var b, e;
            b = _.last(this.get("sidebarViewArray"));
            return null != (e = this.viewMap)[b] ? e[b] : e[b] = this._createView(b)
        };
        b.prototype.setSidebarDisplayType = function(b) {
            return this.set("sidebarDisplayType", null != b ? b : "")
        };
        b.prototype.getSidebarDisplayType = function() {
            return this.get("sidebarDisplayType")
        };
        b.prototype.selectCard = function(b) {
            if (null == b) this.set("idActiveCard",
                null);
            else return b.onId(function(e) {
                return function() {
                    e.set("idActiveCard", b.id);
                    return dg.set(b.getFullUrl())
                }
            }(this))
        };
        b.prototype.isCardSelected = function(b) {
            return null != b && this.get("idActiveCard") === b.id
        };
        b.prototype.isListSelected = function(b) {
            var e;
            return (null != (e = this.getCard()) ? e.get("idList") : void 0) === b.id
        };
        b.prototype.clearSelectedCard = function() {
            return this.set("idActiveCard", null)
        };
        b.prototype.getCard = function() {
            return this.Card.get(this.get("idActiveCard"))
        };
        b.prototype.getList = function() {
            var b;
            return null != (b = this.getCard()) ? b.getList() : void 0
        };
        b.prototype.selectCardAfter = function(b) {
            var e, c;
            e = b.getList();
            c = null != e ? e.cardList.openCards() : void 0;
            if (null == e || 0 === c.length) this.set("idActiveCard", null);
            else return e = function(b) {
                return function(b) {
                    return function(d) {
                        return d !== b && d.get("pos") >= b.get("pos")
                    }
                }
            }(this), b = _.find(c, e(b)), this.selectCard(null != b ? b : _.last(c))
        };
        b.prototype.openListComposer = function() {
            return this.set("listComposerOpen", !0)
        };
        b.prototype.closeListComposer = function() {
            return this.set("listComposerOpen", !1)
        };
        b.prototype.useSidebarPref = function() {
            return y.isLoggedIn() && (ia.fExtraLarge || ia.fLarge || ia.fMedium)
        };
        b.prototype.setShowSidebar = function(b) {
            if (b !== this.get("showSidebar") && (t("Board View", "Toggle Board Sidebar", b ? "Show" : "Hide"), this.set("showSidebar", b), this.useSidebarPref())) return this.board.setPref("showSidebar", b)
        };
        b.prototype.setShowSidebarFromPref = function() {
            var b;
            b = function(b) {
                return function() {
                    return b.set("showSidebar", b.board.getPref("showSidebar"))
                }
            }(this);
            return null != this.board.get("myPrefs") ?
                b() : this.board.once("change:myPrefs", b)
        };
        b.prototype.setArchiveSidebarDropzone = function(b) {
            return this.set("archiveSidebarDropzoneVisible", b)
        };
        return b
    }(W);
    ra = function(c) {
        function b() {
            this.openCards = k(this.openCards, this);
            this.generateCalendarKey = k(this.generateCalendarKey, this);
            this.generateEmailKey = k(this.generateEmailKey, this);
            this._generateKey = k(this._generateKey, this);
            this.openLists = k(this.openLists, this);
            this.filterLabels = k(this.filterLabels, this);
            this.getObserverList = k(this.getObserverList,
                this);
            this.getCheckItem = k(this.getCheckItem, this);
            this.getBoardInvitation = k(this.getBoardInvitation, this);
            this.getChecklist = k(this.getChecklist, this);
            this.getShortUrl = k(this.getShortUrl, this);
            this.getUrl = k(this.getUrl, this);
            this.getList = k(this.getList, this);
            this.getCard = k(this.getCard, this);
            this.getDisplayInvitePerms = k(this.getDisplayInvitePerms, this);
            this.getDisplayCommentPerms = k(this.getDisplayCommentPerms, this);
            this.getDisplayVotePerms = k(this.getDisplayVotePerms, this);
            this.getPermDisplayText = k(this.getPermDisplayText,
                this);
            this.getRoleText = k(this.getRoleText, this);
            this.getPermLevelIconClass = k(this.getPermLevelIconClass, this);
            this.getPermLevelAltText = k(this.getPermLevelAltText, this);
            this.hasUnseenActivity = k(this.hasUnseenActivity, this);
            this.isStarred = k(this.isStarred, this);
            this.subscribe = k(this.subscribe, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        ma(Bd, b);
        b.prototype.typeName = "Board";
        b.prototype.urlRoot = "/1/boards";
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.destruct([this.listList = (new eg(null, {
                board: this
            })).owner(this).syncCache(this.modelCache, ["idBoard", "closed"], function(b) {
                return function(e) {
                    return e.get("idBoard") === b.id && !e.get("closed")
                }
            }(this)), this.invitationList = new fg([], {
                modelCache: this.modelCache,
                board: this
            }), this.checklistList = new Ld([], {
                modelCache: this.modelCache,
                board: this
            }), this.memberList = (new ob).syncModel(this, "memberships", {
                fxGetIds: function(b) {
                    return _.pluck(b, "idMember")
                }
            }), this.adminList = (new ob).syncModel(this, "memberships", {
                fxGetIds: function(b) {
                    return function(e) {
                        e = _.filter(e, function(e) {
                            var c, h;
                            c = b.Member.get(e.idMember);
                            return "admin" === e.memberType || null != c && (null != (h = b.getOrganization()) ? h.isPremOrgAdmin(c) : void 0)
                        });
                        return _.pluck(e, "idMember")
                    }
                }(this)
            }), this.filter = new gg(this, {
                modelCache: this.modelCache
            }), this.composer = new hg(this, {
                modelCache: this.modelCache
            }), this.listComposer = new ig(this, {
                modelCache: this.modelCache
            }), this.viewState = new ag(this, {
                modelCache: this.modelCache
            })]);
            this.listenForPermChange();
            return this.cacheShortLink()
        };
        b.get = function(d, e) {
            return l.isShortLink(e) ? b.findOne(d, function(b) {
                return b.get("shortLink") === e
            }) : b.__super__.constructor.get.apply(this, arguments)
        };
        b.prototype.cacheShortLink = function() {
            return this.onId(function(b) {
                return function() {
                    return b.waitForAttr("shortLink", function() {
                        return IdCache.setBoardId(b.get("shortLink"), b.id)
                    })
                }
            }(this))
        };
        b.prototype.close = function() {
            this.update({
                closed: !0
            })
        };
        b.prototype.reopen = function() {
            this.update({
                closed: !1
            })
        };
        b.prototype.markAsViewed = function() {
            if (y.isLoggedIn()) return S({
                url: "" +
                    this.urlRoot + "/" + this.id + "/markAsViewed",
                type: "post",
                background: !0
            })
        };
        b.prototype.subscribe = function(b) {
            b !== this.get("subscribed") && this.update({
                subscribed: b
            })
        };
        b.prototype.isStarred = function() {
            return null != this.Auth.me().boardStarList.getBoardStar(this.id)
        };
        b.prototype.hasUnseenActivity = function() {
            var b, e;
            e = this.get("dateLastView");
            b = this.get("dateLastActivity");
            return null != e && null != b && e < b
        };
        b.prototype.getPermLevelAltText = function(b, e) {
            var c, f, h, m, k;
            null == b && (b = this.getPref("permissionLevel"));
            null != this.attributes ? k = this.getOrganization() : null != e && (k = e);
            f = " Only people added to the board can view and edit it.";
            h = c = " Only people added to the board can edit.";
            null != k && (m = k.get("displayName"), k.isFeatureEnabled("superAdmins") && (f = " Board members and admins in the " + m + " organization will be able to see and edit this board.", c = " Board members and admins in the " + m + " organization will be able to edit this board.", h = " Board members and admins in the " + m + " organization will be able to edit this board."));
            switch (b) {
                case "private":
                    return "This board is private. " + f;
                case "org":
                    return "This board is visible to members of " + (m ? m : "the organization") + ". " + c;
                case "public":
                    return "This board is public. It's visible to anyone with the link and will show up in search engines like Google. " + h;
                default:
                    return ""
            }
        };
        b.prototype.getPermLevelIconClass = function(b) {
            var e;
            null == b && (b = null != (e = this.get("prefs")) ? e.permissionLevel : void 0);
            return "org" === b ? "org-private" : "" !== b && null != b ? b : ""
        };
        b.prototype.getRoleText = function(b) {
            switch (b) {
                case "admin":
                    return "Can view and edit cards, remove members, and change settings for the board.";
                case "normal":
                    return "Can view and edit cards. Can't change settings.";
                case "observer":
                    return "Can view, comment, and vote on cards. Can't move or edit cards or change settings.";
                default:
                    return ""
            }
        };
        b.prototype.getPermDisplayText = function(b) {
            var e;
            null == b && (b = null != (e = this.get("prefs")) ? e.permissionLevel : void 0);
            switch (b) {
                case "private":
                    return "Private";
                case "org":
                    return "Org Visible";
                case "public":
                    return "Public";
                default:
                    return ""
            }
        };
        b.prototype._translatePref = function(b) {
            "none" === b && (b = "disabled");
            switch (b) {
                case "disabled":
                case "members":
                case "public":
                    return l.toTitleCase(b);
                case "observers":
                    return "Members and observers";
                case "org":
                    return "Organization members";
                default:
                    return ""
            }
        };
        b.prototype.getDisplayVotePerms = function() {
            var b;
            return this._translatePref(null != (b = this.get("prefs")) ? b.voting : void 0)
        };
        b.prototype.getDisplayCommentPerms = function() {
            var b;
            return this._translatePref(null != (b = this.get("prefs")) ? b.comments : void 0)
        };
        b.prototype.getDisplayInvitePerms = function() {
            var b, e;
            b = null != (e = this.get("prefs")) ? e.invitations : void 0;
            return "members" === b || "admins" === b ? l.toTitleCase(b) :
                ""
        };
        b.prototype.toJSON = function(d) {
            var e, c;
            null == d && (d = {});
            e = b.__super__.toJSON.apply(this, arguments);
            d.org && (c = this.getOrganization(), null != c && (e.hasOrg = !0, e.org = c.toJSON({
                url: !0
            })));
            d.url && null == e.url && (e.url = B.getBoardUrl(this.modelCache, this));
            d.shortUrl && null == e.shortUrl && (e.shortUrl = B.getBoardShortUrl(this.modelCache, this));
            return e
        };
        b.prototype.calcPos = function(b, e) {
            return l.calcPos(b, this.listList, e, function(b) {
                return !b.get("closed")
            })
        };
        b.prototype.getCard = function(b) {
            return l.isShortId(b) ?
                this.Card.findOne("idShort", Number(b)) : this.Card.get(b)
        };
        b.prototype.getList = function(b) {
            return this.listList.get(b)
        };
        b.prototype.getUrl = function() {
            return B.getBoardUrl(this.modelCache, this)
        };
        b.prototype.getShortUrl = function() {
            return B.getBoardShortUrl(this.modelCache, this)
        };
        b.prototype.getChecklist = function(b) {
            return Wb.get(b)
        };
        b.prototype.getBoardInvitation = function(b) {
            return this.invitationList.get(b)
        };
        b.prototype.getCheckItem = function(b) {
            var e, c, f, h, m;
            h = this.checklistList.models;
            c = 0;
            for (f = h.length; c <
                f; c++)
                if (e = h[c], e = null != e ? null != (m = e.checkItemList) ? m.get(b) : void 0 : void 0) return e
        };
        b.prototype.editable = function() {
            var b;
            return (b = y.me()) && this.editableByMember(b)
        };
        b.prototype.editableByMember = function(b) {
            return this.isMember(b)
        };
        b.prototype.isMember = function(b) {
            var e;
            return "virtual" === (e = this.getMemberType(b)) || "normal" === e || "admin" === e
        };
        b.prototype.owned = function() {
            var b;
            return (b = y.me()) && this.ownedByMember(b)
        };
        b.prototype.ownedByMember = function(b) {
            return "admin" === this.getMemberType(b)
        };
        b.prototype.canJoin =
            function() {
                var b, e, c;
                return (this.isPremOrgAdmin(y.me()) || (null != (b = this.get("prefs")) ? b.selfJoin : void 0) && (null != (e = this.getOrganization()) ? e.isMember(y.me()) : void 0)) && (c = this.id, 0 > F.call(y.me().get("idBoards"), c))
            };
        b.prototype.canInviteMembers = function() {
            var b, e, c;
            if (null == this.getOrganization() && !this.getPref("canInvite")) return !1;
            if ("admins" === (null != (e = this.get("prefs")) ? e.invitations : void 0)) b = "admin";
            else if ("members" === (null != (c = this.get("prefs")) ? c.invitations : void 0)) b = "normal";
            return "admin" ===
                this.getMemberType(y.me()) || b === this.getMemberType(y.me())
        };
        b.prototype.compareMemberType = function(b, e, c) {
            return l.compareMemberType(this, b, e, c)
        };
        b.prototype.isMemberPublic = function(b) {
            return "public" === this.getMemberType(b)
        };
        b.prototype.isMemberOrg = function(b) {
            return "org" === this.getMemberType(b)
        };
        b.prototype.isMemberObserver = function(b) {
            return "observer" === this.getMemberType(b)
        };
        b.prototype.memberMatchesSetting = function(b, e) {
            switch (this.getPref(e)) {
                case "public":
                    return y.isLoggedIn();
                case "org":
                    return this.isMember(b) ||
                        this.isMemberOrg(b) || this.isMemberObserver(b);
                case "observers":
                    return this.isMember(b) || this.isMemberObserver(b);
                case "members":
                    return this.isMember(b);
                case "admins":
                    return this.ownedByMember(b);
                default:
                    return !1
            }
        };
        b.prototype.canVote = function(b) {
            return this.memberMatchesSetting(b, "voting")
        };
        b.prototype.canComment = function(b) {
            return this.memberMatchesSetting(b, "comments")
        };
        b.prototype.canInvite = function(b) {
            return this.memberMatchesSetting(b, "invitations")
        };
        b.prototype.prefNames = "permissionLevel voting comments invitations selfJoin background cardAging calendarFeedEnabled".split(" ");
        b.prototype.myPrefNames = "showSidebar showSidebarMembers showSidebarBoardActions showSidebarActivity emailKey idEmailList emailPosition calendarKey fullEmail".split(" ");
        b.prototype.getLabelName = function(b) {
            var e;
            e = this.get("labelNames");
            return (null != e ? e[b] : void 0) || ""
        };
        b.prototype.isPublic = function() {
            return "public" === this.getPref("permissionLevel")
        };
        b.prototype.getInviteToken = function() {
            return util.inviteTokenFor(this.id)
        };
        b.prototype.getIdBoardMems = function() {
            return _.map(this.memberList.models,
                function(b) {
                    return function(b) {
                        return b.id
                    }
                }(this))
        };
        b.prototype.getOrganization = function() {
            return this.Organization.get(this.get("idOrganization"))
        };
        b.prototype.joinBoard = function(b) {
            var e, c, f, h;
            c = y.me();
            f = (e = this.isPremOrgAdmin(c)) ? "admin" : "normal";
            c.set("idBoards", c.get("idBoards").concat(this.id));
            e && c.set("idPremOrgsAdmin", (null != (h = c.get("idPremOrgsAdmin")) ? h : []).concat(this.id));
            return this.addMember(c, f, b)
        };
        b.prototype.addMember = function() {
            var b, e, c;
            b = arguments[0];
            e = 3 <= arguments.length ? D.call(arguments,
                1, c = arguments.length - 1) : (c = 1, []);
            c = arguments[c++];
            e = e[0];
            null == e && (e = "normal");
            this.memberList.add(b);
            this.api({
                type: "put",
                method: "members/" + b.id,
                data: {
                    type: e
                }
            }, c);
            return this.set("memberships", this.get("memberships").concat({
                idMember: b.id,
                memberType: "normal"
            }))
        };
        b.prototype.removeMember = function(b) {
            this.memberList.remove(b);
            return this.set("memberships", _.reject(this.get("memberships"), function(e) {
                return e.idMember === b.id
            }))
        };
        b.prototype.getObserverList = function() {
            var b, e, c, f, h;
            f = this.memberList.models;
            h = [];
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], this.isObserver(b) && h.push(b);
            return h
        };
        b.prototype.filterLabels = function(b) {
            var e, c, f, h, m, k;
            f = RegExp("^" + l.escapeForRegex(b));
            e = [];
            k = l.labelNames;
            h = 0;
            for (m = k.length; h < m; h++) b = k[h], c = this.getLabelName(b).toLowerCase().split(" "), c.push(b), _.find(c, function(b) {
                return f.test(b)
            }) && e.push(b);
            return e
        };
        b.prototype.openLists = function() {
            return this.listList.filter(function(b) {
                return !b.get("closed")
            })
        };
        b.prototype._generateKey = function(b) {
            return this.api({
                type: "post",
                method: "" + b + "Key/generate"
            })
        };
        b.prototype.generateEmailKey = function() {
            return this._generateKey("email")
        };
        b.prototype.generateCalendarKey = function() {
            return this._generateKey("calendar")
        };
        b.prototype.openCards = function() {
            var b;
            return _.flatten(function() {
                var e, c, f, h;
                f = this.openLists();
                h = [];
                e = 0;
                for (c = f.length; e < c; e++) b = f[e], h.push(b.cardList.openCards());
                return h
            }.call(this))
        };
        b.prototype.listenForPermChange = function() {
            var b, e, c;
            if (y.isLoggedIn()) return e = function(b) {
                return function() {
                    var d, e, c;
                    d = y.me();
                    return b.isObserver(d) ? "observer" : "normal" === (e = b.getMemberType(d)) || "admin" === e ? "member" : l.hasValidInviteTokenFor(b.modelCache, b.id) ? "inviteToken" : null != (c = b.getOrganization()) && c.isMember(d) && "org" === b.getPref("permissionLevel") ? "org" : "public" === b.getPref("permissionLevel") ? "public" : "none"
                }
            }(this), c = e(), b = l.voidDebounced(function(b) {
                return function() {
                    var d;
                    d = e();
                    if (d !== c) return c = d, b.trigger("permChange", d)
                }
            }(this)), this.listenTo(y.me().boardList, "add remove reset", b), this.listenTo(y.me().organizationList,
                "add remove reset", b), this.listenTo(this.memberList, "add remove reset", b), this.on("change:memberships change:prefs.permissionLevel", b)
        };
        b.prototype.getClientBackgroundColor = function(b) {
            var e, c;
            return null != (e = null != (c = Pa[b]) ? c.color : void 0) ? e : Pa.blue.color
        };
        return b
    }(Cf);
    Vb = function(c) {
        function b() {
            this.scrollListIntoView = k(this.scrollListIntoView, this);
            this.updateControllerTitle = k(this.updateControllerTitle, this);
            this.reopen = k(this.reopen, this);
            this.closeDropzone = k(this.closeDropzone, this);
            this.openArchive =
                k(this.openArchive, this);
            this.dblClickAddListMenu = k(this.dblClickAddListMenu, this);
            this.clearFilters = k(this.clearFilters, this);
            this.openFilter = k(this.openFilter, this);
            this.openDesc = k(this.openDesc, this);
            this.changeVis = k(this.changeVis, this);
            this.sortStop = k(this.sortStop, this);
            this.renderArchiveSidebarDropzone = k(this.renderArchiveSidebarDropzone, this);
            this.calcSidebarHeight = k(this.calcSidebarHeight, this);
            this.renderInlineListComposer = k(this.renderInlineListComposer, this);
            this.renderLists = k(this.renderLists,
                this);
            this.postListListRender = k(this.postListListRender, this);
            this.renderBoardHeaderDescription = k(this.renderBoardHeaderDescription, this);
            this.renderBoardHeaderSubscribed = k(this.renderBoardHeaderSubscribed, this);
            this.renderBoardBackground = k(this.renderBoardBackground, this);
            this.clearBoardBackground = k(this.clearBoardBackground, this);
            this.renderBoardHeaderCalendar = k(this.renderBoardHeaderCalendar, this);
            this.toggleStarred = k(this.toggleStarred, this);
            this.renderBoardHeaderStarred = k(this.renderBoardHeaderStarred,
                this);
            this.renderBoardHeader = k(this.renderBoardHeader, this);
            this.refreshOrganization = k(this.refreshOrganization, this);
            this.finishMovingSidebar = k(this.finishMovingSidebar, this);
            this.hideSidebar = k(this.hideSidebar, this);
            this.showSidebar = k(this.showSidebar, this);
            this.setSidebarShow = k(this.setSidebarShow, this);
            this.toggleSidebar = k(this.toggleSidebar, this);
            this.renderSidebarState = k(this.renderSidebarState, this);
            this.renderSidebarDisplayType = k(this.renderSidebarDisplayType, this);
            this.removeSidebarDisplayTypes =
                k(this.removeSidebarDisplayTypes, this);
            this.attachVersionTag = k(this.attachVersionTag, this);
            this.calcBoardLayout = k(this.calcBoardLayout, this);
            this.renderFilteringStatus = k(this.renderFilteringStatus, this);
            this.render = k(this.render, this);
            this.moveCard = k(this.moveCard, this);
            this.permChange = k(this.permChange, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "board-wrapper";
        b.prototype.events = {
            sortstop: "sortStop",
            "click .js-rename-board": "renameBoard",
            "click .js-open-org-menu": "openOrgMenu",
            "click .js-change-vis": "changeVis",
            "click .js-open-desc": "openDesc",
            "click .js-close-calendar": "toggleCalendar",
            "click .js-calendar": "toggleCalendar",
            "click .js-filter-cards-indicator": "openFilter",
            "click .js-filter-card-clear": "clearFilters",
            "click .js-board-header-subscribed": "openUnsubscribe",
            "click .js-star-board": "toggleStarred",
            "click .js-show-sidebar": "setSidebarShow",
            "dblclick #board": "dblClickAddListMenu",
            "click .js-open-archive": "openArchive",
            "click .js-close-dropzone": "closeDropzone",
            "click .js-reopen": "reopen",
            shortcut: "shortcut",
            transitionend: "finishMovingSidebar",
            webkitTransitionEnd: "finishMovingSidebar"
        };
        b.prototype.initialize = function() {
            var d;
            b.__super__.initialize.apply(this, arguments);
            this.model.view = this;
            this.makeDebouncedMethods("refreshOrganization", "render", "renderBoardBackground", "renderBoardHeader", "renderBoardHeaderCalendar", "renderBoardHeaderDescription", "renderBoardHeaderSubscribed", "renderLists", "renderPermissionLevel", "updateControllerTitle");
            this.listenTo(this.model, {
                "change:closed": this.renderDebounced,
                "change:desc": this.renderBoardHeaderDescriptionDebounced,
                "change:idOrganization": this.refreshOrganizationDebounced,
                "change:memberships": this.renderPermissionLevelDebounced,
                "change:name": function(b) {
                    return function() {
                        b.renderBoardHeaderDebounced();
                        return b.updateControllerTitleDebounced()
                    }
                }(this),
                "change:powerUps": this.renderBoardHeaderCalendarDebounced,
                "change:prefs.cardCovers": this.renderListsDebounced,
                "change:prefs.permissionLevel": function(b) {
                    return function() {
                        b.renderListsDebounced();
                        return b.renderPermissionLevelDebounced()
                    }
                }(this),
                "change:prefs.background change:prefs.backgroundTile change:prefs.backgroundBrightness": function(b) {
                    return function() {
                        return b.renderBoardBackgroundDebounced(!0)
                    }
                }(this),
                "change:subscribed": this.renderBoardHeaderSubscribedDebounced,
                permChange: this.permChange
            });
            this.listenTo(this.model.viewState, {
                "change:archiveSidebarDropzoneVisible": this.renderArchiveSidebarDropzone,
                "change:showSidebar": this.renderSidebarState,
                "change:sidebarDisplayType": this.renderSidebarDisplayType
            });
            this.listenTo(this.Auth.me().boardStarList,
                "add remove reset", function(b) {
                    return function() {
                        return b.renderBoardHeaderStarred()
                    }
                }(this));
            this.memberTypeMe = this.model.getMemberType(y.me());
            this.refreshOrganization();
            this.listScrollLeft = null;
            this.savingScroll = !1;
            this.calcState = {};
            this.listenTo(this.model.filter, "change", this.renderFilteringStatus);
            X.addHandler(this, {
                scope: "board"
            });
            d = this.debounce(function(b) {
                return function() {
                    return b.calcBoardLayout()
                }
            }(this), 300);
            $(window).on("resize." + this.uniqueId(), d);
            this.versionTag = new jg
        };
        b.prototype.remove =
            function() {
                $(window).off("." + this.uniqueId());
                return b.__super__.remove.apply(this, arguments)
            };
        b.prototype.permChange = function(b) {
            return "none" === b ? B.defaultView() : this.render()
        };
        b.prototype.shortcut = function(b) {
            var e, c, f;
            e = this.model.editable();
            c = y.isLoggedIn();
            switch (b) {
                case 81:
                    if (c) return this.model.filter.toggleQuietMode(), "Q - My cards";
                    break;
                case 88:
                    return this.model.filter.clear(), "X - Clear All Filters";
                case 87:
                    return this.toggleSidebar(), "W - Toggle Board Sidebar";
                case 40:
                case 74:
                    return this.moveCard("down"), ["Keyboard Nav", "Down"];
                case 38:
                case 75:
                    return this.moveCard("up"), ["Keyboard Nav", "Up"];
                case 39:
                    return this.moveCard("right"), ["Keyboard Nav", "Right"];
                case 37:
                    return this.moveCard("left"), ["Keyboard Nav", "Left"];
                case 78:
                    if (e && (b = this.model.viewState.getList(), e = this.model.viewState.getCard(), null != b && null != e)) return e = _.indexOf(b.cardList.openCards(), e), this.model.composer.save({
                        idList: b.id,
                        index: e + 1,
                        vis: !0
                    }), "N - Insert Card";
                    break;
                case 27:
                    if (e) return K.sorting ? K.abort() : !sa.isEditing() && (!x.isVisible &&
                        !ka.isVisible) && (this.model.composer.get("vis") ? this.model.composer.save("vis", !1) : this.model.viewState.get("listComposerOpen") ? this.model.viewState.set("listComposerOpen", !1) : 1 < this.model.viewState.get("sidebarViewArray").length && null != (f = this.model.getView(Wa)) && f.popWidgetView()), B.showingCalendar(this) && $(".calendar-day.active").removeClass("active"), !0
            }
        };
        b.prototype.scrollToCard = function(b, e) {
            var c, f, h, m, k, l;
            l = this.collectionSubview(Xb, this.model.listList).subview(Yb, e);
            c = l.$(".list-cards");
            k = c.prop("scrollTop");
            m = c.outerHeight();
            h = e.cardList.openCards()[b].view.$el[0];
            f = h.clientHeight;
            h = h.offsetTop - f;
            l.scrollIntoView();
            if (k + m < h + f) return c.scrollTop(h + f - m);
            if (k > h) return c.scrollTop(h)
        };
        b.prototype.moveCard = function(b) {
            var e, c, f, h, m, k, l, w, n, t;
            this.ignoreMouseCardSelects || (this.ignoreMouseCardSelects = !0, $(document).one("mousemove", function(b) {
                return function(d) {
                    return b.ignoreMouseCardSelects = !1
                }
            }(this)));
            c = this.model.viewState.getCard();
            if (null == c) c = _.find(this.model.openLists(), function(b) {
                    return !_.isEmpty(b.openCards())
                }),
                null != c && c.selectFirstCardInList();
            else if (f = c.getList(), m = f.cardList.openCards(), e = _.indexOf(m, c), c = function(b) {
                return function(d, e, c, f) {
                    d += e;
                    if (b.model.filter.isFiltering)
                        for (; 0 <= d && d < c && !f(d);) d += e;
                    return d
                }
            }(this), "up" === b || "down" === b) {
                if (e = c(e, "up" === b ? -1 : 1, m.length, function(b) {
                    return function(d) {
                        return b.model.filter.satisfiesFilter(m[d])
                    }
                }(this)), 0 <= e && e < m.length) return this.scrollToCard(e, f), this.model.viewState.selectCard(m[e])
            } else if ("left" === b || "right" === b)
                if (k = _.filter(this.model.openLists(),
                    function(b) {
                        return 0 < b.cardList.openCards().length
                    }), f = _.indexOf(k, f), b = c(f, "left" === b ? -1 : 1, k.length, function(b) {
                    return function(d) {
                        return _.any(k[d].cardList.openCards(), function(d) {
                            return b.model.filter.satisfiesFilter(d)
                        })
                    }
                }(this)), 0 <= b && b < k.length) {
                    b = k[b];
                    h = b.cardList.openCards();
                    f = Math.min(e, h.length - 1);
                    n = [1, -1];
                    t = [];
                    l = 0;
                    for (w = n.length; l < w; l++)
                        if (e = n[l], e = c(f - e, e, h.length, function(b) {
                            return function(d) {
                                return b.model.filter.satisfiesFilter(h[d])
                            }
                        }(this)), 0 <= e && e < h.length) {
                            this.model.viewState.selectCard(h[e]);
                            this.scrollToCard(e, b);
                            break
                        } else t.push(void 0);
                    return t
                }
        };
        b.prototype.render = function() {
            var b, e, c, f, h, m;
            this.forceIntoDom();
            e = this.model;
            if (e.get("closed")) this.$el.html(v.fillFromModel("board_closed", e)), this.clearBoardBackground();
            else {
                b = {};
                b.url = B.getBoardUrl(this.modelCache, this.model);
                m = e.prefNames.concat(e.myPrefNames);
                f = 0;
                for (h = m.length; f < h; f++) c = m[f], b["" + c + "_" + e.getPref(c)] = !0;
                b.canJoin = e.canJoin();
                b.canInviteMembers = e.canInviteMembers();
                b.confirmed = y.me().get("confirmed");
                this.$el.html(v.fillFromModel("board",
                    e));
                this.renderBoardHeader();
                this.renderBoardBackground();
                this.$(".board-widgets").html(this.model.getView(Wa).render().el);
                this.renderSidebarState();
                this.calcBoardLayout();
                this.renderLists();
                B.setLocation({
                    title: b.name
                });
                _.defer(function(b) {
                    return function() {
                        b.$("#board").dragscrollable({
                            fxIgnore: function(b) {
                                var d;
                                d = $(b.target).closest("#board");
                                d = b.offsetY > d.height() - 11;
                                b = 0 < $(b.target).closest(".list").length;
                                return d || b
                            }
                        });
                        return K.refreshListSortable()
                    }
                }(this))
            }
            return this
        };
        b.prototype.renderFilteringStatus =
            function() {
                var b;
                b = this.model.filter.isFiltering();
                this.$(".js-filter-cards-indicator").toggleClass("hide", !b);
                this.$(".js-num-cards").toggleClass("hide", !b);
                return this.$("#board").toggleClass("filtering", b)
            };
        b.prototype.calcBoardLayout = function() {
            var b, e, c, f;
            f = $(window).height();
            c = $("#header").outerHeight();
            b = $(".header-banner:visible").outerHeight();
            e = this.$(".board-header").outerHeight();
            this.$(".board-canvas").height(f - (c + b + e));
            this.calcSidebarHeight()
        };
        b.prototype.attachVersionTag = function() {
            return this.$("#board").append(this.versionTag.$el)
        };
        b.prototype.removeSidebarDisplayTypes = function() {
            this.$el.removeClass("sidebar-display-wide")
        };
        b.prototype.renderSidebarDisplayType = function() {
            var b;
            this.removeSidebarDisplayTypes();
            b = this.model.viewState.getSidebarDisplayType();
            this.$el.addClass(b)
        };
        b.prototype.renderSidebarState = function() {
            this.renderSidebarDisplayType();
            this.$(".board-header-name-text").css("max-width", "" + ($(".board-header").parent().width() - 160) + "px");
            this.model.viewState.get("showSidebar") ? this.showSidebar() : this.hideSidebar()
        };
        b.prototype.toggleSidebar = function() {
            return this.model.viewState.setShowSidebar(!this.model.viewState.get("showSidebar"))
        };
        b.prototype.setSidebarShow = function() {
            this.model.viewState.setShowSidebar(!0)
        };
        b.prototype.showSidebar = function() {
            ia.fSmall && $("body").addClass("overflow-hidden");
            this.renderSidebarDisplayType();
            this.$(".board-widgets").removeClass("hide");
            _.defer(function(b) {
                return function() {
                    return b.$el.removeClass("disabled-all-widgets")
                }
            }(this))
        };
        b.prototype.hideSidebar = function() {
            $("body").removeClass("overflow-hidden");
            this.removeSidebarDisplayTypes();
            this.$el.addClass("disabled-all-widgets")
        };
        b.prototype.finishMovingSidebar = function() {
            if (!this.model.getPref("showSidebar")) return this.$(".board-widgets").addClass("hide")
        };
        b.prototype.refreshOrganization = function() {
            var b, e, c, f, h;
            c = ["name", "logoHash", "displayName"];
            b = this.Organization.get(this.model.previous("idOrganization"));
            e = this.model.getOrganization();
            null != b && b.unbind(null, this.renderBoardHeader);
            if (null != e) {
                f = 0;
                for (h = c.length; f < h; f++) b = c[f], e.ond("change:" +
                    b, this.renderBoardHeader)
            }
            return this.renderBoardHeader()
        };
        b.prototype.renderBoardHeader = function() {
            var b, e, c, f;
            e = this.model;
            b = {};
            b.isPremOrgAdmin = e.isPremOrgAdmin(y.me());
            b.canRename = b.isPremOrgAdmin || e.owned();
            c = e.getOrganization();
            if (null != c) {
                b.orgDisplayName = c.get("displayName");
                b.orgName = c.get("name");
                if (f = c.get("logoHash")) b.orgLogoUrl = "" + logoDomain + "/" + f + "/30.png";
                b.hasBusinessClass = c.isPremium()
            }
            b.hasCalendar = 0 <= F.call(this.model.get("powerUps"), "calendar");
            this.$(".js-board-header").html(v.fillFromModel("board_header",
                e, b));
            this.renderPermissionLevel();
            this.renderBoardHeaderDescription();
            this.renderBoardHeaderCalendar();
            this.renderBoardHeaderSubscribed();
            this.renderFilteringStatus();
            this.renderBoardHeaderStarred();
            return this
        };
        b.prototype.renderBoardHeaderStarred = function() {
            this.$(".js-star-board").toggleClass("board-header-btn-enabled", this.model.isStarred());
            return this
        };
        b.prototype.toggleStarred = function() {
            var b;
            b = this.Auth.me().boardStarList;
            null != b.getBoardStar(this.model.id) ? b.unstarBoard(this.model.id) :
                b.starBoard(this.model.id);
            return this
        };
        b.prototype.renderBoardHeaderCalendar = function() {
            var b;
            b = 0 <= F.call(this.model.get("powerUps"), "calendar");
            this.$(".js-calendar").toggleClass("hide", !b);
            return this
        };
        b.prototype.getAllBackgroundClasses = function() {
            return "body-custom-board-background body-custom-board-background-tiled body-light-board-background body-dark-board-background"
        };
        b.prototype.clearBoardBackground = function() {
            var b;
            this.model.get("prefs");
            b = this.getAllBackgroundClasses();
            $("body").removeClass(b).css({
                "background-image": ""
            }).css({
                "background-color": ""
            })
        };
        b.prototype.renderBoardBackground = function(b) {
            var e, c, f, h, m, k, s, w;
            null == b && (b = !1);
            this.clearBoardBackground();
            f = this.model.get("prefs");
            e = $("body");
            if (null != f.backgroundColor) return b = this.model.getClientBackgroundColor(f.background), e.css({
                "background-color": b
            }), Tb.setBackground({
                color: b
            });
            f.backgroundTile ? h = m = f.backgroundImage : (m = null != (c = null != (k = l.smallestPreviewBiggerThan(f.backgroundImageScaled, $(window).width(), $(window).height())) ? k.url : void 0) ? c : f.backgroundImage, h = null != (s = null != (w = l.smallestPreviewBiggerThan(f.backgroundImageScaled,
                64, 64)) ? w.url : void 0) ? s : f.backgroundImage);
            c = function(b) {
                return function() {
                    e.addClass("body-custom-board-background");
                    f.backgroundTile && e.addClass("body-custom-board-background-tiled");
                    switch (f.backgroundBrightness) {
                        case "light":
                            e.addClass("body-light-board-background");
                            break;
                        case "dark":
                            e.addClass("body-dark-board-background")
                    }
                    e.css({
                        "background-image": 'url("' + m + '")'
                    });
                    return Tb.setBackground({
                        url: h,
                        tiled: f.backgroundTile
                    })
                }
            }(this);
            return b ? l.waitForImageLoad(m, c) : c()
        };
        b.prototype.renderBoardHeaderSubscribed =
            function() {
                var b;
                b = this.model.get("subscribed");
                this.$(".js-board-header-subscribed").toggleClass("hide", !b);
                return this
            };
        b.prototype.renderBoardHeaderDescription = function() {
            var b, e, c;
            b = this.$(".js-fill-desc");
            e = this.model.get("desc");
            if (!e) return b.addClass("hide"), this;
            e ? c = e : this.model.editable() && (c = "Click to add a description...");
            b.attr("title", c);
            b.removeClass("hide");
            return this
        };
        b.prototype.renameBoard = function(b) {
            l.stop(b);
            t("Board View", "Board Header", "Open Rename Board From Title");
            x.toggle({
                elem: $(b.target).closest("a"),
                top: 35,
                view: this.model.getView(kg)
            })
        };
        b.prototype.openOrgMenu = function(b) {
            l.stop(b);
            t("Board View", "Board Header", "Open Org Menu");
            x.toggle({
                elem: $(b.target).closest("a"),
                top: 35,
                view: this.model.getView(Zf)
            })
        };
        b.prototype.renderPermissionLevel = function() {
            var b, e;
            b = this.$("#permission-level");
            e = {};
            e.permissionLevel = this.model.getPermLevelIconClass();
            e.permText = this.model.getPermDisplayText();
            b.html(v.fillFromModel("board_header_permissions", this.model, e));
            b.attr("title", this.model.getPermLevelAltText());
            b = this.model.canInvite(y.me());
            this.$(".js-manage-board-members").toggle(b);
            return this
        };
        b.prototype.postListListRender = function() {
            P("render", "rendering inline composer and calculating list layout");
            this.renderInlineListComposer();
            this.attachVersionTag();
            return this.renderFilteringStatus()
        };
        b.prototype.renderLists = function() {
            var b;
            b = this.$("#board").empty();
            this.collectionSubview(Xb, this.model.listList, {
                el: b,
                resetCallback: this.postListListRender
            }).render();
            _.defer(function(b) {
                return function() {
                    b.postListListRender();
                    return K.refreshListCardSortable()
                }
            }(this));
            return this
        };
        b.prototype.renderInlineListComposer = function() {
            var b;
            this.$(".list.add-list").remove();
            this.model.editable() && (b = this.model.getView(lg), this.$("#board").append(b.render().el))
        };
        b.prototype.calcSidebarHeight = function() {
            var b, e;
            null != (b = this.model.getView(db)) && b.calcActionsHeight();
            return null != (e = this.model.getView(Wa)) ? e.setSidebarContentHeight() : void 0
        };
        b.prototype.renderArchiveSidebarDropzone = function(b) {
            this.model.viewState.get("archiveSidebarDropzoneVisible") ?
                (this.$el.addClass("active-sidebar-archive-dropzone"), clearTimeout(this.dropzoneTimeoutId)) : (this.$el.removeClass("active-sidebar-archive-dropzone"), this.$(".js-sidebar-archive-dropzone").removeClass("hover-state"))
        };
        b.prototype.sortStop = function(b, e) {
            l.stopPropagation(b);
            !e.item.data("dragCancel") && !$(e.item).hasClass("list-card") && e.item.trigger("movelist", [e])
        };
        b.prototype.changeVis = function(b) {
            l.stop(b);
            t("Board View", "Board Header", "Open Change Visibilty via Header");
            x.toggle({
                elem: this.$(".js-change-vis"),
                top: 35,
                view: mg,
                options: {
                    model: this.model
                }
            })
        };
        b.prototype.openDesc = function(b) {
            l.stop(b);
            t("Board View", "Board Header", "Edit Description Button via Header");
            ka.show({
                view: this.model.getView(Yf),
                maxWidth: 500
            })
        };
        b.prototype.toggleCalendar = function() {
            return this.calendarView ? this.navigateToBoard() : this.navigateToCalendar()
        };
        b.prototype.navigateToCalendar = function() {
            var b;
            t("Board View", "Board Header", "Open Calendar View via Header");
            b = B.getBoardUrl(this.modelCache, this.model.id, "calendar");
            return B.navigate(b, {
                trigger: !0
            })
        };
        b.prototype.navigateToBoard = function() {
            var b;
            t("Board View", "Board Header", "Close Calendar View via Header");
            b = B.getBoardUrl(this.modelCache, this.model.id);
            return B.navigate(b, {
                trigger: !0
            })
        };
        b.prototype.showCalendar = function(b) {
            var e, c, f, h;
            this.$(".calendar-btn").addClass("board-header-btn-enabled");
            this.$("#board").addClass("hide");
            h = this.getCardViews();
            c = 0;
            for (f = h.length; c < f; c++) e = h[c], e.stopListeningToActiveCardChanges();
            this.calendarView = new ng({
                model: this.model,
                modelCache: this.modelCache
            });
            this.$(".board-canvas").append(this.calendarView.render(b).el);
            return this.calendarView.addedToDOM()
        };
        b.prototype.closeCalendarIfOpen = function() {
            if (null != this.calendarView) return this.closeCalendar()
        };
        b.prototype.closeCalendar = function() {
            var b, e, c, f;
            this.calendarView.remove();
            this.calendarView = null;
            this.$(".calendar-btn").removeClass("board-header-btn-enabled");
            this.$("#board").removeClass("hide");
            f = this.getCardViews();
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], b.listenToActiveCardChanges();
            return K.refreshListCardSortable()
        };
        b.prototype.getCardViews = function() {
            var b, e, c, f, h, m, k, l;
            c = this.collectionSubview(Xb, this.model.listList);
            e = [];
            k = c.subviewsOfType(Yb);
            c = 0;
            for (h = k.length; c < h; c++) {
                b = k[c];
                b = b.collectionSubview(Md, b.model.cardList);
                l = b.subviewsOfType(Fa);
                f = 0;
                for (m = l.length; f < m; f++) b = l[f], e.push(b)
            }
            return e
        };
        b.prototype.openFilter = function(b) {
            var e;
            l.stop(b);
            t("Board View", "Board Header", "Open Filtering via Header");
            null != (e = this.model.getView(Wa)) && e.openCardFilter()
        };
        b.prototype.clearFilters = function(b) {
            l.stop(b);
            t("Board View",
                "Board Header", "Clear Filtering via Header");
            this.model.filter.clear()
        };
        b.prototype.openUnsubscribe = function(b) {
            l.stop(b);
            pa.toggle({
                elem: $(b.target).closest(".js-board-header-subscribed")[0],
                top: 22,
                model: this.model,
                title: "Unsubscribe?",
                text: "You can re-subscribe via the board menu",
                confirmText: "Unsubscribe",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(d) {
                        t("Board View", "Board header", "Unsubscribe");
                        return b.model.subscribe(!1)
                    }
                }(this)
            })
        };
        b.prototype.dblClickAddListMenu = function(b) {
            l.stop(b);
            this.model.isMember(y.me()) && 0 === $(b.target).closest(".list").length && (t("Board View", "Open Add List Menu via Double Click"), x.show({
                clientx: b.clientX,
                clienty: b.clientY,
                top: 35,
                view: this.model.getView(Xf, "dblClick", {
                    dblClick: !0
                })
            }))
        };
        b.prototype.openArchive = function(b) {
            l.stop(b);
            t("Board View", "Open Archive from Bottom Dropzone");
            this.model.getView(Wa).openArchivedItems()
        };
        b.prototype.closeDropzone = function(b) {
            l.stop(b);
            t("Board View", "Close Bottom Dropzone")
        };
        b.prototype.reopen = function() {
            return this.model.reopen()
        };
        b.prototype.updateControllerTitle = function() {
            return B.title(this.model.get("name"))
        };
        b.prototype.scrollListIntoView = function(b) {
            return this.collectionSubview(Xb, this.listList).subview(Yb, b).scrollIntoView()
        };
        return b
    }(A);
    $f = function(c) {
        function b() {
            this.showMemberMenu = k(this.showMemberMenu, this);
            this.deselectMembers = k(this.deselectMembers, this);
            this.hoverItem = k(this.hoverItem, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle =
            function() {
                return "Observers"
            };
        b.prototype.events = {
            "click .js-select-member": "showMemberMenu",
            "mouseenter .js-select-member": "hoverItem",
            "mouseleave .js-list": "deselectMembers"
        };
        b.prototype.render = function() {
            this.$el.html(v.fillFromModel("observer_list", this.model));
            this.renderObservers();
            return this
        };
        b.prototype.hoverItem = function(b) {
            this.deselectMembers();
            b = $(b.target).closest(".item");
            return l.selectMenuItem(this.$(".js-list"), ".item", b)
        };
        b.prototype.deselectMembers = function(b) {
            return this.$(".js-list .item").removeClass("selected")
        };
        b.prototype.showMemberMenu = function(b) {
            l.stop(b);
            t("Board View", "Show Observer Menu");
            b = $(b.target).closest("a").attr("idmember");
            b = this.Member.get(b);
            x.pushView({
                view: new Ec({
                    board: this.model,
                    model: b
                })
            })
        };
        b.prototype.renderObservers = function() {
            var b, e;
            b = this.$(".js-list");
            var c, f, h, m;
            h = this.model.getObserverList();
            m = [];
            c = 0;
            for (f = h.length; c < f; c++) e = h[c], m.push(this.subview(Ka, e, {
                showStatus: !0,
                showUnconfirmed: !0
            }));
            this.appendSubviews(m, b);
            return this
        };
        return b
    }(A);
    Xf = function(c) {
        function b() {
            this.cancel =
                k(this.cancel, this);
            this.addList = k(this.addList, this);
            this.renderValue = k(this.renderValue, this);
            this.updateListList = k(this.updateListList, this);
            this.getClosestListPos = k(this.getClosestListPos, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Add List"
        };
        b.prototype.events = {
            "change .js-select-list-pos": "renderValue",
            "click .js-add-list": "addList",
            "submit form": "addList",
            "click .js-cancel": "cancel"
        };
        b.prototype.getLists =
            function() {
                this.lists = this.model.openLists();
                return this.listsLength = this.lists.length + 1
            };
        b.prototype.render = function() {
            this.$el.html(v.fill("popover_add_list"));
            _.delay(function(b) {
                return function() {
                    b.options.dblClick && b.getClosestListPos();
                    b.getLists();
                    return b.updateListList()
                }
            }(this), 10);
            return this
        };
        b.prototype.getClosestListPos = function() {
            var b, e, c;
            e = $(".list");
            c = [];
            this.closestListIdx = 0;
            e.each(function(b) {
                return function(b) {
                    b = parseInt(Math.abs($(e[b]).offset().left + $(e[b]).width() / 2 - x.el_left),
                        10);
                    return c.push(b)
                }
            }(this));
            this.closestListIdx = _.indexOf(c, _.min(c));
            b = $(e[this.closestListIdx]);
            if (0 < b.length && x.el_left > b.offset().left + b.width() / 2 && this.closestListIdx < e.length - 1) return this.closestListIdx += 1
        };
        b.prototype.updateListList = function() {
            var b, e, c, f;
            e = $(this.el).find(".js-select-list-pos");
            b = c = 0;
            for (f = this.listsLength; 0 <= f ? c < f : c > f; b = 0 <= f ? ++c : --c) $("<option>").val(b).text(b + 1).appendTo(e);
            b = e.find("option:last");
            this.options.dblClick && (b = e.find("option:eq(" + this.closestListIdx + ")"));
            b.attr("selected", "selected");
            return this.renderValue()
        };
        b.prototype.renderValue = function() {
            var b;
            b = parseInt(this.$(".js-select-list-pos").val(), 10) + 1;
            $(".js-pos-value").text(l.getNaturalNumber(b))
        };
        b.prototype.addList = function(b) {
            var e, c, f;
            l.stop(b);
            b = this.$(".js-list-name").val().trim();
            "" === b ? this.$(".js-list-name").focus().select() : (e = this.$(".js-select-list-pos"), e = parseInt(e.find("option:selected").val(), 10), f = e === this.listsLength - 1 ? !1 : !0, c = "List" === b ? !1 : !0, x.hide(), this.model.listList.create({
                name: b,
                pos: this.model.calcPos(e),
                closed: !1
            }, {
                success: function(b) {
                    return function(d) {
                        c && f ? t("Board", "Add List", "Successfully Add List - Changed Name, Changed Position") : c ? t("Board", "Add List", "Successfully Add List - Changed Name, Default Position") : f ? t("Board", "Add List", "Successfully Add List - Default Name, Changed Position") : t("Board", "Add List", "Successfully Add List - Default Name, Default Position");
                        return b.model.view.scrollListIntoView(d)
                    }
                }(this)
            }))
        };
        b.prototype.cancel = function(b) {
            l.stop(b);
            x.hide();
            t("Board Menu", "Add List Menu", "Click Cancel Button")
        };
        return b
    }(A);
    Yf = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            this.model.ond("change:name change:desc", this.render)
        };
        b.prototype.events = {
            "click .js-edit-desc": "editDesc"
        };
        b.prototype.render = function() {
            var b, e, c;
            e = this.model.get("desc");
            c = this.model.get("descData");
            b = {
                hasDesc: !!e
            };
            this.$el.html(v.fillFromModel("board_desc", this.model, b));
            b.hasDesc &&
                $(this.el).find(".board-description>div.current").html($a.markdownAsHtml(e, {
                    textData: c
                }));
            return this
        };
        b.prototype.editDesc = function(b) {
            l.stop(b);
            this.edit("desc")
        };
        return b
    }(Db);
    cg = function(c) {
        function b() {
            this.exportJSON = k(this.exportJSON, this);
            this.printModel = k(this.printModel, this);
            this.cancel = k(this.cancel, this);
            this.focusUrl = k(this.focusUrl, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Share, Print, and Export"
        };
        b.prototype.events = {
            "click .js-print": "printModel",
            "click .js-export-json": "exportJSON",
            "click .js-export-csv": "exportCSV",
            "click input[type='text']": "focusUrl",
            "submit form": "cancel"
        };
        b.prototype.render = function() {
            var b, e;
            e = this.model.getOrganization();
            b = this.model.toJSON();
            b.hasCsvExport = !1;
            null != e && (null != e && e.isFeatureEnabled("csvExport")) && (b.hasCsvExport = !0, b.csvURL = "/b/" + this.model.get("shortLink") + ".csv");
            null != e && e.isPremium() && !(null != e && e.isJPS()) && (b.needsUpgradeForCsv = !0, b.upgradeUrl =
                "/" + e.get("name") + "/billing");
            b.jsonURL = "/b/" + this.model.get("shortLink") + ".json";
            b.pLevelClass = this.model.getPermLevelIconClass();
            b.pLevelAltText = this.model.getPermLevelAltText();
            "org" === this.model.get("prefs").permissionLevel ? b.helperText = "visible to org" : "private" === this.model.get("prefs").permissionLevel && (b.helperText = "private");
            this.$el.html(v.fill("popover_share", b));
            return this
        };
        b.prototype.focusUrl = function(b) {
            this.$(".js-url").focus().select();
            return !1
        };
        b.prototype.cancel = function(b) {
            l.stop(b);
            return !1
        };
        b.prototype.printModel = function(b) {
            l.stop(b);
            t("Board Menu", "Share, Print, and Export Menu", "Print");
            x.hide();
            _.defer(function() {
                return window.print()
            })
        };
        b.prototype.exportJSON = function(b) {
            return t("Board Menu", "Share, Print, and Export Menu", "Export JSON")
        };
        b.prototype.exportCSV = function(b) {
            return t("Board Menu", "Share, Print, and Export Menu", "Export CSV")
        };
        return b
    }(A);
    pd = function(c) {
        function b() {
            this.newOrg = k(this.newOrg, this);
            this.submit = k(this.submit, this);
            this.helperAddOrg = k(this.helperAddOrg,
                this);
            this.changeOrg = k(this.changeOrg, this);
            this.canChangeOrg = k(this.canChangeOrg, this);
            this.setPermissionLevel = k(this.setPermissionLevel, this);
            this.selectVis = k(this.selectVis, this);
            this.openChangeVis = k(this.openChangeVis, this);
            this.getAdditionalVisPermissions = k(this.getAdditionalVisPermissions, this);
            this.disableSubmitDueToVisRestrictions = k(this.disableSubmitDueToVisRestrictions, this);
            this.resetVisChooser = k(this.resetVisChooser, this);
            this._renderBoardVisChooser = k(this._renderBoardVisChooser, this);
            this.disableSubmit = k(this.disableSubmit, this);
            this.enableSubmit = k(this.enableSubmit, this);
            this.renderBoardVisChooser = k(this.renderBoardVisChooser, this);
            this.renderBoardVisDisplay = k(this.renderBoardVisDisplay, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return this.options.copyBoard ? "Copy Board" : "Create Board"
        };
        b.prototype.events = {
            "change select[name='org-id']": "changeOrg",
            "click .js-helper-add-org": "helperAddOrg",
            "submit form": "submit",
            "click .js-submit": "submit",
            "click .js-create-org": "newOrg",
            "click .js-change-vis": "openChangeVis",
            "click .js-select": "selectVis"
        };
        b.prototype.getOrganization = function() {
            switch (this.model.typeName) {
                case "Organization":
                    return this.model;
                case "Board":
                    return this.model.getOrganization();
                default:
                    return null
            }
        };
        b.prototype.render = function() {
            var b, e, c, f, h, m;
            b = _.map(y.me().organizationList.models, function(b) {
                return b.toJSON()
            });
            e = null != (c = this.getOrganization()) ? c.id : void 0;
            f = 0;
            for (h =
                b.length; f < h; f++) c = b[f], c.selectOrg = c.id === e ? !0 : !1;
            e = null != e;
            b = {
                orgs: b,
                hasOrg: e,
                canAddToOrgs: 0 !== b.length,
                isCopyBoard: this.options.copyBoard,
                isNewBoard: this.options.newBoard,
                pLevel: "private"
            };
            this.options.copyBoard && this.model.owned() ? b.pLevel = this.model.get("prefs").permissionLevel : e && (b.pLevel = "org");
            if (null != (m = this.options) && m.newOrgBoard) b.hideOrg = !0;
            this.$el.html(v.fill("board_new", b));
            this.renderBoardVisChooser();
            return this
        };
        b.prototype.renderBoardVisDisplay = function(b) {
            var e;
            e = this.getPermissionLevel();
            b ? b = "<p>Checking visibility permissions\u2026</p>" : "" !== e ? (b = {
                visIconClass: ra.prototype.getPermLevelIconClass(e),
                visDisplayText: ra.prototype.getPermDisplayText(e).toLowerCase()
            }, b = v.fill("board_new_vis", b)) : b = "<p>There was an error setting the visibility.</p>";
            this.$(".js-vis-display").html(b);
            return this
        };
        b.prototype.renderBoardVisChooser = function(b) {
            var e, c, f, h, m, k, l, w;
            e = (c = this.$("select[name='org-id']").val()) && "" !== c ? this.Organization.get(c) : null;
            h = {};
            w = ["private", "org", "public"];
            k = 0;
            for (l = w.length; k <
                l; k++) f = w[k], h["permText_" + f] = ra.prototype.getPermLevelAltText(f, e), h["iconClass_" + f] = ra.prototype.getPermLevelIconClass(f, e);
            h.visRestrictionText = "You can not create a board with this visibility due to a restriction created by an org admin.";
            h.hasOrg = null != e;
            null != e && e.isFeatureEnabled("restrictvis") ? null != e && null != e.get("memberships") && null != e.get("products") && null != e && e.isFeatureEnabled("restrictVis") ? (this.disableSubmit(), h = _.extend(h, this.getAdditionalVisPermissions(b, e)), this._renderBoardVisChooser(h),
                this.renderBoardVisDisplay()) : (this.disableSubmit(), this.renderBoardVisDisplay(!0), O["for"](this.modelCache).loadOrganizationMinimal(c, function(c) {
                return function(f) {
                    if (null == f) return h = _.extend(h, c.getAdditionalVisPermissions(b, e)), c._renderBoardVisChooser(h), c.renderBoardVisDisplay()
                }
            }(this))) : (c = ["private", "public"], null != e ? c.unshift("org") : h.disabledVis_org = !0, 0 <= F.call(c, b) ? m = b : this.options.copyBoard && this.model.owned() && (m = this.model.get("prefs").permissionLevel), 0 > F.call(c, m) && (m = c[0]), h["permissionLevel_" +
                m] = !0, this.setPermissionLevel(m), this.enableSubmit(), this._renderBoardVisChooser(h), this.renderBoardVisDisplay());
            return this
        };
        b.prototype.enableSubmit = function() {
            return this.$(".js-submit").removeClass("disabled")
        };
        b.prototype.disableSubmit = function() {
            return this.$(".js-submit").addClass("disabled")
        };
        b.prototype._renderBoardVisChooser = function(b) {
            this.$(".js-vis-chooser").html(v.fill("board_menu_vis", b));
            return this
        };
        b.prototype.resetVisChooser = function() {
            this.$(".js-no-valid-org-privs").addClass("hide")
        };
        b.prototype.disableSubmitDueToVisRestrictions = function(b) {
            b.owned() ? (this.$(".js-org-account-url").attr("href", "/" + b.get("name") + "/account"), this.$(".js-not-admin-text").addClass("hide"), this.$(".js-admin-text").removeClass("hide")) : (this.$(".js-not-admin-text").removeClass("hide"), this.$(".js-admin-text").addClass("hide"));
            this.$(".js-no-valid-org-privs").removeClass("hide");
            this.$(".js-vis-chooser").addClass("hide");
            this.$(".js-vis-display").addClass("hide")
        };
        b.prototype.getAdditionalVisPermissions =
            function(b, e) {
                var c, f, h;
                c = {};
                h = "org";
                if (null != e && e.isFeatureEnabled("restrictVis")) {
                    f = [];
                    _.each(["private", "org", "public"], function(b) {
                        return function(d) {
                            if (b.canChangeOrg(e, d)) return f.push(d);
                            c["disabledVis_" + d] = !0;
                            return c["showVisRestriction_" + d] = !0
                        }
                    }(this));
                    if (0 === f.length) {
                        this.setPermissionLevel("");
                        this.disableSubmitDueToVisRestrictions(e);
                        return
                    }
                    h = 0 <= F.call(f, b) ? b : 0 <= F.call(f, "org") ? "org" : _.first(f);
                    this.enableSubmit()
                } else null != b ? h = b : this.options.copyBoard && this.model.owned() && (h = this.model.get("prefs").permissionLevel);
                this.setPermissionLevel(h);
                c["permissionLevel_" + h] = !0;
                return c
            };
        b.prototype.openChangeVis = function(b) {
            l.stop(b);
            this.$(".js-vis-display").addClass("hide");
            this.$(".js-vis-chooser").removeClass("hide")
        };
        b.prototype.selectVis = function(b) {
            l.stop(b);
            b = $(b.target).closest(".js-select");
            b.hasClass("disabled") || (this.$(".js-vis-display").removeClass("hide"), this.$(".js-vis-chooser").addClass("hide"), b = b.attr("name"), this.renderBoardVisChooser(b), t("New Board", "Change Visibility", b))
        };
        b.prototype.setPermissionLevel =
            function(b) {
                return this.$("input[name='permissionLevel']").val(b)
            };
        b.prototype.getPermissionLevel = function() {
            var b;
            return null != (b = this.$('input[name="permissionLevel"]').val()) ? b : ""
        };
        b.prototype.canChangeOrg = function(b, e) {
            var c, f;
            c = y.me();
            if (!(null != b && b.isFeatureEnabled("restrictVis"))) return !0;
            a: {
                switch (b.getMembershipFor(c).memberType) {
                    case "admin":
                        c = 2;
                        break a;
                    case "normal":
                        c = 1;
                        break a
                }
                c = void 0
            }
            f = function() {
                var c, f;
                switch (null != (c = b.get("prefs")) ? null != (f = c.boardVisibilityRestrict) ? f[e] : void 0 :
                    void 0) {
                    case "none":
                        return 3;
                    case "admin":
                        return 2;
                    default:
                        return 1
                }
            }();
            return c >= f
        };
        b.prototype.changeOrg = function(b) {
            this.resetVisChooser();
            this.$(".js-vis-display").removeClass("hide");
            this.$(".js-vis-chooser").addClass("hide");
            return this.renderBoardVisChooser(this.getPermissionLevel())
        };
        b.prototype.helperAddOrg = function(b) {
            l.stop(b);
            x.pushView({
                view: this.model.getView(bg)
            })
        };
        b.prototype.submit = function(b) {
            var e;
            l.stop(b);
            b = {
                name: this.$('input[name="name"]').val().trim(),
                idOrganization: null !=
                    (e = this.$('select[name="org-id"]').val()) ? e : "",
                prefs_permissionLevel: this.getPermissionLevel()
            };
            if (!this.$(".js-submit").hasClass("disabled"))
                if ("" === b.name) this.$('input[name="name"]').focus().select();
                else return this.options.copyBoard && (b.idBoardSource = this.model.id, b.keepFromSource = this.$("input:checkbox:checked").map(function() {
                        return this.name
                    }).get().join()), this.options.newBoard ? t("New Board", "New") : this.options.copyBoard && t("New Board", "Copy"), b.idOrganization && "private" !== b.prefs_permissionLevel &&
                    (b.prefs_selfJoin = !0), y.me().boardList.create(b, {
                        modelCache: this.modelCache,
                        silent: !0,
                        success: function(b) {
                            return function(d) {
                                var e, c;
                                b.options.copyBoard && Q.hide("copying");
                                (c = d.id, 0 > F.call(e = y.me().get("idBoards"), c)) && y.me().set("idBoards", e.concat(d.id));
                                B.displayBoard({
                                    idBoard: d.id
                                })
                            }
                        }(this)
                    }), this.options.copyBoard && Q.show("Copying...", "info", "copying"), x.hide()
        };
        b.prototype.newOrg = function(b) {
            l.stop(b);
            return x.pushView({
                view: new Pb({
                    model: this.model,
                    modelCache: this.modelCache
                })
            })
        };
        return b
    }(A);
    Zf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "" + this.model.getOrganization().get("displayName")
        };
        b.prototype.events = {
            "click .js-change-org": "openChangeOrg",
            "click .js-view-org": "viewOrg"
        };
        b.prototype.render = function() {
            var b, e;
            e = this.model.getOrganization();
            b = e.toJSON();
            b.canChangeOrg = (null != e ? e.owned() : void 0) || this.model.owned();
            null != e && e.owned() && !this.model.owned() && (b.setOrgNull = !0);
            this.$el.html(v.fill("popover_board_header_org_menu",
                b));
            return this
        };
        b.prototype.openChangeOrg = function(b) {
            var e;
            this.model.owned() ? (x.pushView({
                view: Fc,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            }), t("Board Header", "Change Org from Board Header Org Menu")) : (b = this.model.get("idOrganization"), null != (e = this.Organization.get(b)) && e.boardList.remove(this.model), this.model.update("idOrganization", ""), x.hide(), t("Board Header", "Remove Org from Board Header Org Menu"))
        };
        b.prototype.viewOrg = function() {
            return t("Board Header", "View Org From Board Header Org Menu")
        };
        return b
    }(A);
    bg = function(c) {
        function b() {
            this.newOrg = k(this.newOrg, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Add an Organization"
        };
        b.prototype.events = {
            "click .js-create-org": "newOrg"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("popover_helper_new_board_add_org"));
            return this
        };
        b.prototype.newOrg = function(b) {
            l.stop(b);
            return x.pushView({
                view: new Pb({
                    model: this.model,
                    modelCache: this.modelCache
                })
            })
        };
        return b
    }(A);
    var Nd, og, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Nd = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typename = "CustomBoardBackground";
        return b
    }(W);
    og = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Nd;
        b.prototype.url = function() {
            return "/1/member/" +
                this.member.id + "/boardBackgrounds"
        };
        b.prototype.initialize = function(b, e) {
            this.member = e.member
        };
        return b
    }(Va);
    var xc, Od, Ea, Zb, pg, qg, $b, rg, Md, ac, Pd, Qd, Fa, Rd, sg, Gc, Sd, tg, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        D = [].slice,
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] ===
                    c) return b;
            return -1
        };
    Ea = function(c) {
        function b() {
            this.uploadUrl = k(this.uploadUrl, this);
            this.unbindMarkRead = k(this.unbindMarkRead, this);
            this.markRelatedNotificationsRead = k(this.markRelatedNotificationsRead, this);
            this.markRelatedNotificationsReadNow = k(this.markRelatedNotificationsReadNow, this);
            this.getCheckItem = k(this.getCheckItem, this);
            this.subscribe = k(this.subscribe, this);
            this.getVoterDisplayData = k(this.getVoterDisplayData, this);
            this.vote = k(this.vote, this);
            this.addComment = k(this.addComment, this);
            this.getFullUrl = k(this.getFullUrl, this);
            this.getUrl = k(this.getUrl, this);
            this.getList = k(this.getList, this);
            this.getIndexInList = k(this.getIndexInList, this);
            this.getBoard = k(this.getBoard, this);
            this.reopen = k(this.reopen, this);
            this.close = k(this.close, this);
            this.hasChecklist = k(this.hasChecklist, this);
            this.hasMember = k(this.hasMember, this);
            this.removeMember = k(this.removeMember, this);
            this.addMember = k(this.addMember, this);
            this.toggleMember = k(this.toggleMember, this);
            this.moveToList = k(this.moveToList, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.typeName = "Card";
        b.prototype.urlRoot = "/1/cards";
        b.prototype.initialize = function() {
            this.destruct([this.memberList = (new ob).syncModel(this, "idMembers"), this.memberVotedList = (new ob).syncModel(this, "idMembersVoted"), this.checklistList = (new Ld).syncCache(this.modelCache, ["idCard"], function(b) {
                return function(e) {
                    return e.get("idCard") === b.id
                }
            }(this)), this.attachmentList = (new ug).syncSubModels(this, "attachments"), this.actionList = (new wb).syncCache(this.modelCache, [], function(b) {
                return function(e) {
                    var c,
                        f, h, m;
                    c = e.get("data");
                    return e.includesModel(b.typeName, b.id) || (null != c ? null != (f = c.cardSource) ? f.id : void 0 : void 0) === b.id ? (null != (h = c.board) ? h.id : void 0) === b.get("idBoard") || "commentCard" === (m = e.get("type")) || "copyCommentCard" === m : !1
                }
            }(this)), this.stickerList = (new vg(this.get("stickers"), {
                card: this,
                modelCache: this.modelCache
            })).syncSubModels(this, "stickers"), this.memberEditingList = new ob]);
            this.bind("change:id", this.actionList.sync);
            this._initSubEventsOn("badges");
            this.cacheShortLink();
            return this.cacheBoardId()
        };
        b.prototype.cacheShortLink = function() {
            return this.onId(function(b) {
                return function() {
                    return b.waitForAttr("shortLink", function() {
                        return IdCache.setCardId(b.get("shortLink"), b.id)
                    })
                }
            }(this))
        };
        b.prototype.cacheBoardId = function() {
            return this.onId(function(b) {
                return function() {
                    return b.waitForAttr("idBoard", function() {
                        return IdCache.setBoardIdForCard(b.id, b.get("idBoard"))
                    })
                }
            }(this))
        };
        b.get = function(d, e) {
            return l.isShortLink(e) ? b.findOne(d, function(b) {
                return b.get("shortLink") === e
            }) : b.__super__.constructor.get.apply(this,
                arguments)
        };
        b.prototype.updateEditing = function(b) {
            null == this._editingTimeout && (this._editingTimeout = {});
            this.memberEditingList.add(b);
            null != this._editingTimeout[b.id] && (clearTimeout(this._editingTimeout[b.id]), delete this._editingTimeout[b.id]);
            return this._editingTimeout[b.id] = setTimeout(function(e) {
                return function() {
                    return e.memberEditingList.remove(b)
                }
            }(this), Td)
        };
        b.prototype.sync = function(d, e, c) {
            return "create" === d && !(null != this.get("idBoard") && null != this.get("idList")) ? (this.waitForAttrs(["idBoard",
                "idList"
            ], function(f) {
                return function(h) {
                    f.set(h);
                    return b.__super__.sync.call(f, d, e, c)
                }
            }(this)), this.getBoard().onId(function(b) {
                return function(d) {
                    return b.set("idBoard", d)
                }
            }(this)), this.getList().onId(function(b) {
                return function(d) {
                    return b.set("idList", d)
                }
            }(this))) : b.__super__.sync.apply(this, arguments)
        };
        b.prototype.set = function(d, e) {
            var c;
            if (null != d && d.labels) {
                var f = d,
                    h, m, k, l, w;
                k = d.labels;
                w = [];
                h = 0;
                for (m = k.length; h < m; h++) c = k[h], w.push(null != (l = c.color) ? l : c);
                f.labels = w
            }
            null != d && d.badges && (d.badges =
                _.extend({}, this.get("badges"), d.badges));
            return b.__super__.set.apply(this, arguments)
        };
        b.prototype.moveToList = function(b, e) {
            var c;
            c = this;
            return b.onId(function(f) {
                return function(f) {
                    var m, k, l, w;
                    k = b.calcPos(e, c);
                    m = b.getBoard().composer;
                    k === c.get("pos") && c.get("idList") === f && !c.get("closed") ? (k = m.get("index"), k === e ? m.set("index", k + 1) : k === e + 1 && m.set("index", k - 1)) : (l = c.get("idList"), w = c.getIndexInList(), c.update({
                        pos: k,
                        idList: f,
                        closed: !1
                    }), null != m && m.get("vis") && (k = m.get("index"), m.get("idList") === f &&
                        m.get("index") >= e && k++, m.get("idList") === l && m.get("index") > w && k--, m.set("index", k)))
                }
            }(this))
        };
        b.prototype.moveToNextList = function() {
            var b, e;
            e = this.getBoard().openLists();
            b = _.indexOf(e, this.getList());
            b < e.length - 1 && this.moveToList(e[b + 1], 1E9)
        };
        b.prototype.moveToPrevList = function() {
            var b, e;
            e = this.getBoard().openLists();
            b = _.indexOf(e, this.getList());
            0 < b && this.moveToList(e[b - 1], 1E9)
        };
        b.prototype.toggleMember = function() {
            var b, e, c;
            b = arguments[0];
            e = 3 <= arguments.length ? D.call(arguments, 1, c = arguments.length -
                1) : (c = 1, []);
            c = arguments[c++];
            e = e[0];
            null == e && (e = !this.hasMember(b));
            e && y.isMe(b) && this.set("subscribed", !0);
            return this.toggle("idMembers", b, e, c)
        };
        b.prototype.addMember = function(b, e) {
            return this.toggleMember(b, !0, e)
        };
        b.prototype.removeMember = function(b, e) {
            return this.toggleMember(b, !1, e)
        };
        b.prototype.hasMember = function(b) {
            return this.memberList.get(b)
        };
        b.prototype.getIdCardMems = function() {
            return _.map(this.memberList.models, function(b) {
                return function(b) {
                    return b.id
                }
            }(this))
        };
        b.prototype.getIdCommenters =
            function() {
                var b;
                b = [];
                _.each(this.Action.getListForModel(this), function(e) {
                    return function(e) {
                        if ("commentCard" === e.get("type")) return e = e.get("idMemberCreator"), b.push(e)
                    }
                }(this));
                return this.idCommenters = _.uniq(b)
            };
        b.prototype.hasChecklist = function(b) {
            return this.checklistList.get(b)
        };
        b.prototype.close = function(b) {
            this.update({
                closed: !0
            }, b)
        };
        b.prototype.reopen = function() {
            var b;
            b = this.getList();
            null != b && this.update({
                closed: !1,
                pos: b.calcPos(b.cardList.length, this)
            })
        };
        b.prototype.getBoard = function() {
            var b,
                e;
            return null != (b = this.Board.get(this.get("idBoard"))) ? b : null != (e = this.getList()) ? e.getBoard() : void 0
        };
        b.prototype.getIndexInList = function() {
            return _.indexOf(this.getList().cardList.models, this)
        };
        b.prototype.getList = function() {
            var b, e;
            return null != (b = this.List.get(this.get("idList"))) ? b : null != (e = this.collection) ? e.owner : void 0
        };
        b.prototype.getUrl = function() {
            return B.getCardUrl(this)
        };
        b.prototype.getFullUrl = function() {
            return "" + siteDomain + this.getUrl()
        };
        b.prototype.editable = function() {
            return this.getBoard().editable()
        };
        b.prototype.addComment = function(b) {
            var e, c, f;
            e = this;
            c = _.max([new Date, null != (f = e.actionList.sort().first()) ? f.getDate().addSeconds(1) : void 0]).toISOString();
            if ("" !== b) e.onId(function(f) {
                return function(m) {
                    var k, l;
                    m = e.getBoard();
                    k = new nb({
                        type: "commentCard",
                        date: c,
                        data: {
                            text: b,
                            card: {
                                id: e.id,
                                name: e.get("name")
                            },
                            board: {
                                id: m.id,
                                name: m.get("name")
                            },
                            textData: {
                                emoji: y.me().allCustomEmoji()
                            }
                        },
                        idMemberCreator: y.myId()
                    }, {
                        modelCache: f.modelCache
                    });
                    l = setTimeout(function() {
                        return k.takingTooLong()
                    }, 2E3);
                    return S({
                        url: "/1/cards/" +
                            e.id + "/actions/comments",
                        type: "post",
                        data: {
                            text: b
                        },
                        dataType: "json",
                        success: function(b) {
                            clearTimeout(l);
                            k.isTakingTooLong = !1;
                            return f.modelCache.enqueueDelta(k, b)
                        }
                    })
                }
            }(this))
        };
        b.prototype.changeDueDateMaintainTime = function(b) {
            var e, c;
            e = null != (c = new Date(this.get("due"))) ? c : (new Date).setHours(12, 0, 0, 0);
            b = M.getDateWithSpecificTime(e, b);
            return this.update({
                due: b
            })
        };
        b.prototype.vote = function(b) {
            if (this.getBoard().canVote(y.me())) return this.waitForLock("vote", function(e) {
                return function(c) {
                    var f, h;
                    if (b ===
                        e.voted()) return c();
                    f = null != (h = _.clone(e.get("badges"))) ? h : {};
                    b ? (f.votes++, f.viewingMemberVoted = !0) : (f.votes--, f.viewingMemberVoted = !1);
                    e.set("badges", f);
                    e.toggle("idMembersVoted", y.myId(), b, {
                        collectionName: "membersVoted"
                    }, c)
                }
            }(this))
        };
        b.prototype.voted = function() {
            var b, e;
            return null != (b = null != (e = this.get("badges")) ? e.viewingMemberVoted : void 0) ? b : !1
        };
        b.prototype.hasStickers = function() {
            return 0 < this.stickerList.length
        };
        b.prototype.hasCover = function() {
            return null != this.attachmentList.get(this.get("idAttachmentCover"))
        };
        b.prototype.getVoterDisplayData = function(b) {
            return this.onId(function(e) {
                return function() {
                    return O["for"](e.modelCache).loadCardVoters(e.id, b)
                }
            }(this))
        };
        b.prototype.getAllAgingClasses = function() {
            return "aging-level-0 aging-level-1 aging-level-2 aging-level-3 aging-pirate aging-regular"
        };
        b.prototype.getAgingData = function() {
            var b, e;
            b = this.getBoard();
            e = Date.now() - new Date(this.get("dateLastActivity"));
            b = {
                level: function() {
                    switch (!1) {
                        case !(e < l.getMs({
                            days: 7
                        })):
                            return 0;
                        case !(e < l.getMs({
                            days: 14
                        })):
                            return 1;
                        case !(e < l.getMs({
                            days: 28
                        })):
                            return 2;
                        default:
                            return 3
                    }
                }(),
                mode: b.get("prefs").cardAging
            };
            b.agingClassesToAdd = "aging-level-" + b.level + " aging-" + b.mode;
            /64$/.test(this.id) && (b.agingClassesToAdd += " aging-treasure");
            return b
        };
        b.prototype.toggleVote = function() {
            this.vote(!this.voted())
        };
        b.prototype.subscribe = function(b) {
            var e;
            b !== this.get("subscribed") && (e = this.get("badges"), e.subscribed = b, this.update({
                subscribed: b
            }))
        };
        b.prototype.getCheckItem = function(b) {
            var e, c, f, h;
            e = c = 0;
            for (f = this.checklistList.length -
                1; 0 <= f ? c <= f : c >= f; e = 0 <= f ? ++c : --c)
                if (e = this.checklistList.at(e), e = null != e ? null != (h = e.checkItemList) ? h.get(b) : void 0 : void 0) return e;
            return null
        };
        b.prototype.getLabels = function() {
            var b, e, c, f, h;
            f = l.labelNames;
            h = [];
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], h.push(this.getLabel(b));
            return h
        };
        b.prototype.getActiveLabels = function() {
            var b, e, c, f, h;
            f = this.getLabels();
            h = [];
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], b.isActive && h.push(b);
            return h
        };
        b.prototype.getCard = function() {
            return this
        };
        b.prototype.hasLabel = function(b) {
            var e;
            e = this.get("labels");
            null == e && (e = []);
            return 0 <= F.call(e, b)
        };
        b.prototype.setLabel = function(b, e) {
            this.toggle("labels", b, e)
        };
        b.prototype.getLabel = function(b) {
            return {
                shortcut: String.fromCharCode(49 + _.indexOf(l.labelNames, b)),
                color: b,
                name: this.getBoard().getLabelName(b),
                isActive: this.hasLabel(b)
            }
        };
        b.prototype.toggleLabel = function(b) {
            this.setLabel(b, !this.hasLabel(b))
        };
        b.prototype.markRelatedNotificationsReadNow = function() {
            var b, e, c, f, h, m;
            e = function(b) {
                return function(d) {
                    var e, c;
                    return d.get("unread") &&
                        (null != (e = d.get("data")) ? null != (c = e.card) ? c.id : void 0 : void 0) === b.id
                }
            }(this);
            h = vb.all("header");
            m = [];
            c = 0;
            for (f = h.length; c < f; c++) b = h[c], e(b) && m.push(b.markRead());
            return m
        };
        b.prototype.markRelatedNotificationsRead = function() {
            return "active" !== Ja.getStatus() || "function" === typeof Ja.getHidden && Ja.getHidden() ? $(Ja).one("setStatus." + this.id + " visibilitychange." + this.id, this.markRelatedNotificationsRead) : l.callDebounced(this.markRelatedNotificationsReadNow)
        };
        b.prototype.unbindMarkRead = function() {
            return $(Ja).off("setStatus." +
                this.id + " visibilitychange." + this.id, this.markRelatedNotificationsRead)
        };
        b.prototype.toJSON = function(d) {
            var e;
            null == d && (d = {});
            e = b.__super__.toJSON.apply(this, arguments);
            d.url && (e.url = B.getCardUrl(this));
            return e
        };
        b.prototype.upload = function() {
            var b, e, c, f, h;
            e = arguments[0];
            b = 3 <= arguments.length ? D.call(arguments, 1, h = arguments.length - 1) : (h = 1, []);
            f = arguments[h++];
            c = b[0];
            va.addProcessingAttachment();
            b = new FormData;
            b.append("token", y.myToken());
            null != c ? b.append("file", e, c) : b.append("file", e);
            return S({
                url: "/1/cards/" +
                    this.id + "/attachments",
                data: b,
                type: "post",
                processData: !1,
                contentType: !1,
                error: function(b) {
                    return function(b, d, h, m) {
                        var k;
                        return 413 === b.status ? f("Error uploading " + (null != (k = e.name) ? k : c)) : m()
                    }
                }(this),
                success: function(b) {
                    return f()
                },
                complete: function(b) {
                    return va.removeProcessingAttachment()
                },
                timeout: l.getMs({
                    hours: 6
                })
            })
        };
        b.prototype.uploadUrl = function(b, e, c) {
            va.addProcessingAttachment();
            return S({
                url: "/1/cards/" + this.id + "/attachments",
                type: "post",
                data: {
                    url: b,
                    name: e
                },
                error: function(b) {
                    return function(b,
                        d, e, f) {
                        return c(d)
                    }
                }(this),
                success: function(b) {
                    return c()
                },
                complete: function(b) {
                    return va.removeProcessingAttachment()
                }
            })
        };
        b.prototype.removeCover = function() {
            return this.update({
                idAttachmentCover: ""
            })
        };
        b.prototype.makeCover = function(b) {
            return this.update({
                idAttachmentCover: b.id
            })
        };
        b.prototype.calcChecklistPos = function(b, e) {
            return l.calcPos(b, this.checklistList, e)
        };
        b.prototype._neighbor = function(b) {
            var e, c, f;
            c = this.getList().openCards();
            f = this.getBoard().filter;
            e = _.indexOf(c, this);
            if (0 <= e) {
                for (e +=
                    b; null != c[e] && !f.satisfiesFilter(c[e]);) e += b;
                return c[e]
            }
            return null
        };
        b.prototype.prevCard = function() {
            return this._neighbor(-1)
        };
        b.prototype.nextCard = function() {
            return this._neighbor(1)
        };
        return b
    }(W);
    rg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Ea;
        b.prototype.initialize = function(b, e) {
            this.bind("change:pos", this.sort);
            this.list = e.list
        };
        b.prototype.url = "/1/cards";
        b.prototype.comparator = function(b) {
            return b.get("pos") || 0
        };
        b.prototype.openCards =
            function() {
                return this.filter(function(b) {
                    return !b.get("closed")
                })
            };
        return b
    }(La);
    Rd = function() {
        function c() {
            this.getMemberOnCardHtml = k(this.getMemberOnCardHtml, this)
        }
        c.prototype.openMemberOnCardMenu = function(b) {
            var d, e;
            l.stop(b);
            b = this.$(b.target).closest(".member");
            d = b.attr("data-idmem");
            e = this.Member.get(d);
            d = this.model;
            x.toggle({
                elem: b,
                top: b.hasClass("member") ? 35 : 16,
                view: wg,
                options: {
                    model: e,
                    modelCache: this.modelCache,
                    card: d
                }
            })
        };
        c.prototype.getMemberOnCardHtml = function(b) {
            var d, e, c;
            d = b.toJSON();
            e = this.model.getBoard().getOrganization();
            d.isVirtual = (null != e ? e.isVirtual(b) : void 0) || (null != (c = this.model.getBoard()) ? c.isVirtual(b) : void 0);
            null != e && (d.isDeactivated = e.isDeactivated(b));
            return v.fill("member_on_card", d, "", {
                member: v.member
            })
        };
        return c
    }();
    Fa = ma(ud, Rd, function(c) {
        function b() {
            this.doClicks = k(this.doClicks, this);
            this.dropFront = k(this.dropFront, this);
            this.dragenterFront = k(this.dragenterFront, this);
            this.showDetail = k(this.showDetail, this);
            this.deselectCard = k(this.deselectCard, this);
            this.mouseLeaveEvent =
                k(this.mouseLeaveEvent, this);
            this.mouseEnterEvent = k(this.mouseEnterEvent, this);
            this.selectCard = k(this.selectCard, this);
            this.moveIn = k(this.moveIn, this);
            this.moveTo = k(this.moveTo, this);
            this.moveInCalendarDay = k(this.moveInCalendarDay, this);
            this.moveToCalendarDay = k(this.moveToCalendarDay, this);
            this.openQuickCardEditor = k(this.openQuickCardEditor, this);
            this.renderPowerUpEffects = k(this.renderPowerUpEffects, this);
            this.renderFiltered = k(this.renderFiltered, this);
            this.renderCover = k(this.renderCover, this);
            this.showCover =
                k(this.showCover, this);
            this.renderLabels = k(this.renderLabels, this);
            this.renderLink = k(this.renderLink, this);
            this.renderName = k(this.renderName, this);
            this.renderStickers = k(this.renderStickers, this);
            this.showStickers = k(this.showStickers, this);
            this.addNewStickerToList = k(this.addNewStickerToList, this);
            this.hookDroppable = k(this.hookDroppable, this);
            this.render = k(this.render, this);
            this.paste = k(this.paste, this);
            this.shortcut = k(this.shortcut, this);
            this.setActiveCard = k(this.setActiveCard, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.HOOK_DROPPABLE_QUEUE = new async.queue(function(b, e) {
            return b.hookDroppable(_.defer(e))
        }, 1);
        b.prototype.className = "list-card js-member-droppable";
        b.prototype.filterDeactivated = !0;
        b.prototype.showMemberStatus = !1;
        b.prototype.applyBoardCardFilter = !0;
        b.prototype.events = {
            moveto: "moveTo",
            movein: "moveIn",
            moveToCalendarDay: "moveToCalendarDay",
            moveInCalendarDay: "moveInCalendarDay",
            "click .js-open-quick-card-editor": "openQuickCardEditor",
            "click .js-member-on-card-menu": "openMemberOnCardMenu",
            click: "showDetail",
            mouseover: "selectCard",
            mouseenter: "mouseEnterEvent",
            mouseleave: "mouseLeaveEvent",
            dragenter: "dragenterFront",
            dragover: "dragover",
            dragleave: "dragleave",
            dragexit: "dragexit",
            dragend: "dragend",
            drop: "dropFront",
            mousedown: "mousedown",
            mouseup: "mouseup",
            shortcut: "shortcut",
            paste: "paste"
        };
        b.prototype.initialize = function() {
            var b, e, c, f;
            this.onCalendar || (this.model.view = this);
            f = ["filterDeactivated", "showMemberStatus", "applyBoardCardFilter"];
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], null != this.options[b] &&
                (this[b] = this.options[b]);
            this.makeDebouncedMethods("renderName", "renderLabels", "renderCover", "renderFiltered", "renderPowerUpEffects", "renderStickers");
            return Qa.enqueue("initialize_" + this.cid, function(b) {
                return function() {
                    var d, e;
                    b.listenTo(b.model, {
                        "change:name": b.renderNameDebounced,
                        "change:labels": b.renderLabelsDebounced,
                        "change:idAttachmentCover": b.renderCoverDebounced,
                        "change:name change:labels change:due": b.renderFilteredDebounced,
                        "change:dateLastActivity": b.renderPowerUpEffectsDebounced
                    });
                    b.listenTo(b.model.memberList, "add remove reset", function() {
                        b.renderMembers();
                        return b.renderFiltered()
                    });
                    b.listenTo(b.model.stickerList, {
                        "add remove reset change sort": b.renderStickersDebounced
                    });
                    d = b.model.getBoard();
                    b.listenTo(d, "change:powerUps change:prefs.cardAging", b.renderPowerUpEffectsDebounced);
                    b.listenTo(d.filter, "changeAny", b.renderFiltered);
                    e = d.viewState;
                    b.listenTo(e, "change:cardMode", function() {
                        if (e.get("idActiveCard") === b.model.id && "editStickers" === e.get("cardMode")) return b.editStickers()
                    });
                    return b.listenToActiveCardChanges()
                }
            }(this))
        };
        b.prototype.destructor = function() {
            var d;
            d = this.model.getBoard();
            null != d && (d.offd("change:prefs", this.render), d.filter.offd("change", this.renderFiltered), this.stopListeningToActiveCardChanges());
            this.subview(Hd, this.model).recursivelyStopListening();
            return b.__super__.destructor.apply(this, arguments)
        };
        b.prototype.listenToActiveCardChanges = function() {
            var b;
            b = this.model.getBoard().viewState;
            return this.listenTo(b, "change:idActiveCard", this.setActiveCard)
        };
        b.prototype.stopListeningToActiveCardChanges = function() {
            var b;
            b = this.model.getBoard().viewState;
            return this.stopListening(b, "change:idActiveCard", this.setActiveCard)
        };
        b.prototype.setActiveCard = function() {
            var b;
            if (this.model.getBoard().viewState.isCardSelected(this.model)) return X.addHandler(this, {
                scope: "card"
            }), $(".list-card.active-card").removeClass("active-card"), null != (b = this.$el) ? b.addClass("active-card") : void 0
        };
        b.prototype.getKeyScope = function() {
            return "cardView"
        };
        b.prototype.shortcut = function(b) {
            var e,
                c, f;
            c = y.isLoggedIn();
            e = this.model.editable();
            f = this.onCalendar;
            switch (b) {
                case 13:
                    return this.showDetail(), "Enter - Open Card";
                case 69:
                    if (e) return this.openQuickCardEditor(), "E - Open Quick Card Editor";
                    break;
                case 84:
                    return B.showCardDetail(this.model, "editTitle"), "T - Open Card and Edit Title";
                case 68:
                    if (e) return this.showPopOver(bc), ["D - Due Dates", "On Board View"];
                    break;
                case 76:
                    if (e) return this.showPopOver($b), ["L - Edit Labels", "On Board View"];
                    break;
                case 49:
                case 50:
                case 51:
                case 52:
                case 53:
                case 54:
                case 97:
                case 98:
                case 99:
                case 100:
                case 101:
                case 102:
                    if (e) return b -=
                        49 <= b && 54 >= b ? 49 : 97, this.model.toggleLabel(l.labelNames[b]), "1-6 - Toggle Specific Label";
                    break;
                case 65:
                case 77:
                    if (e) return this.showPopOver(ac), ["A - Assign Members", "Board View"];
                    break;
                case 32:
                    if (e) return this.model.toggleMember(y.myId()), "Space - Toggle Assigning Self";
                    break;
                case 67:
                case 46:
                    if (e) return this.model.close(), "C / Delete - Archive Card";
                    break;
                case 190:
                    if (e && !f) return this.model.moveToNextList(), "> - Move to Next List";
                    break;
                case 188:
                    if (e && !f) return this.model.moveToPrevList(), "< - Move to Previous List";
                    break;
                case 86:
                    if (c) return this.model.toggleVote(), "V - Vote";
                    break;
                case 83:
                    if (c) return b = this.model.get("subscribed"), this.model.subscribe(!b), ["S - Subscribe", b ? "Unsubscribe" : "Subscribe"]
            }
        };
        b.prototype.paste = function(b, e) {
            var c;
            if ("image" === b) return c = new Date, this.model.upload(e, "upload " + c.toString("yyyy-MM-dd") + " at " + c.toString("h.mm.ss tt").toLowerCase() + ".png", function() {}), ["Paste - Upload Image From Clipboard", "Card"]
        };
        b.prototype.showPopOver = function(b) {
            return x.toggle({
                elem: this.$(".js-card-menu"),
                view: b,
                options: {
                    model: this.model,
                    showShortcuts: !0,
                    hideOnSelect: !0
                }
            })
        };
        b.prototype.render = function() {
            var b, e, c, f, h, m, k, l;
            P("render", "rendering card " + this.model.get("name"));
            b = this.model.toJSON();
            b.showCover = this.showCover();
            b.showEditor = this.model.editable() && !this.options.hideMenu;
            this.model.hasStickers() && (b.hasStickers = !0);
            b.labels = this.model.getActiveLabels();
            h = this.model.getBoard().getOrganization();
            b.members = [];
            l = this.model.memberList.models.reverse();
            m = 0;
            for (k = l.length; m < k; m++) c = l[m], f = c.toJSON(),
                f.isVirtual = (null != h ? h.isVirtual(c) : void 0) || this.model.getBoard().isVirtual(c), null != h && (f.isDeactivated = h.isDeactivated(c)), b.members.push(f);
            this.$el.toggleClass("js-archive-card", this.model.get("closed"));
            this.showCover() && (e = this.model.hasCover());
            this.$el.toggleClass("has-cover", e);
            this.model.hasStickers() && this.$el.addClass("has-stickers");
            e = {
                label: v.label,
                member_on_card: v.member_on_card,
                member: v.member
            };
            this.el.innerHTML = v.fill("card_in_list", b, {
                editable: this.model.editable()
            }, e);
            this.setActiveCard();
            this.renderFiltered();
            this.renderBadges();
            Qa.enqueue("render_" + this.cid, function(b) {
                return function() {
                    b.renderCover();
                    b.renderStickers();
                    b.renderPowerUpEffects();
                    b.model.onId(b.renderLink);
                    b._droppableHookedSinceRender = !1;
                    if (!ha.isTouch()) return Fa.HOOK_DROPPABLE_QUEUE.push(b)
                }
            }(this));
            return this
        };
        b.prototype.hookDroppable = function(b) {
            if (null == this.$el || this._droppableHookedSinceRender) return "function" === typeof b ? b() : void 0;
            this._droppableHookedSinceRender = !0;
            ha.isTouch() || this.$el.droppable({
                refreshPositions: !0,
                inBounds: function(b) {
                    return function(b) {
                        var d, e, c, k, l;
                        c = K.boardOffset;
                        d = K.boardHeight;
                        e = K.boardWidth;
                        return c.left < (k = b.pageX) && k < c.left + e && c.top < (l = b.pageY) && l < c.top + d
                    }
                }(this),
                accept: ".js-list-draggable-board-members .member, .js-draggable-sticker",
                hoverClass: "active-card",
                drop: function(b) {
                    return function(d, c) {
                        var h, m, k, s, w, n;
                        c.draggable.hasClass("member") ? (k = c.draggable.data("id"), c.draggable.clone(), s = b.model.memberList.detect(function(b) {
                                return b.id === k
                            }), s || (b.model.addMember(k), t("Card", "Add Member by Board Sidebar"))) :
                            c.draggable.hasClass("js-draggable-sticker") && (s = c.draggable.data("sticker"), n = c.helper.offset(), h = b.$el.offset().top + 1, m = b.$el.offset().left + 1, w = b.$el.outerWidth() - 1 - 1, m = n.left - m, h = n.top - h, w = 100 * (m / w), m = b.$(".js-card-stickers").height(), h = b.$el.hasClass("has-stickers") || b.$el.hasClass("has-cover") ? 100 * (h / m) : 0, h > m && (h = m), m = l.getElemTransformMatrix(c.helper.find(".sticker-select-fixed")), m = null != m ? l.getMatrixDegrees(m) % 360 : 0, b.addNewStickerToList(s, w, h, m))
                    }
                }(this)
            });
            return "function" === typeof b ? b() :
                void 0
        };
        b.prototype.addNewStickerToList = function(b, e, c, f) {
            var h, m;
            h = null != (m = b.id) ? m : b.get("image");
            t("Card", "Sticker", h);
            this.model.stickerList.create({
                image: h,
                left: e,
                top: c,
                rotate: f,
                zIndex: this.model.stickerList.nextZIndex(),
                imageUrl: b.get("url"),
                imageScaled: b.get("scaled")
            }, {
                modelCache: this.modelCache
            })
        };
        b.prototype.showStickers = function() {
            return !this.onCalendar
        };
        b.prototype.renderStickers = function(b) {
            var e, c;
            if (this.showStickers()) {
                e = this.$(".list-card-stickers-area");
                b = this.$(".js-card-stickers").empty();
                if (c = this.model.hasStickers()) {
                    this.$el.addClass("has-stickers");
                    e.removeClass("hide");
                    var f, h, m;
                    h = this.model.stickerList.models;
                    m = [];
                    c = 0;
                    for (f = h.length; c < f; c++) e = h[c], m.push(this.subview(Hc, e));
                    this.appendSubviews(m, b)
                } else this.$el.removeClass("has-stickers"), e.addClass("hide");
                return this
            }
            this.$el.removeClass("has-stickers")
        };
        b.prototype.renderName = function() {
            var b;
            b = this.model.toJSON();
            b = v.fill("card_title_on_card_front", b);
            this.$(".js-card-name").html(b);
            return this
        };
        b.prototype.renderLink = function() {
            var b;
            b = B.getCardUrl(this.model);
            this.$(".js-card-name").attr("href", b);
            return this
        };
        b.prototype.renderLabels = function() {
            var b, e, c, f, h;
            f = this.model.getActiveLabels();
            h = [];
            e = 0;
            for (c = f.length; e < c; e++) b = f[e], h.push(v.fill("label", b));
            b = h.join("");
            this.$(".js-card-labels").empty().append(b);
            return this
        };
        b.prototype.showCover = function() {
            return this.model.getBoard().getPref("cardCovers") && this.model.hasCover() && !this.onCalendar
        };
        b.prototype.renderCover = function() {
            var b, e, c, f, h;
            this.showCover() && (c = this.model.attachmentList.get(this.model.get("idAttachmentCover")));
            null != c ? (f = ha.isHighDPI() ? 600 : 300, f = null != (b = c.smallestPreviewBiggerThan(f)) ? b : c.biggestPreview(), h = null != f ? f.url : c.get("url"), b = this.$(".js-card-cover"), b.css({
                "background-color": null != (e = c.get("edgeColor")) ? e : "transparent",
                "background-image": 'url("' + h + '")'
            }).removeClass("hide").toggleClass("no-preview-size", null == f), null != f && (e = this.$(".js-card-stickers"), h = Math.min(f.height, 250), f = 217 * f.height / f.width, f <= h ? (b.css({
                height: f,
                "background-size": "cover"
            }), e.css("height", f)) : (b.css({
                    height: h,
                    "background-size": "contain"
                }),
                e.css("height", h)))) : this.$(".js-card-cover").css({
                "background-image": ""
            }).addClass("hide").removeClass("no-preview-size");
            this.$el.toggleClass("has-cover", null != c);
            return this
        };
        b.prototype.renderFiltered = function(b) {
            if (null == this.options.dontFilter) return null == this._visible && (this._visible = !0), b = this.model.getBoard(), b = null == b || !B.onBoardView(b.id) || !this.applyBoardCardFilter || b.filter.satisfiesFilter(this.model), this._visible !== b && (this.$el.toggleClass("hide", !b).height(b ? "" : 0), this._visible = b),
                this
        };
        b.prototype.renderBadges = function() {
            var b;
            b = this.subview(Hd, this.model);
            this.$(".badges").replaceWith(b.render().el);
            return this
        };
        b.prototype.renderMembers = function(b) {
            var e;
            this.model.getBoard().getOrganization();
            e = this.model.memberList.models.reverse();
            var c, f, h;
            h = [];
            c = 0;
            for (f = e.length; c < f; c++) b = e[c], h.push(this.getMemberOnCardHtml(b));
            b = h.join("");
            this.$(".js-list-card-members").empty().append(b);
            return this
        };
        b.prototype.renderPowerUpEffects = function() {
            var b, e;
            b = this.model.getBoard();
            this.$el.removeClass(this.model.getAllAgingClasses());
            if (0 <= F.call(null != (e = b.get("powerUps")) ? e : [], "cardAging") && !this.model.get("closed")) return b = this.model.getAgingData(), this.$el.addClass(b.agingClassesToAdd)
        };
        b.prototype.openQuickCardEditor = function(b) {
            l.stop(b);
            x.hide();
            Ud.open(this);
            t("Card Front", "Open Quick Card Editor");
            return this
        };
        b.prototype.moveToCalendarDay = function(b, e, c) {
            var f;
            if (e.sender.hasClass("js-archive-items")) return c = c.data.day, b = null != (f = new Date(this.model.get("due"))) ? f : (new Date).setHours(12, 0, 0, 0), f = M.getDateWithSpecificTime(b,
                c), this.model.update({
                due: f,
                closed: !1
            });
            c.getCardView(this.model).delegateEvents();
            if (K.isInSidebarArchiveDropzone) {
                if (!this.model.get("closed")) return this.model.close(), c.renderCardsAndListHeaders()
            } else return f = new Date(c.data.day), this.model.changeDueDateMaintainTime(f), c.updateHeader(), c.renderCardsAndListHeaders()
        };
        b.prototype.moveInCalendarDay = function(b, e, c) {
            c.getCardView(this.model).delegateEvents();
            K.isInSidebarArchiveDropzone && (this.model.get("closed") || this.model.close());
            return c.renderCardsAndListHeaders()
        };
        b.prototype.moveTo = function(b, e, c, f) {
            var h, m, k;
            0 === e.item.parents(".list").length ? (l.callDebounced(null != (h = c.renderCards) ? h : function() {}), l.callDebounced(null != (m = null != (k = this.model.getList()) ? k.view.renderCards : void 0) ? m : function() {})) : (h = this.model.get("closed"), (b = K.isInSidebarArchiveDropzone) ? h || this.model.update("closed", !0) : (b = e.item.parents(".list").find(".list-card:not(.placeholder,.js-composer)"), b = b.index(e.item), f || e.item.remove(), this.model.moveToList(c.model, b)))
        };
        b.prototype.moveIn =
            function(b, e, c) {
                c.model.id === this.model.get("idList") && this.moveTo(b, e, c, !0)
            };
        b.prototype.selectCard = function(b) {
            var e, c;
            !x.isVisible && !(K.sorting || null != (e = this.model.getBoard()) && null != (c = e.view) && c.ignoreMouseCardSelects) && this.model.getBoard().viewState.selectCard(this.model)
        };
        b.prototype.mouseEnterEvent = function() {
            this.selectCard();
            Fa.HOOK_DROPPABLE_QUEUE.push(this)
        };
        b.prototype.mouseLeaveEvent = function() {
            this.deselectCard();
            Fa.HOOK_DROPPABLE_QUEUE.push(this)
        };
        b.prototype.deselectCard = function() {
            var b,
                e;
            if (!x.isVisible && !(K.sorting || null != (b = this.model.getBoard()) && null != (e = b.view) && e.ignoreMouseCardSelects)) $(".list-card.active-card").removeClass("active-card"), X.removeHandlerScope("card"), this.model.getBoard().viewState.selectCard(null)
        };
        b.prototype.showDetail = function(b) {
            if ((!b || !b.ctrlKey && !b.metaKey && !b.shiftKey) && this.doClicks() && !this._wasLongPress) return l.stop(b), B.showCardDetail(this.model)
        };
        b.prototype.dragenterFront = function(b) {
            var e;
            e = this.$el.outerHeight();
            this.$(".list-card-dropzone").css({
                height: "" +
                    e + "px",
                "line-height": "" + e + "px"
            });
            return this.dragenter(b)
        };
        b.prototype.dropFront = function(b) {
            t("Card Front", "Drop Attachment Upload");
            return this.drop(b)
        };
        b.prototype.doClicks = function() {
            return !K.sorting
        };
        b.prototype._cancelLongPress = function() {
            clearTimeout(this._longPressTimeout);
            this._longPressTimeout = null;
            if (this._wasLongPress) return _.defer(function(b) {
                return function() {
                    return b._wasLongPress = !1
                }
            }(this))
        };
        b.prototype.mousedown = function(b) {
            var e, c;
            if (this.model.editable() && (this._cancelLongPress(),
                b = null != (c = this._longPressHandler(b)) ? c : {}, e = b.handler, c = b.timeout, null != e)) return this._longPressTimeout = setTimeout(function(b) {
                return function() {
                    b._cancelLongPress();
                    if (!b.$el.hasClass("ui-sortable-helper")) return b._wasLongPress = !0, $(document).unbind(".sortable"), e()
                }
            }(this), c)
        };
        b.prototype.mouseup = function(b) {
            return this._cancelLongPress()
        };
        b.prototype._longPressHandler = function(b) {
            return 0 < $(b.target).closest(".sticker").length ? {
                handler: function(e) {
                    return function() {
                        return e.editStickers(b)
                    }
                }(this),
                timeout: 500
            } : null
        };
        return b
    }(A));
    Md = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.viewType = Fa;
        b.prototype.getModels = function() {
            return this.collection.openCards()
        };
        b.prototype.render = function() {
            var b, e, c, f, h, m;
            P("render", "rendering " + this.getModels().length + " " + this.collection.model.name + "s into " + this.viewType.name);
            f = new async.queue(function(b) {
                return function(d, e) {
                    var c;
                    b.appendSubviews(function() {
                        var b, e, f;
                        f = [];
                        b = 0;
                        for (e = d.length; b < e; b++) c = d[b],
                            f.push(this.subview(this.viewType, c));
                        return f
                    }.call(b));
                    return _.defer(e)
                }
            }(this), 1);
            if (!("chrome" === (e = ha.browserStr) || "firefox" === e || "opera" === e) && "windows" === ha.osStr) e = function(b) {
                return function() {
                    _.defer(function() {
                        return $("#board").css({
                            bottom: 1
                        })
                    });
                    return _.delay(function() {
                        return $("#board").css({
                            bottom: 0
                        })
                    }, 150)
                }
            }(this), b = _.debounce(e, 1E3), f.drain = function() {
                return b()
            };
            c = this.getModels();
            for (e = []; 0 < c.length;) e.push(c.splice(0, 20));
            h = 0;
            for (m = e.length; h < m; h++) c = e[h], f.push([c]);
            return this
        };
        b.prototype.insertSubview = function(b, e, c) {
            var f;
            null == c && (c = this.$el);
            P("render", "inserting " + b.$el.find("h2").text() + " at position " + e);
            "number" === typeof e ? e = 0 >= e ? c.children().eq(0) : e < c.children().length ? c.children().eq(e) : void 0 : e instanceof A && (e = e.$el);
            f = b.model;
            b.$el.is(":empty") ? (b.delegateEvents(), b.render()) : !c.hasClass("hide") && !f.getBoard().filter.satisfiesFilter(f) && b.renderFiltered();
            0 < (null != e ? e.length : void 0) ? b.$el.insertBefore(e) : c.append(b.$el);
            return K.refreshIfInitialized(this.$el)
        };
        return b
    }(Cb);
    Od = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.onCalendar = !0;
        return b
    }(Fa);
    Gc = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.cardView = this.subview(Fa, this.model, {
                filterDeactivated: !1,
                showMemberStatus: !1
            })
        };
        b.prototype.className = "list-card-container";
        b.prototype.render = function() {
            var b;
            b = {
                listName: this.model.getList().get("name"),
                boardName: this.model.getBoard().get("name"),
                showBoard: this.options.dateSort
            };
            this.$el.html(v.fill("member_cards_card", b));
            this.appendSubview(this.cardView, this.$(".js-card"));
            return this
        };
        return b
    }(A);
    xc = function(c) {
        function b() {
            this.openBoxFilePicker = k(this.openBoxFilePicker, this);
            this.openOneDriveFilePicker = k(this.openOneDriveFilePicker, this);
            this.openDropboxFilePicker = k(this.openDropboxFilePicker, this);
            this.openGoogleDriveFilePicker = k(this.openGoogleDriveFilePicker, this);
            this._loadOnce = k(this._loadOnce,
                this);
            this.startUpload = k(this.startUpload, this);
            this.render = k(this.render, this);
            this.getViewTitle = k(this.getViewTitle, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Attach From..."
        };
        b.prototype.initialize = function() {
            return this.listenTo(Ib, "loaded", this.render)
        };
        b.prototype.events = {
            "click .js-google-drive-attachment": "openGoogleDriveFilePicker",
            "click .js-dropbox-attachment": "openDropboxFilePicker",
            "click .js-one-drive-attachment": "openOneDriveFilePicker",
            "click .js-box-attachment": "openBoxFilePicker",
            "change .js-attach-file": "startUpload",
            "click .js-gold-promo": "openPromo",
            "click .js-add-attachment-url": "addUrl",
            "keydown .js-attachment-url": "keydown"
        };
        b.prototype._scripts = {
            dropbox: "https://www.dropbox.com/static/api/1/dropbox.js",
            box: "https://app.box.com/js/static/select.js",
            oneDrive: "https://js.live.net/v5.0/wl.js"
        };
        b.prototype.getData = function() {
            return async.forEach([this._scripts.dropbox, this._scripts.oneDrive, this._scripts.box], function(b) {
                return function(e,
                    c) {
                    return b._loadOnce(e, c)
                }
            }(this))
        };
        b.prototype.render = function() {
            var b, e, c, f;
            b = this.model.toJSON();
            b.hasLargeAttachments = (null != (e = y.me()) ? e.isFeatureEnabled("largeAttachments") : void 0) || (null != (c = this.model.getBoard()) ? null != (f = c.getOrganization()) ? f.isFeatureEnabled("largeAttachments") : void 0 : void 0);
            b.googleDriveReady = Ib.loaded;
            this.$el.html(v.fill("attachment_type_picker", b));
            return this
        };
        b.prototype.startUpload = function(b) {
            var e, c, f;
            f = $(b.target);
            e = this.$(".js-file-too-large").hide();
            c = f[0].files;
            b = function(b) {
                if (b) return e.show(), t("Card Detail", "Attachment", "Upload Error - File Too Large");
                t("Card Detail", "Upload Attachment Complete - Via Picker");
                1 < c.length && Q.show("Finished!", "info", "AjaxQueueUpload", 2E3);
                return x.hide()
            };
            0 < (null != c ? c.length : void 0) ? _.any(c, function(b) {
                return !l.validCardUpload(b)
            }) ? b("too large") : async.forEachSeries(c, function(b) {
                return function(d, e) {
                    return b.model.upload(d, e)
                }
            }(this), b) : l.uploadFile(f, b)
        };
        b.prototype._loadOnce = function(b, e) {
            null == this._loadedScripts &&
                (this._loadedScripts = {});
            return this._loadedScripts[b] ? e() : $.getScript(b, function(c) {
                return function() {
                    c._loadedScripts[b] = !0;
                    return e()
                }
            }(this))
        };
        b.prototype.openGoogleDriveFilePicker = function(b) {
            l.stop(b);
            return async.auto({
                picker: function(b) {
                    return gapi.load("picker", b)
                },
                oauthToken: function(b) {
                    var d;
                    d = Ib.validToken();
                    return Ib.authorize(d, b)
                },
                open: ["picker", "oauthToken",
                    function(b) {
                        return function(d, c) {
                            var h, m;
                            m = c.oauthToken;
                            h = new google.picker.DocsView;
                            h.setIncludeFolders(!0);
                            (new google.picker.PickerBuilder).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).addView(h).setOAuthToken(m).setDeveloperKey(window.googleDrive.publicAPIKey).setCallback(function(d) {
                                null !=
                                    d.docs && async.forEachSeries(d.docs, function(d, c) {
                                        return S({
                                            url: "/1/cards/" + b.model.id + "/attachments",
                                            type: "post",
                                            data: {
                                                url: d.url,
                                                name: d.name,
                                                mimeType: d.mimeType
                                            },
                                            success: function() {
                                                c();
                                                t("Card Detail", "Upload Google Drive File");
                                                return x.hide()
                                            }
                                        })
                                    }, function() {})
                            }).build().setVisible(!0);
                            return $("iframe.picker-frame[src*=authserviceid]").attr("src", function() {
                                return $(this).attr("src").replace(/authserviceid/g, "fixgoogle")
                            })
                        }
                    }(this)
                ]
            }, function(b) {
                if (b) throw b;
            })
        };
        b.prototype.openDropboxFilePicker =
            function(b) {
                l.stop(b);
                return this._loadOnce(this._scripts.dropbox, function(b) {
                    return function() {
                        Dropbox.init({
                            appKey: "36ipz29apw2svq8"
                        });
                        return Dropbox.choose({
                            linkType: "preview",
                            iframe: !0,
                            success: function(d) {
                                async.forEachSeries(d, function(d, c) {
                                    return S({
                                        url: "/1/cards/" + b.model.id + "/attachments",
                                        type: "post",
                                        data: {
                                            url: d.link,
                                            name: d.name
                                        },
                                        success: function() {
                                            c();
                                            t("Card Detail", "Upload Dropbox File");
                                            return x.hide()
                                        }
                                    })
                                }, function() {})
                            }
                        })
                    }
                }(this))
            };
        b.prototype.openOneDriveFilePicker = function(b) {
            l.stop(b);
            return this._loadOnce(this._scripts.oneDrive, function(b) {
                return function() {
                    var d;
                    WL.init({
                        client_id: null != (d = window.oneDriveClientId) ? d : "0000000040119A6B",
                        redirect_uri: "" + siteDomain + "/onedrive_callback.html"
                    });
                    return WL.login({
                        scope: "wl.skydrive wl.signin"
                    }).then(function(d) {
                        return WL.fileDialog({
                            mode: "open",
                            select: "single"
                        }).then(function(d) {
                            var c;
                            async.forEachSeries(_.toArray(null != d ? null != (c = d.data) ? c.files : void 0 : void 0), function(d, c) {
                                return S({
                                    url: "/1/cards/" + b.model.id + "/attachments",
                                    type: "post",
                                    data: {
                                        url: d.link,
                                        name: d.name
                                    },
                                    success: function() {
                                        c();
                                        t("Card Detail", "Upload OneDrive File");
                                        return x.hide()
                                    }
                                })
                            }, function() {})
                        })
                    })
                }
            }(this))
        };
        b.prototype.openBoxFilePicker = function(b) {
            l.stop(b);
            return this._loadOnce(this._scripts.box, function(b) {
                return function() {
                    var d, c;
                    d = new BoxSelect({
                        clientId: "zclwcvudmddhz0cscz3w6awtcfs8bne3",
                        linkType: "shared",
                        multiselect: !0
                    });
                    c = function(h) {
                        d.unregister(d.SUCCESS_EVENT_TYPE, c);
                        async.forEachSeries(h, function(d, c) {
                            return S({
                                url: "/1/cards/" + b.model.id + "/attachments",
                                type: "post",
                                data: {
                                    url: d.url,
                                    name: d.name
                                },
                                success: function() {
                                    c();
                                    t("Card Detail", "Upload Box File");
                                    return x.hide()
                                }
                            })
                        }, function() {})
                    };
                    d.success(c);
                    return d.launchPopup()
                }
            }(this))
        };
        b.prototype.openPromo = function(b) {
            return t("Attachment", "Open Trello Gold Promo - via Attachment Upload Limit")
        };
        b.prototype.keydown = function(b) {
            if (l.isSubmitKey(b)) return this.addUrl()
        };
        b.prototype.addUrl = function(b) {
            b = this.$(".js-attachment-url").val().split(/\s+/);
            b = _.filter(b, function(b) {
                return /\S/.test(b)
            });
            if (!_.isEmpty(b) &&
                10 > b.length) return x.pushView({
                view: tg
            }), async.forEach(b, function(b) {
                return function(d, c) {
                    return S({
                        url: "/1/cards/" + b.model.id + "/attachments",
                        type: "post",
                        data: {
                            url: d
                        },
                        success: function() {
                            return t("Card Detail", "Upload link")
                        },
                        complete: function() {
                            return c()
                        }
                    })
                }
            }(this), function() {
                return x.hide()
            })
        };
        return b
    }(A);
    tg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Sending Links\u2026"
        };
        b.prototype.render = function() {
            this.$el.html('<div class="spinner loading"></div>');
            return this
        };
        return b
    }(A);
    qg = ma(ud, Qb, tb, Rd, function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "clearfix";
        b.prototype.defaultActionLimit = 50;
        b.prototype.maxActionLimit = 1E3;
        b.prototype.maximumCommentLength = 16384;
        b.prototype.initialize = function() {
            this.fShowExtraActions = !1;
            this.makeDebouncedMethods("render", "renderCover", "renderStickers", "renderName", "renderDescription", "renderArchived", "renderLabels", "renderList", "renderVotes", "renderDueDate", "renderSubscribe",
                "renderAttachments", "renderMembers", "renderAging");
            this.listenTo(this.model, {
                "change:name": this.renderNameDebounced,
                "change:desc": this.renderDescriptionDebounced,
                "change:closed": this.renderArchivedDebounced,
                "change:labels": this.renderLabelsDebounced,
                "change:idList": this.renderListDebounced,
                "change:idMembersVoted": this.renderVotesDebounced,
                "change:due": this.renderDueDateDebounced,
                "change:subscribed": this.renderSubscribeDebounced,
                "change:dateLastActivity": this.renderAgingDebounced,
                "change:idAttachmentCover": function() {
                    this.renderAttachmentsDebounced();
                    return this.renderCoverDebounced()
                },
                remove: this.closeDialog
            });
            this.listenTo(this.model.memberList, {
                "add remove reset": this.renderMembersDebounced
            });
            this.listenTo(this.model.memberVotedList, {
                "add remove reset": this.renderVotesDebounced
            });
            this.listenTo(this.model.checklistList, {
                "add reset": this.renderChecklists,
                remove: this.removeChecklist,
                sort: this.sortChecklists
            });
            this.listenTo(this.model.attachmentList, {
                "add remove reset": this.renderAttachmentsDebounced
            });
            this.listenTo(this.model.stickerList, {
                "add remove reset change sort": this.renderStickersDebounced
            });
            this.listenTo(this.model.memberEditingList, {
                "add remove reset change:action": this.renderEditing
            });
            this.listenTo(this.model.getBoard(), {
                "change:labelNames": this.renderLabelsDebounced,
                "change:prefs": function(b) {
                    var e;
                    e = function(e) {
                        var c, h;
                        return (null != (c = b.get("prefs")) ? c[e] : void 0) !== (null != (h = b.previous("prefs")) ? h[e] : void 0)
                    };
                    e("cardCovers") && this.renderCover();
                    if ((e("cardAging") || e("comments") || e("voting")) && 0 === this.$(".editing").length) return this.renderDebounced()
                }
            });
            this.getData();
            this.listenTo(va,
                "change:processingAttachmentsLength", function() {
                    return this.renderProcessingAttachments()
                });
            return this.actionListView = this.collectionSubview(Rb, this.model.actionList, {
                renderOpts: {
                    context: this.model,
                    compact: !1
                }
            })
        };
        b.prototype.events = {
            "click .js-edit-labels": "editLabelsSidebar",
            "click .js-change-card-members": "changeMembersSidebar",
            "click .js-add-checklist-menu": "addChecklistSidebar",
            "click .js-add-due-date": "dueDateSidebar",
            "click .js-attach": "openAttachPicker",
            "click .js-move-card": "moveCard",
            "click .js-copy-card": "copyCard",
            "click .js-subscribe": "subscribe",
            "click .js-unsubscribe": "unsubscribe",
            "click .js-vote": "vote",
            "click .js-unvote": "unvote",
            "click .js-archive-card": "archiveCard",
            "click .js-unarchive-card": "unarchiveCard",
            "click .js-delete-card": "deleteCardSidebar",
            "click .js-more-menu": "showMoreMenu",
            "click .js-open-card-cover-in-viewer": "openCoverInViewer",
            "click .js-open-move-from-header": "openMoveFromHeader",
            "click .js-details-edit-members": "editMembersMain",
            "click .js-details-edit-labels": "editLabelsMain",
            "click .js-edit-label .card-label": "editLabelsMainSingleLabel",
            "click .js-details-edit-due-date": "showDueDateBadgeMenu",
            "click .js-show-votes": "showVotes",
            "click .js-edit-desc": "editDesc",
            "click .js-member-on-card-menu": "openMemberOnCardMenu",
            "click .js-format-help": "openFormatHelp",
            "click .js-view-some-attachments": "showFewerAttachments",
            "click .js-view-all-attachments": "showMoreAttachments",
            "click .js-show-all-actions": "showAllActions",
            "click .js-show-extra-actions": "showExtraActions",
            "click .js-hide-extra-actions": "hideExtraActions",
            "keydown .js-new-comment-input": "keydownCommentEvent",
            "input .js-new-comment-input": "checkLength",
            "click .js-add-comment:not(:disabled)": "submitComment",
            "click .js-attach-comment": "attachComment",
            "click .js-truncate-comment": "truncateComment",
            "click .js-cancel-comment": "clearComment",
            "click .js-new-comment": "inputComment",
            "focus .js-new-comment-input": "inputComment",
            "keyup .js-new-comment-input": "keyAutoMention",
            "click .js-comment-add-attachment": "commentAddAttachment",
            "click .js-comment-mention-member": "commentMentionMember",
            "click .js-comment-add-emoji": "commentAddEmoji",
            "click .js-comment-add-card": "commentAddCard",
            dragenter: "dragenterBack",
            dragover: "dragover",
            dragleave: "dragleave",
            dragexit: "dragexit",
            dragend: "dragend",
            drop: "dropBack",
            "sortstop .js-checklist-list": "sortStop",
            shortcut: "shortcut",
            replyToAction: "replyToAction"
        };
        b.prototype.shortcut = function(b) {
            var e, c, f;
            e = this.model.getBoard();
            c = this.model.editable();
            f = y.isLoggedIn();
            switch (b) {
                case 32:
                    if (c) return this.model.toggleMember(y.myId()), ["Space - Toggle Assigning Self", "Card Detail"];
                    break;
                case 65:
                case 77:
                    if (c) return this.changeMembersSidebar(), ["A - Assign Members", "Card Detail"];
                    break;
                case 69:
                    if (c) return this.editDesc(), ["E - Edit Description", "Card Detail"];
                    break;
                case 76:
                    if (c) return this.editLabelsSidebar(), ["L - Edit Labels", "Card Detail"];
                    break;
                case 68:
                    if (c) return null != this.model.get("due") ? this.showDueDateBadgeMenu() : this.dueDateSidebar(), ["D - Due Dates", "Card Detail"];
                    break;
                case 67:
                case 46:
                    if (c) return this.archiveCard(), ["C / Delete - Archive Card"];
                    break;
                case 84:
                    if (c) return this.editTitle(), "T - Edit Title";
                    break;
                case 190:
                    if (c) return this.model.moveToNextList(),
                        "> - Move to Next List";
                    break;
                case 188:
                    if (c) return this.model.moveToPrevList(), "< - Move to Previous List";
                    break;
                case 9:
                    if (c) return this.clickNextTabbable(), "Tab - Open Editable";
                    break;
                case 49:
                case 50:
                case 51:
                case 52:
                case 53:
                case 54:
                case 97:
                case 98:
                case 99:
                case 100:
                case 101:
                case 102:
                    if (c) return b -= 49 <= b && 54 >= b ? 49 : 97, this.model.toggleLabel(l.labelNames[b]), "1-6 - Toggle Specific Label";
                    break;
                case 86:
                    if (e.canVote(y.me())) return this.model.toggleVote(), "V - Vote";
                    break;
                case 83:
                    if (f) return b = this.model.get("subscribed"),
                        this.model.subscribe(!b), ["S - Subscribe", b ? "Unsubscribe" : "Subscribe"];
                    break;
                case 74:
                    if (null != (b = this.model.nextCard())) return B.showCardDetail(b, null, !0), "J - Down";
                    break;
                case 75:
                    if (null != (b = this.model.prevCard())) return B.showCardDetail(b, null, !0), "K - Up"
            }
        };
        b.prototype.paste = function(b, e) {
            var c;
            if ("image" === b) return c = new Date, this.model.upload(e, "upload " + c.toString("yyyy-MM-dd") + " at " + c.toString("h.mm.ss tt").toLowerCase() + ".png", function() {}), ["Paste - Upload Image From Clipboard", "Card Detail"]
        };
        b.prototype.getData = function() {
            this.loading = !0;
            this.$(".js-loading-card-actions").show();
            this.model.onId(function(b) {
                return function() {
                    return async.series([
                        function(e) {
                            var c;
                            c = b.fShowAllActions ? b.maxActionLimit : b.defaultActionLimit;
                            return O["for"](b.modelCache).loadCardDetails(b.model.get("idBoard"), b.model.id, c, e)
                        }
                    ], function(e) {
                        b.loading = !1;
                        b.$(".js-loading-card-actions").hide();
                        b.toggleActionButton();
                        return b.renderExtraActions()
                    })
                }
            }(this))
        };
        b.prototype.render = function() {
            var b;
            this.fShowAllActions =
                this.fShowAllAttachments = !1;
            b = {
                canComment: this.model.getBoard().canComment(y.me()),
                canVote: this.model.getBoard().canVote(y.me()),
                hasVoted: this.model.voted(),
                canSubscribe: y.isLoggedIn(),
                hasAttachments: 0 < this.model.attachmentList.length,
                dateAdded: null != this.model.id ? l.idToDate(this.model.id) : new Date,
                me: y.me().toJSON(),
                loading: this.loading
            };
            b.showActions = b.canVote || b.canSubscribe;
            this.$el.toggleClass("editable", this.model.editable()).html(v.fillFromModel("card_detail", this.model, b, {
                member: v.member,
                comment_options: v.comment_options
            }));
            this.actionListView.setElement(this.$(".js-list-actions")[0]);
            this.commentInput = this.$(".new-comment-input")[0];
            this.renderCover().renderStickers().renderName().renderDescription().renderList().renderActionList().renderMembers().renderArchived().renderChecklists().renderSubscribe().renderVotes().renderDueDate().renderAttachments().renderLabels().renderAging().renderEditing();
            this.recallDrafts();
            _.defer(_.bind(this.fixSidebar, this));
            M.update(this.el);
            return this
        };
        b.prototype.getSidebarLeft = function() {
            return parseFloat($(".window").offset().left) + $(".window").width() - this.$(".window-sidebar").outerWidth()
        };
        b.prototype.resetSidebarPos = function() {
            return this.$(".window-sidebar").css({
                left: "",
                top: "",
                position: "relative"
            })
        };
        b.prototype.fixSidebarPos = function() {
            return this.$(".window-sidebar").css({
                left: this.getSidebarLeft(),
                top: 0,
                position: "fixed"
            })
        };
        b.prototype.forceUpdateSidebarPos = function() {
            return $(".window-overlay").scrollTop() <= this.sidebarScrollTop || ia.fSmall ?
                this.resetSidebarPos() : this.fixSidebarPos()
        };
        b.prototype.fixSidebar = function() {
            var b, e, c, f;
            b = $(".window-overlay").off("scroll.fixSidebar");
            this.sidebarScrollTop = this.$(".window-sidebar").offset().top;
            c = e = !1;
            f = function(f) {
                return function() {
                    b.scrollTop() <= f.sidebarScrollTop || ia.fSmall || f.$(".window-sidebar").height() > $(window).height() ? c || (f.resetSidebarPos(), e = !1, c = !0) : e || (f.fixSidebarPos(), e = !0, c = !1)
                }
            }(this);
            b.on("scroll.fixSidebar", function() {
                return requestAnimationFrame(f)
            })
        };
        b.prototype.editDesc =
            function(b) {
                l.stop(b);
                this.edit("desc")
            };
        b.prototype.editTitle = function(b) {
            this.$(".card-detail-title .current").click()
        };
        b.prototype.archiveCard = function(b) {
            this.model.close();
            t("Card Detail", "Sidebar", "Archive Button")
        };
        b.prototype.unarchiveCard = function(b) {
            t("Card Detail", "Sidebar", "Re-Open Button");
            this.model.reopen()
        };
        b.prototype.deleteCardSidebar = function(b) {
            pa.toggle({
                elem: this.$(".js-delete-card"),
                model: this.model,
                top: 35,
                title: "Delete Card?",
                text: "All actions will be removed from the activity feed and you won't be able to re-open the card. There is no undo. You can archive a card to remove it from the board and preserve the activity.",
                confirmText: "Delete",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(d) {
                        ka.hide();
                        b.model.destroy();
                        return t("Card", "Delete")
                    }
                }(this)
            });
            t("Card Detail", "Sidebar", "Open Delete Confirm")
        };
        b.prototype.showMoreMenu = function(b) {
            l.stop(b);
            x.toggle({
                elem: this.$(".js-more-menu"),
                top: 30,
                view: pg,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            });
            t("Card Detail", "Sidebar", "Open More Menu")
        };
        b.prototype.openCoverInViewer = function(b) {
            l.stop(b);
            this.showCover() && (b = this.model.attachmentList.get(this.model.get("idAttachmentCover")), (new Cc({
                model: this.model,
                modelCache: this.modelCache,
                attachmentModel: b
            })).render(), t("Card Detail", "Open Attachment Viewer via Cover", b.getType()))
        };
        b.prototype.openMoveMenu = function(b, e) {
            x.toggle({
                elem: b,
                top: e,
                view: Qd,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            })
        };
        b.prototype.openMoveFromHeader = function(b) {
            l.stop(b);
            this.openMoveMenu(this.$(".js-open-move-from-header"), 20);
            t("Card Detail", "Move Button (via Header)")
        };
        b.prototype.moveCard = function(b) {
            l.stop(b);
            this.openMoveMenu(this.$(".js-move-card"),
                35);
            t("Card Detail", "Sidebar", "Open Move Menu")
        };
        b.prototype.copyCard = function(b) {
            l.stop(b);
            x.toggle({
                elem: this.$(".js-copy-card"),
                top: 35,
                view: Zb,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            });
            t("Card Detail", "Sidebar", "Open Copy Menu")
        };
        b.prototype.openLabelsPopOver = function(b, e) {
            x.toggle({
                elem: b,
                top: e,
                view: $b,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            })
        };
        b.prototype.editLabelsMainSingleLabel = function(b) {
            l.stop(b);
            this.openLabelsPopOver(this.$(b.target).closest(".card-label"),
                35);
            t("Card Detail", "Edit Labels Main Column - Single Label")
        };
        b.prototype.editLabelsMain = function(b) {
            l.stop(b);
            this.openLabelsPopOver(this.$(".js-details-edit-labels"), 35);
            t("Card Detail", "Edit Labels Main Column - Plus Button")
        };
        b.prototype.editLabelsSidebar = function(b) {
            l.stop(b);
            this.openLabelsPopOver(this.$(".js-edit-labels"), 35);
            t("Card Detail", "Sidebar", "Edit Labels Button")
        };
        b.prototype.showVotes = function(b) {
            l.stop(b);
            this.model.getVoterDisplayData();
            x.toggle({
                elem: this.$(".js-show-votes"),
                top: 35,
                view: xg,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            });
            t("Card Detail", "Header Vote Button")
        };
        b.prototype.doClicks = function() {
            return !K.sorting
        };
        b.prototype.showCover = function() {
            return this.model.getBoard().getPref("cardCovers") && this.model.hasCover()
        };
        b.prototype.checkShowCover = function() {
            var b, e;
            b = this.showCover();
            e = this.model.hasStickers();
            b ? this.$(".js-card-cover-box").removeClass("hide window-cover-stickers-only").addClass("has-cover") : e ? this.$(".js-card-cover-box").removeClass("hide has-cover").addClass("window-cover-stickers-only") :
                this.$(".js-card-cover-box").addClass("hide");
            this.sidebarScrollTop = this.$(".window-sidebar").offset().top
        };
        b.prototype.clearCover = function() {
            this.$(".js-card-cover-box").css({
                "background-color": "",
                "background-image": ""
            });
            return $(".dialog-close-button").removeClass("dialog-close-button-light dialog-close-button-dark")
        };
        b.prototype.renderCover = function() {
            var b, e, c, f, h, m, k;
            this.clearCover();
            this.showCover() && (e = this.model.attachmentList.get(this.model.get("idAttachmentCover")), null != e && (h = ha.isHighDPI() ?
                1400 : 700, m = e.get("previews"), h = null != (c = l.smallestPreviewBiggerThan(m, h)) ? c : l.biggestPreview(m), c = null != h ? h.url : e.get("url"), null != (null != (f = l.smallestPreviewBiggerThan(e.get("previews"), 100, 100)) ? f.url : void 0) || e.get("url"), b = this.$(".js-card-cover-box"), async.assembly([
                    function(b) {
                        var d, c;
                        if (null != (d = e.get("edgeColor"))) {
                            d = d.match(/[0-9a-f]{2}/ig);
                            var f, g, h;
                            h = [];
                            f = 0;
                            for (g = d.length; f < g; f++) c = d[f], h.push(parseInt(c, 16));
                            return b(null, h)
                        }
                        return b("no edgeColor")
                    },
                    function(e, c) {
                        var f, g, h, m;
                        m = c[0];
                        h =
                            c[1];
                        f = c[2];
                        b.css("background-color", "rgb(" + m + ", " + h + ", " + f + ")");
                        f = (m + h + f) / 3;
                        150 < f ? g = "dark" : 105 > f && (g = "light");
                        null != g && $(".dialog-close-button").addClass("dialog-close-button-" + g)
                    }
                ], function() {}), f = Math.max(40, Math.min(null != (k = null != h ? h.height : void 0) ? k : 160, 160)), this.$(".js-card-cover-box").css({
                    "background-image": 'url("' + c + '")',
                    height: f,
                    "background-size": (null != h ? h.height : void 0) < f ? "initial" : "contain"
                })));
            this.checkShowCover();
            return this
        };
        b.prototype.renderStickers = function() {
            var b, e, c;
            b = this.$(".js-display-stickers").empty();
            c = this.model.stickerList.models;
            if (0 < c.length) {
                var f, h, m;
                m = [];
                f = 0;
                for (h = c.length; f < h; f++) e = c[f], m.push(this.subview(Hc, e, {
                    board: this.model
                }));
                this.appendSubviews(m, b)
            }
            this.checkShowCover();
            return this
        };
        b.prototype.renderName = function() {
            var b;
            b = this.model.get("name");
            this.$(".js-card-title").text(b);
            B.title("" + b + " on " + this.model.getBoard().get("name"));
            return this
        };
        b.prototype.renderDescription = function() {
            var b, e;
            b = this.model.get("desc");
            e = Ia.full.format(null != b ? b : "", {
                textData: this.model.get("descData")
            }).output;
            this.$(".js-card-desc").empty().append(e).data("unmarkeddown", b);
            b = !/^\s*$/.test(e);
            this.$(".js-show-with-desc").toggleClass("hide", !b);
            this.$(".js-hide-with-desc").toggleClass("hide", b);
            return this
        };
        b.prototype.renderList = function() {
            var b;
            b = this.model.getList();
            null != b && this.$(".js-current-list").removeClass("hide").html(v.fill("card_detail_list", {
                listName: b.get("name")
            }, {
                editable: this.model.editable()
            }));
            return this
        };
        b.prototype.renderArchived = function() {
            var b;
            b = !0 === this.model.get("closed");
            this.$(".js-archive-banner").toggleClass("hide", !b);
            this.$(".js-archive-card").toggleClass("hide", b);
            this.$(".js-unarchive-card").toggleClass("hide", !b);
            this.$(".js-delete-card").toggleClass("hide", !b);
            return this
        };
        b.prototype.showAllActions = function(b) {
            this.fShowAllActions = !0;
            this.toggleActionButton();
            return this.getData()
        };
        b.prototype.toggleActionButton = function() {
            var b, e;
            b = this.fShowAllActions || 0 < (null != (e = this.model.actionList) ? e.length : void 0) && this.model.actionList.length !== this.defaultActionLimit;
            return this.$(".js-show-all-actions").toggleClass("hide",
                b)
        };
        b.prototype.hideExtraActions = function(b) {
            l.stop(b);
            this.fShowExtraActions = !1;
            this.renderExtraActions()
        };
        b.prototype.showExtraActions = function(b) {
            l.stop(b);
            this.fShowExtraActions = !0;
            this.renderExtraActions()
        };
        b.prototype.renderExtraActions = function(b) {
            var e, c;
            b = this.model.actionList.length;
            c = this.model.get("badges").comments;
            e = this.model.get("badges").comments;
            8 < b && (0 < c || 0 < e) && c + e !== b ? (this.$(".js-list-actions").toggleClass("hide-extra-actions", !this.fShowExtraActions), this.$(".js-show-extra-actions").toggleClass("hide",
                this.fShowExtraActions), this.$(".js-hide-extra-actions").toggleClass("hide", !this.fShowExtraActions)) : (this.$(".js-list-actions").removeClass("hide-extra-actions"), this.$(".js-show-extra-actions").addClass("hide"), this.$(".js-hide-extra-actions").addClass("hide"))
        };
        b.prototype.renderActionList = function() {
            this.model.onId(function(b) {
                return function() {
                    return b.actionListView.render()
                }
            }(this));
            return this
        };
        b.prototype.renderMembers = function(b) {
            var e, c;
            b = this.$(".js-card-detail-members-list").empty();
            c = this.model.memberList.filterDeactivated({
                model: this.model.getBoard()
            }).models;
            var f, h, m;
            m = [];
            f = 0;
            for (h = c.length; f < h; f++) e = c[f], m.push(this.getMemberOnCardHtml(e));
            e = m.join("");
            b.html(e);
            this.model.editable() && (e = {
                classes: "js-details-edit-members"
            }, b.append(v.fill("card_detail_add_button", e)));
            this.$(".js-card-detail-members").toggleClass("hide", 0 === c.length);
            return this
        };
        b.prototype.renderLabels = function() {
            var b, e, c;
            e = this.model.getActiveLabels();
            b = this.$(".js-card-detail-labels-list").empty();
            var f, h, m;
            m = [];
            f = 0;
            for (h = e.length; f < h; f++) c = e[f], m.push(v.fill("label", c));
            c = m.join("");
            b.append(c);
            this.model.editable() && (c = {
                classes: "js-details-edit-labels"
            }, b.append(v.fill("card_detail_add_button", c)).addClass("editable-labels js-edit-label"));
            this.$(".js-card-detail-labels").toggleClass("hide", 0 === e.length);
            return this
        };
        b.prototype.renderSubscribe = function() {
            var b, e, c;
            b = this.$(".js-subscribe-sidebar-button");
            e = {
                subscribed: this.model.get("subscribed") || (null != (c = this.model.get("badges")) ? c.subscribed :
                    void 0)
            };
            b.html(v.fill("card_detail_subscribe", e));
            this.$(".js-subscribed-indicator-header").toggleClass("hide", !e.subscribed);
            return this
        };
        b.prototype.renderAging = function() {
            var b, e, c;
            e = this.model.getBoard();
            e = 0 <= F.call(null != (b = e.get("powerUps")) ? b : [], "cardAging");
            b = this.$(".js-card-detail-age-badge").removeClass(this.model.getAllAgingClasses());
            e && (c = this.model.getAgingData(), b.removeData("date").attr("dt", this.model.get("dateLastActivity")), "pirate" === c.mode && b.addClass(c.agingClassesToAdd), M.update(this.$(".js-card-detail-age")));
            this.$(".js-card-detail-age").toggleClass("hide", !e);
            return this
        };
        b.prototype.renderDueDate = function() {
            var b, e, c, f;
            e = null != (c = this.model.get("due")) ? c : null;
            null != e ? (c = this.model.editable(), f = M.toLongString(new Date(e)), b = l.getDueDateBadgeAdditionalTitle(e), null != b && (f += " (" + b + ")"), b = [], b.push(l.getDueDateBadgeClasses(e)), c && b.push("js-details-edit-due-date", "badge-state-clickable"), this.$(".js-card-detail-due-date-badge").removeClass(function(b, d) {
                return (d.match(/badge-state-\S+/g) || []).join(" ")
            }).addClass(b.join(" ")).attr("title",
                l.getDueDateBadgeTitle(e)).html(f), this.$(".js-card-detail-due-date").removeClass("hide")) : this.$(".js-card-detail-due-date").addClass("hide");
            return this
        };
        b.prototype.renderVotes = function() {
            var b, e, c, f, h, m;
            e = this.model.toJSON();
            e.voted = this.model.voted();
            e.canVote = this.model.getBoard().canVote(y.me());
            this.$(".js-vote-sidebar-button").html(v.fill("card_detail_vote_btn_sidebar", e));
            if (b = null != (c = null != (f = e.badges) ? f.votes : void 0) ? c : 0) this.$(".js-card-detail-votes-badge").html(l.formatCount(b, "vote")).toggleClass("badge-state-voted",
                null != (h = null != (m = e.badges) ? m.viewingMemberVoted : void 0) ? h : !1);
            this.$(".js-card-detail-votes").toggleClass("hide", 0 === b);
            return this
        };
        b.prototype.sortChecklists = function() {
            var b;
            b = this.$(".js-checklist-list");
            l.withoutAlteringSelection(function(e) {
                return function() {
                    return e.model.checklistList.forEach(function(c) {
                        c = e.existingSubview(cc, c);
                        return b.append(c.el)
                    })
                }
            }(this));
            return this
        };
        b.prototype.removeChecklist = function(b) {
            return this.deleteSubview(this.existingSubview(cc, b))
        };
        b.prototype.renderChecklists =
            function() {
                var b, e, c, f;
                P("render", "rendering checklists");
                b = this.$(".js-checklist-list").empty();
                c = function() {
                    var b, d, c, f;
                    c = this.model.checklistList.models;
                    f = [];
                    b = 0;
                    for (d = c.length; b < d; b++) e = c[b], f.push(this.subview(cc, e, {
                        card: this.model
                    }));
                    return f
                }.call(this);
                this.appendSubviews(c, b);
                K.refreshIfInitialized(b);
                null != (f = this.model) && f.editable() && this.$(".js-checklist-list").sortable({
                    axis: "y",
                    handle: ".window-module-title",
                    delay: "75",
                    distance: "7",
                    tolerance: "pointer",
                    placeholder: "checklist placeholder",
                    items: ".checklist",
                    start: function(b, d) {
                        var e;
                        e = $(d.helper).outerHeight();
                        return $(d.placeholder).height(e)
                    }
                });
                return this
            };
        b.prototype.showFewerAttachments = function(b) {
            l.stop(b);
            this.fShowAllAttachments = !1;
            this.renderAttachments()
        };
        b.prototype.showMoreAttachments = function(b) {
            l.stop(b);
            this.fShowAllAttachments = !0;
            this.renderAttachments()
        };
        b.prototype.renderAttachments = function() {
            var b, e, c, f, h, m, k;
            h = 0 < (null != (b = this.model.attachmentList) ? b.length : void 0);
            m = this.model.attachmentList.models.slice(0, 4);
            k = 4 < this.model.attachmentList.length;
            e = this.$(".js-attachments-section");
            b = e.find(".js-attachment-list").empty();
            e.find(".js-num-attachments").text(this.model.attachmentList.length - 4);
            c = e.find(".js-show-fewer-attachments").addClass("hide");
            f = e.find(".js-show-more-attachments").addClass("hide");
            e.toggleClass("hide", !h);
            if (h) {
                k && (this.fShowAllAttachments ? (c.removeClass("hide"), m = this.model.attachmentList.models) : f.removeClass("hide"));
                f = [];
                e = 0;
                for (c = m.length; e < c; e++) h = m[e], f.push(this.subview(yg, h));
                this.appendSubviews(f, b)
            }
            return this
        };
        b.prototype.renderProcessingAttachments = function() {
            var b;
            this.$(".js-attachment-thumb-processing").remove();
            b = va.getProcessingAttachmentsLength();
            return _.times(b, this.addProcessingAttachmentElement)
        };
        b.prototype.addProcessingAttachmentElement = function() {
            this.$(".js-attachments-section .js-attachment-list").prepend(v.fill("attachment_thumb_processing"))
        };
        b.prototype.renderEditing = function() {
            var b, e, c, f;
            f = this.model.memberEditingList.models;
            b = {
                members: function() {
                    var b,
                        d, k;
                    k = [];
                    b = 0;
                    for (d = f.length; b < d; b++) e = f[b], y.isMe(e) || null == e.get("editing") || (c = e.toJSON(), c.icon = function() {
                        switch (e.get("editing").action) {
                            case "commenting":
                                return "comment";
                            case "editing":
                                return "edit";
                            default:
                                return "edit"
                        }
                    }(), k.push(c));
                    return k
                }()
            };
            return this.$(".js-editing-members").empty().append(v.fill("edit_in_progress", b)).toggleClass("hide", 0 === b.members.length)
        };
        b.prototype.sortStop = function(b, e) {
            l.stopPropagation(b);
            e.item.trigger("movechecklist", [e])
        };
        b.prototype.keydownEvent = function(d) {
            b.__super__.keydownEvent.apply(this,
                arguments);
            return y.me().editing({
                idBoard: this.model.getBoard().id,
                idCard: this.model.id,
                action: "editing"
            })
        };
        b.prototype.keydownCommentEvent = function(b) {
            y.me().editing({
                idBoard: this.model.getBoard().id,
                idCard: this.model.id,
                action: "commenting"
            });
            9 === b.keyCode && ($(b.target).hasClass("new-comment-input") && this.model.editable() && !(x.view instanceof sb) && "" === $(b.target).val()) && (l.stop(b), this.submitComment(b));
            return l.isForceSubmitKey(b) ? this.submitComment(b) : this.checkInsert(b)
        };
        b.prototype.checkLength =
            function(b) {
                b = this.$(".new-comment-input").val().length > this.maximumCommentLength;
                this.$(".js-add-comment").prop("disabled", b);
                this.$(".too-long").toggleClass("hide", !b);
                return this.$(".too-long").find(".js-attach-comment").toggle("undefined" !== typeof Blob && null !== Blob)
            };
        b.prototype._cancelEditing = function() {
            return y.me().editing({
                idBoard: this.model.getBoard().id
            })
        };
        b.prototype.submitComment = function(b) {
            var e;
            t("Card Detail", "Comment", "Submit Comment");
            l.stop(b);
            b = $(this.commentInput);
            e = $.trim(b.val());
            b.val("").css("height", "");
            this._cancelEditing();
            this.model.addComment(e);
            sa.cancelEdits();
            this.clearComment();
            return !1
        };
        b.prototype.clearEdits = function() {
            this._cancelEditing();
            return b.__super__.clearEdits.apply(this, arguments)
        };
        b.prototype.commitEdits = function() {
            this._cancelEditing();
            return b.__super__.commitEdits.apply(this, arguments)
        };
        b.prototype.stopEditing = function() {
            this._cancelEditing();
            return b.__super__.stopEditing.apply(this, arguments)
        };
        b.prototype.truncateComment = function(b) {
            b = this.$(".new-comment-input");
            b.val(b.val().substr(0, this.maximumCommentLength));
            return this.checkLength()
        };
        b.prototype.attachComment = function(b) {
            b = new Blob([this.$(".new-comment-input").val()], {
                type: "text/plain"
            });
            this.model.upload(b, "comment.txt", function() {});
            sa.cancelEdits();
            return this.clearComment()
        };
        b.prototype.inputComment = function(b) {
            l.stopPropagation(b);
            b = this.$(".new-comment");
            sa.cancelEdits(this.commentInput);
            b.addClass("focus")
        };
        b.prototype.clearComment = function(b) {
            l.stop(b);
            this.stopEditing(b);
            $(this.commentInput).val("").focus().blur();
            this.checkLength();
            $(".new-comment").removeClass("focus");
            return x.hide()
        };
        b.prototype.replyToAction = function(b, e) {
            var c, f;
            c = null != (f = this.Member.get(e.get("idMemberCreator"))) ? f.get("username") : void 0;
            null != c && (sa.cancelEdits(this.commentInput), this.$(".new-comment").addClass("focus"), RegExp("@" + c + "(\\W|$)").test($(this.commentInput).val()) ? $(this.commentInput).focus() : l.insertSelection(this.commentInput, "@" + c + " "))
        };
        b.prototype.getCard = function() {
            return this.model
        };
        b.prototype.getTextInput = function() {
            return this.$(".new-comment-input")
        };
        b.prototype.getMentionTarget = function() {
            return this.$(".js-comment-mention-member:visible")[0]
        };
        b.prototype.getEmojiTarget = function() {
            return this.$(".js-comment-add-emoji:visible")[0]
        };
        b.prototype.getCardTarget = function() {
            return this.$(".js-comment-add-card:visible")[0]
        };
        b.prototype.openEditMembersPopOver = function(b, e) {
            x.toggle({
                elem: b,
                top: e,
                view: ac,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            })
        };
        b.prototype.editMembersMain = function(b) {
            l.stop(b);
            this.openEditMembersPopOver(this.$(".js-details-edit-members"),
                35);
            t("Card Detail", "Edit Members via Main Column")
        };
        b.prototype.changeMembersSidebar = function(b) {
            l.stop(b);
            this.openEditMembersPopOver(this.$(".js-change-card-members"), 35);
            t("Card Detail", "Sidebar", "Open Manage Member Menu")
        };
        b.prototype.addChecklistSidebar = function(b) {
            l.preventDefault(b);
            x.toggle({
                elem: b.target,
                top: 35,
                view: zg,
                options: {
                    model: this.model,
                    modelCache: this.modelCache,
                    cardView: this
                }
            });
            t("Card Detail", "Add Checklist Button", "Open Add Checklist Menu");
            return !1
        };
        b.prototype.showDueDateBadgeMenu =
            function(b) {
                l.stop(b);
                x.toggle({
                    elem: this.$(".js-details-edit-due-date"),
                    top: 35,
                    view: bc,
                    options: {
                        model: this.model,
                        modelCache: this.modelCache
                    }
                });
                t("Card Detail", "Due Date Badge", "Open Due Date Menu")
            };
        b.prototype.openAttachPicker = function(b) {
            var e, c;
            l.stop(b);
            b = $(b.target).closest(".js-attach");
            $(b).hasClass("inline") ? (e = 26, c = "Via Inline Button") : (e = 35, c = "Via Sidebar Button");
            x.toggle({
                elem: b,
                top: e,
                view: xc,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            });
            t("Card Detail", "Open Attachment Type Picker",
                c);
            return !1
        };
        b.prototype.dueDateSidebar = function(b) {
            l.preventDefault(b);
            x.toggle({
                elem: this.$(".js-add-due-date"),
                top: 35,
                view: bc,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            });
            t("Card Detail", "Sidebar", "Open Due Date Menu");
            return !1
        };
        b.prototype.subscribe = function(b) {
            this.model.subscribe(!0);
            t("Card Detail", "Sidebar", "Subscribe");
            return !1
        };
        b.prototype.unsubscribe = function(b) {
            this.model.subscribe(!1);
            t("Card Detail", "Sidebar", "Unsubscribe");
            return !1
        };
        b.prototype.vote = function(b) {
            l.preventDefault(b);
            this.model.vote(!0);
            t("Card Detail", "Sidebar", "Vote");
            return !1
        };
        b.prototype.unvote = function(b) {
            l.preventDefault(b);
            t("Card Detail", "Sidebar", "Unvote");
            this.model.vote(!1);
            return !1
        };
        b.prototype.openFormatHelp = function(b) {
            t("Card Detail", "Formatting Help");
            x.toggle({
                elem: this.$(".js-format-help"),
                top: 30,
                view: sg,
                options: {
                    model: this.model
                },
                keepEdits: !0
            });
            return !1
        };
        b.prototype.dragenterBack = function(b) {
            var e;
            e = $(".window-overlay").scrollTop() + 200;
            this.$(".dropzone").css({
                "padding-top": "" + e + "px"
            });
            return this.dragenter(b)
        };
        b.prototype.dropBack = function(b) {
            t("Card Detail", "Drop Attachment Upload");
            return this.drop(b)
        };
        b.prototype.focusChecklistAdd = function(b) {
            return this.existingSubview(cc, b).focusNewTaskInput()
        };
        b.prototype.closeDialog = function() {
            return ka.hide()
        };
        b.prototype.clickNextTabbable = function() {
            return $(".card-detail-title .edit").is(":visible") ? $(".new-comment-input").focus() : $(".card-detail-title .current").click()
        };
        return b
    }(Db));
    ac = function(c) {
        function b() {
            this.selectMem = k(this.selectMem, this);
            this.keyupEvent =
                k(this.keyupEvent, this);
            this.hoverMemberSelect = k(this.hoverMemberSelect, this);
            this.fillMems = k(this.fillMems, this);
            this.filterMembers = k(this.filterMembers, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Members"
        };
        b.prototype.events = {
            "click .js-select-member": "selectMem",
            "mouseenter .pop-over-member-list .item": "hoverMemberSelect",
            keyup: "keyupEvent",
            keydown: "keydownEvent"
        };
        b.prototype.render = function() {
            $(this.el).html(v.fill("popover_select_members", {}, {}));
            this.memListEl = this.$(".js-mem-list");
            this.allMembers = l.sortMembers(this.model.getBoard().memberList.filterDeactivated({
                force: !0
            }).models);
            this.fillMems(this.allMembers);
            return this
        };
        b.prototype.filterMembers = function(b) {
            var e, c, f, h, m, k;
            if ("" === b) return this.allMembers;
            f = RegExp("^" + l.escapeForRegex(b.toLowerCase()));
            e = [];
            k = this.allMembers;
            h = 0;
            for (m = k.length; h < m; h++) b = k[h], c = l.getMemNameArray(this.modelCache, b.id), _.find(c, function(b) {
                return f.test(b)
            }) && e.push(b);
            return e.slice(0, 8)
        };
        b.prototype.fillMems =
            function(b) {
                var e, c, f, h;
                this.memListEl.empty();
                e = 9 < b.length;
                c = !1;
                e !== this.memListEl.hasClass("collapsed") && (c = !0, this.memListEl.toggleClass("collapsed", e));
                if (0 === b.length) this.memListEl.append("<p class='empty' style='padding: 24px 6px;'>No results</p>");
                else {
                    f = 0;
                    for (h = b.length; f < h; f++) e = b[f], this.appendSubview(this.subview(Vd, e, {
                        showUnconfirmed: !0,
                        card: this.model
                    }), this.memListEl);
                    c && x.calcPos({
                        notNew: !0
                    })
                }
            };
        b.prototype.hoverMemberSelect = function(b) {
            b = $(b.target).closest(".item");
            return l.selectMenuItem(this.memListEl,
                ".item", b)
        };
        b.prototype.keydownEvent = function(b) {
            var e;
            if (9 === (e = b.keyCode) || 13 === e) l.stop(b), this.$(".js-mem-list .item.selected:first .js-select-member").first().click(), $(".js-search-mem").val("").focus(), this.fillMems(this.allMembers)
        };
        b.prototype.keyupEvent = function(b) {
            var e, c;
            if (!(9 === (e = b.keyCode) || 13 === e || 16 === e || 17 === e || 18 === e || 20 === e || 27 === e)) {
                if (38 === (c = b.keyCode) || 40 === c) return l.navMenuList(this.memListEl, ".item", b.keyCode);
                b = $(".js-search-mem").val().trim();
                b = this.filterMembers(b);
                this.fillMems(b);
                this.focusSearch();
                if (b.length < this.allMembers.length) return b = this.memListEl.find(".item").first(), l.selectMenuItem(this.memListEl, ".item", b)
            }
        };
        b.prototype.selectMem = function(b) {
            var e, c;
            l.preventDefault(b);
            c = this.model;
            e = $(b.target).closest(".js-select-member");
            b = e.closest(".item");
            e = e.attr("idMember");
            b.hasClass("active") ? (c.removeMember(e), b.removeClass("active"), t(c.typeName, "Change Member", "Remove Member")) : (c.addMember(e), b.addClass("active"), t(c.typeName, "Change Member", "Add Member"));
            this.focusSearch();
            return !1
        };
        b.prototype.focusSearch = function() {
            return $(".js-search-mem").focus()
        };
        return b
    }(A);
    sg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Formatting Help"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("formatting_help"));
            return this
        };
        return b
    }(A);
    Pd = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-copy-card": "copyCard",
            "click .js-delete": "deleteCard",
            "click .js-url": "focusUrl"
        };
        b.prototype.initialize = function() {
            return this.listenTo(this.model, "change:shortUrl", function(b) {
                return function() {
                    b.render();
                    return b.focusUrl()
                }
            }(this))
        };
        b.prototype.copyCard = function(b) {
            t("Card Detail", "Card Copy Button", "Via More Menu");
            x.pushView({
                view: Zb,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            })
        };
        b.prototype.focusUrl = function(b) {
            return this.$(b.target).focus().select()
        };
        b.prototype.getShortLinkData = function() {
            null == this.model.get("shortUrl") && this.model.fetch({
                fields: ["shortUrl"]
            })
        };
        b.prototype.deleteCardConfirm = function(b) {
            pa.pushView({
                model: this.model,
                title: "Delete Card?",
                text: "All actions will be removed from the activity feed and you won't be able to re-open the card. There is no undo. You can archive a card to remove it from the board and preserve the activity.",
                confirmText: "Delete",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(d) {
                        ka.hide();
                        b.model.destroy();
                        return t("Card", "Delete")
                    }
                }(this)
            })
        };
        b.prototype.render = function() {
            var b, e, c;
            b = _.extend({
                dateAdded: l.idToDate(this.model.id),
                pLevelClass: null != (e = this.model.getBoard()) ? e.getPermLevelIconClass() : void 0,
                pLevelAltText: null != (c = this.model.getBoard()) ? c.getPermLevelAltText() : void 0
            }, this.templateData());
            this.$el.html(v.fillFromModel(this.templateName, this.model, b, {
                meta: v.card_menu_meta
            }));
            this.getShortLinkData();
            M.update(this.el);
            return this
        };
        b.prototype.deleteCard = function(b) {
            l.stop(b);
            t("Card Detail", "Delete Button", "Via More Menu");
            this.deleteCardConfirm()
        };
        return b
    }(A);
    pg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "More"
        };
        b.prototype.events = l.extendEvents({
            "click .js-print": "printModel",
            "click .js-export-json": "exportJSON"
        });
        b.prototype.templateName = "card_detail_more_menu";
        b.prototype.templateData = function() {
            return {
                jsonURL: "/" + this.model.typeName.toLowerCase() + "/" + this.model.id + "/" + l.makeSlug(this.model.get("name")) + ".json"
            }
        };
        b.prototype.printModel = function(b) {
            l.stop(b);
            x.hide();
            t("Card Detail", "Print", "Via More Menu");
            _.defer(function() {
                return window.print()
            })
        };
        b.prototype.exportJSON = function(b) {
            return t("Card Detail", "Export JSON")
        };
        return b
    }(Pd);
    (function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "More Actions"
        };
        b.prototype.initialize = function() {
            return this.listenTo(this.model, "change:idMembersVoted", function(b) {
                return function() {
                    b.render();
                    return b.focusUrl()
                }
            }(this))
        };
        b.prototype.events = l.extendEvents({
            "click .js-attach": "openAttachPicker",
            "click .js-vote": "vote"
        });
        b.prototype.templateName =
            "card_menu";
        b.prototype.templateData = function() {
            return {
                hasVoted: this.model.voted(),
                canVote: this.model.getBoard().canVote(y.me()),
                showMore: !0
            }
        };
        b.prototype.openAttachPicker = function(b) {
            l.stop(b);
            t("Card Menu", "Open Attachment Type Picker");
            x.pushView({
                view: this.model.getView(xc)
            });
            return !1
        };
        b.prototype.vote = function(b) {
            l.preventDefault(b);
            t("Card Menu", "Vote");
            this.model.toggleVote();
            this.render();
            return !1
        };
        return b
    })(Pd);
    Sd = function() {
        function c() {}
        c.prototype.renderValues = function() {
            var b, d, e, c;
            d = this.$(".js-select-board option:selected").val();
            e = this.$(".js-select-list option:selected").val();
            c = parseInt(this.$(".js-select-position option:selected").prop("index"), 10) + 1;
            b = this.Board.get(d);
            d = b.get("name");
            b = _.find(b.listList.models, function(b) {
                return function(b) {
                    return b.id === e
                }
            }(this));
            this.$(".js-board-value").text(d);
            null != b ? (d = b.get("name"), c = l.getNaturalNumber(c), this.$(".js-list-value").text(d), this.$(".js-pos-value").text(c), this.$(".js-select-list,.js-select-position,.js-commit-position").removeAttr("disabled")) :
                (this.$(".js-list-value").html("<i>No Lists</i>"), this.$(".js-pos-value").html("<i>N/A</i>"), this.$(".js-select-list,.js-select-position,.js-commit-position").attr("disabled", "disabled"))
        };
        c.prototype.updateBoardData = function() {
            var b, d, e, c, f, h;
            d = this.$(".js-select-board").find("option:selected").val();
            if (d === this.model.getBoard().id) {
                this._boardData = this.model.getBoard();
                h = this._boardData.listList.models;
                c = 0;
                for (f = h.length; c < f; c++) e = h[c], e.cardCount = this._boardData.listList.get(e.id).cardList.openCards().length;
                return this.updateListList()
            }
            if (null != d) return this.$(".js-submit").attr("disabled", "disabled"), b = this.$(".select-list,.select-position"), b.attr("disabled", "disabled"), O["for"](this.modelCache).loadBoardListData(d, {
                lists: "open",
                list_fields: "name,pos,idBoard",
                cards: "visible",
                card_fields: "idList,idBoard,pos"
            }, function(e) {
                return function() {
                    e._boardData = e.Board.get(d);
                    e.updateListList();
                    b.removeAttr("disabled");
                    return e.$(".js-submit").removeAttr("disabled")
                }
            }(this))
        };
        c.prototype.updateListList = function() {
            var b,
                d, e, c, f, h, m, k;
            d = this.$(".js-select-board");
            e = this.$(".js-select-list").empty();
            c = d.find("option:selected").val();
            d = this.model.getList().id;
            c = c === this.model.getBoard().id ? d : null != (f = this._boardData.listList.at(0)) ? f.id : void 0;
            k = this._boardData.openLists();
            h = 0;
            for (m = k.length; h < m; h++) f = k[h], b = f.get("name"), f.id === d && (b += " (current)"), b = $("<option>").val(f.id).text(b).appendTo(e), f.id === c && b.attr("selected", "selected");
            return this.updatePositionList()
        };
        c.prototype.updatePositionList = function() {
            var b,
                d, e, c, f, h, m, k, s, w;
            d = this.$(".js-select-list");
            e = this.$(".js-select-position").empty();
            h = d.find("option:selected").val();
            if (null != h) {
                d = null != (c = this._boardData.listList.get(h)) ? c : this._boardData.listList.at(0);
                c = (null != d ? d.id : void 0) === this.model.getList().id;
                h = this._boardData.listList.get(h).cardList.length;
                c ? (s = c = _.indexOf(this.model.getList().cardList.openCards(), this.model), this.showCurrentPosition || (h -= 1)) : (c = -1, s = h);
                for (f = w = 0; 0 <= h ? w <= h : w >= h; f = 0 <= h ? ++w : --w) b = m = String(f + 1), f === c ? b += " (current)" :
                    0 < h && (0 === f ? b += " (top)" : f === h && (b += " (bottom)")), k = 0 === f ? "top" : f === h ? "bottom" : d.calcPos(f), b = $("<option>").val(k).text(b).appendTo(e), f === s && (this.$(".js-pos-value").html(l.getNaturalNumber(m)), b.attr("selected", "selected"))
            }
            this.renderValues()
        };
        return c
    }();
    Zb = ma(Sd, function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Copy Card"
        };
        b.prototype.showCurrentPosition = !0;
        b.prototype.events = {
            "change .js-select-position": "renderValues",
            "change .js-select-list": "updatePositionList",
            "change .js-select-board": "updateBoardData",
            "keydown textarea[name='name']": "keydownEvent",
            "click .js-submit": "submit",
            "submit form": "submit"
        };
        b.prototype.render = function() {
            var b, e, c, f, h, m, k, l;
            e = this.model.toJSON();
            e.numChecklists = this.model.checklistList.length;
            e.numMembers = e.idMembers.length;
            e.numLabels = e.labels.length;
            e.numAttachments = e.badges.attachments;
            e.numComments = e.badges.comments;
            e.numStickers = e.stickers.length;
            e.hasChecklists = 0 < e.numChecklists;
            e.hasMembers = 0 < e.idMembers.length;
            e.hasLabels = 0 < e.labels.length;
            e.hasAttachments = 0 < e.badges.attachments;
            e.hasComments = 0 < e.badges.comments;
            e.hasStickers = 0 < e.stickers.length;
            e.hasStuff = 0 < e.numChecklists + e.idMembers.length + e.labels.length + e.badges.attachments + e.badges.comments + e.stickers.length;
            e.loading = this.loading;
            e.organizations = y.me().getOpenBoardsByOrg(!0);
            k = e.organizations;
            c = 0;
            for (h = k.length; c < h; c++) {
                b = k[c];
                l = b.boards;
                f = 0;
                for (m = l.length; f < m; f++) b = l[f], b.id === this.model.get("idBoard") && (b.selected = !0)
            }
            c = {
                move_card_controls: v.move_card_controls
            };
            this.$el.html(v.fill("card_copy", e, {
                editable: this.model.editable()
            }, c));
            x.calcPos();
            this.updateBoardData();
            return this
        };
        b.prototype.getData = function() {
            this.loading = !0;
            return O["for"](this.modelCache).loadCardCopyData(this.model.get("idBoard"), this.model.id, function(b) {
                return function(e) {
                    b.loading = !1;
                    return b.render()
                }
            }(this))
        };
        b.prototype.keydownEvent = function(b) {
            13 === b.keyCode && (l.stop(b), this.submit(b))
        };
        b.prototype.submit = function(b) {
            var e, c, f, h,
                m;
            l.stop(b);
            f = this.$('textarea[name="name"]');
            "" === f.val().trim() ? f.focus().select() : (e = this.$(".js-select-board"), c = this.$(".js-select-list"), b = this.$(".js-select-position"), h = e.find("option:selected").val(), m = c.find("option:selected").val(), e = b.find("option:selected").val(), parseInt(b.find("option:selected").prop("index"), 10), b = {
                idCardSource: this.model.get("id"),
                idBoard: h,
                idList: m,
                pos: e,
                name: f.val().trim(),
                closed: !1,
                keepFromSource: this.$("input:checkbox:checked").map(function(b) {
                    return function(b,
                        d) {
                        return d.name
                    }
                }(this)).get().join(),
                badges: {}
            }, f = this.Auth.me().boardList.find(function(b) {
                return b.id === h
            }), f = f.listList.find(function(b) {
                return b.id === m
            }), f.cardList.create(b, {
                success: function(b) {
                    return function(b) {
                        x.hide();
                        return t("Card", "Copy Card")
                    }
                }(this)
            }))
        };
        return b
    }(A));
    Qd = ma(Sd, function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Move Card"
        };
        b.prototype.initialize = function() {
            return this.listenTo(y.me().boardList,
                "add remove reset", this.render)
        };
        b.prototype.events = {
            "change .js-select-position": "renderValues",
            "change .js-select-list": "updatePositionList",
            "change .js-select-board": "updateBoardData",
            "click .js-submit": "commitChange"
        };
        b.prototype.render = function() {
            var b, e, c, f, h, m, k, l;
            e = {
                organizations: y.me().getOpenBoardsByOrg(!0)
            };
            k = e.organizations;
            c = 0;
            for (h = k.length; c < h; c++) {
                b = k[c];
                l = b.boards;
                f = 0;
                for (m = l.length; f < m; f++) b = l[f], b.id === this.model.get("idBoard") && (b.selected = !0)
            }
            this.$el.html(v.fill("popover_move_card",
                e, {}, {
                    move_card_controls: v.move_card_controls
                }));
            this.updateBoardData();
            return this
        };
        b.prototype.commitChange = function(b) {
            var e, c, f;
            e = this.$(".js-select-board");
            c = this.$(".js-select-list");
            b = this.$(".js-select-position");
            e = e.find("option:selected").val();
            c = c.find("option:selected").val();
            f = b.find("option:selected").val();
            b = parseInt(b.find("option:selected").prop("index"), 10);
            e === this.model.getBoard().id ? (e = this.model.getBoard().listList.get(c), this.model.moveToList(e, b), t("Card", "Move Menu", "Same Board")) :
                null != e && (null != c && null != f) && (t("Card", "Move Menu", "Changed Board"), this.model.getList().cardList.remove(this.model), ka.hide(), S({
                    url: "/1/cards/" + this.model.id,
                    type: "put",
                    data: {
                        idList: c,
                        idBoard: e,
                        pos: f
                    },
                    success: function(b) {
                        return function(d) {
                            b.model.board = null;
                            b.model.set("idBoard", d.idBoard);
                            b.model.set("idList", d.idList);
                            b.model.set("pos", d.pos);
                            return IdCache.setBoardIdForCard(b.model.id, d.idBoard)
                        }
                    }(this)
                }));
            Ud.close();
            x.hide()
        };
        return b
    }(A));
    $b = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Labels"
        };
        b.prototype.initialize = function() {
            this.listenTo(y.me(), "change:prefs", this.render);
            this.listenTo(this.model.getBoard(), "change:labelNames", this.render);
            return this.listenTo(this.model, "change:labels", this.render)
        };
        b.prototype.events = {
            "click .card-label": "toggleLabel",
            "click .js-edit-label-titles": "openEditLabelTitles",
            "click .js-toggle-color-blind-mode": "toggleColorBlindMode",
            shortcut: "shortcut"
        };
        b.prototype.shortcut = function(b) {
            switch (b) {
                case 49:
                case 50:
                case 51:
                case 52:
                case 53:
                case 54:
                case 97:
                case 98:
                case 99:
                case 100:
                case 101:
                case 102:
                    return b -=
                        49 <= b && 54 >= b ? 49 : 97, this.$(".card-label").eq(b).click(), "1-6 - Toggle Specific Label"
            }
        };
        b.prototype.render = function() {
            var b, e;
            b = {
                labels: this.model.getLabels(),
                showShortcuts: this.options.showShortcuts,
                hideEditTitles: this.options.hideEditTitles
            };
            e = {
                editable: this.model.editable()
            };
            b.cbModeEnabled = y.me().get("prefs").colorBlind;
            b.cbToggleText = "Enable";
            b.cbModeEnabled && (b.cbToggleText = "Disable");
            this.$el.html(v.fill("popover_change_labels", b, e));
            return this
        };
        b.prototype.toggleLabel = function(b) {
            var e;
            e =
                $(b.target).closest(".card-label");
            if (b = e.attr("label")) t(this.model.typeName, "Labels Menu", "Change Label"), this.model.toggleLabel(b), this.options.hideOnSelect ? x.hide() : e.toggleClass("active")
        };
        b.prototype.openEditLabelTitles = function(b) {
            l.stop(b);
            x.pushView({
                view: Wd,
                options: {
                    model: this.model.getBoard(),
                    modelCache: this.modelCache
                }
            });
            t(this.model.typeName, "Labels Menu", "Open Edit Label Titles")
        };
        b.prototype.toggleColorBlindMode = function(b) {
            y.me().toggleColorBlindMode();
            t(this.model.typeName, "Labels Menu",
                "Toggle Color Blind Friendly Mode.")
        };
        return b
    }(A);
    var zg, Ag, Bg, Cg, Xd, Wb, Ld, cc, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Wb = function(c) {
        function b() {
            this.editable = k(this.editable, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName = "Checklist";
        b.prototype.urlRoot =
            function() {
                return "/1/checklists"
            };
        b.prototype.initialize = function() {
            return this.destruct([this.checkItemList = (new Bg).syncSubModels(this, "checkItems")])
        };
        b.prototype.sync = function(d, e, c) {
            return "create" === d && !(null != this.get("idBoard") && null != this.get("idCard")) ? (this.waitForAttrs(["idBoard", "idCard"], function(f) {
                return function(h) {
                    f.set(h);
                    return b.__super__.sync.call(f, d, e, c)
                }
            }(this)), this.getBoard().onId(function(b) {
                return function(d) {
                    return b.set("idBoard", d)
                }
            }(this)), this.getCard().onId(function(b) {
                return function(d) {
                    return b.set("idCard",
                        d)
                }
            }(this))) : b.__super__.sync.apply(this, arguments)
        };
        b.prototype.getCard = function() {
            var b;
            return null != (b = this.Card.get(this.get("idCard"))) ? b : this.collection.sourceModel
        };
        b.prototype.getBoard = function() {
            var b;
            return null != (b = this.getCard()) ? b.getBoard() : void 0
        };
        b.prototype.getCompletedCount = function(b) {
            var e;
            e = 0;
            this.checkItemList.each(function(b) {
                if (null != b.get("state") && "complete" === b.get("state")) return e++
            });
            return e
        };
        b.prototype.getCheckItem = function(b) {
            return this.checkItemList.get(b)
        };
        b.prototype.editable =
            function() {
                return this.getBoard().editable()
            };
        b.prototype.calcPos = function(b, e) {
            return l.calcPos(b, this.checkItemList, e)
        };
        return b
    }(W);
    Ld = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Wb;
        b.prototype.initialize = function() {
            return this.listenTo(this, "change:pos", this.sort)
        };
        b.prototype.comparator = function(b) {
            return b.get("pos")
        };
        b.prototype.idList = function() {
            return this.pluck("id")
        };
        return b
    }(Va);
    zg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Add Checklist"
        };
        b.prototype.initialize = function(b) {
            this.cardView = b.cardView
        };
        b.prototype.events = {
            "click .js-add-checklist": "addChecklist",
            "submit form": "addChecklist"
        };
        b.prototype.render = function() {
            var b, e, c, f, h, m;
            c = [];
            c.checklistCards = [];
            m = this.Card.find(function(b) {
                return function(d) {
                    return d.get("idBoard") === b.model.getBoard().id && !d.get("closed")
                }
            }(this));
            f = 0;
            for (h = m.length; f < h; f++) e = m[f], b = e.toJSON(), b.checklists = [], e.checklistList.forEach(function(e) {
                return function(e) {
                    var c,
                        f;
                    if (0 < (null != (c = e.checkItemList) ? c.length : void 0)) return c = l.formatCount(null != (f = e.checkItemList) ? f.length : void 0, "Item"), b.checklists.push(_.extend(e.toJSON(), {
                        length: c
                    }))
                }
            }(this)), 0 < b.checklists.length && c.checklistCards.push(b);
            0 < c.checklistCards.length && (c.hasChecklistCards = !0);
            this.$el.html(v.fill("checklist_add_menu", c));
            return this
        };
        b.prototype.addChecklist = function(b) {
            var e, c;
            l.stop(b);
            c = this.$(".js-checklist-title").val();
            e = this.$(".js-checklist-copy-source").val();
            0 === c.length ? this.$(".js-checklist-title").focus().select() :
                (b = "" !== e ? "Copied Checklist Items" : "No Checklist Items Copied", t("Checklist", "Create", "" + ("Checklist" === c ? "Default Title (Checklist), " + b + ")" : "Renamed Title, " + b + ")")), b = this.model.checklistList.create({
                    name: c,
                    idChecklistSource: e,
                    idCard: this.model.id
                }), this.cardView.focusChecklistAdd(b), x.hide())
        };
        return b
    }(A);
    Ag = function(c) {
        function b() {
            this.getCard = k(this.getCard, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName = "CheckItem";
        b.prototype.urlRoot = function() {
            var b;
            b = this.getChecklist();
            return "" + b.getCard().url() + "/checklist/" + b.id + "/checkItem"
        };
        b.prototype.sync = function(d, e, c) {
            var f;
            return null != (f = this.getChecklist()) ? f.onId(function() {
                return b.__super__.sync.call(this, d, e, c)
            }) : void 0
        };
        b.prototype.getChecklist = function() {
            return this.collection.sourceModel
        };
        b.prototype.getCard = function() {
            return this.getChecklist().getCard()
        };
        b.prototype.editable = function() {
            return this.getChecklist().editable()
        };
        b.prototype.getContext = function() {
            return this.getChecklist()
        };
        b.prototype.move = function(b) {
            this.update("pos", this.getChecklist().calcPos(b, this));
            this.collection.sort({
                silent: !0
            })
        };
        return b
    }(W);
    Bg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Ag;
        b.prototype.initialize = function() {
            return this.listenTo(this, "change:pos", this.sort)
        };
        b.prototype.comparator = function(b) {
            return b.get("pos")
        };
        return b
    }(Va);
    Xd = ma(Qb, tb, function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className =
            "checklist-item";
        b.prototype.allowNewlines = !1;
        b.prototype.initialize = function() {
            this.listenTo(this.model, {
                "change:name": this.renderName,
                "change:state": this.renderState
            });
            return b.__super__.initialize.apply(this, arguments)
        };
        b.prototype.events = {
            "keyup .js-checkitem-input": "keyAutoMention",
            "click .js-toggle-checklist-item": "toggleState",
            "click .js-delete-item": "delete",
            "click .js-convert-item-to-card": "convertToCard",
            "click .js-open-editing-menu": "openEditingMenu",
            movecheckitem: "moveCheckItem"
        };
        b.prototype.getCard =
            function() {
                return this.model.getCard()
            };
        b.prototype.render = function() {
            this.$el.html(v.fill("checklist_item", {}, {
                editable: this.model.editable()
            }));
            this.renderName();
            this.renderState();
            this.recallDrafts();
            return this
        };
        b.prototype.getTextInput = function() {
            return this.$(".js-checkitem-input")
        };
        b.prototype.getMentionTarget = function() {
            return this.$(".js-open-editing-menu:visible")[0]
        };
        b.prototype.getEmojiTarget = function() {
            return this.$(".js-open-editing-menu:visible")[0]
        };
        b.prototype.renderName = function(b) {
            b =
                Ia.checkItems.format(this.model.get("name"), {
                    textData: this.model.get("nameData")
                }).output;
            this.$(".js-checkitem-name").empty().append(b)
        };
        b.prototype.renderState = function(b) {
            b = this.model.toJSON();
            b.checked = "complete" === b.state;
            this.$el.toggleClass("checklist-item-state-complete", b.checked)
        };
        b.prototype.toggleState = function(b) {
            var e;
            this.model.editable() && (e = (b = "complete" === this.model.get("state")) ? "incomplete" : "complete", "complete" === e ? (this.$el.addClass("checklist-item-fade-out"), _.delay(function(b) {
                return function() {
                    b.model.update("state",
                        e);
                    return b.$el.removeClass("checklist-item-fade-out")
                }
            }(this), 200)) : (this.$el.removeClass("checklist-item-fade-out"), this.model.update("state", e)), t("Checklist", "Toggle Checklist Item State", e))
        };
        b.prototype["delete"] = function(b) {
            l.stop(b);
            this.model.destroy();
            t("Checklist", "Delete Single Checklist Item")
        };
        b.prototype.convertToCard = function(b) {
            l.stop(b);
            this.model.run("convertToCard");
            this.model.getChecklist().checkItemList.remove(this.model);
            t("Checklist", "Convert Checklist Item to Card")
        };
        b.prototype.moveCheckItem =
            function(b, e, c, f) {
                if (f || this.model.getChecklist() === c) return b = e.item.parent().children(), e = b.index(e.item), e = c.calcPos(e, this.model), f ? (this.model.update({
                    pos: e,
                    idChecklist: c.id
                }), this.model.collection.remove(this.model), c.checkItemList.add(this.model)) : this.model.update("pos", e), c.checkItemList.sort({
                    silent: !0
                }), t("Checklist", "Reorder Checklist Item")
            };
        b.prototype.openEditingMenu = function(b) {
            l.stop(b);
            return x.toggle({
                elem: b.target,
                top: 36,
                view: wd,
                options: {
                    model: this.model,
                    parent: this
                },
                keepEdits: !0
            })
        };
        return b
    }(Db));
    cc = ma(Qb, tb, function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "checklist";
        b.prototype.initialize = function() {
            this.makeDebouncedMethods("renderCheckedState");
            this.listenTo(this.model.checkItemList, {
                "add remove reset change:state": function() {
                    this.renderProgress();
                    return this.renderCheckedStateDebounced()
                }
            });
            this.listenTo(va, {
                "change:idCollapsedChecklists": this.renderCheckedStateDebounced
            });
            return this.listenTo(this.model, {
                "change:name": this.renderName
            })
        };
        b.prototype.events = {
            "keydown .js-new-checklist-item-input": "keydownChecklistEvent",
            "click .js-add-checklist-item": "submitTask",
            "click .js-cancel-checklist-item": "cancelItemEditing",
            "click .js-new-checklist-item-input": "focusNewTaskInput",
            "click .js-confirm-delete": "confirmDeleteChecklist",
            "click .js-hide-checked-items": "hideCheckedItems",
            "click .js-show-checked-items": "showCheckedItems",
            "sortstop .js-checklist-items-list": "sortStop",
            "sortreceive .js-checklist-items-list": "sortReceive",
            movechecklist: "moveChecklist",
            "click .js-open-editing-menu": "openEditingMenu",
            "keyup .js-new-checklist-item-input": "keyAutoMention"
        };
        b.prototype.render = function() {
            var b, e;
            P("render", "rendering checklist state " + this.model.get("name"));
            this.$el.html(v.fillFromModel("checklist", this.model));
            b = this.$(".js-checklist-items-list");
            null != (e = this.getCard()) && e.editable() && b.sortable({
                axis: "y",
                delay: "75",
                distance: "7",
                tolerance: "pointer",
                placeholder: "checklist-item placeholder",
                items: ".checklist-item",
                connectWith: ".js-checklist-items-list",
                start: function(b, d) {
                    var e;
                    K.sorting = !0;
                    e = $(d.helper).outerHeight();
                    return $(d.placeholder).height(e)
                },
                stop: function() {
                    return _.defer(function() {
                        return K.sorting = !1
                    })
                }
            });
            this.newCheckItemInput = this.$(".js-new-checklist-item-input");
            this.newCheckItemInput.fixPlaceholder();
            this.renderName();
            this.renderCheckItems();
            return this.renderCheckedState()
        };
        b.prototype.renderName = function() {
            this.$("div.checklist-title[attr=name] .current").text(this.model.get("name"));
            return this
        };
        b.prototype.sortCheckItems = function() {
            var b;
            b = this.$(".js-checklist-items-list");
            l.withoutAlteringSelection(function(e) {
                return function() {
                    return e.model.checkItemList.each(function(c, f) {
                        var h;
                        h = e.existingSubview(Xd, c);
                        return b.append(h.el)
                    })
                }
            }(this));
            return this
        };
        b.prototype.renderProgress = function() {
            var b, e, c;
            b = this.model.getCompletedCount(this.getCard());
            e = this.model.checkItemList.length;
            c = 0 < e ? Math.round(100 * b / e) : 0;
            b = b === e && 0 < e;
            this.$(".js-checklist-progress-bar").width(c + "%");
            this.$(".js-checklist-progress-percent").text(c + "%");
            this.$(".js-checklist-progress-bar").toggleClass("checklist-progress-bar-current-complete",
                b);
            return this
        };
        b.prototype.renderCheckItems = function() {
            var b;
            b = this.$(".js-checklist-items-list");
            this.collectionSubview(Cg, this.model.checkItemList, {
                el: b
            }).render();
            K.refreshIfInitialized(b);
            this.renderProgress();
            return this
        };
        b.prototype.isChecklistCollapsed = function() {
            return va.inSet("idCollapsedChecklists", this.model.id)
        };
        b.prototype.renderCheckedState = function(b) {
            var e, c;
            e = this.model.checkItemList.length;
            b = this.model.getCompletedCount(this.getCard());
            c = 0 < e;
            e = e === b && 0 < e;
            this.$(".js-checked-items-count").text(l.formatCount(b,
                "completed item"));
            this.$(".js-completed-message").addClass("hide");
            0 === b || !c ? (this.$el.removeClass("hide-completed-items"), this.$(".js-show-checked-items-button").addClass("hide"), this.$(".js-hide-checked-items-button").addClass("hide")) : this.isChecklistCollapsed() ? (this.$el.addClass("hide-completed-items"), this.$(".js-show-checked-items-button").removeClass("hide"), this.$(".js-hide-checked-items-button").addClass("hide"), this.$(".js-completed-message").toggleClass("hide", !e)) : (this.$el.removeClass("hide-completed-items"),
                this.$(".js-show-checked-items-button").addClass("hide"), this.$(".js-hide-checked-items-button").removeClass("hide"));
            return this
        };
        b.prototype.hideCheckedItems = function(b) {
            l.stop(b);
            va.pushCollapsedChecklist(this.model.id);
            t("Checklist", "Hide Checked Items")
        };
        b.prototype.showCheckedItems = function(b) {
            l.stop(b);
            va.pullCollapsedChecklist(this.model.id);
            t("Checklist", "Show Checked Items")
        };
        b.prototype.getCard = function() {
            return this.options.card
        };
        b.prototype.cancelItemEditing = function(b) {
            $(b.target).closest(".js-new-checklist-item").find(".js-new-checklist-item-input").val("");
            sa.cancelEdits();
            return !1
        };
        b.prototype.focusNewTaskInput = function(b) {
            var e;
            this.$(".js-new-checklist-item").hasClass("focus") || (sa.cancelEdits(this.newCheckItemInput), null != (e = this.newCheckItemInput) && e.focus().select(), this.$(".js-new-checklist-item").addClass("focus"))
        };
        b.prototype.keydownChecklistEvent = function(b) {
            if ($(b.target).hasClass("js-new-checklist-item-input")) {
                if (x.view instanceof oc || x.view instanceof sb) return this.checkInsert(b);
                if (l.isSubmitKey(b)) return this.submitTask(b), this.focusNewTaskInput()
            }
        };
        b.prototype.getTextInput = function() {
            return this.$(".js-new-checklist-item-input")
        };
        b.prototype.getMentionTarget = function() {
            return this.$(".js-open-editing-menu:visible")[0]
        };
        b.prototype.getEmojiTarget = function() {
            return this.$(".js-open-editing-menu:visible")[0]
        };
        b.prototype.submitTask = function(b) {
            var e, c;
            l.stop(b);
            c = this.newCheckItemInput.val().trim();
            if (/^\s*$/.test(c)) return l.stop(b), this.focusNewTaskInput(), !1;
            b = _.compact(c.split(/\r\n|\r|\n/));
            e = this.model;
            async.forEachSeries(b, function(b) {
                return function(b,
                    d) {
                    var c;
                    c = 0 < e.checkItemList.length ? e.checkItemList.at(e.checkItemList.length - 1).get("pos") + l.spacing : l.spacing;
                    c += Math.floor(1024 * Math.random());
                    c = {
                        name: b.trim(),
                        pos: c,
                        nameData: {
                            emoji: y.me().allCustomEmoji()
                        }
                    };
                    return e.checkItemList.create(c, {
                        success: function() {
                            return d()
                        }
                    })
                }
            }(this), function(b) {
                return function(b) {}
            }(this));
            this.newCheckItemInput.val("");
            this.focusNewTaskInput();
            t("Checklist", "Add Checklist Item", 1 === b.length ? "Single Item" : "Multiple Items")
        };
        b.prototype.sortStop = function(b, e) {
            l.stopPropagation(b);
            e.item.trigger("movecheckitem", [e, this.model, !1])
        };
        b.prototype.sortReceive = function(b, e) {
            l.stopPropagation(b);
            e.item.trigger("movecheckitem", [e, this.model, !0])
        };
        b.prototype.confirmDeleteChecklist = function(b) {
            var e;
            l.stop(b);
            e = this.model.get("name");
            pa.toggle({
                elem: this.$(b.target).closest(".js-confirm-delete"),
                top: 20,
                model: this.model,
                title: "Delete " + e + "?",
                text: "Deleting a checklist is permanent and there is no way to get it back.",
                confirmText: "Delete Checklist",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(d) {
                        t("Checklist",
                            "Delete Checklist");
                        return b.model.destroy()
                    }
                }(this)
            })
        };
        b.prototype.moveChecklist = function(b, e) {
            var c, f;
            c = this.model.getCard();
            null != c && (f = e.item.parent().children(), f = f.index(e.item), this.model.update("pos", c.calcChecklistPos(f, this.model)), this.model.collection.sort({
                silent: !0
            }), t("Checklist", "Reorder Checklist"))
        };
        b.prototype.openEditingMenu = function(b) {
            l.stop(b);
            return x.toggle({
                elem: b.target,
                top: 36,
                view: wd,
                options: {
                    model: this.model,
                    parent: this
                },
                keepEdits: !0
            })
        };
        return b
    }(Db));
    Cg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.viewType = Xd;
        return b
    }(Cb);
    var Dg, Eg, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Dg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typename = "CustomEmoji";
        return b
    }(W);
    Eg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Dg;
        b.prototype.url =
            function() {
                return "/1/member/" + this.member.id + "/customEmoji"
            };
        b.prototype.initialize = function(b, e) {
            this.member = e.member
        };
        return b
    }(Va);
    var Fg, Gg, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Fg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typename = "CustomSticker";
        return b
    }(W);
    Gg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.model = Fg;
        b.prototype.url = function() {
            return "/1/member/" + y.me().id + "/customStickers"
        };
        b.prototype.initialize = function(b, e) {
            this.member = e.member
        };
        return b
    }(Va);
    var lg, Ic, Hg, ig, Ig, eg, Xb, Jg, Kg, Yb, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Ic = function(c) {
        function b() {
            this.openCards =
                k(this.openCards, this);
            this.getIndexInList = k(this.getIndexInList, this);
            this.selectLastCardInList = k(this.selectLastCardInList, this);
            this.selectFirstCardInList = k(this.selectFirstCardInList, this);
            this.selectCardInList = k(this.selectCardInList, this);
            this.getPrevList = k(this.getPrevList, this);
            this.getNextList = k(this.getNextList, this);
            this.getAdjacentList = k(this.getAdjacentList, this);
            this.getBoard = k(this.getBoard, this);
            this.reopen = k(this.reopen, this);
            this.subscribe = k(this.subscribe, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.typeName = "List";
        b.prototype.urlRoot = "/1/lists";
        b.prototype.initialize = function() {
            return this.destruct([this.cardList = (new rg(null, {
                list: this
            })).owner(this).syncCache(this.modelCache, ["idList", "closed"], function(b) {
                return function(e) {
                    return b.id && e.get("idList") === b.id && !e.get("closed")
                }
            }(this))])
        };
        b.prototype.sync = function(d, e, c) {
            return "create" === d && null == this.get("idBoard") ? (this.waitForAttrs(["idBoard"], function(f) {
                return function(h) {
                    f.set(h);
                    return b.__super__.sync.call(f,
                        d, e, c)
                }
            }(this)), this.getBoard().onId(function(b) {
                return function(d) {
                    return b.set("idBoard", d)
                }
            }(this))) : b.__super__.sync.apply(this, arguments)
        };
        b.prototype.subscribe = function(b) {
            b !== this.get("subscribed") && this.update({
                subscribed: b
            })
        };
        b.prototype.move = function(b) {
            this.update({
                pos: this.getBoard().calcPos(b, this)
            });
            this.collection.sort({
                silent: !0
            })
        };
        b.prototype.close = function() {
            this.update({
                closed: !0
            })
        };
        b.prototype.reopen = function() {
            this.update({
                closed: !1,
                pos: this.getBoard().calcPos(this.collection.length,
                    this)
            })
        };
        b.prototype.onChange = function() {};
        b.prototype.calcPos = function(b, e, c) {
            return l.calcPos(b, this.cardList, e, function(b) {
                return !b.get("closed")
            }, c)
        };
        b.prototype.getBoard = function() {
            var b, e;
            return null != (b = this.Board.get(this.get("idBoard"))) ? b : null != (e = this.collection) ? e.owner : void 0
        };
        b.prototype.getAdjacentList = function(b) {
            var e, c;
            c = this.getBoard().openLists();
            e = this.getIndexInList();
            return c[(e + b + c.length) % c.length]
        };
        b.prototype.getNextList = function() {
            return this.getAdjacentList(1)
        };
        b.prototype.getPrevList =
            function() {
                return this.getAdjacentList(-1)
            };
        b.prototype.selectCardInList = function(b) {
            b = this.cardList.openCards()[b];
            null != b && this.getBoard().viewState.selectCard(b)
        };
        b.prototype.selectFirstCardInList = function() {
            return this.selectCardInList(0)
        };
        b.prototype.selectLastCardInList = function() {
            return this.selectCardInList(this.cardList.openCards().length - 1)
        };
        b.prototype.editable = function() {
            return this.getBoard().editable()
        };
        b.prototype.getIndexInList = function() {
            return _.indexOf(this.getBoard().openLists(),
                this)
        };
        b.prototype.openCards = function() {
            return this.cardList.filter(function(b) {
                return !b.get("closed")
            })
        };
        return b
    }(W);
    eg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Ic;
        b.prototype.initialize = function(b, e) {
            this.bind("change:pos", this.sort);
            this.board = e.board
        };
        b.prototype.comparator = function(b) {
            return b.get("pos") || 0
        };
        b.prototype.calcPos = function(b, e, c) {
            return l.calcPos(b, this, e, function(b) {
                return !b.get("closed")
            }, c)
        };
        b.prototype.url = function() {
            return "/1/boards/" +
                this.board.id + "/lists"
        };
        b.prototype.openLists = function() {
            return this.filter(function(b) {
                return !b.get("closed")
            })
        };
        return b
    }(La);
    Yb = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "list";
        b.prototype.events = {
            "click .js-open-list-menu": "openMenu",
            "mousedown .list-cards": "eventStopPropagation",
            dblclick: "eventStopPropagation",
            "click .js-open-card-composer": "openCardComposer",
            movelist: "moveList",
            sortreceive: "sortReceive",
            sortstop: "sortStop"
        };
        b.prototype.initialize =
            function() {
                b.__super__.initialize.apply(this, arguments);
                this.makeDebouncedMethods("toggleComposerLink", "renderComposer", "renderCardCount");
                this.listenTo(this.model, {
                    "change:name": this.renderName,
                    "change:subscribed": this.renderSubscribed
                });
                this.listenTo(this.model.cardList, {
                    "add remove change:idList change:closed reset": this.renderCardCountDebounced
                });
                this.listenTo(this.model.getBoard(), "permChange", this.renderEditable);
                this.listenTo(this.model.getBoard().composer, {
                    "change:idList change:index change:vis": this.renderComposerDebounced,
                    "change:idList change:vis": this.toggleComposerLinkDebounced
                })
            };
        b.prototype.render = function() {
            var b;
            P("render", "rendering list " + this.model.get("name"));
            this.$el.html(v.fill("list", this.model.toJSON(), {
                editable: this.model.editable()
            }));
            b = this.$(".js-list-cards");
            this.cardListView = this.collectionSubview(Md, this.model.cardList, {
                el: b
            });
            this.cardListView.render();
            this.toggleComposerLinkDebounced();
            this.renderComposerDebounced();
            this.renderCardCount();
            this.renderEditable();
            this.setListCardsHeight();
            return this
        };
        b.prototype.renderName = function() {
            this.$(".js-list-name").text(this.model.get("name"));
            return this
        };
        b.prototype.renderSubscribed = function() {
            this.$(".js-list-subscribed").toggleClass("hide", !this.model.get("subscribed"));
            return this
        };
        b.prototype.renderEditable = function() {
            var b;
            b = this.model.editable();
            this.$(".js-list-cards").toggleClass("js-sortable", b);
            this.$(".js-list-header").toggleClass("editable", b);
            this.$(".js-open-card-composer").toggleClass("hide", !b);
            return this
        };
        b.prototype.setListCardsHeight =
            function() {
                "explorer-10" === ha.browserVersionStr && _.defer(function(b) {
                    return function() {
                        var e, c;
                        c = b.$(".list-header").outerHeight();
                        e = b.$(".open-card-composer").outerHeight();
                        e = $("#board").height() - c - e - 10;
                        return b.$(".list-cards").css({
                            "max-height": e
                        })
                    }
                }(this))
            };
        b.prototype.toggleComposerLink = function() {
            return this.$(".js-open-card-composer").toggleClass("hide", this.composerOpen() || !this.model.editable())
        };
        b.prototype.composerOpen = function() {
            var b, e;
            b = null != (e = this.model.getBoard()) ? e.composer : void 0;
            return null != b && b.get("vis") && b.get("idList") === this.model.id
        };
        b.prototype.renderComposer = function() {
            var b, e;
            this.composerOpen() && (b = this.model.getBoard().composer, e = B.getCurrentBoardView().subview(Lg, b), this.insertComposerAtIndex(b.get("index"), e), e.scrollIntoView(), _.debounce(e.delegateEvents(), 150));
            return this
        };
        b.prototype.insertComposerAtIndex = function(b, e) {
            return 0 === b ? this.$(".list-cards").prepend(e.render().el) : this.$(".list-card").not(".js-composer").eq(b - 1).after(e.render().el)
        };
        b.prototype.renderCardCount =
            function() {
                return this.$(".js-num-cards").text(l.formatCount(this.model.cardList.openCards().length, "card"))
            };
        b.prototype.editTitle = function(b) {
            if (this.model.editable()) return this.$(".js-list-name").click()
        };
        b.prototype.openCardComposer = function(b) {
            l.stop(b);
            x.hide();
            this.model.getBoard().composer.save({
                idList: this.model.id,
                index: this.model.cardList.openCards().length,
                vis: !0
            });
            t("Card Composer", "Open", "Via Bottom of List")
        };
        b.prototype.triggerOnItem = function(b, e, c) {
            l.stopPropagation(b);
            e.item.data("dragCancel") ||
                _.defer(function(b) {
                    return function() {
                        return e.item.trigger(c, [e, b])
                    }
                }(this))
        };
        b.prototype.sortReceive = function(b, e) {
            this.triggerOnItem(b, e, "moveto")
        };
        b.prototype.sortStop = function(b, e) {
            this.triggerOnItem(b, e, "movein")
        };
        b.prototype.openMenu = function(b) {
            var e;
            e = this.model;
            if (!K.sorting) return l.preventDefault(b), t("List Menu", "Open List Menu"), x.toggle({
                elem: b.target,
                top: 24,
                view: e.getView(Jg)
            }), !1
        };
        b.prototype.moveList = function(b, e) {
            var c;
            c = e.item.parent().children().index(e.item);
            this.model.move(c)
        };
        b.prototype.eventStopPropagation = function(b) {
            l.stopPropagation(b)
        };
        b.prototype.scrollIntoView = function() {
            var b, e, c, f;
            e = this.$el.offset().left;
            c = e + this.$el.width();
            f = this.$("#board");
            b = f.scrollLeft();
            if (0 > e) return f.scrollLeft(b + e - 16);
            if (c > f.width()) return f.scrollLeft(b + (c - f.width()))
        };
        return b
    }(Db);
    Xb = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.viewType = Yb;
        b.prototype.initialize = function() {
            arguments[0].resetCallback && (this.resetCallback = arguments[0].resetCallback);
            b.__super__.initialize.apply(this, arguments);
            if (this.resetCallback) return this.listenTo(this.collection, {
                reset: this.resetCollection,
                "change:idBoard": this.boardChange
            })
        };
        b.prototype.getModels = function() {
            return this.collection.openLists()
        };
        b.prototype.boardChange = function(b, e) {
            if (e !== this.collection.board.get("id")) return this.collection.remove(b), K.refreshIfInitialized(this.$el)
        };
        b.prototype.resetCollection = function() {
            return "function" === typeof this.resetCallback ? this.resetCallback() : void 0
        };
        b.prototype.addModel =
            function() {
                b.__super__.addModel.apply(this, arguments);
                return "function" === typeof this.resetCallback ? this.resetCallback() : void 0
            };
        b.prototype.insertSubview = function(d) {
            b.__super__.insertSubview.apply(this, arguments);
            0 < d.$el.find(".ui-sortable").length ? K.refreshIfInitialized(this.$el) : K.refreshListCardSortable()
        };
        return b
    }(Cb);
    ig = function(c) {
        function b(d, e) {
            this.board = d;
            b.__super__.constructor.call(this, null, e);
            this.board.onId(function(b) {
                return function(d) {
                    b.set({
                        id: "boardListComposerSettings-" + d
                    });
                    return b.fetch()
                }
            }(this))
        }
        n(b, c);
        b.prototype["default"] = function() {
            return {
                title: null,
                vis: !1
            }
        };
        b.prototype.clear = function() {
            return this.save(this["default"]())
        };
        b.prototype.clearItems = function() {
            this.save({
                title: ""
            })
        };
        b.prototype.getBoard = function() {
            return this.board
        };
        b.prototype.toJSON = function(d) {
            var e, c;
            e = (null != d ? d : {}).board;
            c = b.__super__.toJSON.apply(this, arguments);
            e && (c.board = this.getBoard().toJSON());
            return c
        };
        return b
    }(ub);
    lg = function(c) {
        function b() {
            this.addList = k(this.addList, this);
            this.renderClose =
                k(this.renderClose, this);
            this.renderOpen = k(this.renderOpen, this);
            this.renderListComposer = k(this.renderListComposer, this);
            this.setClose = k(this.setClose, this);
            this.setOpen = k(this.setOpen, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "list add-list idle";
        b.prototype.initialize = function() {
            return this.model.viewState.ond("change:listComposerOpen", this.renderListComposer)
        };
        b.prototype.events = {
            "click .js-open-add-list": "setOpen",
            "click .js-cancel-edit": "setClose",
            "click .js-save-edit": "addList",
            submit: "addList"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                board: !0
            });
            this.$el.html(v.fill("list_add", b));
            this.renderListComposer();
            this.model.editable() && this.$el.removeClass("fade hide");
            return this
        };
        b.prototype.setOpen = function(b) {
            l.stop(b);
            this.model.viewState.set("listComposerOpen", !0)
        };
        b.prototype.setClose = function(b) {
            l.stop(b);
            this.model.viewState.set("listComposerOpen", !1)
        };
        b.prototype.renderListComposer = function() {
            return this.model.viewState.get("listComposerOpen") ?
                this.renderOpen() : this.renderClose()
        };
        b.prototype.renderOpen = function(b) {
            l.stop(b);
            this.$el.hasClass("idle") && (this.$el.removeClass("idle"), $(".list-area-wrapper").scrollLeft($(".list-area").outerWidth() + 100), _.defer(function(b) {
                return function() {
                    return b.$(".list-name-input").select()
                }
            }(this)));
            x.hide()
        };
        b.prototype.renderClose = function(b) {
            l.stop(b);
            this.$el.addClass("idle")
        };
        b.prototype.addList = function(b) {
            var c, g;
            l.stop(b);
            b = this.$(".list-name-input");
            g = this.model.openLists().length + 1;
            c = b.val().trim();
            "" === c ? b.focus().select() : (this.setClose(), _.defer(function(b) {
                return function() {
                    return b.model.listList.create({
                        name: c,
                        pos: b.model.calcPos(g),
                        closed: !1
                    }, {
                        success: function(b) {
                            return t("Board", "Add List - via Inline List Composer")
                        }
                    })
                }
            }(this)))
        };
        return b
    }(A);
    Jg = function(c) {
        function b() {
            this.closeList = k(this.closeList, this);
            this.archiveCards = k(this.archiveCards, this);
            this.moveCards = k(this.moveCards, this);
            this.toggleSubscribe = k(this.toggleSubscribe, this);
            this.copyList = k(this.copyList, this);
            this.moveList =
                k(this.moveList, this);
            this.addCard = k(this.addCard, this);
            this.render = k(this.render, this);
            this.initialize = k(this.initialize, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "List Actions"
        };
        b.prototype.initialize = function() {
            return this.model.ond("change:subscribed", this.render)
        };
        b.prototype.events = {
            "click .js-add-card": "addCard",
            "click .js-move-list": "moveList",
            "click .js-copy-list": "copyList",
            "click .js-list-subscribe": "toggleSubscribe",
            "click .js-move-cards": "moveCards",
            "click .js-archive-cards": "archiveCards",
            "click .js-close-list": "closeList"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            this.$el.html(v.fill("list_menu", b, {
                editable: this.model.editable()
            }));
            return this
        };
        b.prototype.addCard = function(b) {
            l.stop(b);
            x.hide();
            this.model.getBoard().composer.save({
                idList: this.model.id,
                index: 0,
                vis: !0
            });
            t("List Menu", "Add Card");
            t("Card Composer", "Open", "Via List Menu")
        };
        b.prototype.moveList = function(b) {
            l.stop(b);
            t("List Menu", "Open Move List Popover");
            x.pushView({
                view: this.model.getView(Kg)
            })
        };
        b.prototype.copyList = function(b) {
            l.stop(b);
            t("List Menu", "Open Copy List Popover");
            x.pushView({
                view: this.model.getView(Ig)
            })
        };
        b.prototype.toggleSubscribe = function(b) {
            l.preventDefault(b);
            this.model.get("subscribed") ? (this.model.subscribe(!1), t("List Menu", "Subscribe", "Unsubscribe")) : (this.model.subscribe(!0), t("List Menu", "Subscribe", "Subscribe"))
        };
        b.prototype.moveCards = function(b) {
            l.stop(b);
            t("List Menu", "Open Move All Cards in List");
            x.pushView({
                view: this.model.getView(Hg)
            })
        };
        b.prototype.archiveCards =
            function(b) {
                l.stop(b);
                t("List Menu", "Open Archive All Cards in List");
                pa.pushView({
                    model: this.model,
                    title: "Archive All Cards in this List?",
                    text: 'This will remove all the cards in this list from the board. To view archived cards and bring them back to the board, click "Menu" > "Archived Items".',
                    confirmText: "Archive All",
                    confirmBtnClass: "negate",
                    fxConfirm: function(b) {
                        return function(d) {
                            var c, h, m;
                            x.hide();
                            c = b.model.openCards();
                            h = 0;
                            for (m = c.length; h < m; h++) d = c[h], d.set({
                                closed: !0
                            });
                            return b.model.run("archiveAllCards", {}, b.listViewListen)
                        }
                    }(this)
                })
            };
        b.prototype.closeList = function(b) {
            l.stop(b);
            b = this.model;
            t("List Menu", "Archive List");
            x.hide();
            b.close();
            return !1
        };
        return b
    }(A);
    Hg = function(c) {
        function b() {
            this.selectList = k(this.selectList, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Move All Cards in List"
        };
        b.prototype.events = {
            "click .js-select-list": "selectList"
        };
        b.prototype.render = function() {
            var b, c, g, f, h;
            b = this.model.toJSON();
            b.lists = [];
            g = this.model.getBoard().openLists();
            f = 0;
            for (h = g.length; f < h; f++) c = g[f], c = _.clone(c.toJSON()), c.id === this.model.id && (c.current = !0), b.lists.push(c);
            this.$el.html(v.fill("list_bulk_card_move", b));
            return this
        };
        b.prototype.selectList = function(b) {
            var c, g, f, h;
            b = $(b.target).closest(".js-select-list");
            c = b.attr("name");
            if (!b.hasClass("disabled")) {
                c = this.List.get(c);
                t("Card", "Moved in Bulk via List Menu");
                h = this.model.cardList.openCards();
                g = 0;
                for (f = h.length; g < f; g++) b = h[g], b.moveToList(c, 1E3);
                x.hide()
            }
        };
        return b
    }(A);
    Ig = function(c) {
        function b() {
            this.submit = k(this.submit, this);
            this.keydownEvent = k(this.keydownEvent, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Copy List"
        };
        b.prototype.tagName = "form";
        b.prototype.events = {
            "click .js-submit": "submit",
            submit: "submit",
            "keydown textarea[name='name']": "keydownEvent"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            this.$el.html(v.fill("list_copy", b, {
                editable: this.model.editable()
            }));
            return this
        };
        b.prototype.keydownEvent = function(b) {
            13 === b.keyCode && (l.stop(b), this.submit(b))
        };
        b.prototype.submit = function(b) {
            var c, g;
            l.stop(b);
            g = this.$('textarea[name="name"]');
            "" === g.val().trim() ? g.focus().select() : (b = this.model.getBoard(), c = b.listList.calcPos(this.model.getIndexInList() + 1, this.model, !0), c = {
                idListSource: this.model.id,
                idBoard: this.model.get("idBoard"),
                pos: c,
                name: g.val().trim(),
                closed: !1
            }, b.listList.create(c), x.hide(), t("List", "Copy List"))
        };
        return b
    }(A);
    Kg = function(c) {
        function b() {
            this.commitChange =
                k(this.commitChange, this);
            this.updateListList = k(this.updateListList, this);
            this.updateBoardData = k(this.updateBoardData, this);
            this.renderValues = k(this.renderValues, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Move List"
        };
        b.prototype.tagName = "form";
        b.prototype.events = {
            "change .js-select-list-pos": "renderValues",
            "change .js-select-board": "updateBoardData",
            "click .js-commit-position": "commitChange",
            submit: "commitChange"
        };
        b.prototype.render = function() {
            var b, c, g, f, h, m, k, l, w;
            g = this.model;
            c = {
                organizations: y.me().getOpenBoardsByOrg(!0)
            };
            l = c.organizations;
            f = 0;
            for (m = l.length; f < m; f++) {
                b = l[f];
                w = b.boards;
                h = 0;
                for (k = w.length; h < k; h++) b = w[h], b.id === g.get("idBoard") && (b.selected = !0)
            }
            this.$el.html(v.fill("popover_move_list", c));
            this.updateBoardData();
            return this
        };
        b.prototype.renderValues = function() {
            var b, c, g;
            b = $(this.el);
            c = b.find(".js-select-board option:selected").val();
            g = parseInt(b.find(".js-select-list-pos option:selected").text(),
                10);
            c = this.Board.get(c).get("name");
            g = l.getNaturalNumber(g);
            b.find(".js-board-value").text(c);
            b.find(".js-pos-value").text(g)
        };
        b.prototype.updateBoardData = function() {
            var b, c, g, f, h, m;
            b = $(this.el);
            g = b.find(".js-select-board").find("option:selected").val();
            if (g === this.model.getBoard().id) {
                this._boardData = this.model.getBoard();
                m = this._boardData.listList.models;
                f = 0;
                for (h = m.length; f < h; f++) b = m[f], b.cardCount = this._boardData.listList.get(b.id).cardList.openCards().length;
                return this.updateListList()
            }
            c = b.find(".select-list,.select-position");
            c.attr("disabled", "disabled");
            return O["for"](this.modelCache).loadBoardListData(g, {
                lists: "open",
                list_fields: "name,pos,idBoard"
            }, function(b) {
                return function() {
                    b._boardData = b.Board.get(g);
                    b.updateListList();
                    return c.removeAttr("disabled")
                }
            }(this))
        };
        b.prototype.updateListList = function() {
            var b, c, g, f, h, m, k, l;
            m = this.model;
            c = this.$(".js-select-list-pos");
            c.empty();
            g = this._boardData.openLists();
            this._boardData.id === this.model.getBoard().id ? (f = _.indexOf(g, this.model), g = g.length) : (f = -1, g = g.length + 1);
            for (h =
                l = 0; 0 <= g ? l < g : l > g; h = 0 <= g ? ++l : --l) b = h + 1, h === f && (b += " (current)"), k = this._boardData.listList.calcPos(h, m), b = $("<option>").val(k).text(b).appendTo(c), h === f && b.attr("selected", "selected");
            parseInt(this.$(".js-select-list-pos").val(), 10);
            return this.renderValues()
        };
        b.prototype.commitChange = function(b) {
            var c;
            l.stop(b);
            b = this.$(".js-select-list-pos");
            c = parseInt(b.find("option:selected").val(), 10);
            b = this.$(".js-select-board option:selected").val();
            this.model.getBoard().composer.save("vis", !1);
            b === this.model.getBoard().id ?
                (this.model.update({
                    pos: c
                }), t("List Menu", "Move Menu", "Successfully Moved")) : null != b && null != c && (this.model.update({
                    idBoard: b,
                    pos: c
                }), t("List Menu", "Move Menu", "Changed Board"));
            x.hide()
        };
        return b
    }(A);
    var Mg, Jc, Yd, Zd, Gb, $d, Td, tf, Ng, ca, Og, Kc, Pg, Qg, ae, Rg, Sg, Tg, Ug, Vg, Wg, Xg, Yg, be, ob, Zg, $g, ce, de, ah, bh, Jb, xg, ch, Vd, Ka, dh, eh, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype =
                b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        },
        D = [].slice;
    Td = 1E4;
    ca = function(c) {
        function b() {
            this.isFeatureEnabled = k(this.isFeatureEnabled, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName = "Member";
        b.prototype.nameAttr = "fullName";
        b.prototype.urlRoot = "/1/members";
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.destruct([this.boardList = (new ee).syncModel(this, "idBoards"), this.organizationList = (new fh).syncModel(this, "idOrganizations")]);
            y.isMe(this) && (this.destruct([this.boardStarList = (new gh([], {
                    member: this
                })).syncSubModels(this, "boardStars"), this.savedSearchList = (new If([], {
                    member: this
                })).syncSubModels(this, "savedSearches"), this.customStickerList = (new Gg([], {
                    member: this
                })).syncSubModels(this, "customStickers"), this.boardBackgroundList = (new og([], {
                    member: this
                })).syncSubModels(this, "boardBackgrounds"),
                this.customEmojiList = (new Eg([], {
                    member: this
                })).syncSubModels(this, "customEmoji"), this.loginList = (new hh([], {
                    member: this
                })).syncSubModels(this, "logins")
            ]), this.isFeatureEnabled("customEmoji") && O["for"](this.modelCache).loadMemberCustomEmoji(this.get("id")));
            this.on("change:editing", function(b) {
                var c, g;
                return null != (c = this.Card.get(null != (g = b.get("editing")) ? g.idCard : void 0)) ? c.updateEditing(b) : void 0
            })
        };
        b.prototype.isLoggedIn = function() {
            return !this.get("notLoggedIn")
        };
        b.prototype.hasAtMe = function(b) {
            var c;
            if (!this.isLoggedIn() || null == this.get("username") || null == this.get("fullName")) return !1;
            c = _.compact([this.get("username")].concat(this.get("fullName").split(/\s+/)));
            return _.find(c, function(c) {
                return 2 <= c.length && RegExp("(^|\\W)@" + l.escapeForRegex(c) + "($|\\W)", "i").test(b)
            })
        };
        b.prototype.viewBoardProfile = function(b) {
            var c;
            null != b && b.id && (b = b.id);
            c = new Rg({
                model: this,
                board: this.Board.get(b),
                modelCache: this.modelCache
            });
            B.saveMemberBoardProfileLocation(this, b);
            return ka.show({
                view: c,
                maxWidth: 500,
                hide: function(c) {
                    return function() {
                        return B.setBoardLocation(b)
                    }
                }(this)
            })
        };
        b.prototype.getMembershipData = function(b) {
            var c, g, f, h, m, k, l, w, n, t, v, x, A, B;
            c = b.adminList.models;
            l = y.isMe(this);
            n = y.me();
            m = _.some(c, function(b) {
                return function(d) {
                    return d.id !== b.id
                }
            }(this));
            c = 1 < c.length;
            w = 1 < b.memberList.length;
            g = b.getMembershipFor(this);
            t = "admin" === b.getExplicitMemberType(this) || "admin" === (null != g ? g.memberType : void 0);
            x = "observer" === b.getExplicitMemberType(this) || "observer" === (null != g ? g.memberType : void 0);
            v = !(t || x);
            A = b.isVirtual(this);
            k = b.owned();
            B = "org" !== b.getExplicitMemberType(this);
            f = !v && m && k;
            h = !x && m && k;
            g = !t && k;
            b = (m = w && (m && (k || l) || !l && B && ("function" === typeof b.canInviteMembers ? b.canInviteMembers() : void 0) && 0 <= ("function" === typeof b.compareMemberType ? b.compareMemberType(n, this) : void 0))) && "Organization" === b.typeName && k && !b.isDeactivated(this) && !A;
            return {
                isMe: l,
                canRemove: m,
                canDeactivate: b,
                canChangeRole: k,
                memberIsAdmin: t,
                memberIsObserver: x,
                memberIsNormal: v,
                memberIsVirtual: A,
                canMakeMember: f,
                canMakeObserver: h,
                canMakeAdmin: g,
                isMoreThanOneAdmin: c,
                isMoreThanOneMember: w
            }
        };
        b.prototype.isDismissed =
            function(b) {
                var c;
                return 0 <= F.call(null != (c = this.get("oneTimeMessagesDismissed")) ? c : [], b)
            };
        b.prototype.dismiss = function(b) {
            return this.addToSet("oneTimeMessagesDismissed", b)
        };
        b.prototype.owned = function() {
            return y.isMe(this)
        };
        b.prototype.prefNames = ["minutesBetweenSummaries"];
        b.prototype.getMemberViewTitle = function() {
            var b;
            b = this.get("username");
            return "" + this.get("fullName") + " (" + b + ")"
        };
        b.prototype.toggleColorBlindMode = function() {
            null != this.get("prefs") && (this.get("prefs").colorBlind ? this.setPref("colorBlind", !1).save() : this.setPref("colorBlind", !0).save(), $("body").toggleClass("color-blind-mode-enabled", this.get("prefs").colorBlind))
        };
        b.prototype.getOpenBoardsByOrg = function(b) {
            var c, g, f, h, m, k, l, w;
            f = {};
            k = this.boardList.models;
            h = 0;
            for (m = k.length; h < m; h++) c = k[h], !c.get("closed") && !(b && "observer" === c.get("myPermLevel")) && (g = c.toJSON(), c = null != (l = g.idOrganization) ? l : "", null == f[c] && (f[c] = {
                boards: [],
                displayName: "" === c ? "Boards" : null != (w = this.Organization.get(c)) ? w.get("displayName") : void 0
            }), f[c].boards.push(g));
            b = _.sortBy(_.keys(f), function(b) {
                return "" === b ? "" : f[b].displayName
            });
            k = [];
            h = 0;
            for (m = b.length; h < m; h++) c = b[h], k.push(f[c]);
            return k
        };
        b.prototype.checkColorBlindMode = function() {
            var b;
            return $("body").toggleClass("color-blind-mode-enabled", !0 === (null != (b = this.get("prefs")) ? b.colorBlind : void 0))
        };
        b.prototype.isFeatureEnabled = function(b) {
            return Ga.isFeatureEnabled(b, this.get("products"))
        };
        b.prototype.isGold = function() {
            return Ga.hasProduct(this.get("products"))
        };
        b.prototype.allCustomEmoji = function() {
            var b,
                c, g, f, h;
            b = {};
            if (this.isFeatureEnabled("customEmoji")) {
                h = this.customEmojiList.models;
                g = 0;
                for (f = h.length; g < f; g++) c = h[g], b[c.get("name")] = c.get("url")
            }
            return b
        };
        b.prototype.toJSON = function(d) {
            var c, g;
            null == d && (d = {});
            c = b.__super__.toJSON.apply(this, arguments);
            d.hasPassword && (c.hasPassword = 0 <= F.call(c.loginTypes, "password"));
            c.accountStanding = Ga.standingName(null != (g = this.get("paidAccount")) ? g.standing : void 0);
            return c
        };
        b.prototype.editing = function(b) {
            null == b && (b = {});
            if (!_.isEqual(b, this.lastMessage) &&
                (this.lastMessage = b, clearTimeout(this.clearLastTimeout), this.clearLastTimeout = setTimeout(function(b) {
                    return function() {
                        return b.lastMessage = null
                    }
                }(this), Td / 2), y.isLoggedIn())) return S({
                url: "" + this.urlRoot + "/" + this.id + "/editing",
                type: "post",
                background: !0,
                data: _.clone(b)
            })
        };
        b.prototype.removeMembershipConfirmation = function(b) {
            var c, g, f, h;
            g = this.getMemberViewTitle();
            c = "Organization" === b.typeName;
            f = b.get(c ? "displayName" : "name");
            y.isMe(this) ? (h = "Leave " + b.typeName + "?", g = "Leave " + f + "?", g = c ? g + " You will remain on all your boards in this organization." :
                g + " You will be removed from all cards on this board.", b = "Leave " + b.typeName) : (h = "Remove Member?", g = "Remove " + g + " from " + f + "?", g = c ? g + " The member will remain on all their boards in this organization. They will receive a notification." : g + " The member will be removed from all cards on this board. They will receive a notification.", b = "Remove Member");
            return {
                title: h,
                text: g,
                confirmText: b,
                confirmBtnClass: "negate"
            }
        };
        b.prototype.clearAllNotifications = function() {
            S({
                url: "/1/notifications/all/read",
                type: "post"
            })
        };
        return b
    }(zc);
    ob = function(c) {
        function b() {
            this.remove = k(this.remove, this);
            this.idList = k(this.idList, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = ca;
        b.prototype.sortField = "fullName";
        b.prototype.idList = function() {
            return this.pluck("id")
        };
        b.prototype.remove = function(d, c) {
            var g;
            if (null == this.sourceModel) return b.__super__.remove.apply(this, arguments);
            b.__super__.remove.call(this, d);
            g = null != c && c.invite ? "/1/" + this.sourceModel.typeName + "/" + this.sourceModel.id + "/ghost/" +
                d.id : "/1/" + this.sourceModel.typeName + "/" + this.sourceModel.id + "/members/" + d.id;
            null != c && c.mass && (g += "/all");
            return S({
                url: g,
                type: "delete",
                success: function(b) {
                    null != b && b.unreadable && B.displayErrorPage({
                        errorType: "notFound"
                    });
                    return null != c ? "function" === typeof c.success ? c.success() : void 0 : void 0
                }
            })
        };
        b.prototype.filterDeactivated = function(d) {
            var c, g, f;
            d = null != d ? d : {};
            f = d.model;
            c = d.force;
            null == f && (f = this.sourceModel);
            null == c && (c = !1);
            g = y.me();
            return new b(this.filter(function(b) {
                return ((null != f ? f.isMember(b) :
                    void 0) || (null != f ? f.isMemberObserver(b) : void 0)) && !(null != f && f.isDeactivated(b)) || (null != f ? f.canSeeDeactivated(g) : void 0) && !c
            }, this.options))
        };
        b.prototype.comparator = function(b) {
            return b.get(this.sortField)
        };
        return b
    }(La);
    Jb = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        ma(zd, b);
        b.prototype.initialize = function() {
            this.listenTo(this.model, "change:initials change:avatarHash change:avatarSource change:fullName change:username change:bio change:prefs change:paidAccount",
                this.render);
            this.listenTo(this.model, "change:initials change:fullName change:username change:bio", this.renderDetails)
        };
        b.prototype.events = {
            "click .js-change-avatar-profile": "changeAvInProfile",
            "click .js-edit-profile": "editProfile",
            "click .js-submit-profile": "submitProfile",
            "submit .js-profile-form": "submitProfile",
            "click .js-cancel-edit-profile": "cancelEditProfile",
            "click .tabbed-pane-nav-item-button:not(.active)": "switchSection",
            "click .js-gold-ad": "clickGoldAd"
        };
        b.prototype.delegateEvents = function(d) {
            return b.__super__.delegateEvents.call(this,
                _.extend({}, b.prototype.events, d || this.events))
        };
        b.prototype.render = function() {
            var b, c, g, f;
            c = y.isMe(this.model);
            b = this.model.toJSON();
            0 < this.model.organizationList.models.length && (b.showOrgs = !0);
            c && (g = null != (f = b.paidAccount) ? f.standing : void 0, b.hasAccount = Ga.hasAccount(g), b.accountProblem = Ga.problem(g), b.isMe = !0);
            b.hasCrown = this.model.isFeatureEnabled("crown");
            this.$el.html(v.fill("member_detail", b, {
                editable: c
            }));
            this.renderDetails();
            c && this.renderAd();
            this.renderMainContent();
            return this
        };
        b.prototype.renderDetails =
            function() {
                var b, c;
                c = y.isMe(this.model);
                b = this.model.toJSON();
                b.bioHtml = $a.textAsHtml(b.bio, {
                    convertNewlines: !0,
                    textData: b.bioData
                });
                b.hasCrown = this.model.isFeatureEnabled("crown");
                this.$(".js-current-details").empty().append(v.fill("member_detail_profile_info", b, {
                    editable: c
                }));
                c && this.$(".js-profile-form").empty().append(v.fill("member_detail_profile_edit", b, {
                    editable: c
                }));
                return this
            };
        b.prototype.renderAd = function() {
            var b, c, g;
            c = {};
            this.$el.removeClass("has-factoid");
            b = this.$(".js-header-factoid").empty();
            if (!(null != (g = y.me()) && g.isGold())) this.$el.addClass("has-factoid"), b.append(v.fill("factoid_gold_banner", c))
        };
        b.prototype.setActiveView = function(b) {
            this.$(".tabbed-pane-nav-item-button").removeClass("active");
            this.$(b).addClass("active")
        };
        b.prototype.changeAvInProfile = function(b) {
            l.stop(b);
            t("Member View", "Header", "Change Avatar Menu");
            x.toggle({
                elem: this.$(".js-change-avatar-profile"),
                top: 93,
                view: this.model.getView(Jc)
            })
        };
        b.prototype.editProfile = function(b) {
            l.stop(b);
            this.$(".js-current-details").addClass("hide");
            this.$(".js-profile-form").removeClass("hide");
            t("Member View", "Click Edit Profile")
        };
        b.prototype.cancelEditProfile = function(b) {
            l.stop(b);
            this.$(".js-current-details").removeClass("hide");
            this.$(".js-profile-form").addClass("hide");
            this.$(".js-profile-form")[0].reset()
        };
        b.prototype.submitProfile = function(b) {
            var c, g, f, h;
            l.stop(b);
            if (!this.disabled) {
                b = {};
                h = ["fullName", "username", "bio", "initials"];
                g = 0;
                for (f = h.length; g < f; g++) c = h[g], b[c] = this.$(".js-profile-form [name=" + c + "]").val();
                b.username = b.username.toLowerCase().replace(/[^a-z0-9_]/g,
                    "");
                b.initials = b.initials.toUpperCase();
                this.disableSubmit();
                this.model.update(b, {
                    waitForServer: !0
                }, function(b) {
                    return function(d) {
                        b.disabled = !1;
                        b.$(".js-submit-profile").removeAttr("disabled");
                        if (d) return b.$(".js-profile-form-error").removeClass("hide").text(d);
                        b.$(".js-profile-form-error").addClass("hide");
                        b.cancelEditProfile();
                        return t("Member", "Successfully Change User Info")
                    }
                }(this))
            }
        };
        b.prototype.disableSubmit = function() {
            this.disabled = !0;
            this.$(".js-submit-profile").attr("disabled", "disabled")
        };
        b.prototype.clickGoldAd = function(b) {
            return t("Member View", "Clicked Gold Ad (in Profile Header)")
        };
        return b
    }(A);
    ah = ma(nc, function(c) {
        function b() {
            this.getActionsFilter = k(this.getActionsFilter, this);
            this.loadMoreActionsAndRemoveDateLimit = k(this.loadMoreActionsAndRemoveDateLimit, this);
            this.hasMoreActionsOrDateLimited = k(this.hasMoreActionsOrDateLimited, this);
            this.renderActions = k(this.renderActions, this);
            this.renderMainContent = k(this.renderMainContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-more-actions": "loadMoreActionsAndRemoveDateLimit"
        };
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.limit = 10;
            this.daysBack = 30;
            this.actionListView = this.collectionSubview(Rb, new wb(this.getActions(), {
                modelCache: this.modelCache
            }), {
                renderOpts: {
                    context: this.model,
                    showBoard: !0,
                    showOrganization: !0,
                    readOnly: !0
                }
            });
            this.model.organizationList.onAddRemove(this.renderMainContent);
            return this.listenTo(this.modelCache, "add:Action:" + this.model.id,
                function(b) {
                    return function() {
                        b.actionListView.collection.reset(b.getActions(), {
                            silent: !0
                        });
                        return b.renderActions()
                    }
                }(this))
        };
        b.prototype.renderMainContent = function() {
            var b;
            b = this.model.toJSON();
            this.setActiveView(".js-member-profile");
            this.$(".js-content").html(v.fill("member_profile", b));
            _.defer(function(b) {
                return function() {
                    var d;
                    0 < b.model.organizationList.length ? (d = new ih({
                        model: b.model
                    }), b.$(".js-list-orgs").html(d.render().el)) : b.$(".js-list-orgs").closest(".window-module").hide();
                    b.actionListView.setElement(b.$(".list-actions")[0]);
                    return b.renderActions()
                }
            }(this));
            return this
        };
        b.prototype.renderActions = function() {
            0 === this.actionListView.collection.length ? this.actionListView.$el.html(v.fill("actions_empty", {
                daysBack: this.daysBack
            })) : this.actionListView.render();
            this.$(".js-more-actions").toggleClass("hide", !this.hasMoreActionsOrDateLimited());
            return this
        };
        b.prototype.hasMoreActionsOrDateLimited = function() {
            return null != this.daysBack || this.hasMoreActions()
        };
        b.prototype.loadMoreActionsAndRemoveDateLimit = function() {
            this.daysBack =
                null;
            return this.loadMoreActions()
        };
        b.prototype.getActionsFilter = function() {
            return "addAttachmentToCard,addChecklistToCard,addMemberToCard,commentCard,copyCommentCard,convertToCardFromCheckItem,createCard,copyCard,deleteAttachmentFromCard,emailCard,moveCardFromBoard,moveCardToBoard,removeChecklistFromCard,removeMemberFromCard,updateCard:idList,updateCard:closed,updateCheckItemStateOnCard,addMemberToBoard,addToOrganizationBoard,copyBoard,createBoard,createList,deleteCard,disablePowerUp,enablePowerUp,makeAdminOfBoard,makeNormalMemberOfBoard,makeObserverOfBoard,moveListFromBoard,moveListToBoard,removeFromOrganizationBoard,unconfirmedBoardInvitation,unconfirmedOrganizationInvitation,updateBoard,updateList:closed,updateMember"
        };
        return b
    }(Jb));
    $g = function(c) {
        function b() {
            this.loadMoreNotifications = k(this.loadMoreNotifications, this);
            this.destructor = k(this.destructor, this);
            this.renderNotificationList = k(this.renderNotificationList, this);
            this.render = k(this.render, this);
            this.initialize = k(this.initialize, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-more-notifications": "loadMoreNotifications"
        };
        b.prototype.className = "member-notifications-view";
        b.prototype.initialize = function() {
            this.nextPage =
                1;
            this.isMore = !0;
            return this.modelCache.ond("add:Notification remove:Notification change:Notification", this.renderNotificationList)
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0
            });
            b.empty = 0 === this.Notification.all().length;
            this.$el.html(v.fill("member_notifications", b));
            this.isMore || this.$(".js-more-notifications").hide();
            this.renderNotificationList();
            return this
        };
        b.prototype.renderNotificationList = function() {
            var b, c, g, f, h;
            b = this.$(".js-list-notifications");
            b.empty();
            h = this.Notification.sortedByDateDescending();
            g = 0;
            for (f = h.length; g < f; g++) c = h[g], c = c.getView(jh), b.append(c.render().el);
            return this
        };
        b.prototype.destructor = function() {
            this.model.clearAllNotifications();
            return b.__super__.destructor.apply(this, arguments)
        };
        b.prototype.loadMoreNotifications = function() {
            return O["for"](this.modelCache).loadMoreNotificationData(this.model.get("username"), this.nextPage, function(b) {
                return function(c, g) {
                    if (!c && (b.nextPage++, b.renderNotificationList(), 10 > g.length)) return b.isMore = !1, b.$(".js-more-notifications").hide()
                }
            }(this))
        };
        return b
    }(A);
    Sg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.model.organizationList.onAddRemove(function(b) {
                return function() {
                    return b.render()
                }
            }(this))
        };
        b.prototype.className = "member-boards-view";
        b.prototype.render = function() {
            var b, c, g, f, h, m;
            g = new async.queue(function(b) {
                return function(d, c) {
                    b.$el.append(d.render().el);
                    return _.defer(c)
                }
            }(this), 1);
            this.$el.empty().prepend(this.subview(be, this.model, {
                allowDismiss: !0
            }).render().el);
            g.push(this.subview(kh, this.model));
            g.push(this.subview(lh, this.model));
            m = _.sortBy(this.model.organizationList.models, function(b) {
                return b.get("displayName")
            });
            f = 0;
            for (h = m.length; f < h; f++) c = m[f], b = "orgboardlistview-" + c.id, b = this.subview(mh, this.model, {
                organization: c
            }, b), g.push(b);
            return this
        };
        return b
    }(A);
    Xg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.listenTo(this.model.boardList,
                "add remove reset", function() {
                    return this.renderMainContent()
                });
            return this.listenTo(va, "change:cardsPageSortType", function() {
                return this.renderCardsSection()
            })
        };
        b.prototype.events = {
            "click .js-toggle-sort": "toggleSort"
        };
        b.prototype.renderMainContent = function() {
            this.setActiveView(".js-member-cards");
            this.$(".js-content").html(v.fill("member_cards_base"));
            this.renderCardsSection();
            return this
        };
        b.prototype.getCards = function() {
            return this.Card.find(function(b) {
                return !b.get("closed")
            })
        };
        b.prototype.getSortType =
            function() {
                return va.getCardsPageSortType()
            };
        b.prototype.renderFilterText = function() {
            var b;
            b = "Sorting by <strong>" + this.getSortType() + "</strong>.";
            this.$(".js-sort-text").html(b)
        };
        b.prototype.toggleSort = function(b) {
            l.stop(b);
            t("Member View", "Cards Page", "Open Sorting and Filtering Options");
            x.toggle({
                elem: this.$(".js-toggle-sort"),
                top: 30,
                view: this.model.getView(Wg)
            })
        };
        b.prototype.clearContent = function() {
            return this.$(".js-cards-content").empty()
        };
        b.prototype.renderCardsSection = function() {
            switch (this.getSortType()) {
                case "board":
                    this.renderBoardSort();
                    break;
                case "date":
                    this.renderDateSort()
            }
        };
        b.prototype._appendNoVisibleCards = function() {
            var b;
            b = {
                message: y.isMe(this.model) ? "No visible cards. You must be added to a card for it to appear here." : "This member is not added to any cards you are able to see.",
                classes: "gutter",
                style: "padding: 60px 10px;"
            };
            this.$(".js-cards-content").append(v.fill("empty_list", b))
        };
        b.prototype.renderBoardSort = function() {
            var b, c, g, f, h, m, k;
            this.clearContent();
            this.renderFilterText();
            g = this.getCards();
            f = !1;
            k = this.model.boardList.models;
            h = 0;
            for (m = k.length; h < m; h++) b = k[h], b.get("closed") || (c = _.filter(g, function(c) {
                return function(c) {
                    return c.get("idBoard") === b.id
                }
            }(this)), _.isEmpty(c) || (f = !0, c = this.subview(Ug, b), this.appendSubview(c, this.$(".js-cards-content"))));
            f || this._appendNoVisibleCards();
            return this
        };
        b.prototype.renderDateSort = function() {
            var b, c, g, f, h, m, k, l, w;
            this.clearContent();
            this.renderFilterText();
            f = function(b, d) {
                return function(c) {
                    return (null == b || null != c && c >= (new Date).addDays(b)) && (null == d || null != c && c < (new Date).addDays(d))
                }
            };
            c = function(b) {
                b = b.get("due");
                return null != b ? M.parse(b) : null
            };
            f = {
                "Due in the Next Day": {
                    fxTest: f(0, 1),
                    data: {
                        isDueSoon: !0
                    }
                },
                "Due in the Next 7 Days": {
                    fxTest: f(1, 7)
                },
                "Due in the Next Month": {
                    fxTest: f(7, 28)
                },
                "Due Later": {
                    fxTest: f(28, null)
                },
                "Overdue Cards": {
                    fxTest: f(null, 0),
                    data: {
                        isOverdue: !0
                    }
                },
                "Cards with No Due Date": {
                    fxTest: function(b) {
                        return null == b
                    },
                    data: {
                        iconType: "card"
                    }
                }
            };
            h = _.sortBy(this.getCards(), function(b) {
                return function(b) {
                    return b.get("due")
                }
            }(this));
            l = !1;
            for (w in f) g = f[w], m = g.fxTest, g = g.data,
                k = function() {
                    var f, g, k;
                    k = [];
                    f = 0;
                    for (g = h.length; f < g; f++) b = h[f], m(c(b)) && k.push(b);
                    return k
                }(), _.isEmpty(k) || (l = !0, g = _.extend({
                    header: w
                }, g), g = this.subview(Vg, y.me(), {
                    templateData: g,
                    fxTest: m
                }, "datesectionview-" + w), this.appendSubview(g, this.$(".js-cards-content")));
            l || this._appendNoVisibleCards();
            return this
        };
        return b
    }(Jb);
    Wg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Sort Cards"
        };
        b.prototype.initialize = function() {
            return this.listenTo(va,
                "change:cardsPageSortType", function() {
                    return this.render()
                })
        };
        b.prototype.events = {
            "click .js-sort-by-board": "sortByBoard",
            "click .js-sort-by-due-date": "sortByDueDate"
        };
        b.prototype.render = function() {
            var b;
            b = {};
            b[va.getCardsPageSortType()] = !0;
            this.$el.html(v.fill("member_cards_filter", b));
            return this
        };
        b.prototype.sortByBoard = function(b) {
            l.stop(b);
            va.sortCardsPageByBoard();
            x.hide();
            t("Member View", "Cards Page", "Sort by Board")
        };
        b.prototype.sortByDueDate = function(b) {
            l.stop(b);
            va.sortCardsPageByDate();
            x.hide();
            t("Member View", "Cards Page", "Sort by Due Date")
        };
        return b
    }(A);
    Vg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "window-module";
        b.prototype.getCards = function() {
            var b, c, g, f;
            c = function(b) {
                b = b.get("due");
                return null != b ? M.parse(b) : null
            };
            f = this.options.fxTest;
            g = this.Card.find(function(b) {
                return !b.get("closed")
            });
            return function() {
                var h, m, k;
                k = [];
                h = 0;
                for (m = g.length; h < m; h++) b = g[h], f(c(b)) && k.push(b);
                return k
            }()
        };
        b.prototype.render = function() {
            var b;
            b = {
                iconType: "clock",
                isOverdue: !1,
                isDueSoon: !1
            };
            _.extend(b, this.options.templateData);
            0 < this.getCards().length ? (this.$el.html(v.fill("member_cards_date", b)), this.renderCards()) : this.$el.empty();
            return this
        };
        b.prototype.renderCards = function() {
            var b, c, g, f, h;
            c = [];
            h = this.getCards();
            g = 0;
            for (f = h.length; g < f; g++) b = h[g], c.push(this.subview(Gc, b, {
                dateSort: !0
            }));
            this.appendSubviews(c, this.$(".js-list"));
            b = l.formatCount(this.getCards().length, "Card", !0);
            return this.$(".js-card-total").html(b)
        };
        return b
    }(A);
    Ug =
        function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.prototype.className = "window-module";
            b.prototype.getCards = function() {
                var b;
                b = this.Card.find(function(b) {
                    return !b.get("closed")
                });
                return _.filter(b, function(b) {
                    return function(d) {
                        return d.get("idBoard") === b.model.id
                    }
                }(this))
            };
            b.prototype.render = function() {
                var b, c;
                b = this.model.toJSON({
                    prefs: !0
                });
                b.boardUrl = this.model.getUrl();
                b.permissionLevel_org && (b.permissionLevel = "org-private");
                b.idOrganization && !this.options.hideOrg &&
                    (b.org = null != (c = this.Organization.get(b.idOrganization)) ? c.toJSON() : void 0);
                0 < this.getCards().length ? (this.$el.html(v.fill("member_cards_board", b)), this.renderCards()) : this.$el.empty();
                return this
            };
            b.prototype.renderCards = function() {
                var b, c, g, f, h;
                c = [];
                h = this.getCards();
                g = 0;
                for (f = h.length; g < f; g++) b = h[g], c.push(this.subview(Gc, b, {
                    dateSort: !0
                }));
                this.appendSubviews(c, this.$(".js-list"));
                b = l.formatCount(this.getCards().length, "Card", !0);
                this.$(".js-card-total").html(b);
                return this
            };
            return b
        }(A);
    Og = function(c) {
        function b() {
            this.deleteConfirm =
                k(this.deleteConfirm, this);
            this.toggleCB = k(this.toggleCB, this);
            this.renderMainContent = k(this.renderMainContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            return this.model.ond("change:loginTypes change:prefs change:tokens change:credentials", this.renderMainContent)
        };
        b.prototype.events = {
            "click .js-change-avatar": "changeAvatar",
            "click .js-change-name-and-bio": "changeUserInfo",
            "click .js-change-password": "changePassword",
            "click .js-change-email-freq": "changeEmailFreq",
            "click .js-allow-desktop-notifications": "allowDesktopNote",
            "click .js-toggle-cb-mode": "toggleCB",
            "click .js-confirm-delete-member": "deleteConfirm",
            "click .js-add-email": "addEmail"
        };
        b.prototype.renderMainContent = function() {
            var b, c;
            b = this.model.toJSON({
                prefs: !0,
                hasPassword: !0
            });
            b["avatarSource_" + b.avatarSource] = !0;
            b.canAllowDesktopNotifications = Fb.notEnabled();
            b.cbEnabled = this.model.get("prefs").colorBlind;
            this.$(".js-content").html(v.fill("member_account",
                b, {
                    editable: y.isMe(this.model)
                }));
            this.$(".js-member-applications").html(this.model.getView(Pg).render().el);
            this.$(".js-member-sessions").html(this.model.getView(bh).render().el);
            this.$(".js-credentials-section");
            b = this.$(".js-credentials-list");
            b.empty();
            0 < this.model.get("logins").length && (c = this.collectionSubview(Zg, this.model.loginList, {
                model: this.model
            }), this.appendSubview(c, b));
            this.$(".js-content").prepend(this.subview(be, this.model, {
                allowDismiss: !1
            }).render().el);
            this.setActiveView(".js-member-account");
            return this
        };
        b.prototype.changeUserInfo = function(b) {
            l.stop(b);
            t("Member View", "Account Page", "Open Change User Info Menu");
            return x.toggle({
                elem: this.$(".js-change-name-and-bio"),
                top: 50,
                view: this.model.getView($d)
            })
        };
        b.prototype.addEmail = function(b) {
            l.stop(b);
            t("Member View", "Account Page", "Open Add Email Menu");
            return x.toggle({
                elem: $(b.target),
                top: 50,
                view: this.subview(Mg, this.model)
            })
        };
        b.prototype.changeAvatar = function(b) {
            l.stop(b);
            t("Member View", "Account Page", "Open Change Avatar Menu");
            return x.toggle({
                elem: this.$(".js-change-avatar"),
                top: 50,
                view: this.model.getView(Jc)
            })
        };
        b.prototype.changePassword = function(b) {
            l.stop(b);
            t("Member View", "Account Page", "Open Change Password Menu");
            return x.toggle({
                elem: this.$(".js-change-password"),
                top: 50,
                view: this.model.getView(Gb)
            })
        };
        b.prototype.changeEmailFreq = function(b) {
            l.stop(b);
            t("Member View", "Account Page", "Open Change Frequency Menu");
            return x.toggle({
                elem: this.$(".js-change-email-freq"),
                top: 50,
                view: this.model.getView(Yd, "account")
            })
        };
        b.prototype.allowDesktopNote = function(b) {
            l.stop(b);
            t("Member View", "Account Page", "Allow Desktop Notifications");
            return Fb.requestPermission(function(b) {
                return function() {
                    b.render()
                }
            }(this))
        };
        b.prototype.toggleCB = function(b) {
            l.stop(b);
            t("Member View", "Account Page", "Toggle Color Blind Mode");
            this.model.toggleColorBlindMode()
        };
        b.prototype.deleteConfirm = function(b) {
            l.stop(b);
            t("Member View", "Account Page", "Open Delete Account Confirmation Menu");
            x.toggle({
                elem: this.$(".js-confirm-delete-member"),
                top: 35,
                view: this.model.getView(Yg)
            })
        };
        return b
    }(Jb);
    $d =
        function(c) {
            function b() {
                this.saveChanges = k(this.saveChanges, this);
                this.showError = k(this.showError, this);
                this.render = k(this.render, this);
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.prototype.getViewTitle = function() {
                return "Change Name and Bio"
            };
            b.prototype.events = {
                "click .js-save-changes": "saveChanges"
            };
            b.prototype.render = function() {
                var b;
                b = this.model.toJSON({
                    prefs: !0
                });
                this.$el.html(v.fill("popover_change_user_info", b));
                return this
            };
            b.prototype.getValue = function(b) {
                return this.$("[name=" +
                    b + "]").val()
            };
            b.prototype.showError = function(b) {
                return this.$("#account-error").text(null != b ? b : "error").show()
            };
            b.prototype.saveChanges = function(b) {
                var c, g, f, h, m;
                l.preventDefault(b);
                b = {};
                this.$("#account-error").hide();
                m = ["fullName", "initials", "username", "bio"];
                f = 0;
                for (h = m.length; f < h; f++) c = m[f], b[c] = $.trim(this.getValue(c));
                b.username = b.username.toLowerCase().replace(/[^a-z0-9_]/g, "");
                b.initials = b.initials.toUpperCase();
                g = B.getMemberProfileUrl(this.model.get("username")) === B.location;
                this.model.update(b, {
                    waitForServer: !0
                }, function(b) {
                    return function(d) {
                        if (d) return b.showError(d);
                        x.popView();
                        g && B.setLocation({
                            location: B.getMemberProfileUrl(b.model.get("username"))
                        });
                        return t("Member", "Successfully Change User Info")
                    }
                }(this))
            };
            return b
        }(A);
    Mg = function(c) {
        function b() {
            this.saveChanges = k(this.saveChanges, this);
            this.showError = k(this.showError, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Add Email"
        };
        b.prototype.events = {
            "click .js-save-changes": "saveChanges"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("popover_add_email"));
            return this
        };
        b.prototype.showError = function(b) {
            return this.$("#account-error").text(null != b ? b : "error").show()
        };
        b.prototype.saveChanges = function(b) {
            l.preventDefault(b);
            b = this.$('[name="email"]').val();
            return this.model.run("logins", {
                email: b
            }, function(b) {
                return function(d) {
                    if (d) return b.showError(d);
                    x.popView();
                    Q.flash("Email Sent", "confirm");
                    return t("Member", "Added Email Address")
                }
            }(this))
        };
        return b
    }(A);
    Gb = function(c) {
        function b() {
            this.saveChanges = k(this.saveChanges, this);
            this.showPasswordError = k(this.showPasswordError, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.model.ond("change:loginTypes", this.render)
        };
        b.prototype.getViewTitle = function() {
            return 0 > F.call(this.model.get("loginTypes"), "password") ? "Set Password" : "Change Password"
        };
        b.prototype.events = {
            "click .js-save-changes": "saveChanges"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0,
                hasPassword: !0
            });
            this.$el.html(v.fill("popover_change_set_password", b));
            return this
        };
        b.prototype.getValue = function(b) {
            return this.$("[name=" + b + "]").val()
        };
        b.prototype.showPasswordError = function(b) {
            return this.$("#password-error").text(null != b ? b : "error").show()
        };
        b.prototype.saveChanges = function(b) {
            var c, g;
            l.preventDefault(b);
            this.$("#password-error").hide();
            g = this.getValue("oldpassword");
            b = this.getValue("password");
            c = this.getValue("password2");
            if (b || c) b !== c ? this.showPasswordError("Passwords must match.") : this.model.run("updatePassword", {
                oldPassword: g,
                newPassword: b
            }, function(b) {
                return function(d) {
                    if (null != d) return /newPassword/.test(d) ? b.showPasswordError("New password must be at least 4 characters long") : /oldPassword/.test(d) ? b.showPasswordError("The old password was incorrect") : b.showPasswordError(d);
                    t("Member", "Changed Password");
                    return x.popView()
                }
            }(this))
        };
        return b
    }(A);
    Yd = function(c) {
        function b() {
            this.changeFreq = k(this.changeFreq, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Send Emails..."
        };
        b.prototype.initialize = function() {
            return this.model.ond("change:prefs", this.render)
        };
        b.prototype.events = {
            "click li a": "changeFreq"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0
            });
            this.$el.html(v.fill("popover_set_email_freq", b));
            return this
        };
        b.prototype.changeFreq = function(b) {
            t("Member", "Changed Email Frequency");
            b = parseInt($(b.target).closest("a").attr("value"));
            this.model.setPref("minutesBetweenSummaries", b).save();
            x.popView()
        };
        return b
    }(A);
    Jc = function(c) {
        function b() {
            this.takePhoto = k(this.takePhoto, this);
            this.clearAvatar = k(this.clearAvatar, this);
            this.useGravatar = k(this.useGravatar, this);
            this.useUploadedAvatar = k(this.useUploadedAvatar, this);
            this.uploadResult = k(this.uploadResult, this);
            this.startUpload = k(this.startUpload, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Change Avatar"
        };
        b.prototype.initialize = function() {
            return this.model.ond("change:avatarSource change:uploadedAvatarHash", this.render)
        };
        b.prototype.events = {
            "change .js-upload-avatar": "startUpload",
            "click .js-use-gravatar": "useGravatar",
            "click .js-use-uploaded-avatar": "useUploadedAvatar",
            "click .js-take-photo": "takePhoto",
            "click .js-no-avatar": "clearAvatar"
        };
        b.prototype.render = function() {
            var b, c;
            b = this.model.toJSON({
                prefs: !0
            });
            b["avatarSource_" + b.avatarSource] = !0;
            b.canTakePhoto = cb.supportsGetUserMedia();
            this.$el.html(v.fill("avatar_change",
                b));
            c = this.$(".js-grav");
            c.find("img");
            b = "https://secure.gravatar.com/avatar/" + ("" + this.model.get("gravatarHash") + ".png?s=50&r=PG&d=404") + ("&_=" + Math.random());
            l.waitForImageLoad(b, function() {
                return c.show()
            });
            return this
        };
        b.prototype.startUpload = function(b) {
            var c, g, f;
            g = $(b.target);
            b = null != (c = g[0]) ? null != (f = c.files) ? f[0] : void 0 : void 0;
            c = this.$(".js-error").hide();
            if (null != b && !l.validFileSize(b)) c.text("Images can not be larger than 10mb.").show(), t("Member", "Avatar", "Upload Error - File Too Large"),
                x.calcPos();
            else {
                t("Member", "Avatar", "Use Uploaded - New");
                if (!b && g.val()) return l.uploadFile(g, this.uploadResult);
                if (null != b) return c = new FormData, c.append("token", y.myToken()), c.append("file", b), S({
                    url: g.closest("form").attr("action"),
                    data: c,
                    type: "post",
                    processData: !1,
                    contentType: !1,
                    error: function(b) {
                        return function(d) {
                            return b.uploadResult(Error(d.responseText))
                        }
                    }(this),
                    success: function(b) {
                        return function() {
                            return b.uploadResult.apply(b, [null].concat(D.call(arguments)))
                        }
                    }(this),
                    timeout: 12E4
                })
            }
        };
        b.prototype.uploadResult = function(b) {
            var c;
            c = this.$(".js-error").hide();
            if (b) return c.show().text(b), x.calcPos()
        };
        b.prototype.useUploadedAvatar = function(b) {
            t("Member", "Avatar", "Use Uploaded - Existing");
            this.model.update("avatarSource", "upload");
            return x.popView()
        };
        b.prototype.useGravatar = function(b) {
            t("Member", "Avatar", "Use Gravatar");
            this.model.update("avatarSource", "gravatar");
            return x.popView()
        };
        b.prototype.clearAvatar = function(b) {
            t("Member", "Avatar", "Use Initials");
            this.model.update("avatarSource",
                "none");
            return x.popView()
        };
        b.prototype.takePhoto = function(b) {
            b = this.model.getView(Af);
            x.pushView({
                view: b
            });
            t("Member", "Avatar", "Take Photo");
            b.connectCamera();
            return b.on("done", function(b) {
                return function(d) {
                    var c, h, m;
                    c = atob(d.split(",")[1]);
                    d = function() {
                        var b, d, e;
                        e = [];
                        m = b = 0;
                        for (d = c.length; 0 <= d ? b < d : b > d; m = 0 <= d ? ++b : --b) e.push(c.charCodeAt(m));
                        return e
                    }();
                    d = new Blob([new Uint8Array(d)], {
                        type: "image/png"
                    });
                    h = new FormData;
                    h.append("token", y.myToken());
                    h.append("file", d, "avatar.png");
                    return S({
                        url: "/1/member/" +
                            b.model.id + "/avatar",
                        data: h,
                        type: "post",
                        processData: !1,
                        contentType: !1,
                        error: function(b, d, c, e) {
                            if (413 !== b.status) return e()
                        },
                        timeout: 6E4
                    })
                }
            }(this))
        };
        return b
    }(A);
    Yg = function(c) {
        function b() {
            this.cancelDeleteMember = k(this.cancelDeleteMember, this);
            this.deleteMember = k(this.deleteMember, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Delete Account?"
        };
        b.prototype.events = {
            "click .js-delete-member": "deleteMember",
            "click .js-cancel-delete": "cancelDeleteMember"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("popover_confirm_member_delete", this.model.toJSON()));
            return this
        };
        b.prototype.deleteMember = function(b) {
            l.stop(b);
            this.$(".js-delete-member").attr("disabled", "disabled");
            this.model.run("deleteAccount", {
                msg: "troodbye!"
            }, function() {
                x.hide();
                Q.flash("Email Sent", "confirm");
                t("Member", "Sent Account Delete Email")
            })
        };
        b.prototype.cancelDeleteMember = function(b) {
            l.stop(b);
            x.hide()
        };
        return b
    }(A);
    Pg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.render = function() {
            var b, c, g, f, h;
            b = this.model.toJSON({
                prefs: !0
            });
            g = b.tokens;
            b.hasTokens = 0 < (null != g ? g.length : void 0);
            this.$el.html(v.fill("member_application_list", b));
            if (null != g) {
                b = this.$(".member-applications");
                f = 0;
                for (h = g.length; f < h; f++) c = g[f], b.append(this.model.getView(eh, c.id, c).render().el)
            }
            return this
        };
        return b
    }(A);
    bh = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.model.ond("change:sessions",
                this.render)
        };
        b.prototype.events = {
            "click .js-log-out-other": "logOutOther"
        };
        b.prototype.render = function() {
            var b, c, g, f, h;
            b = this.model.toJSON();
            this.$el.html(v.fill("member_session_list", b));
            g = b.sessions;
            if (null != g) {
                b = this.$(".js-sessions");
                f = 0;
                for (h = g.length; f < h; f++) c = g[f], b.append(this.model.getView(dh, c.id, c).render().el)
            }
            return this
        };
        b.prototype.logOutOther = function(b) {
            l.stop(b);
            this.model.run("logoutOtherSessions");
            this.model.set("sessions", _.filter(this.model.get("sessions"), function(b) {
                return function(b) {
                    return b.isCurrent
                }
            }(this)));
            return this.render()
        };
        return b
    }(A);
    eh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "application clearfix";
        b.prototype.events = {
            "click .js-revoke": "revoke"
        };
        b.prototype.render = function() {
            var b, c, g, f, h, m;
            m = this.options;
            b = m.dateExpires;
            g = m.permissions;
            b = {
                identifier: m.identifier,
                dateApproved: M.toLongString(M.parse(m.dateCreated)),
                dateExpires: b ? M.toLongString(M.parse(b)) : null,
                neverExpires: null == b
            };
            _.isEmpty(g) ? b.permissions = "read access on your public boards and organizations" :
                (g = function() {
                    var b, d, m;
                    m = [];
                    b = 0;
                    for (d = g.length; b < d; b++) c = g[b], f = "", c.read && (f += "read"), c.write && (f += " and write"), h = function() {
                            if ("*" === c.idModel) switch (c.modelType) {
                                case "*":
                                    return "your account and all boards and organizations";
                                case "Board":
                                    return "all your boards";
                                case "Organization":
                                    return "all your organizations";
                                default:
                                    return "unknown"
                            } else switch (c.modelType) {
                                case "Member":
                                    return "your account";
                                case "Board":
                                    return "a specific board";
                                case "Organization":
                                    return "a specific organization";
                                default:
                                    return "unknown"
                            }
                        }(),
                        m.push("" + f + " access on " + h);
                    return m
                }(), b.permissions = g.join(", "));
            this.$el.html(v.fill("member_application", b));
            return this
        };
        b.prototype.revoke = function(b) {
            l.stop(b);
            this.model.set("tokens", _.filter(this.model.get("tokens"), function(b) {
                return function(d) {
                    return d.id !== b.options.id
                }
            }(this)));
            return this.model.pull("tokens", this.options.id, function(b) {
                return function() {
                    return t("Member", "Applications", "Revoke App")
                }
            }(this))
        };
        return b
    }(A);
    dh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.className = "member-account-session";
        b.prototype.events = {
            "click .js-revoke": "revoke"
        };
        b.prototype.render = function() {
            var b;
            b = this.options;
            b["type_" + this.options.type] = !0;
            this.$el.html(v.fill("member_session", b));
            M.update(this.el);
            return this
        };
        b.prototype.revoke = function(b) {
            return $.get("/login/revoke", {
                id: this.options.id
            }, function(b) {
                return function() {
                    return b.model.set("sessions", _.filter(b.model.get("sessions"), function(d) {
                        return d.id !== b.options.id
                    }))
                }
            }(this))
        };
        return b
    }(A);
    Ng = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "member-login";
        b.prototype.events = {
            "click .js-primary": "setPrimary",
            "click .js-remove": "confirmDeleteLogin"
        };
        b.prototype.initialize = function() {
            return this.listenTo(this.model, "change", this.render)
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            b.dateAdded = l.idToDate(b.id);
            this.$el.html(v.fill("member_login", b));
            M.update(this.el);
            return this
        };
        b.prototype.setPrimary = function(b) {
            return S({
                url: "/1/members/me/logins/" +
                    this.model.id + "/primary",
                type: "put",
                success: function(b) {
                    return function(d) {
                        return b.model.set("primary", !0)
                    }
                }(this)
            })
        };
        b.prototype.confirmDeleteLogin = function(b) {
            l.stop(b);
            if (this.model.hasConflict()) this.trigger("requestSetPassword");
            else return pa.toggle(this.popover({
                title: "Remove Credential?",
                text: "Once you remove this credential, you won't be able to log into Trello with\nthe email " + this.model.get("email") + " anymore.",
                confirmText: "Delete Credential",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function() {
                        return b.deleteLogin()
                    }
                }(this)
            }))
        };
        b.prototype.deleteLogin = function() {
            return S({
                url: "/1/members/me/logins/" + this.model.id,
                type: "delete",
                success: function(b) {
                    return function(c) {
                        return b.model.trigger("destroy", b.model, b.model.collection)
                    }
                }(this)
            })
        };
        b.prototype.popover = function(b) {
            return _.extend({
                elem: this.$(".js-remove"),
                top: 30
            }, b)
        };
        return b
    }(A);
    Zg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.viewType = Ng;
        b.prototype.initialize = function() {
            this.on("requestSetPassword", this.showSetPassword);
            return b.__super__.initialize.apply(this, arguments)
        };
        b.prototype.showSetPassword = function(b) {
            return pa.toggle(b.popover({
                title: "Cannot remove credential",
                text: "You must set a password or log in with a different Google account to remove this credential.",
                confirmText: "Set Password",
                confirmBtnClass: "confirm",
                fxConfirm: function(c) {
                    return function(g) {
                        return x.show(b.popover({
                            view: Gb,
                            options: {
                                model: c.model
                            }
                        }))
                    }
                }(this)
            }))
        };
        return b
    }(Cb);
    Ka = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {};
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            "ghost" === this.model.get("memberType") && (b.isVirtual = !0);
            b.unconfirmed = this.options.showUnconfirmed && !b.isVirtual && !b.confirmed;
            b.showStatus = this.options.showStatus;
            b.isKnownMember = this.options.isKnownMember;
            b.extraText = this.options.extraText;
            b["status_" + this.model.get("status")] = !0;
            this.options.linkName ? b.url = "/" + this.model.get("username") : delete b.url;
            this.$el.html(v.fill("select_member",
                b, {}, {
                    member: v.member
                }));
            b.unconfirmed && this.$(".js-insert-tooltip").html(this.subview(xf, this.model).render().$el);
            this.$(".js-member").data("id", this.model.id);
            return this
        };
        return b
    }(A);
    Vd = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.listenTo(this.options.card, "change:idMembers", this.renderActive)
        };
        b.prototype.renderActive = function() {
            var b;
            return this.$(".js-member-item").toggleClass("active", (b = this.model.id,
                0 <= F.call(this.options.card.get("idMembers"), b)))
        };
        b.prototype.render = function() {
            b.__super__.render.apply(this, arguments);
            this.renderActive();
            return this
        };
        return b
    }(Ka);
    de = function() {
        function c() {}
        c.prototype.pricing = {
            monthlyProduct: "trelloGoldMonthly",
            yearlyProduct: "trelloGoldYearly",
            showRecommend: !0
        };
        c.prototype.features = Ga;
        c.prototype.productPrefix = "trelloGold";
        return c
    }();
    ae = ma(xd, de, ae = function(c) {
        function b() {
            this.initialize = k(this.initialize, this);
            this.paidAccountLoader = k(this.paidAccountLoader,
                this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.apiPath = "members";
        b.prototype.productName = "Trello Gold";
        b.prototype.changeCardUrl = function() {
            return B.getMemberBillingCardUrl(this.model)
        };
        b.prototype.productIconClass = function() {
            return "crown"
        };
        b.prototype.paidAccountLoader = function(b) {
            return O["for"](this.modelCache).loadMemberPaidAccount(this.model.id, b)
        };
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            return this.setup()
        };
        b.prototype.renderBanner =
            function() {
                var b, c, g, f, h;
                if (0 < this.model.get("idPremOrgsAdmin").length) {
                    b = v.fill("member_billing_org_link_list");
                    this.$(".js-content").prepend(b);
                    h = this.model.organizationList.models;
                    g = 0;
                    for (f = h.length; g < f; g++) c = h[g], b = c.toJSON(), c.isPremium() && c.owned() && (b.billingLink = B.getOrganizationBillingUrl(c), this.$(".js-org-link-list").append(v.fill("member_billing_org_link", b)))
                }
                return this
            };
        return b
    }(Jb));
    Qg = function(c) {
        function b() {
            this.getFormOpts = k(this.getFormOpts, this);
            this.renderMainContent = k(this.renderMainContent,
                this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.renderMainContent = function() {
            var b;
            b = this.getFormOpts();
            this.$(".js-content").empty().append((new ce(b)).render().el);
            this.setActiveView(".js-member-billing");
            return this
        };
        b.prototype.getFormOpts = function() {
            var b, c, g, f, h;
            b = {
                model: this.model,
                productName: "Trello Gold"
            };
            Ga.hasAccount(null != (c = this.model.get("paidAccount")) ? c.standing : void 0) ? _.extend(b, {
                formAreas: {
                    creditCard: !0
                },
                action: "js-submit-change-credit-card",
                productNumber: null !=
                    (g = null != (f = this.model.get("paidAccount")) ? f.products[0] : void 0) ? g : Ga.getProductNumber("trelloGoldMonthly")
            }) : _.extend(b, {
                formAreas: {
                    creditCard: !0,
                    billingContactHidden: !0,
                    subscribingTo: !0,
                    billingOptions: !0
                },
                action: "js-submit-create-paid-account",
                productNumber: Ga.getProductNumber(null != (h = this.options.product) ? h : "trelloGoldMonthly")
            });
            return b
        };
        return b
    }(Jb);
    ce = ma(de, ce = function(c) {
        function b() {
            this.billingView = k(this.billingView, this);
            this.profileView = k(this.profileView, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.profileView = function() {
            return B.defaultView()
        };
        b.prototype.billingView = function() {
            return B.memberBillingView(this.model.get("username"))
        };
        return b
    }(yd));
    xg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Voters"
        };
        b.prototype.events = {
            "click .js-more-members-voted": "showAll",
            "click .js-vote": "vote",
            "click .js-unvote": "unvote"
        };
        b.prototype.initialize = function() {
            return this.listenTo(this.model.memberVotedList,
                "add remove reset", this.render)
        };
        b.prototype.showAll = function() {
            return this.render(!0)
        };
        b.prototype.render = function(b) {
            var c, g;
            g = this.model.memberVotedList;
            var f, h, m, k;
            m = g.models;
            k = [];
            f = 0;
            for (h = m.length; f < h; f++) c = m[f], k.push(c.toJSON());
            c = {
                members: k
            };
            !0 !== b && (c.members = c.members.slice(0, 48), c.fewMembers = 14 > g.length, c.moreMembers = 48 < g.length, c.lengthDiff = g.length - 48, c.canVote = this.model.getBoard().canVote(y.me()), c.voted = _.include(this.model.get("idMembersVoted"), y.myId()));
            this.$el.html(v.fill("members_voted",
                c, {}, {
                    member: v.member
                }));
            x.calcPos();
            return this
        };
        b.prototype.vote = function(b) {
            l.preventDefault(b);
            this.model.vote(!0);
            return !1
        };
        b.prototype.unvote = function(b) {
            l.preventDefault(b);
            this.model.vote(!1);
            0 === this.model.get("idMembersVoted").length && x.hide();
            return !1
        };
        return b
    }(A);
    Zd = function(c) {
        function b() {
            this.makeObserver = k(this.makeObserver, this);
            this.makeMember = k(this.makeMember, this);
            this.makeAdmin = k(this.makeAdmin, this);
            this.isAdminAndMe = k(this.isAdminAndMe, this);
            this.getMemberType = k(this.getMemberType,
                this);
            this.apiChangeRole = k(this.apiChangeRole, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Change Permissions"
        };
        b.prototype.initialize = function() {
            this.parent = this.options.parent;
            this.listenTo(this.parent, "change:memberships", this.render)
        };
        b.prototype.events = {
            "click .js-make-admin": "makeAdmin",
            "click .js-make-member": "makeMember",
            "click .js-make-observer": "makeObserver"
        };
        b.prototype.render = function() {
            var b, c, g, f, h;
            b = this.model.getMembershipData(this.parent);
            "Board" === this.parent.typeName && (null != (c = this.parent.getOrganization()) && c.isFeatureEnabled("observers")) && _.extend(b, {
                showObserver: !0
            });
            h = ["admin", "normal", "observer"];
            g = 0;
            for (f = h.length; g < f; g++) c = h[g], b["roleText_" + c] = this.parent.getRoleText(c);
            this.$el.html(v.fill("popover_change_roles", b));
            return this
        };
        b.prototype.apiChangeRole = function(b) {
            this.$el.find("ul a").addClass("disabled");
            S({
                type: "PUT",
                url: "/1/" + this.parent.typeName.toLowerCase() + "/" + this.parent.id + "/members/" + this.model.id,
                data: {
                    type: b
                },
                success: function(c) {
                    return function() {
                        t("Member", "Change Role", b);
                        return x.hide()
                    }
                }(this)
            })
        };
        b.prototype.getMemberType = function() {
            return this.parent.getExplicitMemberType(this.model)
        };
        b.prototype.isAdminAndMe = function() {
            return "admin" === this.getMemberType() && y.isMe(this.model)
        };
        b.prototype.makeAdmin = function(b) {
            l.stop(b);
            $(b.target).closest("a").hasClass("disabled") || "admin" !== this.getMemberType() && this.apiChangeRole("admin")
        };
        b.prototype.makeMember = function(b) {
            l.stop(b);
            $(b.target).closest("a").hasClass("disabled") ||
                "normal" !== this.getMemberType() && (this.isAdminAndMe() ? pa.pushView({
                    title: "Remove Admin Privileges?",
                    text: "By becoming a normal member, you will lose all admin privileges such as the ability to change settings. To regain privileges, you will need another admin to change your role back to admin.",
                    confirmText: "Make Me a Normal Member",
                    fxConfirm: function(b) {
                        return function(d) {
                            return b.apiChangeRole("normal")
                        }
                    }(this)
                }) : this.apiChangeRole("normal"))
        };
        b.prototype.makeObserver = function(b) {
            l.stop(b);
            $(b.target).closest("a").hasClass("disabled") ||
                "observer" !== this.getMemberType() && (this.isAdminAndMe() ? pa.pushView({
                    title: "Remove Admin Privileges?",
                    text: "By becoming an observer, you will lose all admin privileges such as the ability to change settings. To regain privileges, you will need another admin to change your role back to admin.",
                    confirmText: "Make Me an Observer",
                    fxConfirm: function(b) {
                        return function(d) {
                            return b.apiChangeRole("observer")
                        }
                    }(this)
                }) : this.apiChangeRole("observer"))
        };
        return b
    }(A);
    ch = function(c) {
        function b() {
            this.apiChangeRole =
                k(this.apiChangeRole, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.apiChangeRole = function(d) {
            b.__super__.apiChangeRole.apply(this, arguments);
            if ("admin" !== d && this.isAdminAndMe()) return B.navigate(B.getOrganizationUrl(this.parent), {
                trigger: !0
            })
        };
        return b
    }(Zd);
    Rg = ma(nc, function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-more-actions": "loadMoreActions"
        };
        b.prototype.initialize =
            function() {
                this.board = this.options.board;
                this.board.memberList.onAddRemove(this.render);
                this.actionListView = this.collectionSubview(Rb, new wb(this.Action.getListForModel(this.model), {
                    modelCache: this.modelCache
                }), {
                    renderOpts: {
                        context: this.model,
                        readOnly: !0
                    }
                });
                this.listenTo(this.modelCache, "add:Action:" + this.model.id + " remove:Action:" + this.model.id, function(b) {
                    return function() {
                        b.actionListView.collection.reset(b.Action.getListForModel(b.model), {
                            silent: !0
                        });
                        return b.renderActions()
                    }
                }(this));
                this.idModels = [this.board.id];
                this.nextPage = 0;
                return this.loadMoreActions()
            };
        b.prototype.render = function() {
            this.$el.html(v.fill("board_member_profile", this.model.toJSON()));
            this.actionListView.setElement(this.$(".list-actions")[0]);
            return this.renderActions()
        };
        b.prototype.renderActions = function() {
            this.actionListView.render();
            this.$(".js-more-actions").toggle(this.hasMoreActions());
            return this
        };
        b.prototype.getActionsFilter = function() {
            return "addAttachmentToCard,addChecklistToCard,addMemberToCard,commentCard,copyCommentCard,convertToCardFromCheckItem,createCard,copyCard,deleteAttachmentFromCard,emailCard,moveCardFromBoard,moveCardToBoard,removeChecklistFromCard,removeMemberFromCard,updateCard:idList,updateCard:closed,updateCheckItemStateOnCard,addMemberToBoard,addToOrganizationBoard,copyBoard,createBoard,createList,deleteCard,disablePowerUp,enablePowerUp,makeAdminOfBoard,makeNormalMemberOfBoard,makeObserverOfBoard,moveListFromBoard,moveListToBoard,removeFromOrganizationBoard,unconfirmedBoardInvitation,unconfirmedOrganizationInvitation,updateBoard,updateList:closed,updateMember"
        };
        return b
    }(A));
    be = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            this.makeDebouncedMethods("render");
            this.listenTo(this.model, "change:oneTimeMessagesDismissed", this.renderDebounced);
            return this.listenTo(this.model, "change:paidAccount", this.renderDebounced)
        };
        b.prototype.events = {
            "click .js-close-modal": "closeGoldEarned",
            "click .js-close-intro-helper": "closeGoldIntro",
            "click .js-start-using-gold": "startUsingGold"
        };
        b.prototype.render =
            function() {
                var b, c, g, f, h;
                this.$el.empty();
                if (!y.isMe(this.model)) return this;
                f = this.viewShown;
                if (this.model.isGold() && !this.model.isDismissed("GoldIntro")) this.viewShown = "intro", this.$el.append(v.fill("member_gold_intro"));
                else if ((!this.model.isDismissed("GoldEarned") || !this.options.allowDismiss) && !this.activating)
                    if (this.viewShown = "earned", b = this.model.get("credits"), c = _.filter(b, function(b) {
                        var d;
                        return !b.applied && 0 < b.count && ("invitation" === (d = b.type) || "promoCode" === d)
                    }), b = _.reduce(c, function(b,
                        d) {
                        return b + d.count
                    }, 0)) 12 < b && (b = 12), g = _.chain(c).filter(function(b) {
                        return "invitation" === b.type && null != b.memberInvited
                    }).pluck("memberInvited").pluck("fullName").value(), h = _.filter(c, function(b) {
                        return "promoCode" === b.type
                    }), c = l.humanReadableList(g), b = {
                        hasInvitations: 0 < g.length,
                        hasPromoCodes: 0 < h.length,
                        joinedNames: c,
                        countMonths: l.formatCount(b, "month"),
                        showClose: this.options.allowDismiss
                    }, this.$el.append(v.fill("member_gold_earned", b));
                null != f && f !== this.viewShown && this.delegateEvents();
                return this
            };
        b.prototype.refreshPaidAccount = function() {
            null == this.startedPolling && (this.startedPolling = Date.now());
            if (this.startedPolling + l.getMs({
                minutes: 1
            }) < Date.now()) Q.hide("activating"), Q.show("Activating Trello Gold is taking a while, please check back later", "error", "activating-failed");
            else return O["for"](this.modelCache).loadMemberPaidAccount(this.model.id, function(b) {
                return function(c, g) {
                    if (!(c || null == g)) return b.model.isGold() ? (delete b.startedPolling, b.activating = !1, Q.hide("activating")) : b.setTimeout(_.bind(b.refreshPaidAccount,
                        b), l.getMs({
                        seconds: 1
                    }))
                }
            }(this))
        };
        b.prototype.startUsingGold = function(b) {
            l.stop(b);
            this.activating = !0;
            Q.show("Activating Trello Gold...", "info", "activating");
            this.render();
            return this.model.run("unpaidAccount", {
                products: [Ga.productShortNames.trelloGoldMonthly]
            }, function(b) {
                return function(d, c) {
                    if (null == d && c) return b.refreshPaidAccount()
                }
            }(this))
        };
        b.prototype.closeGoldEarned = function(b) {
            l.stop(b);
            return this.model.dismiss("GoldEarned")
        };
        b.prototype.closeGoldIntro = function(b) {
            l.stop(b);
            return this.model.dismiss("GoldIntro")
        };
        return b
    }(A);
    Tg = function(c) {
        function b() {
            this.renderCards = k(this.renderCards, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.render = function(b) {
            var c;
            this.cards = b;
            b = this.model.toJSON({
                prefs: !0
            });
            b.boardUrl = this.model.getUrl();
            b.permissionLevel_org && (b.permissionLevel = "org-private");
            b.idOrganization && !this.options.hideOrg && (b.org = null != (c = Sa.get(b.idOrganization)) ? c.toJSON() : void 0);
            0 < this.cards.length ? (this.$el.html(v.fill("member_cards_board",
                b)), this.renderCards()) : this.$el.empty();
            return this
        };
        b.prototype.renderCards = function() {
            var b, c, g, f, h;
            c = [];
            h = this.cards;
            g = 0;
            for (f = h.length; g < f; g++) b = h[g], c.push(this.subview(Gc, b, {
                dateSort: !0
            }));
            this.appendSubviews(c, this.$(".js-list"));
            return this
        };
        return b
    }(A);
    tf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.fDisabledSubmit = !1
        };
        b.prototype.events = {
            "click .js-feedback-form-submit": "submitFeedback"
        };
        b.prototype.render =
            function() {
                this.$el.html(v.fill("early_version_feedback_form"));
                return this
            };
        b.prototype.focusFeedback = function(b) {
            l.stop(b);
            this.$(".js-feedback-form-text").focus().select()
        };
        b.prototype.enableSubmit = function() {
            this.fDisabledSubmit = !1;
            this.$(".js-feedback-form-submit").removeAttr("disabled");
            this.$(".js-feedback-form-text").removeAttr("disabled")
        };
        b.prototype.disableSubmit = function() {
            this.fDisabledSubmit = !0;
            this.$(".js-feedback-form-text").attr("disabled", "disabled");
            this.$(".js-feedback-form-submit").attr("disabled",
                "disabled")
        };
        b.prototype.submitFeedback = function(b) {
            var c, g;
            l.stop(b);
            c = this.$(".js-feedback-form");
            c.find("input[name],textarea[name]");
            b = this.Auth.me().toJSON();
            g = new od;
            c = c.find(".js-feedback-form-text").val();
            "" === c ? this.focusFeedback() : this.fDisabledSubmit || (this.disableSubmit(), this.$(".js-feedback-form-submit").val("Submitting\u2026"), g = "\n" + c + "\n\n\n------------\n\nTrello Username: " + b.username + "\n\nTrelloVersion:\n\n" + TrelloVersion + "\n\nOS: " + g.OS + "\nBrowser: " + g.browser + " " + g.version + "\n",
                l.bugzscout({
                    me: b,
                    area: "Beta",
                    description: "New Trello Feedback: " + TrelloVersion + "\n",
                    extra: g
                }, function(b) {
                    return function(d) {
                        b.enableSubmit();
                        b.$(".js-submitted-feedback").removeClass("hide");
                        b.$(".js-feedback-form-text").val("").focus().select();
                        return b.$(".js-feedback-form-submit").val("Submit")
                    }
                }(this)))
        };
        return b
    }(A);
    Kc = function(c) {
        function b() {
            this.openOption = k(this.openOption, this);
            this.hoverMember = k(this.hoverMember, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.hoverMember =
            function(b) {
                b = $(b.target).closest(".item");
                return l.selectMenuItem(this.$(".pop-over-member-list"), ".item", b)
            };
        b.prototype.openOption = function(b) {
            var c, g;
            l.stop(b);
            t("Invitations", "Open Role Selector");
            g = $(b.target).closest(".js-select-member").find(".username").text();
            g = this.Member.findOne("username", g);
            0 < $(b.target).closest(".item.js-email-invite").length && (c = $(b.target).closest(".js-email-invite").find(".full-name").attr("name"));
            g ? x.pushView({
                    view: g.getView(fe, "selectRole", {
                        parent: this.model
                    }).setOptions({
                        onSendInvite: this.willBePopped
                    })
                }) :
                x.pushView({
                    view: y.me().getView(nh, "selectRole", {
                        parent: this.model
                    }).setOptions({
                        email: c,
                        onSendInvite: this.willBePopped
                    })
                })
        };
        return b
    }(A);
    var sf, vb, oh, ge, jh, he, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    vb = function(c) {
        function b() {
            this.getUrlOfTarget = k(this.getUrlOfTarget, this);
            this.navigateToView = k(this.navigateToView, this);
            this.markRead = k(this.markRead, this);
            this.getTemplateData = k(this.getTemplateData, this);
            this.getExpandedData = k(this.getExpandedData, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName = "Notification";
        b.prototype.urlRoot = "/1/notifications";
        b.sortedByDateDescending = function(b) {
            return _.sortBy(this.all(b), function(b) {
                return -(new Date(b.get("date"))).getTime()
            })
        };
        b.unreadCount = function(b) {
            var c, g, f, h;
            f = this.all(b);
            h = [];
            c = 0;
            for (g = f.length; c < g; c++) b = f[c], b.get("unread") && h.push(b);
            return h.length
        };
        b.prototype.getModel = function() {
            return this.collection.options.model
        };
        b.prototype.triggerCacheEvents = function(b, c) {
            var g, f, h, m;
            m = this.idModels();
            f = 0;
            for (h = m.length; f < h; f++) g = m[f], b.trigger("" + c + ":" + this.typeName + ":" + g)
        };
        b.prototype.idModels = function() {
            var b, c, g, f;
            g = null != (c = this.get("data")) ? c : {};
            f = [];
            for (b in g) c = g[b], null != (null != c ? c.id : void 0) && f.push(c.id);
            return f
        };
        b.prototype.getExpandedData = function() {
            var b, c, g, f, h;
            c = _.extend({}, null != (g = this.toJSON().data) ? g : {}, {
                date: this.get("date"),
                unread: this.get("unread")
            });
            c[this.get("type")] = !0;
            c.memberCreator = null != (h = this.Member.get(this.get("idMemberCreator"))) ? h.toJSON() : void 0;
            g = null != (b = this.get("member")) ? b.id : void 0;
            null != g && (c.member = null != (f = this.Member.get(g)) ? f.toJSON() : void 0);
            f = function(b) {
                var d, f, g, h;
                g = _.keys(b)[0];
                d = l.capitalize(g);
                f = b[g];
                return null != y.me().get("id" + d + "sInvited") && (h = f.id, 0 <= F.call(y.me().get("id" +
                    d + "sInvited"), h)) && !_.any(this.Notification.all(), function(b) {
                    return b.get("type") === "invitedTo" + d && b.get("data")[g].id === f.id && b.get("date") > c.date
                })
            };
            b = c.board;
            g = c.organization;
            0 === this.get("type").indexOf("invitedTo") && (null != b && (c.stillInvited = f({
                board: b
            })), null != g && (c.stillInvited = f({
                organization: g
            })), c.confirmed = y.me().get("confirmed"));
            return c
        };
        b.prototype.getTemplateData = function(b) {
            var c, g, f, h, m, k, s;
            b = _.extend({
                useHTML: !0,
                truncate: 250
            }, null != b ? b : {});
            c = b.useHTML;
            f = b.truncate;
            b = this.getExpandedData();
            b.entities = (new ge({
                modelCache: this.modelCache
            })).getEntityList(this.toJSON());
            "member" === b.entities[0].type && (b.member = null != (g = this.Member.get(b.entities[0].id)) ? g.toJSON() : void 0, null == b.member && (b.memberDeleted = !0), b.entities.shift(1));
            g = {
                convertNewlines: !0,
                board: b.board,
                textData: b.textData
            };
            if (c) {
                s = b.entities;
                m = 0;
                for (k = s.length; m < k; m++) c = s[m], null != c.text && (h = _.isNumber(f) ? l.truncate(c.text, f) : c.text, c.html = Ia.comments.format(h, g).output + (h.length < c.text.length ? "&hellip;" : ""))
            }
            return b
        };
        b.prototype.markRead =
            function() {
                return this.update({
                    unread: !1
                })
            };
        b.prototype.navigateToView = function() {
            var b;
            b = this.get("data");
            return null != b && null != b.card && null != b.board ? (B.displayBoard({
                idBoard: b.board.id,
                idCard: b.card.id
            }), !0) : "memberJoinedTrello" === this.get("type") ? (B.navigate("/recommend", {
                trigger: !0
            }), !0) : !1
        };
        b.prototype.getUrlOfTarget = function() {
            var b;
            b = this.get("data");
            return null != b.card ? B.getCardUrlWithoutModels(b.board.id, b.card.id, b.card.name) : null != b.board ? B.getBoardUrl(ModelCacheCache["for"]("header"),
                b.board) : null != b.organization ? B.getOrganizationUrl(b.organization.id) : B.getMemberNotificationsUrl()
        };
        return b
    }(W);
    he = function(c) {
        function b() {
            this.viewMemberActionMenu = k(this.viewMemberActionMenu, this);
            this.clickedNotification = k(this.clickedNotification, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.enablePopupMenu = !0;
        b.prototype.showStatus = !1;
        b.prototype.className = "phenom phenom-notification clearfix";
        b.prototype.events = {
            click: "clickedNotification",
            "click .js-show-mem-menu": "viewMemberActionMenu"
        };
        b.prototype.render = function() {
            var b, c;
            b = this.model.getTemplateData();
            if ("cardDueSoon" === this.model.get("type")) b.isDueDateNotification = !0, b.hasIcon = !0, this.$el.addClass("due-soon");
            else if ("declinedInvitationToBoard" === (c = this.model.get("type")) || "declinedInvitationToOrganization" === c) b.hasIcon = !0, b.isDeclinedInvitationNotification = !0;
            P("notifications", b);
            this.$el.html(v.fill("notification", b, {}, {
                entity: v.entity,
                member: v.member
            }));
            b.unread ? this.$el.addClass("unread") :
                this.$el.removeClass("unread");
            M.update(this.el);
            return this
        };
        b.prototype.clickedNotification = function(b) {
            this.model.markRead();
            this.isHeader ? t("Header", "Notifications Menu", "Clicked Notification") : this.isNotifications && t("Member View", "Notifications Page", "Clicked Notification");
            if (!$(b.target).is("a")) return this.model.navigateToView(), l.stop(b)
        };
        b.prototype.viewMemberActionMenu = function(b) {
            var c, g;
            l.stop(b);
            c = this.Member.get(null != (g = $(b.target).closest("[idmember]").attr("idmember")) ? g : this.model.get("idMemberCreator"));
            0 < $(b.target).closest(".pop-over").length ? x.pushView({
                view: Ub,
                options: {
                    model: c,
                    modelCache: this.modelCache
                }
            }) : (g = 22, 0 < $(b.target).closest(".member").length && (g = 36), x.toggle({
                elem: this.$(".js-show-mem-menu"),
                top: g,
                view: Ub,
                options: {
                    model: c,
                    modelCache: this.modelCache
                }
            }))
        };
        return b
    }(A);
    ge = function(c) {
        function b(d) {
            this.modelCache = d.modelCache;
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getCardUrl = function(d, c) {
            var g, f;
            return null != (null != (f = g = this.Card.get(c.id)) ? f.get("url") : void 0) ?
                B.getCardUrl(g) : b.__super__.getCardUrl.apply(this, arguments)
        };
        b.prototype.getBoardUrl = function(d) {
            var c, g;
            return null != (null != (g = c = this.Board.get(d.id)) ? g.get("url") : void 0) ? B.getBoardUrl(this.modelCache, c) : b.__super__.getBoardUrl.apply(this, arguments)
        };
        b.prototype.getMember = function(b) {
            return this.Member.get(b)
        };
        b.prototype.getDateMs = function(b) {
            return yc.serverToClient(b).getTime()
        };
        return b
    }(gd);
    l.extendWithModelCacheHelpers(ge);
    oh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.isHeader = !0;
        b.prototype.goToProfile = !0;
        return b
    }(he);
    jh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.isNotifications = !0;
        b.prototype.goToProfile = !1;
        return b
    }(he);
    sf = function(c) {
        function b() {
            this.allowDekstopNote = k(this.allowDekstopNote, this);
            this.changeEmailFrequency = k(this.changeEmailFrequency, this);
            this.viewAllNotifications = k(this.viewAllNotifications, this);
            this.render = k(this.render, this);
            this.markUnread = k(this.markUnread,
                this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Notifications"
        };
        b.prototype.maxWidth = 450;
        b.prototype.displayType = "popover-notifications";
        b.prototype.className = "header-notification-list";
        b.prototype.events = {
            "click .js-view-all-notifications": "viewAllNotifications",
            "click .js-change-email-frequency": "changeEmailFrequency",
            "click .js-allow-desktop-notifications": "allowDekstopNote"
        };
        b.prototype.markUnread = function() {
            var b, c, g, f;
            g = this.menuRows;
            for (b in g) c = g[b], c.model.get("unread") && null != (f = this.Notification.get(b)) && f.markRead()
        };
        b.prototype.render = function() {
            var b, c, g, f, h, m;
            this.$el.empty();
            c = {};
            this.menuRows = {};
            b = 0;
            f = this.Notification.sortedByDateDescending();
            h = 0;
            for (m = f.length; h < m; h++) {
                g = f[h];
                if (4 < b) break;
                b++;
                this.menuRows[g.id] = g.getView(oh, "header");
                this.$el.append(this.menuRows[g.id].render().el)
            }
            if (0 < f.length) {
                c.hasNotifications = !0;
                h = this.Notification.sortedByDateDescending().slice(5);
                m = [];
                b = 0;
                for (f = h.length; b < f; b++) g = h[b], g.get("unread") &&
                    m.push(g);
                g = m.length;
                c.unreadText = 0 === g ? "" : " (" + g + " more unread)";
                c.noteUrl = "/" + this.model.get("username") + "/notifications";
                c.canAllowDesktopNotifications = Fb.notEnabled()
            } else c.hasNotifications = !1;
            this.$el.append(v.fill("header_notification_list_menu", c));
            return this
        };
        b.prototype.viewAllNotifications = function() {
            return t("Header", "Notifications Menu", "See All Notifications")
        };
        b.prototype.changeEmailFrequency = function(b) {
            l.stop(b);
            t("Header", "Notifications Menu", "Change Email Frequency");
            x.pushView({
                view: this.model.getView(Yd,
                    "notifications")
            })
        };
        b.prototype.allowDekstopNote = function(b) {
            l.stop(b);
            t("Header", "Notifications Menu", "Allow Desktop Notifications");
            Fb.requestPermission(function(b) {
                return function() {
                    b.render()
                }
            }(this))
        };
        return b
    }(A);
    var ph, qh, rh, sh, Pb, th, uh, Sa, vh, wh, xh, ie, yh, zh, Ah, Bh, Ch, fh, Dh, ih, Eh, Fh, Gh, Lc, Hh, je, Ih, Jh, eb, Kh, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        D = [].slice,
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    Sa = function(c) {
        function b() {
            this.getRoleText = k(this.getRoleText, this);
            this.getPermLevelAltText = k(this.getPermLevelAltText, this);
            this.getPermLevelDisplayText = k(this.getPermLevelDisplayText, this);
            this.getPermLevelIconClass = k(this.getPermLevelIconClass, this);
            this.isFeatureEnabled = k(this.isFeatureEnabled, this);
            this.isLinkedToGoogleApps =
                k(this.isLinkedToGoogleApps, this);
            this.owned = k(this.owned, this);
            this.canSetVisibility = k(this.canSetVisibility, this);
            this.canAddBoard = k(this.canAddBoard, this);
            this.ownedByMember = k(this.ownedByMember, this);
            this.isJPS = k(this.isJPS, this);
            this.isPremiumYearly = k(this.isPremiumYearly, this);
            this.isPremiumMonthly = k(this.isPremiumMonthly, this);
            this.isPremium = k(this.isPremium, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        ma(Bd, b);
        b.prototype.typeName = "Organization";
        b.prototype.nameAttr = "displayName";
        b.prototype.urlRoot = "/1/organizations";
        b.prototype.initialize = function() {
            b.__super__.initialize.call(this);
            return this.destruct([this.invitationList = new Lh([]), this.boardList = (new ee).syncModel(this, "idBoards"), this.memberList = (new ob).syncModel(this, "memberships", {
                fxGetIds: function(b) {
                    return _.pluck(b, "idMember")
                }
            }), this.adminList = (new ob).syncModel(this, "memberships", {
                fxGetIds: function(b) {
                    return function(b) {
                        return _.pluck(_.filter(b, function(b) {
                            var d;
                            d = b.memberType;
                            b = b.deactivated;
                            return "admin" ===
                                d && !b
                        }), "idMember")
                    }
                }(this)
            })])
        };
        b.prototype.prefNames = ["permissionLevel", "orgInviteRestrict", "boardVisibilityRestrict", "externalMembersDisabled"];
        b.prototype.editable = function() {
            var b, c;
            b = y.me();
            c = this.getMembershipFor(b);
            return b && "admin" === (null != c ? c.memberType : void 0)
        };
        b.prototype.isPremium = function() {
            return aa.hasProduct(this.get("products"))
        };
        b.prototype.isPremiumMonthly = function() {
            return this.isPremium() && aa.isMonthly(this.get("products"))
        };
        b.prototype.isPremiumYearly = function() {
            return this.isPremium() &&
                "yearly" === aa.getInterval(this.get("products"))
        };
        b.prototype.totalPerUserPrice = function(b) {
            var c;
            c = this.get("billableMemberCount");
            if (aa.isPerUser(b) && null != c) return c * aa.getPrice(b)
        };
        b.prototype.isJPS = function() {
            return 0 < _.intersection([96, 97], this.get("products")).length
        };
        b.prototype.isMember = function(b) {
            var c;
            return "virtual" === (c = this.getMemberType(b)) || "normal" === c || "admin" === c
        };
        b.prototype.ownedByMember = function(b) {
            return "admin" === this.getMemberType(b)
        };
        b.prototype.canAddBoard = function(b) {
            if (!this.isFeatureEnabled("restrictVis")) return !0;
            b = b.get("prefs").permissionLevel;
            return this.canSetVisibility(b)
        };
        b.prototype.canSetVisibility = function(b) {
            if (!this.isFeatureEnabled("restrictVis")) return !0;
            b = this.get("prefs").boardVisibilityRestrict[b];
            return !b || "org" === b || "admin" === b && this.owned()
        };
        b.prototype.owned = function() {
            return "admin" === this.getMemberType(y.me())
        };
        b.prototype.isLinkedToGoogleApps = function() {
            return this.isFeatureEnabled("googleApps") && this.get("prefs").associatedDomain
        };
        b.prototype.isFeatureEnabled = function(b) {
            return aa.isFeatureEnabled(b,
                this.get("products"))
        };
        b.prototype.toJSON = function(d) {
            var c, g;
            null == d && (d = {});
            c = b.__super__.toJSON.apply(this, arguments);
            d.url && (c.url = B.getOrganizationUrl(this.get("name")));
            _.extend(c, this.premiumFeatures());
            c.accountStanding = aa.standingName(null != (g = this.get("paidAccount")) ? g.standing : void 0);
            return c
        };
        b.prototype.premiumFeatures = function() {
            var b, c, g, f, h;
            c = {};
            h = aa.features(this.get("products"));
            g = 0;
            for (f = h.length; g < f; g++) b = h[g], c["premium:" + b] = !0;
            return c
        };
        b.prototype.getPermLevelIconClass = function(b) {
            var c;
            null == b && (b = null != (c = this.get("prefs")) ? c.permissionLevel : void 0);
            return b
        };
        b.prototype.getPermLevelDisplayText = function(b) {
            var c;
            null == b && (b = null != (c = this.get("prefs")) ? c.permissionLevel : void 0);
            return l.toTitleCase(b)
        };
        b.prototype.getPermLevelAltText = function(b) {
            var c;
            null == b && (b = null != (c = this.get("prefs")) ? c.permissionLevel : void 0);
            switch (b) {
                case "private":
                    return "This organization is private. It's not indexed or visible to those outside the org.";
                case "public":
                    return "This organization is public. It's visible to anyone with the link and will show up in search engines like Google. Only those invited to the org can add and edit org boards."
            }
        };
        b.prototype.getRoleText = function(b) {
            var c;
            c = "";
            this.isFeatureEnabled("superAdmins") && (c = " Will have admin rights on all boards in this organization.");
            switch (b) {
                case "admin":
                    return "Can view, create and edit org boards, and change settings for the organization." + c;
                case "normal":
                    return "Can view, create, and edit org boards, but not change settings.";
                default:
                    return ""
            }
        };
        return b
    }(zc);
    fh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Sa;
        b.prototype.initialize =
            function() {
                this.bind("change:name", this.sort)
            };
        b.prototype.comparator = function(b) {
            var c;
            return (null != (c = b.get("name")) ? c.toUpperCase() : void 0) || ""
        };
        return b
    }(La);
    eb = function(c) {
        function b() {
            this.submitProfile = k(this.submitProfile, this);
            this.cancelEditProfile = k(this.cancelEditProfile, this);
            this.editProfile = k(this.editProfile, this);
            this.membershipChange = k(this.membershipChange, this);
            this.renderDetails = k(this.renderDetails, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        ma(zd, b);
        b.prototype.initialize = function() {
            this.makeDebouncedMethods("render");
            this.listenTo(this.model, "change:logoHash change:products change:paidAccount change:prefs", this.render);
            this.listenTo(this.model, "change:name change:displayName change:website change:desc", this.renderDetails);
            this.listenTo(this.model, "change:memberships", this.membershipChange);
            this.listenTo(this.model.memberList, "add remove reset", this.renderDebounced);
            this.memberTypeMe = this.model.getMemberType(y.me())
        };
        b.prototype.events = {
            "click .js-change-org-logo": "changeLogoInProfile",
            "click .js-edit-profile": "editProfile",
            "click .js-submit-profile": "submitProfile",
            "submit .js-profile-form": "submitProfile",
            "click .js-cancel-edit-profile": "cancelEditProfile",
            "click .tabbed-pane-nav-item-button:not(.active)": "switchSection"
        };
        b.prototype.render = function() {
            var b, c, g;
            b = this.model.toJSON({
                prefs: !0,
                url: !0,
                premium: !0
            });
            this.model.editable() && (c = null != (g = b.paidAccount) ? g.standing : void 0, b.hasAccount = aa.hasAccount(c),
                b.accountActive = aa.active(b.paidAccount), b.accountProblem = aa.problem(c), b.accountInactive = aa.inactive(c));
            b.isInOrg = this.model.isMember(y.me());
            b.hasBusinessClass = this.model.isPremium();
            b.isOrgAdmin = this.model.owned();
            b.isBusinessClassAdmin = this.model.isPremium() && this.model.owned();
            b.pLevelAltText = this.model.getPermLevelAltText();
            b.pLevelDisplayText = this.model.getPermLevelDisplayText();
            b.websiteHref = l.sanitizeWebAddress(b.website);
            b.descriptionHtml = $a.textAsHtml(b.desc, {
                convertNewlines: !0,
                textData: b.descData
            });
            this.$el.html(v.fill("org_detail", b, {
                editable: this.model.editable()
            }));
            this.renderDetails();
            this.model.isMember(y.me()) && this.renderAd();
            this.renderMainContent();
            return this
        };
        b.prototype.renderDetails = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0,
                url: !0,
                premium: !0
            });
            b.hasBusinessClass = this.model.isPremium();
            b.isOrgAdmin = this.model.owned();
            b.pLevelAltText = this.model.getPermLevelAltText();
            b.pLevelDisplayText = this.model.getPermLevelDisplayText();
            b.websiteHref = l.sanitizeWebAddress(b.website);
            b.descriptionHtml =
                $a.textAsHtml(b.desc, {
                    convertNewlines: !0,
                    textData: b.descData
                });
            this.$(".js-current-details").empty().append(v.fill("org_detail_profile_info", b, {
                editable: this.model.editable()
            }));
            this.model.editable() && this.$(".js-profile-form").empty().append(v.fill("org_detail_profile_edit", b, {
                editable: this.model.editable()
            }));
            return this
        };
        b.prototype.renderAd = function() {
            var b, c, g;
            this.$el.removeClass("has-factoid");
            b = this.$(".js-header-factoid").empty();
            this.model.isPremium() ? this.model.isJPS() || (g = "factoid_bc_banner_upgrade",
                c = this.model.owned() ? "/" + this.model.get("name") + "/billing" : "/" + this.model.get("name") + "/plans", c = {
                    url: c
                }, this.$el.addClass("has-factoid"), b.append(v.fill(g, c))) : (g = "factoid_bc_banner", c = {
                url: "/" + this.model.get("name") + "/plans"
            }, this.$el.addClass("has-factoid"), b.append(v.fill(g, c)))
        };
        b.prototype.delegateEvents = function(d) {
            return b.__super__.delegateEvents.call(this, _.extend({}, b.prototype.events, d || this.events))
        };
        b.prototype.membershipChange = function() {
            var b;
            b = this.model.getMemberType(y.me());
            if (b !==
                this.memberTypeMe) return this.memberTypeMe = b, this.render()
        };
        b.prototype.setActiveView = function(b) {
            this.$(".tabbed-pane-nav-item-button").removeClass("active");
            this.$(b).addClass("active")
        };
        b.prototype.changeLogoInProfile = function(b) {
            l.stop(b);
            t("Organization View", "Detail Sidebar", "Open Change Logo Menu - From Profile Image");
            x.toggle({
                elem: this.$(".js-change-org-logo"),
                top: $(b.target).parent().height() + 10,
                view: this.model.getView(rh)
            })
        };
        b.prototype.editProfile = function(b) {
            l.stop(b);
            this.$(".js-current-details").addClass("hide");
            this.$(".js-profile-form").removeClass("hide");
            t("Member View", "Click Edit Profile")
        };
        b.prototype.cancelEditProfile = function(b) {
            l.stop(b);
            this.$(".js-current-details").removeClass("hide");
            this.$(".js-profile-form").addClass("hide");
            this.$(".js-profile-form")[0].reset()
        };
        b.prototype.submitProfile = function(b) {
            var c, g, f, h;
            l.stop(b);
            if (!this.disabled) {
                b = {};
                h = ["displayName", "name", "website", "desc"];
                g = 0;
                for (f = h.length; g < f; g++) c = h[g], b[c] = this.$(".js-profile-form [name=" + c + "]").val();
                b.name = b.name.toLowerCase().replace(/[^a-z0-9_]/g,
                    "");
                this.disableSubmit();
                this.model.update(b, {
                    waitForServer: !0
                }, function(b) {
                    return function(d) {
                        b.disabled = !1;
                        b.$(".js-submit-profile").removeAttr("disabled");
                        if (d) return b.$(".js-profile-form-error").removeClass("hide").text(d);
                        b.$(".js-profile-form-error").addClass("hide");
                        b.cancelEditProfile();
                        return t("Organization", "Changed Name and Details")
                    }
                }(this))
            }
        };
        b.prototype.disableSubmit = function() {
            this.disabled = !0;
            this.$(".js-submit-profile").attr("disabled", "disabled")
        };
        return b
    }(A);
    rh = function(c) {
        function b() {
            this.removeLogo =
                k(this.removeLogo, this);
            this.uploadResult = k(this.uploadResult, this);
            this.startUpload = k(this.startUpload, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Change Logo"
        };
        b.prototype.initialize = function() {
            return this.model.ond("change:logoHash", this.render)
        };
        b.prototype.events = {
            "change .js-upload-logo": "startUpload",
            "click .js-remove-logo": "removeLogo"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0
            });
            this.$el.html(v.fill("popover_org_logo", b));
            return this
        };
        b.prototype.startUpload = function(b) {
            var c, g, f, h;
            f = $(b.target);
            c = this.$(".js-error").hide();
            b = null != (g = f[0]) ? null != (h = g.files) ? h[0] : void 0 : void 0;
            if (null != b && !l.validFileSize(b)) c.text("Images can not be larger than 10mb.").show(), t("Organization", "Logo", "Upload Error - File Too Large"), x.calcPos();
            else {
                if (!b && f.val()) return l.uploadFile(f, this.uploadResult);
                if (null != b) return g = new FormData, g.append("token", y.myToken()), g.append("file", b), S({
                    url: f.closest("form").attr("action"),
                    data: g,
                    type: "post",
                    processData: !1,
                    contentType: !1,
                    error: function(b) {
                        return function(d) {
                            return b.uploadResult(Error(d.responseText))
                        }
                    }(this),
                    success: function(b) {
                        return function() {
                            return b.uploadResult.apply(b, [null].concat(D.call(arguments)))
                        }
                    }(this),
                    timeout: 12E4
                })
            }
        };
        b.prototype.uploadResult = function(b) {
            var c;
            c = this.$(".js-error").hide();
            if (b) return t("Organization", "Logo", "Error - " + b), c.show().text(b), x.calcPos();
            t("Organization", "Logo", "Use Uploaded - New");
            return x.hide()
        };
        b.prototype.removeLogo =
            function(b) {
                l.stop(b);
                S({
                    url: "/1/organizations/" + this.model.id + "/logo",
                    type: "DELETE",
                    success: function(b) {
                        return function() {
                            t("Organization", "Logo", "Remove Logo");
                            return x.hide()
                        }
                    }(this)
                })
            };
        return b
    }(A);
    ih = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.tagName = "ul";
        b.prototype.className = "org-list";
        b.prototype.initialize = function(b) {
            this.model.organizationList.onAddRemove(this.render).ond("change:closed", this.render)
        };
        b.prototype.render = function() {
            var b, c, g, f;
            b = this.model;
            $(this.el).html("");
            f = b.organizationList.models;
            b = 0;
            for (g = f.length; b < g; b++) c = f[b], c = new Dh({
                model: c
            }), $(this.el).append(c.render().el);
            return this
        };
        return b
    }(A);
    Dh = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.tagName = "li";
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0,
                url: !0
            });
            b.visIconClass = this.model.getPermLevelIconClass();
            b.hasBusinessClass =
                this.model.isPremium();
            this.$el.html(v.fill("organization_list_item", b));
            return this
        };
        return b
    }(A);
    zh = function(c) {
        function b() {
            this.showPrivateBoards = k(this.showPrivateBoards, this);
            this.closeBCIntro = k(this.closeBCIntro, this);
            this.renderMainContent = k(this.renderMainContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.listenTo(this.model, "change", this.renderDebounced)
        };
        b.prototype.events = {
            "click .js-show-other-private-boards-section": "showPrivateBoards",
            "click .js-close-intro-helper": "closeBCIntro"
        };
        b.prototype.renderMainContent = function() {
            var b;
            b = this.model.toJSON();
            b.isJPS = this.model.isJPS();
            b.hasBusinessClass = this.model.isPremium();
            b.isBusinessClassAdmin = this.model.isPremium() && this.model.owned();
            this.model.getMembershipFor(y.me());
            this.$(".js-content").empty();
            b.isBusinessClassAdmin && !y.me().isDismissed("BCIntro-" + this.model.id) && this.$(".js-content").append(v.fill("org_bc_intro", b));
            this.$(".js-content").append(v.fill("org_profile", b, {
                editable: this.model.editable(),
                owned: this.model.owned()
            }));
            this.renderBoards();
            this.setActiveView(".js-org-profile");
            return this
        };
        b.prototype.closeBCIntro = function() {
            y.me().dismiss("BCIntro-" + this.model.id);
            t("Organization View", "Profile Page", "Dismiss BC Intro Helper");
            this.renderMainContent();
            l.scrollToTop()
        };
        b.prototype.renderBoards = function() {
            this.$(".js-main-boards-section").empty();
            this.model.getMembershipFor(y.me()) ? this.$(".js-main-boards-section").append(this.subview(Mh, this.model).render().el).append(this.subview(Nh,
                this.model).render().el) : this.$(".js-main-boards-section").append(this.subview(Oh, this.model).render().el);
            this.model.isPremium() && this.model.owned() && this.$(".js-other-private-boards-section").empty().append(this.subview(Ph, this.model).render().el);
            return this
        };
        b.prototype.showPrivateBoards = function(b) {
            l.stop(b);
            t("Organization View", "Profile Page", "Show Other Member's Private Boards");
            this.$(b.target).closest("a").addClass("hide");
            this.$(".js-other-private-boards-section").removeClass("hide")
        };
        return b
    }(eb);
    vh = function(c) {
        function b() {
            this.orgDeleteConfirm = k(this.orgDeleteConfirm, this);
            this.renderMainContent = k(this.renderMainContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-change-org-vis": "openChangeOrgVis",
            "click .js-restrict-inv-org": "openChangeOrgInviteRestrictions",
            "click .js-restrict-board-vis": "openChangeBoardVisRestrictions",
            "click .js-confirm-delete-org": "orgDeleteConfirm",
            "click .js-toggle-non-org-member-board-invites": "toggleNonOrgMemberBoardInvites"
        };
        b.prototype.renderMainContent = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0,
                url: !0,
                premium: !0
            });
            b.externalMembersDisabled = b.prefs.externalMembersDisabled;
            b.canDelete = !this.model.isPremium() || aa.willExpire(b.paidAccount);
            this.$(".js-content").html(v.fill("org_account", b, {
                editable: this.model.editable()
            }));
            this.setActiveView(".js-org-account");
            return this
        };
        b.prototype.openChangeOrgVis = function(b) {
            l.stop(b);
            t("Organization View", "Account Page", "Open Change Org Visibility");
            x.toggle({
                elem: this.$(".js-change-org-vis"),
                top: 50,
                view: this.model.getView(sh)
            })
        };
        b.prototype.openChangeOrgInviteRestrictions = function(b) {
            l.stop(b);
            t("Organization View", "Account Page", "Open Restrict Org Invites by Email Domain");
            x.toggle({
                elem: this.$(".js-restrict-inv-org"),
                top: 50,
                view: this.model.getView(Jh),
                autoPosition: !0
            })
        };
        b.prototype.toggleNonOrgMemberBoardInvites = function(b) {
            l.stop(b);
            t("Organization View", "Account Page", "Toggle Allow Inviting Non-Org Members to Boards");
            x.toggle({
                elem: this.$(".js-toggle-non-org-member-board-invites"),
                top: 50,
                view: this.model.getView(wh)
            })
        };
        b.prototype.openChangeBoardVisRestrictions = function(b) {
            l.stop(b);
            t("Organization View", "Account Page", "Open Change Board Visibility");
            x.toggle({
                elem: this.$(".js-restrict-board-vis"),
                top: 50,
                view: this.model.getView(Ih)
            })
        };
        b.prototype.orgDeleteConfirm = function(b) {
            l.stop(b);
            t("Organization View", "Account Page", "Open Delete Org Dialog");
            this.$(".js-delete-org").attr("disabled", "disabled");
            pa.toggle({
                elem: $(b.target),
                top: 35,
                model: this.model,
                title: "Delete Organization?",
                text: "Deleting an organization is permanent. Are you sure you want to delete this organization? There is no undo. Boards with this organization won't be deleted. Your boards in this organization will appear in your personal boards list.",
                confirmText: "Delete Forever",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(d) {
                        return b.model.destroy({
                            success: function() {
                                t("Organization", "Successfully Delete");
                                x.hide();
                                return B.navigate("/", {
                                    trigger: !0
                                })
                            }
                        })
                    }
                }(this)
            })
        };
        return b
    }(eb);
    wh = function(c) {
        function b() {
            this.togglePref =
                k(this.togglePref, this);
            this.render = k(this.render, this);
            this.getViewTitle = k(this.getViewTitle, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Inviting Non-Org Members"
        };
        b.prototype.initialize = function() {
            return this.model.bind("change:prefs", this.render)
        };
        b.prototype.events = {
            "click a": "togglePref"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0,
                url: !0,
                premium: !0
            });
            b.externalMembersDisabled = b.prefs.externalMembersDisabled;
            this.$el.html(v.fill("org_prefs_nonorg_invites", b, {
                editable: this.model.editable()
            }));
            return this
        };
        b.prototype.togglePref = function(b) {
            l.stop(b);
            this.model.setPref("externalMembersDisabled", !this.model.getPref("externalMembersDisabled"))
        };
        return b
    }(A);
    Bh = function(c) {
        function b() {
            this.clickCreateNewExport = k(this.clickCreateNewExport, this);
            this["export"] = k(this["export"], this);
            this.renderExports = k(this.renderExports, this);
            this.renderMainContent = k(this.renderMainContent, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            return this.listenTo(this.model, "change:exports", this.renderExports)
        };
        b.prototype.events = {
            "click .js-create-new-export": "clickCreateNewExport",
            "click .js-download-export": "downloadExport"
        };
        b.prototype.renderMainContent = function() {
            var b;
            b = {};
            b.hasCSV = this.model.isFeatureEnabled("csvExport");
            this.$(".js-content").html(v.fill("org_export", b, {
                editable: this.model.editable()
            }));
            this.renderExports();
            this.setActiveView(".js-org-export");
            return this
        };
        b.prototype.renderExports =
            function() {
                var b, c, g, f, h, m;
                c = this.model.toJSON({
                    prefs: !0
                });
                b = this.$(".js-list-exports").empty();
                if (_.isEmpty(c.exports)) g = v.fill("org_export_empty");
                else {
                    g = "";
                    m = c.exports;
                    f = 0;
                    for (h = m.length; f < h; f++) c = m[f], c = _.clone(c), c.size = $a.bytes(c.size), c.time = M.toLongString(M.parse(c.startedAt)), c.generating = null == c.exportUrl, g += v.fill("org_export_item", c)
                }
                b.append(g);
                return this
            };
        b.prototype["export"] = function(b) {
            return S({
                url: "/1/organizations/" + this.model.get("name") + "/exports",
                method: "post",
                data: {
                    attachments: b
                },
                success: function(c) {
                    return function(g) {
                        t("Organization", "Export", "" + (b ? "With Attachments" : "Without Attachments"));
                        if (null != g) return c.model.get("exports").unshift(g), c.model.trigger("change:exports")
                    }
                }(this),
                error: function(b) {
                    return function(b, d) {
                        return -1 < b.responseText.indexOf("in progress") ? Q.show("Your organization already has an export in progress", "error", "alert", 5E3) : d()
                    }
                }(this)
            })
        };
        b.prototype.clickCreateNewExport = function(b) {
            l.stop(b);
            return this.$("#includeAttachments").is(":checked") ? this["export"](!0) :
                this["export"](!1)
        };
        b.prototype.downloadExport = function(b) {
            t("Organization", "Download Export")
        };
        return b
    }(eb);
    Gh = function(c) {
        function b() {
            this.openManageMembers = k(this.openManageMembers, this);
            this.searchMembers = k(this.searchMembers, this);
            this.getGoogleAppsData = k(this.getGoogleAppsData, this);
            this.startLinkingGoogleApps = k(this.startLinkingGoogleApps, this);
            this.renderMembers = k(this.renderMembers, this);
            this.getMembers = k(this.getMembers, this);
            this.updateMembers = k(this.updateMembers, this);
            this.hideHidden =
                k(this.hideHidden, this);
            this.showAll = k(this.showAll, this);
            this.renderMainContent = k(this.renderMainContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.getGoogleAppsData();
            this.model.ond("change:memberships", this.updateMembers).ond("hideMember", this.renderMainContent).ond("unhideMember", this.renderMainContent)
        };
        b.prototype.events = {
            "keyup .js-search": "searchMembers",
            "click .js-link-google-apps": "startLinkingGoogleApps",
            "click .js-show-all": "showAll",
            "click .js-hide-hidden": "hideHidden",
            "click .js-manage-members": "openManageMembers"
        };
        b.prototype.renderMainContent = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0
            });
            b.canLinkGoogleApps = this.model.isFeatureEnabled("googleApps") && (!this.model.get("prefs").associatedDomain || this.googleAppsFetchFailed) && this.model.editable();
            b.canShowAll = this.model.isFeatureEnabled("googleApps") && null != this.mappingsData && _.find(this.mappingsData, function(b) {
                return function(d) {
                    var c;
                    return null !=
                        (c = b.Member.findOne("gMail", d.gMail)) ? c.get("hidden") : void 0
                }
            }(this));
            b.showingAll = this.showingAll;
            this.$(".js-content").html(v.fill("org_members", b, {
                editable: this.model.editable()
            }));
            this.setActiveView(".js-org-members");
            this.renderMembers(this.getMembers());
            return this
        };
        b.prototype.showAll = function() {
            this.showingAll = !0;
            return this.renderMainContent()
        };
        b.prototype.hideHidden = function() {
            this.showingAll = !1;
            return this.renderMainContent()
        };
        b.prototype.updateMembers = function() {
            this.renderMembers(this.getMembers());
            return this.getGoogleAppsData()
        };
        b.prototype.getMembers = function() {
            var b, c, g, f, h, m;
            g = _.clone(this.model.memberList.models);
            if (null != this.mappingsData) {
                m = this.mappingsData;
                c = 0;
                for (h = m.length; c < h; c++) f = m[c], null != f.idMember ? (b = this.Member.get(f.idMember), null == b ? b = new ca({
                    id: f.idMember,
                    fullName: f.fullName,
                    gMail: f.gMail,
                    initials: f.initials,
                    hidden: f.hidden
                }, {
                    modelCache: this.modelCache
                }) : b.set("gMail", f.gMail)) : (b = this.Member.findOne("gMail", f.gMail), null == b && (b = new ca({
                    fullName: f.fullName,
                    gMail: f.gMail,
                    initials: f.initials,
                    hidden: f.hidden
                }, {
                    modelCache: this.modelCache
                }), f.idMember = b.cid)), 0 > F.call(g, b) && g.push(b)
            }
            f = _.sortBy(g, function(b) {
                return b.get("fullName")
            });
            b = [];
            c = 0;
            for (h = f.length; c < h; c++) g = f[c], "deactivated" === this.model.getMemberType(g) && b.push(g);
            c = [];
            h = 0;
            for (m = f.length; h < m; h++) g = f[h], "virtual" === this.model.getMemberType(g) && c.push(g);
            return _.difference(f, c, b).concat(b).concat(c)
        };
        b.prototype.renderMembers = function(b) {
            var c, g, f;
            c = this.$(".js-member-list").empty();
            if (0 === b.length) c.append("<p class='quiet gutter' style='padding: 15px 0;'>No results.</p>");
            else {
                g = null != this.mappingsData;
                var h, m, k;
                k = [];
                h = 0;
                for (m = b.length; h < m; h++) f = b[h], k.push(this.subview(Fh, f, {
                    org: this.model,
                    showAll: this.showingAll,
                    googleAppsLoaded: g
                }));
                this.appendSubviews(k, c)
            }
            return this
        };
        b.prototype.startLinkingGoogleApps = function(b) {
            l.stop(b);
            t("Organization View", "Members Page", "Start Linking Google Apps Domain");
            return $(b.target).hasClass("disabled") ? (l.stop(b), !1) : x.toggle({
                elem: this.$(".js-link-google-apps"),
                top: 40,
                view: this.model.getView(Ch)
            })
        };
        b.prototype.getGoogleAppsData =
            function() {
                if (this.model.isLinkedToGoogleApps() && this.model.editable()) return S({
                    url: "/1/organizations/" + this.model.id + "/googleApps/mappings",
                    success: function(b) {
                        return function(c) {
                            b.mappingsData = c;
                            return b.renderMainContent()
                        }
                    }(this),
                    error: function(b) {
                        return function() {
                            b.$(".js-google-apps-linker").show();
                            return b.googleAppsFetchFailed = !0
                        }
                    }(this)
                })
            };
        b.prototype.searchMembers = function(b) {
            var c, g, f, h, m, k, s;
            b = $(this.el).find(".js-search").val().trim().toLowerCase();
            if (this.oldTerm !== b) {
                this.oldTerm =
                    b;
                f = b.split(/\s+/);
                h = _.map(f, function(b, d) {
                    return d === f.length - 1 ? RegExp("^" + l.escapeForRegex(b), "i") : RegExp("^" + l.escapeForRegex(b) + "$", "i")
                });
                c = [];
                s = this.getMembers();
                m = 0;
                for (k = s.length; m < k; m++) b = s[m], g = l.getMemNameArray(this.modelCache, b), _.all(h, function(b) {
                    return _.find(g, function(d) {
                        return b.test(d)
                    })
                }) && c.push(b);
                this.renderMembers(c)
            }
        };
        b.prototype.openManageMembers = function(b) {
            l.stop(b);
            t("Organization View", "Members Page", "Open Manage Members");
            x.toggle({
                elem: this.$(".js-manage-members"),
                top: 35,
                view: th,
                options: {
                    model: this.model
                }
            })
        };
        return b
    }(eb);
    Ch = function(c) {
        function b() {
            this.render = k(this.render, this);
            this.getViewTitle = k(this.getViewTitle, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Link Google Apps Domain"
        };
        b.prototype.events = {
            "click .js-link": "link"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            this.$el.html(v.fill("org_link_ga_helper", b, {
                editable: this.model.editable()
            }));
            return this
        };
        b.prototype.link =
            function() {
                t("Organization View", "Members Page", "Google Apps Marketplace link");
                da.enabled() && da.set("idOrganizationLinking", this.model.id)
            };
        return b
    }(A);
    Fh = function(c) {
        function b() {
            this.reactivateMember = k(this.reactivateMember, this);
            this.removeOrDeactivate = k(this.removeOrDeactivate, this);
            this.viewActivity = k(this.viewActivity, this);
            this.changeRole = k(this.changeRole, this);
            this.inviteToOrg = k(this.inviteToOrg, this);
            this.hideMember = k(this.hideMember, this);
            this.unhideMember = k(this.unhideMember, this);
            this.render =
                k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "member-list-item-detail clearfix";
        b.prototype.initialize = function() {
            this.org = this.options.org;
            this.model.ond("change", this.render);
            this.org.ond("change:memberships", this.render)
        };
        b.prototype.events = {
            "click .js-change-role": "changeRole",
            "click .js-remove-or-deactivate": "removeOrDeactivate",
            "click .js-reactivate": "reactivateMember",
            "click .js-invite-to-org": "inviteToOrg",
            "click .js-view-activity": "viewActivity",
            "click .js-hide-member": "hideMember",
            "click .js-unhide-member": "unhideMember"
        };
        b.prototype.render = function() {
            var b, c, g;
            c = this.org.getMemberType(this.model);
            b = this.model.toJSON();
            b.canRemove = this.model.getMembershipData(this.org).canRemove;
            b.orgMemberType = l.toTitleCase(c);
            b.isMe = y.isMe(this.model);
            b.ownsOrg = this.org.owned();
            b.orgIsBC = this.org.isPremium();
            b.isDeactivated = "deactivated" === c;
            b.isAppsMember = null != this.model.get("gMail");
            b.isOrgMember = "public" !== c;
            b.isVirtual = "virtual" === c;
            b.isOrganizationAdmin =
                "admin" === c;
            b.showGoogleApps = this.org.isLinkedToGoogleApps() && this.org.editable() && (null != (g = this.options) ? g.googleAppsLoaded : void 0);
            this.org.owned() && (b.allowTypeChange = "deactivated" !== c && "unconfirmed" !== c && "virtual" !== c, b.allowReactivate = "deactivated" === c, b.showActivity = "virtual" !== c);
            this.$el.html(v.fill("member_list_item_detail", b, {}, {
                member: v.member
            }));
            this.$el.removeClass("deactivated not-apps-member not-org-member");
            b.isDeactivated && this.$el.addClass("deactivated");
            b.showGoogleApps && (b.isAppsMember ||
                this.$el.addClass("not-apps-member"), b.isOrgMember || this.$el.addClass("not-org-member"));
            M.update(this.el);
            !b.isOrgMember && (this.model.get("hidden") && !this.options.showAll) && this.$el.addClass("hide");
            return this
        };
        b.prototype.unhideMember = function() {
            if (this.model.get("gMail")) return this.model.set("hidden", !1), this.org.trigger("unhideMember"), S({
                url: "/1/organization/" + this.org.id + "/hiddenGoogleAppsMembers",
                type: "delete",
                data: {
                    gMail: this.model.get("gMail")
                }
            })
        };
        b.prototype.hideMember = function() {
            if (this.model.get("gMail")) return this.model.set("hidden", !0), this.org.trigger("hideMember"), S({
                url: "/1/organization/" + this.org.id + "/hiddenGoogleAppsMembers",
                type: "post",
                data: {
                    gMail: this.model.get("gMail")
                }
            })
        };
        b.prototype.inviteToOrg = function(b) {
            t("Organization View", "Members Page", "Add Google Apps Member");
            return this.model.id ? S({
                    url: "/1/organization/" + this.org.id + "/members/" + this.model.id,
                    type: "put",
                    data: {
                        type: "normal"
                    },
                    dataType: "json",
                    error: function(b) {
                        return function(b, d) {
                            Q.show(b.responseText, "error", "alert", 3E3);
                            t("Invitations", "Error: " + b.responseText)
                        }
                    }(this)
                }) :
                S({
                    url: "/1/organizations/" + this.org.id + "/members",
                    type: "put",
                    data: {
                        fullName: this.model.get("fullName"),
                        email: this.model.get("gMail"),
                        type: "normal"
                    },
                    dataType: "json",
                    success: function(b) {
                        return function() {
                            return Q.show("Invitation sent", "info", "alert", 3E3)
                        }
                    }(this),
                    error: function(b) {
                        return function(b, d) {
                            Q.show(b.responseText, "error", "alert", 3E3);
                            t("Invitations", "Error: " + b.responseText)
                        }
                    }(this)
                })
        };
        b.prototype.changeRole = function(b) {
            l.stop(b);
            t("Organization View", "Members Page", "Change Role Button");
            x.toggle({
                elem: this.$(".js-change-role"),
                top: 35,
                view: this.model.getView(ch, "", {
                    parent: this.org
                })
            })
        };
        b.prototype.viewActivity = function(b) {
            l.stop(b);
            t("Organization View", "Members Page", "View Member Activity");
            x.toggle({
                elem: this.$(".js-view-activity"),
                top: 35,
                view: this.model.getView(uh, "", {
                    org: this.org
                })
            })
        };
        b.prototype.removeOrDeactivate = function(b) {
            this.$(".js-remove-or-deactivate").hasClass("disabled") || (l.stop(b), t("Organization View", "Members Page", "Remove or Deactivate Member Button"), x.toggle({
                elem: this.$(".js-remove-or-deactivate"),
                top: 35,
                view: this.model.getView(Kh, "", {
                    org: this.org
                })
            }))
        };
        b.prototype.reactivateMember = function(b) {
            l.stop(b);
            t("Organization View", "Members Page", "Reactivate");
            S({
                url: "/1/organizations/" + this.org.id + "/members/" + this.model.id + "/deactivated",
                type: "PUT",
                data: {
                    value: !1
                }
            })
        };
        return b
    }(A);
    uh = function(c) {
        function b() {
            this.viewBoards = k(this.viewBoards, this);
            this.viewCards = k(this.viewCards, this);
            this.render = k(this.render, this);
            this.getViewTitle = k(this.getViewTitle, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Org Activity for " + this.model.get("fullName")
        };
        b.prototype.initialize = function() {
            return this.org = this.options.org
        };
        b.prototype.events = {
            "click .js-view-org-boards-for-member": "viewBoards",
            "click .js-view-member-org-cards": "viewCards"
        };
        b.prototype.render = function(b) {
            var c, g, f, h, m, k;
            g = this.model.toJSON();
            c = 0;
            m = _.filter(this.org.boardList.models, function(b) {
                return function(b) {
                    return !b.get("closed")
                }
            }(this));
            f = 0;
            for (h = m.length; f < h; f++) b = m[f], (k = this.model, 0 <= F.call(b.memberList.models, k)) && c++;
            g.boardCount = l.formatCount(c, "Board", !0);
            g.hasBoards = 0 < c;
            this.org.isFeatureEnabled("orgCards") && (g.orgCardsUrl = B.getOrganizationMemberCardsUrl(this.org.get("name"), g.username));
            this.$el.html(v.fill("org_member_activity", g));
            M.update(this.el);
            return this
        };
        b.prototype.viewCards = function() {
            return t("Organization View", "Members Page", "Activity - View Org Cards")
        };
        b.prototype.viewBoards = function(b) {
            l.stop(b);
            t("Organization View", "Members Page", "Activity - View Boards");
            x.pushView({
                view: this.model.getView(yh, "" + this.model.username + "-boards-for-" + this.org.name, {
                    parent: this.org
                })
            })
        };
        return b
    }(A);
    yh = function(c) {
        function b() {
            this.render = k(this.render, this);
            this.getViewTitle = k(this.getViewTitle, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Boards for " + this.model.get("fullName")
        };
        b.prototype.initialize = function() {
            this.org = this.options.parent
        };
        b.prototype.render = function() {
            var b, c, g, f, h, m, k;
            f = this.model.toJSON();
            g = [];
            k = _.filter(this.org.boardList.models, function(b) {
                return function(d) {
                    return _.contains(d.memberList.models, b.model) && !d.get("closed")
                }
            }(this));
            h = 0;
            for (m = k.length; h < m; h++) c = k[h], b = c.toJSON(), b.memberType = l.toTitleCase(c.getMemberType(this.model)), b.url = c.getUrl(), g.push(b);
            f.boards = g;
            this.$el.html(v.fill("org_boards_for_member", f));
            return this
        };
        return b
    }(A);
    Kh = function(c) {
        function b() {
            this.removeMember = k(this.removeMember, this);
            this.deactivateMember = k(this.deactivateMember, this);
            this._checkIfLostVisibility =
                k(this._checkIfLostVisibility, this);
            this.render = k(this.render, this);
            this.getViewTitle = k(this.getViewTitle, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return this.org.isPremium() ? "Remove or Deactivate Member" : "Remove Member"
        };
        b.prototype.initialize = function() {
            return this.org = this.options.org
        };
        b.prototype.events = {
            "click .js-deactivate": "deactivateMember",
            "click .js-soft-remove": "removeMember"
        };
        b.prototype.render = function() {
            var b, c;
            c = this.org.getMemberType(this.model);
            b = this.model.toJSON();
            b.orgMemberType = l.toTitleCase(c);
            b.ownsOrg = this.org.owned();
            b.orgIsBC = this.org.isPremium();
            b.isDeactivated = "deactivated" === c;
            b.isOrgMember = "Public" !== b.orgMemberType;
            b.isVirtual = "Virtual" === b.orgMemberType;
            b.canDeactivate = this.org.isPremOrgAdmin(y.me()) && !b.isVirtual && !b.isDeactivated;
            b.isMe = y.isMe(this.model);
            this.$el.html(v.fill("org_remove_or_deactivate_member", b));
            return this
        };
        b.prototype._checkIfLostVisibility = function() {
            if (y.isMe(this.model)) return B.navigate("/", {
                trigger: !0
            })
        };
        b.prototype.deactivateMember = function(b) {
            l.stop(b);
            S({
                url: "/1/organizations/" + this.org.id + "/members/" + this.model.id + "/deactivated",
                type: "PUT",
                data: {
                    value: !0
                },
                success: function(b) {
                    return function() {
                        t("Organization", "Deactivate Member From Organization");
                        x.hide();
                        return b._checkIfLostVisibility()
                    }
                }(this)
            })
        };
        b.prototype.removeMember = function(b) {
            l.stop(b);
            $(this.el).find("#hardRemove").is(":checked") || "deactivated" === this.org.getMemberType(this.model) ? (b = "Hard Remove", this.org.memberList.remove(this.model, {
                mass: !0
            })) : (b = "Soft Remove", this.org.memberList.remove(this.model));
            t("Organization", "Remove Member From Organization", b);
            x.hide();
            this._checkIfLostVisibility()
        };
        return b
    }(A);
    Eh = function(c) {
        function b() {
            this.renderCards = k(this.renderCards, this);
            this.renderMainContent = k(this.renderMainContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.renderMainContent = function() {
            var b;
            if (!this.model.isFeatureEnabled("orgCards")) return B.displayErrorPage({
                errorType: "notFound"
            });
            b = this.model.toJSON({
                prefs: !0
            });
            b.memberData = this.options.member.toJSON();
            b.memberData.bioHtml = $a.textAsHtml(this.options.member.get("bio"), {
                textData: this.options.member.get("bioData")
            });
            this.setActiveView(".js-org-members");
            b.members = [];
            this.$(".js-content").html(v.fill("org_member_cards", b, {
                editable: this.model.editable()
            }, {
                member: v.member,
                member_profile: v.member_profile_info
            }));
            _.defer(function(b) {
                return function() {
                    return b.renderCards()
                }
            }(this));
            return this
        };
        b.prototype.renderCards = function() {
            var b,
                c, g, f, h, m;
            c = this.Board.find(function(b) {
                return function(d) {
                    var c;
                    return d.idOrganization === (null != (c = b.model) ? c.idOrganization : void 0) && !d.get("closed")
                }
            }(this));
            f = !1;
            h = 0;
            for (m = c.length; h < m; h++) b = c[h], g = this.Card.find(function(c) {
                return function(e) {
                    var f;
                    return e.get("idBoard") === b.id && !e.get("closed") && (f = c.options.member.id, 0 <= F.call(e.get("idMembers"), f))
                }
            }(this)), g.length && (f = !0, this.$(".js-cards").append(this.subview(Tg, b, {
                hideOrg: !0
            }).render(g).el));
            f || (c = this.model.isPremOrgAdmin(y.me()) ? "This member is not added to any cards in this organization." :
                "This member is not added to any cards you are able to see.", c = {
                    message: c,
                    classes: "gutter",
                    style: "padding: 60px 10px;"
                }, this.$(".js-content").append(v.fill("empty_list", c)));
            return this
        };
        return b
    }(eb);
    Hh = function(c) {
        function b() {
            this.pollForCCAuth = k(this.pollForCCAuth, this);
            this.hideAuthorizing = k(this.hideAuthorizing, this);
            this.delayShowAuthorizing = k(this.delayShowAuthorizing, this);
            this.renewExpiringYearly = k(this.renewExpiringYearly, this);
            this.reactivate = k(this.reactivate, this);
            this.renderMainContent =
                k(this.renderMainContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-learn-more-plans": "learnMore",
            "click .js-upgrade-to-business-class": "upgrade",
            "click .js-reactivate": "reactivate",
            "click .js-renew-expiring-yearly-business-class-sub": "renewExpiringYearly"
        };
        b.prototype.renderMainContent = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0
            });
            b.activeAccount = this.model.isPremium();
            b.isJPS = this.model.isJPS();
            b.cancelledAccount = aa.cancelled(b.paidAccount);
            b.isBCAdmin = this.model.isPremOrgAdmin(y.me());
            b.isOrgAdmin = this.model.owned();
            null != b.paidAccount && (b.willExpire = aa.willExpire(b.paidAccount));
            b.willExpire && (b.yearlyExpirationDate = M.toLongDateString(b.paidAccount.expirationDates[b.paidAccount.products[0]]));
            b.cardUrl = "#";
            b.isOrgAdmin && (b.cardUrl = "/" + b.name + "/billing/card/businessClassMonthly");
            b.bcMonthlyPrice = aa.formatPrice("businessClassMonthly");
            b.bcYearlyPrice = aa.formatPrice("businessClassYearly");
            this.$(".js-content").html(v.fill("org_plans",
                b, {
                    editable: this.model.editable()
                }));
            return this
        };
        b.prototype.learnMore = function(b) {
            return t("Organization View", "Plans View", "Click Learn More Link")
        };
        b.prototype.upgrade = function(b) {
            if (!$(b.target).hasClass("disabled")) return t("Organization View", "Plans View", "Click Upgrade Button")
        };
        b.prototype.reactivate = function(b) {
            l.stop(b);
            t("Organization View", "Plans View", "Reactivate Business Class - Monthly");
            this.delayShowAuthorizing();
            S({
                url: "/1/organizations/" + this.model.id + "/paidAccount/reactivate",
                type: "POST",
                data: {
                    products: [35]
                },
                success: function(b) {
                    return function(d) {
                        t("Organization", "Sucessfully Reactivate Business Class - Monthly");
                        return b.pollForCCAuth()
                    }
                }(this)
            })
        };
        b.prototype.renewExpiringYearly = function(b) {
            t("Organization View", "Plans View", "Renew Expiring Yearly Business Class Subscription");
            S({
                url: "/1/organizations/" + this.model.id + "/paidAccount/products",
                type: "POST",
                data: {
                    products: [36]
                },
                success: function(b) {
                    return function(d) {
                        t("Organization", "Successfully Renewed Expiring Yearly Business Class Subscription");
                        return b.model.set(d)
                    }
                }(this)
            })
        };
        b.prototype.delayShowAuthorizing = function() {
            this.finishedAuth = !1;
            return _.delay(function(b) {
                return function() {
                    if (!b.finishedAuth) return l.scrollToTop(), Q.show("Authorizing...", "info", "authorizing")
                }
            }(this), 1E3)
        };
        b.prototype.hideAuthorizing = function() {
            this.finishedAuth = !0;
            return Q.hide("authorizing")
        };
        b.prototype.pollForCCAuth = function() {
            return Lc.pollForCCAuth.call(this)
        };
        return b
    }(eb);
    je = function() {
        function c() {}
        c.prototype.pricing = {
            monthlyProduct: "businessClassMonthly",
            yearlyProduct: "businessClassYearly"
        };
        c.prototype.features = aa;
        c.prototype.productPrefix = "businessClass";
        return c
    }();
    ie = ma(xd, je, ie = function(c) {
        function b() {
            this.initialize = k(this.initialize, this);
            this.paidAccountLoader = k(this.paidAccountLoader, this);
            this.renderBanner = k(this.renderBanner, this);
            this.changeCardUrl = k(this.changeCardUrl, this);
            var d;
            this.events = _.extend({
                "click .js-open-confirm-jps-upgrade": "confirmUpgrade"
            }, null != (d = this.events) ? d : {});
            b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.apiPath = "organizations";
        b.prototype.productName = "Business Class";
        b.prototype.changeCardUrl = function() {
            return B.getOrganizationBillingCardUrl(this.model)
        };
        b.prototype.productIconClass = function() {
            return "briefcase"
        };
        b.prototype.renderBanner = function() {
            var b, c;
            this.model.isPremium() && !this.model.isJPS() && (c = this.model.toJSON(), b = c.billableMemberCount, null != b && (c.formattedMemberCount = l.formatCount(b, "member"), this.model.isPremiumMonthly() ? (c.price = 5 * b, c.monthlyUpgrade = !0) : this.model.isPremiumYearly() &&
                (c.price = 45 * b, b = aa.getPrice(this.model.get("products")), c.price < b ? c.yearlyCheaperUpgrade = !0 : c.yearlyUpgrade = !0)), this.$(".js-content").prepend(v.fill("jps_upgrade_banner", c)));
            return this
        };
        b.prototype.confirmUpgrade = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target),
                top: 50,
                view: Ah,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            })
        };
        b.prototype.paidAccountLoader = function(b) {
            return O["for"](this.modelCache).loadOrganizationPaidAccount(this.model.id, b)
        };
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this,
                arguments);
            return this.setup()
        };
        return b
    }(eb));
    Ah = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Upgrade Your Organization"
        };
        b.prototype.events = {
            "click .js-upgrade-bc": "upgradeToPerUser"
        };
        b.prototype.render = function() {
            var b, c;
            c = this.model.toJSON();
            b = c.billableMemberCount;
            null != b && (c.formattedMemberCount = l.formatCount(b, "member"), this.model.isPremiumMonthly() ? (c.price = 5 * b, c.monthlyUpgrade = !0) : this.model.isPremiumYearly() &&
                (c.price = 45 * b, b = aa.getPrice(this.model.get("products")), c.price < b ? c.yearlyCheaperUpgrade = !0 : c.yearlyUpgrade = !0));
            this.$el.html(v.fill("popover_confirm_jps_upgrade", c));
            return this
        };
        b.prototype.upgradeToPerUser = function() {
            var b;
            if (this.model.isPremium()) return b = "monthly" === aa.getInterval(this.model.get("products")) ? [96] : [97], S({
                url: "" + this.model.urlRoot + "/" + this.model.id + "/paidAccount/products",
                type: "POST",
                data: {
                    products: b
                },
                success: function(b) {
                    return function(d) {
                        t(b.model.typeName, "Successfully Switched to Per-User");
                        return b.model.set(d)
                    }
                }(this)
            })
        };
        return b
    }(A);
    xh = function(c) {
        function b() {
            this.getFormOpts = k(this.getFormOpts, this);
            this.renderMainContent = k(this.renderMainContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.renderMainContent = function() {
            var b;
            b = this.getFormOpts();
            this.$(".js-content").empty().append((new Lc(b)).render().el);
            this.setActiveView(".js-billing");
            return this
        };
        b.prototype.getFormOpts = function() {
            var b, c, g, f, h;
            b = {
                model: this.model,
                action: "js-submit-change-credit-card",
                productName: "Business Class"
            };
            aa.hasAccount(null != (c = this.model.get("paidAccount")) ? c.standing : void 0) ? _.extend(b, {
                productNumber: null != (g = null != (f = this.model.get("paidAccount")) ? f.products[0] : void 0) ? g : aa.getProductNumber("businessClassMonthly"),
                formAreas: {
                    creditCard: !0
                },
                action: "js-submit-change-credit-card"
            }) : _.extend(b, {
                productNumber: null != (h = aa.getProductNumber(this.options.product)) ? h : aa.getProductNumber("businessClassMonthly"),
                formAreas: {
                    creditCard: !0,
                    billingContactHidden: !0,
                    subscribingTo: !0,
                    billingOptions: !0
                },
                action: "js-submit-create-paid-account"
            });
            return b
        };
        return b
    }(eb);
    Lc = ma(je, Lc = function(c) {
        function b() {
            this.billingView = k(this.billingView, this);
            this.profileView = k(this.profileView, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.profileView = function() {
            return B.organizationBoardsView(this.model.get("name"), this.model.id)
        };
        b.prototype.billingView = function() {
            return B.organizationBillingView(this.model.get("name"))
        };
        return b
    }(yd));
    th = function(c) {
        function b() {
            this.willBePopped =
                k(this.willBePopped, this);
            this.willBePushedDown = k(this.willBePushedDown, this);
            this.canRemoveInvitation = k(this.canRemoveInvitation, this);
            this.removeInvitation = k(this.removeInvitation, this);
            this.clearSearchResults = k(this.clearSearchResults, this);
            this.sendEmailInvite = k(this.sendEmailInvite, this);
            this.renderEmailInviteToSearchResults = k(this.renderEmailInviteToSearchResults, this);
            this.addMember = k(this.addMember, this);
            this.keydownEvent = k(this.keydownEvent, this);
            this.search = k(this.search, this);
            this.searchPaste =
                k(this.searchPaste, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        ma(Dd, Kc, b);
        b.prototype.getViewTitle = function() {
            return "Members"
        };
        b.prototype.initialize = function() {
            this.savedSearch = ""
        };
        b.prototype.events = {
            "click .js-search-results .js-select-member": "addMember",
            "paste .js-search-input": "searchPaste",
            "click .js-remove-invitation": "removeInvitation",
            "click .js-send-email-invite": "sendEmailInvite",
            "submit .js-email-data": "sendEmailInvite",
            "click .js-open-option": "openOption",
            "mouseenter .js-select-member": "hoverMember"
        };
        b.prototype.render = function() {
            var b, c;
            c = {
                canInviteMembers: !0,
                canAddMembers: !0
            };
            c.isJPS = this.model.isJPS();
            c.jpsPrice = aa.getPrice(this.model.get("products"));
            c.isYearly = "yearly" === aa.getInterval(this.model.get("products"));
            c.isMonthly = "monthly" === aa.getInterval(this.model.get("products"));
            this.$el.html(v.fill("manage_members", c, {
                editable: this.model.editable()
            }));
            null != (b = Mc.addMemberToOrganizationAd(y.me(), this.model)) && this.$(".js-ad").html(this.model.getView(b).render().el);
            _.delay(function(b) {
                return function() {
                    b.input = b.$(".js-search-input");
                    b.input.click(function(b) {
                        return l.stop(b)
                    }).keyup(_.debounce(b.search, 500)).keydown(b.keydownEvent).focus();
                    if (b.savedSearch) return b.input.val(b.savedSearch), b.search(), b.savedSearch = ""
                }
            }(this), 10);
            this.lastSearch = "";
            this.loadingEl = this.$(".js-loading");
            this.helperEl = this.$(".js-helper");
            x.calcPos();
            return this
        };
        b.prototype.searchPaste = function() {
            this.loadingEl.show();
            return this.input.keyup()
        };
        b.prototype.search = function(b) {
            var c;
            null != this.lastSearch && this.lastSearch === this.input.val() || (this.lastSearch = this.input.val(), c = this.input.val().toLowerCase().trim(), "" === c ? this.clearSearchResults() : (this.loadingEl.show(), S({
                url: "/1/search/members/",
                type: "get",
                data: {
                    idOrganization: this.model.id,
                    query: c,
                    _cache: l.newestId(this.model.get("memberships"))
                },
                dataType: "json",
                success: function(b) {
                    return function(d) {
                        return b.renderSearchResults(c, d)
                    }
                }(this)
            })))
        };
        b.prototype.keydownEvent = function(b) {
            var c, g;
            if (!(16 === (c = b.keyCode) || 18 === c ||
                17 === c || 39 === c || 37 === c || 27 === c))
                if (13 === b.keyCode) 0 < this.$(".js-search-results .js-list .selected .js-select-member").length ? (l.stop(b), this.$(".js-search-results .js-list .selected:first .js-select-member").click()) : 0 < this.$(".js-search-results .js-list .email-invite").length && (l.stop(b), this.$(".email-invite:first").click());
                else if (38 === (g = b.keyCode) || 40 === g) l.stop(b), l.navMenuList(this.$(".js-search-results .js-list"), "li", b.keyCode)
        };
        b.prototype.addMember = function(b) {
            var c, g;
            l.stop(b);
            0 < $(b.target).closest(".item.disabled").length ||
                (this.clearSearchResults(), c = $(b.target).closest(".js-select-member").attr("idMember"), g = this.Member.get(c), S({
                    url: "/1/organization/" + this.model.id + "/members/" + c,
                    type: "put",
                    data: {
                        type: "normal"
                    },
                    dataType: "json",
                    success: function(b) {
                        return function(d) {
                            if (null == d.token && !b.model.memberList.find(function(b) {
                                return b.id === c
                            })) return b.model.memberList.add(g), t("Invitations", "Add Member to Organization", "Role: Member")
                        }
                    }(this),
                    error: function(b) {
                        return function(d, c) {
                            Q.show(d.responseText, "error", "alert",
                                3E3);
                            b.input.focus().select();
                            t("Invitations", "Error: " + d.responseText)
                        }
                    }(this)
                }))
        };
        b.prototype.renderEmailInviteToSearchResults = function(b) {
            var c;
            c = _.compact(l.removeDomainFromEmailAddress(b.email).split(/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/)).join(" ").replace(/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/, "");
            b.fullName = l.toTitleCase(c);
            return this.$(".js-uninvited-search-results").append(v.fill("invite_add_name", b, "", {
                member: v.member
            })).show()
        };
        b.prototype.sendEmailInvite = function(b) {
            var c,
                g;
            l.stop(b);
            c = this.$(".js-send-email-invite");
            null == c.attr("disabled") && (b = this.$(".js-email-data .js-full-name"), g = b.val().trim(), l.validName(g) ? (b = {
                fullName: g,
                email: this.$(".js-email-data .js-email").val().trim(),
                type: "normal"
            }, c.attr("disabled", "disabled"), S({
                url: "/1/organizations/" + this.model.id + "/members",
                type: "put",
                dataType: "json",
                data: b,
                success: function(b) {
                    return function(d) {
                        var g;
                        g = new ca(d, {
                            modelCache: b.modelCache
                        });
                        b.model.memberList.get(g.id) || b.model.memberList.add(g);
                        t("Invitations",
                            "Send Email Org Invite to New Member", "Role: " + d.type);
                        TRMixpanel.trackInvitation("org");
                        c.removeAttr("disabled");
                        return x.hide()
                    }
                }(this),
                error: function(b) {
                    return function(d, g) {
                        b.$(".js-uninvited-search-results").empty().hide();
                        Q.show(d.responseText, "error", "alert", 3E3);
                        c.removeAttr("disabled");
                        b.input.focus().select();
                        t("Invitations", "Error: " + d.responseText)
                    }
                }(this)
            })) : (l.setCaretAtEnd(b), $(".js-name-error").show()))
        };
        b.prototype.clearSearchResults = function() {
            this.helperEl.show();
            this.lastSearch =
                "";
            this.input.val("").focus().select();
            this.$(".js-uninvited-search-results").hide().empty();
            return $(".js-search-results").hide()
        };
        b.prototype.removeInvitation = function(b) {
            b = $(b.currentTarget).closest(".invitation").data("id");
            fb.prototype["delete"]({
                model: this.model,
                idInvitation: b,
                success: function(b) {
                    return function() {
                        t("Invitations", "Delete Organization Invite");
                        return b.search
                    }
                }(this)
            });
            l.setCaretAtEnd(this.input[0])
        };
        b.prototype.canRemoveInvitation = function(b) {
            return b.get("idMemberInviter") ===
                y.myId() || this.model.owned()
        };
        b.prototype.willBePushedDown = function() {
            return this.savedSearch = this.input.val()
        };
        b.prototype.willBePopped = function() {
            return this.savedSearch = ""
        };
        return b
    }(A);
    Pb = function(c) {
        function b() {
            this.getValue = k(this.getValue, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Create Organization"
        };
        b.prototype.events = {
            "click .js-save": "submit",
            "submit form": "submit"
        };
        b.prototype.getValue = function(b) {
            var c;
            return null != (c =
                this.$("[name=" + b + "]").val()) ? c.trim() : void 0
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("org_create"));
            return this
        };
        b.prototype.submit = function(b) {
            var c, g, f, h;
            l.stop(b);
            b = {};
            h = ["displayName", "desc"];
            g = 0;
            for (f = h.length; g < f; g++) c = h[g], b[c] = this.getValue(c);
            y.me().organizationList.create(b, {
                modelCache: this.modelCache,
                silent: !0,
                success: function(b) {
                    return function(b) {
                        B.organizationBoardsView(b.get("name"), b.id);
                        x.hide()
                    }
                }(this)
            })
        };
        return b
    }(A);
    sh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Select Visibility"
        };
        b.prototype.tagName = "ul";
        b.prototype.className = "pop-over-list";
        b.setVisibility = function(b) {
            return function(c) {
                l.stop(c);
                t("Organization", "Changed Visibility");
                this.model.setPref("permissionLevel", b);
                return x.hide()
            }
        };
        b.prototype.events = {
            "click .js-select-members": b.setVisibility("private"),
            "click .js-select-public": b.setVisibility("public")
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0
            });
            b["permissionLevel_" +
                this.model.get("prefs").permissionLevel] = !0;
            b.publicText = this.model.getPermLevelAltText("public");
            b.privateText = this.model.getPermLevelAltText("private");
            this.$el.html(v.fill("change_org_vis", b));
            return this
        };
        return b
    }(A);
    Jh = function(c) {
        function b() {
            this.removeRestriction = k(this.removeRestriction, this);
            this.addRestriction = k(this.addRestriction, this);
            this.renderRestrictions = k(this.renderRestrictions, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Org Membership Restrictions"
        };
        b.prototype.initialize = function() {
            return this.model.ond("change:prefs", this.renderRestrictions)
        };
        b.prototype.events = {
            "keydown .js-input-restricted": "addRestriction",
            "click .js-restricted-address": "removeRestriction"
        };
        b.prototype.render = function() {
            var b, c;
            b = this.model.toJSON({
                prefs: !0
            });
            b.hasRestrictions = 0 < (null != (c = this.model.get("prefs").orgInviteRestrict) ? c.length : void 0);
            this.$el.html(v.fill("org_prefs_restrict_invites", b));
            this.renderRestrictions();
            return this
        };
        b.prototype.renderRestrictions =
            function() {
                var b, c, g, f, h;
                b = this.$(".js-list");
                b.empty();
                if (0 < (null != (c = this.model.get("prefs").orgInviteRestrict) ? c.length : void 0)) {
                    h = this.model.get("prefs").orgInviteRestrict;
                    g = 0;
                    for (f = h.length; g < f; g++) c = h[g], b.append(v.fill("org_pref_restriction", {
                        restriction: c
                    }));
                    return this.$(".js-restriction-list").show()
                }
                return this.$(".js-restriction-list").hide()
            };
        b.prototype.addRestriction = function(b) {
            var c;
            if (13 === b.keyCode) return c = $(b.target).val(), /^@/.test(c) ? c = "*" + c : -1 === c.indexOf("@") && 0 < c.indexOf(".") &&
                (c = "*@" + c), this.$(".js-loading").removeClass("hide"), S({
                    url: "/1/organizations/" + this.model.id + "/prefs/orgInviteRestrict",
                    type: "put",
                    data: {
                        value: c
                    },
                    dataType: "json",
                    success: function(c) {
                        return function() {
                            $(b.target).val("").select().focus();
                            c.$(".js-loading").addClass("hide");
                            return c.$(".js-errors").hide()
                        }
                    }(this),
                    error: function(b) {
                        return function(d) {
                            b.$(".js-loading").addClass("hide");
                            return b.$(".js-errors").text(d.responseText).show()
                        }
                    }(this)
                })
        };
        b.prototype.removeRestriction = function(b) {
            var c;
            c =
                $(b.target).closest("a").attr("data-pattern");
            $(b.target).closest("li").remove();
            return S({
                url: "/1/organizations/" + this.model.id + "/prefs/orgInviteRestrict",
                type: "delete",
                data: {
                    value: c
                },
                dataType: "json",
                success: function(b) {
                    return function() {
                        b.$(".js-input-restricted").select().focus();
                        return b.$(".js-errors").hide()
                    }
                }(this)
            })
        };
        return b
    }(A);
    Ih = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Board Creation Restriction"
        };
        b.prototype.initialize = function() {
            return this.model.ond("change:prefs", this.render)
        };
        b.prototype.events = {
            "click a": "changeRestriction"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0
            });
            this.$el.html(v.fill("org_prefs_vis", b));
            return this
        };
        b.prototype.changeRestriction = function(b) {
            var c;
            c = $(b.target);
            b = "boardVisibilityRestrict/" + c.closest("ul").attr("data-vis");
            c = c.attr("data-restriction");
            return this.model.setPref(b, c)
        };
        return b
    }(A);
    window.cchelper = function() {
        var c, b, d;
        c = {
            name: "Mr. Magick CC",
            cardNumber: 5462311111542453,
            cvv: 123,
            streetAddress1: "Main Street",
            city: "Home Town",
            state: "NY",
            zipCode: 12345,
            country: "US",
            acceptTOS: !0
        };
        for (b in c) d = c[b], $("input[name=" + b + "]").val(d);
        c = {
            expMonth: 12,
            expYear: 20
        };
        for (b in c) d = c[b], $("select[name=" + b + "]").val(d);
        return $("input[name=acceptTOS]").prop("checked", !0)
    };
    ph = function(c) {
        function b() {
            this.chooseOrg = k(this.chooseOrg, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Choose an Organization"
        };
        b.prototype.events = {
            "click .js-select-org": "chooseOrg"
        };
        b.prototype.render = function() {
            var b, c, g, f;
            b = {};
            f = function() {
                var b, d, f, k;
                f = this.model.organizationList.models;
                k = [];
                b = 0;
                for (d = f.length; b < d; b++) c = f[b], c.isPremium() || (g = c.toJSON({
                    prefs: !0
                }), g.product = this.options.product, g.isAdmin = c.owned(), g.altText = "private" === g.permissionLevel ? "This org is private. It's only viewable to people who have been invited." : "This org is public. It's viewable to anybody on the Internet with the link.", k.push(g));
                return k
            }.call(this);
            b.orgs = _.sortBy(f, function(b) {
                return b.name
            });
            b.hasBCOrgs = _.any(this.model.organizationList.models, function(b) {
                return b.isPremium()
            });
            b.hasOrgs = 0 < b.orgs.length;
            b.isLoggedIn = y.isLoggedIn();
            this.$el.html(v.fill("power_up_org_picker", b));
            return this
        };
        b.prototype.chooseOrg = function(b) {
            return t("Business Class Promo Page", "Choose Org via 'Add This'", "Product: " + this.options.product)
        };
        return b
    }(A);
    qh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-select-org": "chooseOrg",
            "click .js-disabled": "stop",
            "click .js-create-org": "createOrg"
        };
        b.prototype.render = function() {
            var b, c, g, f, h, m, k;
            b = {};
            var s, w, n, t;
            n = this.model.organizationList.models;
            t = [];
            s = 0;
            for (w = n.length; s < w; s++) m = n[s], c = m.owned(), f = m.isPremium(), g = m.isJPS(), k = c && !f ? "/" + m.get("name") + "/billing/card" : f && !g && c ? "/" + m.get("name") + "/billing" : "/" + m.get("name") + "/plans", h = l.formatCount(m.get("memberships").length, "member"), t.push(_.extend(m.toJSON(), {
                memberCount: h,
                isAdmin: c,
                isPremium: f,
                isJPS: g,
                orgUrl: k
            }));
            b.orgs = t;
            this.$el.html(v.fill("select_org_to_upgrade", b));
            return this
        };
        b.prototype.chooseOrg = function(b) {
            return t("Business Class Choose Org Page", "Choose Org")
        };
        b.prototype.stop = function(b) {
            return l.stop(b)
        };
        b.prototype.createOrg = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target),
                top: 20,
                view: Pb,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            });
            t("Business Class Choose Org Page", "Create New Org")
        };
        return b
    }(A);
    H = {}.hasOwnProperty;
    n = function(c, b) {
        function d() {
            this.constructor =
                c
        }
        for (var e in b) H.call(b, e) && (c[e] = b[e]);
        d.prototype = b.prototype;
        c.prototype = new d;
        c.__super__ = b.prototype;
        return c
    };
    k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    F = [].indexOf || function(c) {
        for (var b = 0, d = this.length; b < d; b++)
            if (b in this && this[b] === c) return b;
        return -1
    };
    Ba = [{
        name: "voting",
        description: "Allow people to vote on cards.",
        imageClass: "power-up-icon-image-voting",
        aboutTemplate: "power_ups_about_voting",
        settingsView: function(c) {
            return new vc({
                model: c
            })
        },
        backgroundColor: "hsl(82, 25%, 90%)",
        screenshots: ["https://d78fikflryjgj.cloudfront.net/images/powerups/voting/screenshots/5a3055ee42904ad84ba81830694e4a03/screenshot1.png"]
    }, {
        name: "cardAging",
        description: "Cards visibly age with inactivity.",
        imageClass: "power-up-icon-image-card-aging",
        aboutTemplate: "power_ups_about_card_aging",
        settingsView: function(c) {
            return new rc({
                model: c
            })
        },
        backgroundColor: "hsl(227, 14%, 90%)",
        screenshots: ["https://d78fikflryjgj.cloudfront.net/images/powerups/card-aging/screenshots/d073fc23fd31de74ff54d5d023e64478/screenshot1.png",
            "https://d78fikflryjgj.cloudfront.net/images/powerups/card-aging/screenshots/c80b3b4586309dc983d6de5c3d1a5607/screenshot2.png"
        ]
    }, {
        name: "calendar",
        description: "See your cards with due dates on a calendar.",
        imageClass: "power-up-icon-image-calendar",
        aboutTemplate: "power_ups_about_calendar",
        settingsView: function(c) {
            return new qc({
                model: c
            })
        },
        backgroundColor: "hsl(204, 30%, 90%)",
        screenshots: ["https://d78fikflryjgj.cloudfront.net/images/powerups/calendar/screenshots/f6a00a55c883ce90c323f6f4b9d8bc57/screenshot1.png",
            "https://d78fikflryjgj.cloudfront.net/images/powerups/calendar/screenshots/a26f919154bc1834a54f02e485dca9dd/screenshot2.png", "https://d78fikflryjgj.cloudfront.net/images/powerups/calendar/screenshots/b1c5841496fcf25c103ec3951a318a8c/screenshot_mobile1.png"
        ]
    }];
    mb = 0;
    for (wc = Ba.length; mb < wc; mb++) Ca = Ba[mb], Ca.displayName = ib.powerUpNames[Ca.name];
    td = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            var b, c, g;
            this.listView = new uc({
                model: this.model
            });
            this.currentMode = "list";
            this.detailViews = {};
            g = [];
            b = 0;
            for (c = Ba.length; b < c; b++) Ca = Ba[b], g.push(this.detailViews[Ca.name] = new sc({
                model: this.model,
                powerUp: Ca
            }));
            return g
        };
        b.prototype.events = {
            "click .js-back-view": "showListView",
            "click .js-power-up-detail": "showDetailView"
        };
        b.prototype.render = function() {
            this.$el.empty().append(this.listView.render().el);
            return this
        };
        b.prototype.showListView = function(b) {
            l.stop(b);
            this.$el.empty().append(this.listView.render().el);
            this.listView.delegateEvents();
            this.currentMode =
                "list";
            return this.$el.css({
                background: "",
                backgroundColor: ""
            })
        };
        b.prototype.showDetailView = function(b) {
            var c, g;
            l.stop(b);
            if ("detail" !== this.currentMode) return c = $(b.target).closest(".js-power-up-detail").find(".js-power-up-name").attr("data-power-up-name"), this.$el.empty().append(this.detailViews[c].render().el), b = null != (g = _.find(Ba, function(b) {
                return b.name === c
            }).backgroundColor) ? g : "", this.$el.css({
                backgroundColor: b
            }), this.detailViews[c].delegateEvents(), this.currentMode = "detail"
        };
        return b
    }(A);
    uc =
        function(c) {
            function b() {
                this.renderPowerUpsLength = k(this.renderPowerUpsLength, this);
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.prototype.initialize = function() {
                var b, c, g, f;
                this.listenTo(this.model, {
                    "change:powerUps": this.renderPowerUpsLength
                });
                this.iconViews = [];
                f = [];
                c = 0;
                for (g = Ba.length; c < g; c++) Ca = Ba[c], b = {
                    model: this.model,
                    powerUp: Ca,
                    viewType: "list"
                }, f.push(this.iconViews.push(new Hb(b)));
                return f
            };
            b.prototype.render = function() {
                this.$el.html(v.fillFromModel("power_ups_list", this.model));
                this.renderPowerUps();
                this.renderPowerUpsLength();
                return this
            };
            b.prototype.delegateEvents = function() {
                var d, c, g, f, h;
                b.__super__.delegateEvents.apply(this, arguments);
                f = this.iconViews;
                h = [];
                c = 0;
                for (g = f.length; c < g; c++) d = f[c], h.push(d.delegateEvents());
                return h
            };
            b.prototype.renderPowerUpsLength = function() {
                var b, c;
                c = this.model.get("powerUps").length;
                b = this.$(".js-power-up-count").empty().addClass("hide");
                if (0 < c) return b.text("" + c + " enabled").removeClass("hide")
            };
            b.prototype.renderPowerUps = function() {
                var b,
                    c, g, f, h, m;
                b = this.$(".js-power-up-list").empty();
                h = this.iconViews;
                m = [];
                g = 0;
                for (f = h.length; g < f; g++) c = h[g], m.push(b.append(c.render().el));
                return m
            };
            return b
        }(A);
    sc = function(c) {
        function b() {
            this.renderContent = k(this.renderContent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "power-up-detail";
        b.prototype.initialize = function(b) {
            this.powerUp = b.powerUp;
            this.listenTo(this.model, {
                "change:powerUps": this.renderContent
            });
            this.toolbarSelection = "settings";
            this.iconView =
                new Hb({
                    model: this.model,
                    powerUp: this.powerUp,
                    viewType: "detail"
                });
            return this.screenshotsView = new tc({
                model: this.model,
                powerUp: this.powerUp
            })
        };
        b.prototype.events = {
            "click .js-toolbar-select": "selectContentSection"
        };
        b.prototype.render = function() {
            this.$el.html(v.fillFromModel("power_up_detail", this.model));
            this.renderIcon();
            this.renderContent();
            return this
        };
        b.prototype.delegateEvents = function() {
            b.__super__.delegateEvents.apply(this, arguments);
            return this.iconView.delegateEvents()
        };
        b.prototype.renderIcon =
            function() {
                return this.$(".js-power-up-icon").empty().append(this.iconView.render().el)
            };
        b.prototype.powerUpEnabled = function() {
            var b;
            return b = this.powerUp.name, 0 <= F.call(this.model.get("powerUps"), b)
        };
        b.prototype.renderContent = function() {
            this.renderNavBar();
            if (this.powerUpEnabled()) switch (this.toolbarSelection) {
                case "screenshots":
                    return this.renderScreenshots();
                default:
                    return this.renderSettings()
            } else return this.renderScreenshots()
        };
        b.prototype.renderNavBar = function() {
            var b, c;
            b = this.$(".js-power-up-detail-navbar").empty();
            if (this.powerUpEnabled()) return c = {
                screenshots: "screenshots" === this.toolbarSelection,
                settings: "settings" === this.toolbarSelection
            }, b.html(v.fillFromModel("power_ups_detail_navbar", this.model, c))
        };
        b.prototype.renderSectionContent = function(b) {
            return this.$(".js-power-up-detail-content").empty().append(b)
        };
        b.prototype.renderScreenshots = function() {
            this.renderSectionContent(this.screenshotsView.render().el);
            return this.screenshotsView.delegateEvents()
        };
        b.prototype.renderSettings = function() {
            var b;
            b = this.powerUp.settingsView(this.model);
            this.renderSectionContent(b.render().el);
            return b.delegateEvents()
        };
        b.prototype.selectContentSection = function(b) {
            l.stop(b);
            this.toolbarSelection = $(b.target).attr("name");
            return this.renderContent()
        };
        return b
    }(A);
    tc = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "power-up-screenshots-wrapper";
        b.prototype.initialize = function(b) {
            this.powerUp = b.powerUp
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("power_up_detail_screenshots", {
                screenshots: this.powerUp.screenshots
            }));
            return this
        };
        return b
    }(A);
    Hb = function(c) {
        function b() {
            this.renderEnabled = k(this.renderEnabled, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "power-up-icon js-power-up-detail";
        b.prototype.initialize = function(b) {
            this.powerUp = b.powerUp;
            this.viewType = b.viewType;
            return this.listenTo(this.model, {
                "change:powerUps": this.renderEnabled
            })
        };
        b.prototype.events = {
            "click .js-toggle-power-up:not(.enabled)": "enablePowerUp",
            "click .js-toggle-power-up.enabled": "disablePowerUp"
        };
        b.prototype.render = function() {
            var b;
            b = _.clone(this.powerUp);
            "detail" === this.viewType ? b.powerUpDesc = v.fill(this.powerUp.aboutTemplate) : (b.powerUpDesc = this.powerUp.description, b.isListView = !0);
            this.$el.html(v.fillFromModel("power_up_icon", this.model, b));
            this.renderEnabled();
            return this
        };
        b.prototype.enablePowerUp = function() {
            return this.model.addToSet("powerUps", this.powerUp.name)
        };
        b.prototype.disablePowerUp = function() {
            this.model.pull("powerUps", this.powerUp.name);
            if ("calendar" === this.powerUp.name) return B.getCurrentBoardView().closeCalendarIfOpen()
        };
        b.prototype.renderEnabled = function() {
            var b, c;
            b = (c = this.powerUp.name, 0 <= F.call(this.model.get("powerUps"), c));
            this.$(".js-toggle-btn").text(b ? "Disable" : "Enable").toggleClass("enabled", b).toggleClass("primary", !b);
            return this.$(".js-enabled-badge").toggleClass("hide", !b)
        };
        b.prototype.renderButtonState = function() {
            var b;
            b = this.powerUp.name;
            F.call(this.model.get("powerUps"), b);
            this.$(".js-toggle-btn").text(txt)
        };
        return b
    }(A);
    vc = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.className = "fixed-width voting-prefs";
        b.prototype.initialize = function() {
            return this.listenTo(this.model, {
                "change:prefs": this.render
            })
        };
        b.prototype.events = {
            "click .js-voting-select:not(.disabled)": "selectPerm",
            "mouseenter .js-voting-select": "showSoftCheckMarks",
            "mouseleave .js-voting-select": "clearSoftCheckMarks"
        };
        b.prototype.render = function() {
            var b, c, g;
            b = this.model.toJSON({
                prefs: !0,
                url: !0
            });
            c = this.model.getOrganization();
            b.hasOrg = null != (null != c ? c.id : void 0);
            b.orgCanSee =
                b.hasOrg && ("public" === (g = this.model.getPref("permissionLevel")) || "org" === g);
            b.premium = null != c ? c.isFeatureEnabled("observers") : void 0;
            b.voting_showObservers = (b.premium || b.voting_observers) && b.hasOrg;
            null != c && c.owned() ? (b.orgOwner = !0, b.orgName = c.get("displayName"), this.model.owned() || (b.setOrgNull = !0)) : this.model.owned() || (b.noEditOrg = !0);
            this.$el.html(v.fillFromModel("power_ups_voting_prefs", this.model, b));
            b = this.$(".icon-check");
            c = this.$(".checked-option")[0];
            b = b.index(c);
            this.displayChecksAbove(b,
                "checked-option");
            return this
        };
        b.prototype.selectPerm = function(b) {
            l.stop(b);
            b = $(b.target).closest(".js-voting-select").attr("name");
            return this.model.setPref("voting", b)
        };
        b.prototype.showSoftCheckMarks = function(b) {
            b = $(b.target).closest(".js-voting-select")[0];
            b = this.$(".js-voting-select").index(b);
            return this.displayChecksAbove(b, "soft-check")
        };
        b.prototype.clearSoftCheckMarks = function() {
            return this.displayChecksAbove(-1, "soft-check")
        };
        b.prototype.displayChecksAbove = function(b, c) {
            return this.$(".js-voting-select").each(function(g,
                f) {
                var h;
                if (!$(f).hasClass("disabled") && !$(f).children(".icon-check").hasClass("checked-option")) return h = $(f).children("div.icon-check"), g <= b ? h.addClass(c) : h.removeClass(c)
            })
        };
        return b
    }(A);
    rc = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "fixed-width card-aging-prefs";
        b.prototype.initialize = function() {
            return this.listenTo(this.model, {
                "change:prefs": this.render
            })
        };
        b.prototype.events = {
            "click .js-select:not(.disabled)": "selectMode"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                prefs: !0,
                url: !0
            }).prefs;
            this.$el.html(v.fillFromModel("power_ups_card_aging_prefs", this.model, {
                aging_regular: "regular" === b.cardAging,
                aging_pirate: "pirate" === b.cardAging
            }));
            return this
        };
        b.prototype.selectMode = function(b) {
            l.stop(b);
            b = $(b.target).closest(".js-select").attr("name");
            return this.model.setPref("cardAging", b)
        };
        return b
    }(A);
    qc = function(c) {
        function b() {
            this.render = k(this.render, this);
            this.generateNewFeedURL = k(this.generateNewFeedURL,
                this);
            this.generationComplete = k(this.generationComplete, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "fixed-width calendar-prefs";
        b.prototype.initialize = function() {
            this.generating = !1;
            return this.listenTo(this.model, {
                "change:prefs": this.render,
                "change:myPrefs.calendarKey": this.generationComplete
            })
        };
        b.prototype.events = {
            "click .js-calendar-pref-feed:not(.disabled)": "selectFeedEnabled",
            "click .js-calendar-feed-url:not(:disabled)": "focusInput",
            "click .js-regen-calendar-url:not(.disabled)": "generateNewFeedURL"
        };
        b.prototype.generationComplete = function() {
            this.generating = !1;
            return this.render()
        };
        b.prototype.generateNewFeedURL = function(b) {
            l.stop(b);
            this.generating = !0;
            this.model.generateCalendarKey();
            return this.render()
        };
        b.prototype.render = function() {
            var b, c, g;
            g = this.model.toJSON({
                prefs: !0
            }).prefs;
            c = this.model.getPref("calendarKey");
            b = "webcal://" + location.host + "/calendar/" + y.me().id + "/" + this.model.id + "/" + c + ".ics";
            c || (this.generating = !0, this.model.generateCalendarKey());
            this.$el.html(v.fillFromModel("power_ups_calendar_prefs",
                this.model, {
                    calendar_feed_enabled: g.calendarFeedEnabled,
                    calendar_feed_generated: null != c && !this.generating,
                    calendar_feed_url: b
                }));
            return this
        };
        b.prototype.focusInput = function(b) {
            return this.$(".js-calendar-feed-url").focus().select()
        };
        b.prototype.selectFeedEnabled = function(b) {
            l.stop(b);
            b = "enabled" === $(b.target).closest("a").attr("name");
            return this.model.setPref("calendarFeedEnabled", b)
        };
        return b
    }(A);
    var Qh, gh, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b,
                e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Qh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typename = "BoardStar";
        return b
    }(W);
    gh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Qh;
        b.prototype.url = function() {
            return "/1/member/" + this.member.id + "/boardStars"
        };
        b.prototype.initialize = function(b, c) {
            this.member = c.member;
            return this.bind("change:pos", this.sort)
        };
        b.prototype.comparator = function(b) {
            return b.get("pos") || 0
        };
        b.prototype.getBoardStar = function(b) {
            return _.find(this.models, function(c) {
                return c.get("idBoard") === b
            })
        };
        b.prototype.starBoard = function(b) {
            var c;
            if (!this.getBoardStar(b)) return c = this.length ? this.at(this.length - 1).get("pos") + l.spacing : l.spacing, this.create({
                idBoard: b,
                pos: c
            }, {
                modelCache: this.modelCache
            })
        };
        b.prototype.unstarBoard = function(b) {
            b = this.getBoardStar(b);
            if (null != b) return b.destroy()
        };
        b.prototype.updateStarBoard = function(b, c) {
            var g,
                f;
            g = this.getBoardStar(b);
            f = l.calcPos(c, this, g);
            if (null != g) return g.update({
                pos: f
            })
        };
        b.prototype.getBoards = function() {
            var b;
            b = this.getBoardIds();
            return _.compact(this.Board.get(b))
        };
        b.prototype.getBoardIds = function() {
            var b, c, g, f, h;
            c = _.sortBy(this.models, function(b) {
                return b.get("pos")
            });
            h = [];
            g = 0;
            for (f = c.length; g < f; g++) b = c[g], h.push(b.get("idBoard"));
            return h
        };
        return b
    }(Va);
    var Rh, ke, Sh, vg, Nc, Hc, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor =
                    c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Nc = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "sticker-select js-draggable-sticker";
        b.prototype.enabled = function() {
            var b;
            return "standard" === this.model.get("type") || y.me().isFeatureEnabled("additionalStickers") || (null != (b = this.options.org) ? b.isFeatureEnabled("additionalStickers") : void 0)
        };
        b.prototype.render = function() {
            var b, c, g;
            b = this.model.toJSON();
            b.url = null != (c = null != (g = l.smallestPreviewBiggerThan(b.scaled, 80)) ? g.url : void 0) ? c : b.url;
            b.pending = null == b.image && null == b.id && null == b.error;
            this.$el.toggleClass("disabled", !this.enabled()).html(v.fill("sticker_select_item", b)).data("sticker", this.model);
            return this
        };
        return b
    }(A);
    Rh = function(c) {
        function b() {
            this.deleteSticker = k(this.deleteSticker, this);
            this.toggleSelectable = k(this.toggleSelectable, this);
            this.initialize = k(this.initialize,
                this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            this.toggleSelectable();
            this.model.onId(function(b) {
                return function() {
                    return b.toggleSelectable()
                }
            }(this));
            return this.listenTo(this.model, "change:error", this.render)
        };
        b.prototype.events = {
            "click .js-delete-sticker": "deleteSticker"
        };
        b.prototype.enabled = function() {
            var b;
            return y.me().isFeatureEnabled("customStickers") || (null != (b = this.options.org) ? b.isFeatureEnabled("customStickers") : void 0)
        };
        b.prototype.toggleSelectable =
            function() {
                var b;
                b = null != this.model.id;
                this.$el.toggleClass("js-draggable-sticker", b);
                return this.$el.toggleClass("sticker-unselectable", !b)
            };
        b.prototype.deleteSticker = function(b) {
            l.stop(b);
            return pa.toggle({
                elem: $(b.target).closest(".js-delete-sticker"),
                top: 32,
                model: this.model,
                title: "Delete Sticker?",
                text: "Deleting a sticker is permanent. There is no undo.",
                confirmText: "Delete",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(d) {
                        return b.model.destroy()
                    }
                }(this)
            })
        };
        return b
    }(Nc);
    ke =
        function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.prototype.typename = "Sticker";
            return b
        }(W);
    vg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = ke;
        b.prototype.url = function() {
            return "/1/cards/" + this.card.get("id") + "/stickers"
        };
        b.prototype.initialize = function(b, c) {
            this.card = c.card;
            this.bind("change:zIndex", this.sort)
        };
        b.prototype.comparator = function(b) {
            return b.get("zIndex") || 0
        };
        b.prototype.nextZIndex = function(b) {
            var c;
            return 0 < this.length ? (c = _.max(this.pluck("zIndex")), (null != b ? b.get("zIndex") : void 0) === c && 1 === this.filter(function(b) {
                return b.get("zIndex") === c
            }).length ? c : c + 1) : 1
        };
        return b
    }(Va);
    Hc = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "sticker";
        b.prototype.showEditControls = function() {
            return !1
        };
        b.prototype.render = function() {
            var b, c, g;
            b = this.model.toJSON();
            b.url = null != (c = null != (g = l.smallestPreviewBiggerThan(b.imageScaled, 80)) ? g.url : void 0) ? c : b.imageUrl;
            b.showEditControls = this.showEditControls();
            this.$el.html(v.fill("sticker_on_card", b)).css({
                left: "" + b.left + "%",
                top: "" + b.top + "%"
            });
            return this
        };
        return b
    }(A);
    Sh = function(c) {
        function b() {
            this.removeSticker = k(this.removeSticker, this);
            this.startMove = k(this.startMove, this);
            this.startRotate = k(this.startRotate, this);
            this.editSticker = k(this.editSticker, this);
            this.mouseleave = k(this.mouseleave, this);
            this.mouseenter = k(this.mouseenter, this);
            this.saveStickerAttrs = k(this.saveStickerAttrs, this);
            this.isMovingOrRotating =
                k(this.isMovingOrRotating, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            this.listenTo(this.model, "stopEditing", this.stopEditing);
            this.listenTo(this.model, "startEditing", this.editSticker);
            this.listenTo(this.model, "disableEditing", this.disableEditing);
            return this.listenTo(this.model, "enableEditing", this.enableEditing)
        };
        b.prototype.events = {
            mouseenter: "mouseenter",
            mouseleave: "mouseleave",
            mousedown: "editSticker",
            "mousedown .js-remove-sticker": "removeSticker",
            "mousedown .js-rotate-sticker": "startRotate",
            "mousedown .js-move-sticker": "startMove"
        };
        b.prototype.showEditControls = function() {
            return !0
        };
        b.prototype.disableEditing = function() {
            return this.$el.addClass("editing-disabled")
        };
        b.prototype.enableEditing = function() {
            return this.$el.removeClass("editing-disabled")
        };
        b.prototype.endCurrentEdit = function() {
            $(document).off(".stickerrotate .stickermove .stickerautomove");
            this.$el.removeClass("moving rotating");
            return $(".quick-card-editor").removeClass("invalid dragging")
        };
        b.prototype.stopEditing = function(b) {
            var c, g, f, h;
            l.stop(b);
            if (this.isEditing()) {
                this.endCurrentEdit();
                this.$el.removeClass("editing");
                $(".quick-card-editor").removeClass("quick-card-editor-editing-stickers");
                f = this.model.collection.models;
                h = [];
                c = 0;
                for (g = f.length; c < g; c++) b = f[c], h.push(b.trigger("enableEditing"));
                return h
            }
        };
        b.prototype.isEditing = function() {
            return this.$el.is(".moving, .rotating, .editing")
        };
        b.prototype.isEditingDisabled = function() {
            return this.$el.is(".editing-disabled")
        };
        b.prototype.isMovingOrRotating =
            function() {
                return this.$el.is(".moving, .rotating")
            };
        b.prototype.saveStickerAttrs = function(b) {
            var c, g, f, h;
            c = b.position;
            f = b.rotation;
            b = function(b) {
                return Math.round(100 * b) / 100
            };
            h = {
                zIndex: this.model.collection.nextZIndex(this.model)
            };
            c && (c = this.$el.closest(".list-card"), g = c.find(".js-card-stickers"), c = g.width(), g = g.height(), h.left = b(100 * (parseFloat(this.$el.css("left")) / c)), h.top = b(100 * (parseFloat(this.$el.css("top")) / g)));
            f && (f = l.getElemTransformMatrix(this.$el.find(".sticker-image")), h.rotate = b(l.getMatrixDegrees(f) %
                360));
            this.model.update(h)
        };
        b.prototype.mouseenter = function(b) {
            !this.isEditingDisabled() && (!this.isEditing() && !this.isMovingOrRotating()) && this.$el.addClass("hover")
        };
        b.prototype.mouseleave = function(b) {
            this.$el.removeClass("hover")
        };
        b.prototype.editSticker = function(b) {
            var c, g, f, h, m, k, s;
            if (!(null != b && 1 !== b.which)) {
                l.stop(b);
                null != b && "mousedown" === b.type && (f = b.pageX, h = b.pageY, g = function(b) {
                    return function() {
                        $(document).off(".stickerautomove");
                        return clearTimeout(c)
                    }
                }(this), $(document).on("mousemove.stickerautomove",
                    function(b) {
                        return function(d) {
                            if (25 < Math.pow(d.pageX - f, 2) + Math.pow(d.pageY - h, 2)) return g(), b.startMove(d)
                        }
                    }(this)), $(document).on("mouseup.stickerautomove", g), c = setTimeout(g, 1E3));
                m = _.clone(this.model.collection.models);
                k = 0;
                for (s = m.length; k < s; k++) b = m[k], b !== this.model && (b.trigger("stopEditing"), b.trigger("disableEditing"));
                _.defer(function(b) {
                    return function() {
                        x.hide();
                        b.$el.addClass("editing");
                        return $(".quick-card-editor").addClass("quick-card-editor-editing-stickers")
                    }
                }(this))
            }
        };
        b.prototype.startRotate =
            function(b) {
                var c, g, f, h, m, k;
                if (this.isEditing()) return l.preventDefault(b), c = this.$el.offset().left + this.$el.width() / 2, g = this.$el.offset().top + this.$el.height() / 2, f = b.pageX, h = b.pageY, l.calcDistanceFromCenter(this.$el, f, h), k = 0, b = l.getElemTransformMatrix(this.$el.find(".sticker-image")), null != b && (k = l.getMatrixDegrees(b)), m = !1, $(document).on("mousemove.stickerrotate", function(b) {
                    return function(d) {
                        var n, t;
                        m || (b.$el.removeClass("hover").addClass("rotating"), $(".quick-card-editor").addClass("dragging"),
                            m = !0);
                        n = d.pageX;
                        d = d.pageY;
                        l.calcDistanceFromCenter(b.$el, n, d);
                        n -= c;
                        t = d - g;
                        d = l.getDegrees(h - g, f - c);
                        n = l.getDegrees(t, n);
                        n = k + (n - d);
                        b.$el.find(".sticker-image").css({
                            transform: "rotate(" + n + "deg)",
                            "-webkit-transform": "rotate(" + n + "deg)"
                        })
                    }
                }(this)), $(document).on("mouseup.stickerrotate", function(b) {
                    return function() {
                        return m ? (b.saveStickerAttrs({
                            rotation: !0
                        }), b.endCurrentEdit()) : $(document).off(".stickerrotate")
                    }
                }(this)), !1
            };
        b.prototype.startMove = function(b) {
            var c, g, f, h, k, q, s, w, n, t, v;
            if (this.isEditing()) return l.stop(b),
                f = this.$el.closest(".list-card"), f = f.find(".js-card-stickers"), n = f.offset(), s = n.left, w = n.top, v = this.$el.width(), t = this.$el.height(), n = f.width(), f = f.height(), c = n - 10, g = f - 10, null != b ? (k = this.$el.offset().left + this.$el.width() / 2 - b.pageX, q = this.$el.offset().top + this.$el.height() / 2 - b.pageY) : q = k = 0, h = !1, $(document).on("mousemove.stickermove", function(b) {
                    return function(d) {
                        var f, l;
                        h || (b.$el.removeClass("hover").addClass("moving"), $(".quick-card-editor").addClass("dragging"), h = !0);
                        f = d.pageX - s - v / 2 + k;
                        d = d.pageY -
                            w - t / 2 + q;
                        l = !0;
                        f > c && (f = c, l = !1); - 40 > f && (f = -40, l = !1);
                        d > g && (d = g, l = !1); - 40 > d && (d = -40, l = !1);
                        $(".quick-card-editor").toggleClass("invalid", !l);
                        return b.$el.css({
                            left: f,
                            top: d
                        })
                    }
                }(this)), $(document).on("mouseup.stickermove", function(b) {
                    return function() {
                        return h ? (b.saveStickerAttrs({
                            position: !0
                        }), b.endCurrentEdit()) : $(document).off(".stickermove")
                    }
                }(this)), !1
        };
        b.prototype.removeSticker = function(b) {
            this.isEditing() && (b = _.once(function(b) {
                    return function() {
                        b.stopEditing();
                        b.model.destroy();
                        b.$el.remove()
                    }
                }(this)),
                this.$el.one("transitionEnd webkitTransitionEnd", b), setTimeout(b, 100), this.$el.addClass("fade-out"))
        };
        return b
    }(Hc);
    var Th, hh, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Th = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typename = "Login";
        b.prototype.hasConflict = function() {
            var b;
            b = this.collection.types();
            return !_.any([
                function(b) {
                    return function() {
                        return _.isEmpty(b.get("types"))
                    }
                }(this),
                function(c) {
                    return function() {
                        return "password" in b
                    }
                }(this),
                function(c) {
                    return function() {
                        return 2 <= b.google
                    }
                }(this)
            ], function(b) {
                return b()
            })
        };
        return b
    }(W);
    hh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Th;
        b.prototype.initialize = function() {
            return this.on("change:primary", this.resetPrimary, this)
        };
        b.prototype.resetPrimary = function(b) {
            var c, g, f;
            if (b.get("primary")) {
                f = this.without(b);
                c = 0;
                for (g = f.length; c < g; c++) b = f[c], b.set("primary", !1);
                return this.sort()
            }
        };
        b.prototype.comparator = function(b) {
            return Number(!b.get("primary")) + b.id
        };
        b.prototype.types = function() {
            return _.countBy(_.flatten(this.pluck("types")))
        };
        return b
    }(La);
    var Ra, D = [].slice,
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    Ra = function() {
        function c(b) {
            var d;
            this.name = b;
            _.extend(this, Backbone.Events);
            this._cache = {};
            this._locked = [];
            this._lockIndex = 0;
            this._deltaQueue = [];
            for (d in this._collections) this._cache[d] = {};
            l.debounceEvents(this);
            this.createBoundObjects();
            if ("board" === this.getCacheType()) this.on("add:Board:" + this.name.split("_")[1], function(b) {
                null != b.get("idOrganization") && ModelCacheCache.ensureSubscriptions();
                return b.on("change:idOrganization", function() {
                    return ModelCacheCache.ensureSubscriptions()
                })
            })
        }
        c.fullCacheTypes = ["board", "organization"];
        c.prototype._collections = {
            Action: {
                type: nb,
                test: "actions"
            },
            Card: {
                type: Ea,
                test: "cards"
            },
            Checklist: {
                type: Wb,
                test: "checklists"
            },
            Board: {
                type: ra,
                test: function(b) {
                    return /^board($|s)/.test(b)
                }
            },
            List: {
                type: Ic,
                test: function(b) {
                    return /^lists?/.test(b)
                }
            },
            Member: {
                type: ca,
                test: function(b) {
                    return /^member/.test(b) && "memberships" !== b && "memberType" !== b
                }
            },
            Notification: {
                type: vb,
                test: "notifications"
            },
            Organization: {
                type: Sa,
                test: function(b) {
                    return /^organization/.test(b)
                }
            }
        };
        c.prototype.getRequiredSubscriptions = function() {
            var b, d, c, g, f;
            c = y.isLoggedIn() ? [{
                modelType: "Member",
                idModel: y.myId(),
                tags: ["messages", "updates"]
            }] : [];
            g = function() {
                var c;
                switch (this.getCacheType()) {
                    case "organization":
                        return [{
                            modelType: "Organization",
                            idModel: this.name.split("_")[1],
                            tags: ["allActions", "updates"]
                        }];
                    case "board":
                        return b = this.name.split("_")[1], f = [{
                            modelType: "Board",
                            idModel: b,
                            tags: ["clientActions", "updates"]
                        }], (d = null != (c = this.get("Board", b)) ? c.get("idOrganization") : void 0) && f.push({
                            modelType: "Organization",
                            idModel: d,
                            tags: ["allActions", "updates"]
                        }), f;
                    default:
                        return []
                }
            }.call(this);
            return c.concat(g)
        };
        c.prototype.createBoundObjects = function() {
            var b, d, c, g, f, h, k, l, s, w, n, t;
            d = ["get", "waitFor", "all", "find", "findOne"];
            b = {
                Action: ["getListForModel"],
                Notification: ["sortedByDateDescending", "unreadCount"]
            };
            this.bound = {};
            w = [nb, ra, Ea, Wb, Ic, ca, vb, Sa];
            h = 0;
            for (l = w.length; h < l; h++) {
                g = w[h];
                this.bound[g.prototype.typeName] = {};
                t = d.concat(null != (n = b[g.prototype.typeName]) ? n : []);
                f = function(b) {
                    return function(d, c) {
                        return b.bound[d.prototype.typeName][c] = function() {
                            var e;
                            e = 1 <= arguments.length ? D.call(arguments, 0) : [];
                            return d[c].apply(d, [b].concat(D.call(e)))
                        }
                    }
                }(this);
                k = 0;
                for (s = t.length; k < s; k++) c = t[k], f(g, c)
            }
            return this.bound.Auth = {
                me: function(b) {
                    return function() {
                        return ca.get(b,
                            y.myId())
                    }
                }(this)
            }
        };
        c.prototype.getCacheType = function() {
            return this.name.split("_")[0]
        };
        c.prototype.updateDeltas = function(b, d) {
            var c, g, f, h;
            h = [];
            g = 0;
            for (f = d.length; g < f; g++) c = d[g], null != c._id && (null == c.id && (c.id = c._id), delete c._id), h.push(this.enqueueDelta(b, c));
            return h
        };
        c.prototype.deleteDeltas = function(b, d) {
            var c, g, f, h, k;
            k = [];
            g = 0;
            for (f = d.length; g < f; g++) c = d[g], k.push(this.enqueueDelta(b, {
                id: null != (h = c.id) ? h : c._id,
                deleted: !0
            }));
            return k
        };
        c.prototype.clearAll = function() {
            var b, d, c, g, f;
            for (c in this._collections) {
                f =
                    null != (g = this._cache[c]) ? g : {};
                for (b in f) d = f[b], d.destructor();
                this._cache[c] = {}
            }
            return clearInterval(this._syncTimer)
        };
        c.prototype.get = function(b, d) {
            var c;
            return null != (c = this._cache[b]) ? c[d] : void 0
        };
        c.prototype.waitFor = function(b, d, c) {
            var g;
            g = this.get(b, d);
            return null != g ? c(null, g) : this.once("add:" + b + ":" + d, function(f) {
                return function() {
                    return f.waitFor(b, d, c)
                }
            }(this))
        };
        c.prototype.all = function(b) {
            return _.values(this._cache[b])
        };
        c.prototype.add = function(b) {
            var d;
            if (!(b.id && null != this.get(b.typeName,
                b.id)) && null != this._collections[b.typeName]) return d = b.id ? b.id : b.cid, this._cache[b.typeName][d] = b, this.trigger("add:" + b.typeName, b), b.onId(function(d) {
                return function(c) {
                    delete d._cache[b.typeName][b.cid];
                    d._cache[b.typeName][c] = b;
                    d.trigger("add:" + b.typeName + ":" + c, b);
                    return "function" === typeof b.triggerCacheEvents ? b.triggerCacheEvents(d, "add", b) : void 0
                }
            }(this)), b.off(null, null, this), b.on("change", function(d) {
                return function() {
                    var c, f, h;
                    "function" === typeof b.triggerCacheEvents && b.triggerCacheEvents(d,
                        "change", b);
                    d.trigger("change:" + b.typeName, b);
                    f = b.changedAttributes();
                    h = [];
                    for (c in f) h.push(d.trigger("change:" + b.typeName + ":" + c, b));
                    return h
                }
            }(this), this), b.on("destroy", function(b) {
                return function(d) {
                    return b.remove(d)
                }
            }(this), this)
        };
        c.prototype.remove = function(b) {
            var d, c, g, f;
            if (null != b) {
                if (b instanceof Ea) {
                    f = b.actionList.models;
                    c = 0;
                    for (g = f.length; c < g; c++) d = f[c], this.remove(d)
                }
                delete this._cache[b.typeName][b.id];
                delete this._cache[b.typeName][b.cid];
                this.trigger("remove:" + b.typeName, b);
                null !=
                    b.id && this.trigger("remove:" + b.typeName + ":" + b.id, b);
                "function" === typeof b.triggerCacheEvents && b.triggerCacheEvents(this, "remove", b);
                b.off(null, null, this);
                return "function" === typeof b.destructor ? b.destructor() : void 0
            }
        };
        c.prototype.update = function(b, d, c) {
            var g, f, h, k, l, s, w;
            if (_.isArray(d)) {
                g = 0;
                for (f = d.length; g < f; g++) h = d[g], this.update(b, h)
            } else if (d.deleted) b = this.get(b, d.id), this.remove(b);
            else {
                l = _.clone(d);
                k = function(b) {
                    return function(c, e) {
                        var f;
                        f = d[c];
                        _.isNumber(f) ? l["" + c + "Count"] = f : b.update(e, f);
                        return delete l[c]
                    }
                }(this);
                w = this._collections;
                for (g in w)
                    if (s = w[g], s = s.test, _.isString(s)) null != d[s] && k(s, g);
                    else
                        for (f in d) s(f) && k(f, g);
                g = _.isString(b) ? this.get(b, d.id) : b;
                null != g ? g.set(l) : null != (null != (h = this._collections[b]) ? h.type : void 0) && new this._collections[b].type(l, {
                    modelCache: this
                })
            }
            return "function" === typeof c ? c(null, d) : void 0
        };
        c.prototype.lock = function(b) {
            var d;
            d = this._lockIndex++;
            P("MC", "" + b + " took lock " + d);
            this._locked.push(d);
            return d
        };
        c.prototype.locked = function() {
            return !_.isEmpty(this._locked)
        };
        c.prototype.unlock = function(b) {
            return 0 <= F.call(this._locked, b) ? (P("MC", "gave lock " + b), this._locked = _.without(this._locked, b), this.locked() || this.processDeltas(), !0) : !1
        };
        c.prototype.enqueueDelta = function(b, d, c) {
            P("MC", "got an update for " + (_.isString(b) ? b : b.typeName));
            return this.locked() ? this._deltaQueue.push({
                modelOrType: b,
                delta: d,
                next: c
            }) : this.update(b, d, c)
        };
        c.prototype.processDeltas = function() {
            var b, d, c, g, f, h, k, l;
            g = this._deltaQueue;
            this._deltaQueue = [];
            f = function(b) {
                return !_.isString(b) && null ==
                    b.id
            };
            P("MC", "Running " + g.length + " updates");
            h = 0;
            for (k = g.length; h < k; h++) c = g[h], d = c.modelOrType, b = c.delta, c = c.next, f(d) && this.update(d, b, c);
            l = [];
            h = 0;
            for (k = g.length; h < k; h++) c = g[h], d = c.modelOrType, b = c.delta, c = c.next, f(d) || l.push(this.update(d, b, c));
            return l
        };
        return c
    }();
    window.ModelCacheCache = new(function() {
        function c() {
            this._caches = {}
        }
        c.prototype.all = function() {
            return _.values(this._caches)
        };
        c.prototype.addCache = function(b) {
            var d;
            d = this._caches[b] = new Ra(b);
            $(d).on("outOfSync", function(b) {
                return function() {
                    return b.dropCache(d)
                }
            }(this));
            this.ensureSubscriptions();
            return d
        };
        c.prototype.cachesSubscribedToModel = function(b) {
            var d, c, g, f;
            c = [];
            f = this._caches;
            for (g in f) d = f[g], _.any(d.getRequiredSubscriptions(), function(d) {
                return d.idModel === b
            }) && c.push(d);
            return c
        };
        c.prototype["for"] = function(b) {
            var d, c;
            if (b instanceof Ra) return b;
            null == this._caches[b] && (d = this.addCache(b), (c = d.getCacheType(), 0 <= F.call(Ra.fullCacheTypes, c)) && this.copyHeaderCacheTo(d));
            return this._caches[b]
        };
        c.prototype.hasCache = function(b) {
            return null != this._caches[b]
        };
        c.prototype.copyHeaderCacheTo = function(b) {
            var d, c, g, f, h, k, l;
            if (c = this["for"]("header")) {
                c = c._cache;
                l = [];
                for (h in c) k = c[h], l.push(function() {
                    var c;
                    c = [];
                    for (g in k) f = k[g], d = $.extend(!0, {}, f.attributes), c.push(new b._collections[h].type(d, {
                        modelCache: b
                    }));
                    return c
                }());
                return l
            }
        };
        c.prototype.dropCache = function(b) {
            O.dropLoaderFor(b);
            b.clearAll();
            delete this._caches[b.name];
            return this.ensureSubscriptions()
        };
        c.prototype.ensureSubscriptions = function() {
            var b, d, c, g, f, h, k, l, s, w, n, t;
            l = _.flatten(function() {
                var d,
                    c;
                d = this._caches;
                c = [];
                for (f in d) b = d[f], c.push(b.getRequiredSubscriptions());
                return c
            }.call(this));
            k = {};
            w = 0;
            for (n = l.length; w < n; w++) s = l[w], g = s.modelType, c = s.idModel, s = s.tags, null == k[c] && (k[c] = {
                tags: [],
                modelType: g
            }), (t = k[c].tags).push.apply(t, s);
            l = rpc.currentSubscriptions;
            for (c in l) g = l[c], s = g.tags, g = g.modelType, (null == (h = k[c]) || !_.isEmpty(d = _.difference(s, h.tags))) && rpc.unsubscribe(g, c, d);
            for (c in k) d = k[c], s = d.tags, g = d.modelType, (null == (h = rpc.currentSubscriptions[c]) || !_.isEmpty(_.difference(s, h.tags))) &&
                rpc.subscribe(g, c, s)
        };
        return c
    }());
    window.IdCache = new(function() {
        function c() {
            this._shortLinkToId = {
                Card: {},
                Board: {}
            };
            this._idCardToIdBoard = {}
        }
        c.prototype.getId = function(b, d) {
            if (l.checkId(d)) return d;
            if (l.isShortLink(d)) return this._shortLinkToId[b][d];
            throw Error("Not a shortLink or id: " + d);
        };
        c.prototype.setId = function(b, d, c) {
            if (!l.checkId(c)) throw Error("Not an id: " + c);
            if (!l.isShortLink(d)) throw Error("Not a shortLink: " + d);
            return this._shortLinkToId[b][d] = c
        };
        c.prototype.setCardId = function(b,
            d) {
            return this.setId("Card", b, d)
        };
        c.prototype.setBoardId = function(b, d) {
            return this.setId("Board", b, d)
        };
        c.prototype.setBoardIdForCard = function(b, d) {
            return this._idCardToIdBoard[this.getCardId(b)] = this.getBoardId(d)
        };
        c.prototype.getCardId = function(b) {
            return this.getId("Card", b)
        };
        c.prototype.getBoardId = function(b) {
            return this.getId("Board", b)
        };
        c.prototype.getBoardIdForCard = function(b) {
            return this._idCardToIdBoard[this.getCardId(b)]
        };
        return c
    }());
    $(rpc).bind("updateModels", function(c, b) {
        var d, e, g, f;
        f =
            ModelCacheCache.cachesSubscribedToModel(b.idModelChannel);
        e = 0;
        for (g = f.length; e < g; e++) d = f[e], d.updateDeltas(b.typeName, b.deltas)
    });
    $(rpc).bind("deleteModels", function(c, b) {
        var d, e, g, f;
        f = ModelCacheCache.cachesSubscribedToModel(b.idModelChannel);
        e = 0;
        for (g = f.length; e < g; e++) d = f[e], d.deleteDeltas(b.typeName, b.deltas)
    });
    var Uh, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Uh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            var b;
            this.updatePinnedDrawer();
            ia.ensureRun();
            this.listenTo(ba, "change:pinBoardsListSidebar", function() {
                return this.updatePinnedDrawer()
            });
            b = this.debounce(function(b) {
                ia.calc();
                x.calcPos({
                    notNew: !0
                });
                sa.setSurfaceHeight();
                ka.isVisible && ka.calcPos()
            }, 300);
            $(window).on("resize.windowEvent", b);
            b = window.devicePixelRatio;
            _.isNumber(b) ? t("Pixel Ratio", 1.5 <= b ? "High" : "Normal", b) : t("Pixel Ratio",
                "Not available");
            sa.setSurfaceHeight()
        };
        b.prototype.updatePinnedDrawer = function() {
            return $("body").toggleClass("pinned-drawer", ba.getPinSidebar())
        };
        return b
    }(A);
    var Vh, fg, fb, le, Wh, Lh, fe, nh, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        D = [].slice;
    fb = function(c) {
        function b() {
            this.respond = k(this.respond,
                this);
            this["delete"] = k(this["delete"], this);
            this.create = k(this.create, this);
            this.getParent = k(this.getParent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName = "Invitation";
        b.prototype.initialize = function(b, c) {
            P("invitation", c);
            this.invitationList = c.collection;
            this.setReady()
        };
        b.prototype.getParent = function() {
            return this.invitationList.options.model
        };
        b.prototype.create = function(b) {
            var c, g, f, h;
            f = b.model;
            c = b.data;
            h = b.success;
            g = b.error;
            return S({
                url: "/1/" + f.typeName +
                    "/" + f.id + "/invitations",
                type: "post",
                data: c,
                dataType: "json",
                error: function(b) {
                    return function() {
                        var d, c, e;
                        d = 2 <= arguments.length ? D.call(arguments, 0, c = arguments.length - 1) : (c = 0, []);
                        c = arguments[c++];
                        d = d[0];
                        if ("Member email restricted by organization administrators" === d.responseText.trim()) b.$(".error").show();
                        else return "Member already invited" !== (e = d.responseText.trim()) && ("Member already a member" !== e && "Member email restricted by organization administrators" !== e) && c(), "function" === typeof g ? g(d) : void 0
                    }
                }(this),
                success: function(b) {
                    return function(b) {
                        return "function" === typeof h ? h(b) : void 0
                    }
                }(this)
            })
        };
        b.prototype["delete"] = function(b) {
            var c, g, f, h;
            f = b.model;
            g = b.idInvitation;
            h = b.success;
            c = b.error;
            return S({
                url: "/1/" + f.typeName + "/" + f.id + "/invitations/" + g,
                type: "delete",
                dataType: "json",
                error: function(b) {
                    return function() {
                        var b, d;
                        b = 2 <= arguments.length ? D.call(arguments, 0, d = arguments.length - 1) : (d = 0, []);
                        d = arguments[d++];
                        b = b[0];
                        "Invitation not found" !== b.responseText.trim() && d();
                        return "function" === typeof c ? c(b) : void 0
                    }
                }(this),
                success: function(b) {
                    return function(b) {
                        return "function" === typeof h ? h(b) : void 0
                    }
                }(this)
            })
        };
        b.prototype.respond = function(b) {
            var c, g, f, h, k;
            f = b.model;
            h = b.response;
            c = b.data;
            k = b.success;
            g = b.error;
            return S({
                url: "/1/" + f.typeName + "/" + f.id + "/invitations/" + h,
                type: "post",
                dataType: "json",
                data: c,
                error: function(b) {
                    return function() {
                        var b, d;
                        b = 2 <= arguments.length ? D.call(arguments, 0, d = arguments.length - 1) : (d = 0, []);
                        d = arguments[d++];
                        b = b[0];
                        "already a member" !== b.responseText.trim() && d();
                        return "function" === typeof g ? g(b) :
                            void 0
                    }
                }(this),
                success: function(b) {
                    return function(b) {
                        return "function" === typeof k ? k(b) : void 0
                    }
                }(this)
            })
        };
        return b
    }(W);
    le = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = fb;
        b.prototype.initialize = function(b, c) {
            this.options = c
        };
        b.prototype.comparator = function(b) {
            return b.get("dateExpires") ? -M.parse(b.get("dateExpires")) : -Infinity
        };
        return b
    }(La);
    Vh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName =
            "BoardInvitation";
        return b
    }(fb);
    fg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Vh;
        return b
    }(le);
    Wh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName = "OrganizationInvitation";
        return b
    }(fb);
    Lh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = Wh;
        return b
    }(le);
    fe = function(c) {
        function b() {
            this.invite = k(this.invite, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Add As..."
        };
        b.prototype.initialize = function() {
            this.parent = this.options.parent;
            this.member = this.model;
            this.isBoard = this.isOrg = !1;
            this.objText = "";
            this.didSendInvite = !0;
            if (this.parent instanceof ra) return this.isBoard = !0, this.objText = "Board", this.invitationList = this.parent.invitationList;
            if (this.parent instanceof Sa) return this.isOrg = !0, this.objText = "Org", this.invitationList = this.parent.invitationList
        };
        b.prototype.setOptions = function(b) {
            _.extend(this.options,
                b);
            return this
        };
        b.prototype.events = {
            "click .js-invite": "invite"
        };
        b.prototype.render = function() {
            var b, c, g, f, h;
            b = {
                showObserver: !1
            };
            b.showAdmin = this.parent.owned(this.member);
            if (this.isBoard && null != (c = this.parent.getOrganization()) && c.isFeatureEnabled("observers")) b.showObserver = !0;
            h = ["admin", "normal", "observer"];
            g = 0;
            for (f = h.length; g < f; g++) c = h[g], b["roleText_" + c] = this.parent.getRoleText(c);
            this.$el.html(v.fill("manage_members_select_role", b));
            return this
        };
        b.prototype.invite = function(b) {
            var c, g;
            l.stop(b);
            b = $(b.target).closest(".js-invite");
            g = null;
            $(b).hasClass("js-select-admin") ? g = "Admin" : $(b).hasClass("js-select-member") ? g = "Member" : $(b).hasClass("js-select-observer") && (g = "Observer");
            this.isBoard && (b = _.pluck(null != (c = this.parent.organization) ? c.memberList.models : void 0, "id"), _.include(b, this.member.id));
            c = {};
            c.type = "Member" === g ? "normal" : g.toLowerCase();
            S({
                url: "/1/" + this.parent.typeName.toLowerCase() + "/" + this.parent.id + "/members/" + this.member.id,
                type: "put",
                data: c,
                dataType: "json",
                success: function(b) {
                    return function(b) {
                        return t("Invitations",
                            "Add Member to Board", "Role: " + g)
                    }
                }(this),
                error: function(b) {
                    return function(b, d) {
                        Q.show(b.responseText, "error", "alert", 3E3);
                        t("Invitations", "Error: " + b.responseText)
                    }
                }(this)
            });
            if ("function" === typeof(c = this.options).onSendInvite) c.onSendInvite();
            this.options.onSendInvite = null;
            x.hide()
        };
        return b
    }(A);
    nh = function(c) {
        function b() {
            this.invite = k(this.invite, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.invite = function(b) {
            var c;
            l.stop(b);
            b = $(b.target).closest(".js-invite");
            c = null;
            $(b).hasClass("js-select-admin") ? c = "Admin" : $(b).hasClass("js-select-member") ? c = "Member" : $(b).hasClass("js-select-observer") && (c = "Observer");
            b = {};
            b.email = this.options.email;
            b.type = "Member" === c ? "normal" : c.toLowerCase();
            fb.prototype.create.call(this, {
                model: this.parent,
                data: b,
                success: function(b) {
                    return function(d) {
                        return t("Invitations", "Send Email " + b.objText + " Invite to New Member", "Role: " + c)
                    }
                }(this)
            });
            x.popView()
        };
        return b
    }(fe);
    var Ub, Ec, wg, Xh, Oc, Yh, me, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor =
                    c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        };
    me = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "member";
        b.prototype.events = {
            click: "showMenu"
        };
        b.prototype.initialize = function() {
            var b, c;
            this.showStatus = this.enablePopupMenu = !0;
            this.model && (this.enablePopupMenu = null != (b = this.options.enablePopupMenu) ? b : !0, this.options.goToBoardProfile &&
                (this.goToBoardProfile = !0), this.showStatus = null != (c = this.options.showStatus) ? c : !0, this.listenTo(this.model, "change", this.render));
            this.showBoardAdmin && this.listenTo(this.getBoard(), "change:memberships", this.render);
            this.showOrganizationAdmin && this.listenTo(this.getOrganization(), "change:memberships", this.render)
        };
        b.prototype.render = function() {
            var b, c, g, f, h;
            if (this.model) {
                P("render", "rendering " + this.constructor.name + " " + this.model.get("fullName"));
                b = this.model.toJSON();
                b.showStatus = this.showStatus;
                b["status_" + b.status] = !0;
                b.url = B.getMemberProfileUrl(b.id);
                c = function(b) {
                    return function(d) {
                        d = d.getMembershipFor(b.model);
                        return "admin" === (null != d ? d.memberType : void 0)
                    }
                }(this);
                this.showBoardAdmin && (b.isBoardAdmin = c(this.getBoard()) || ("function" === typeof this.getBoard ? null != (g = this.getBoard().getOrganization()) ? g.isPremOrgAdmin(this.model) : void 0 : void 0));
                b.isGhost = "ghost" === this.model.get("memberType");
                this.showOrganizationAdmin && (b.isOrganizationAdmin = c(this.getOrganization()));
                if ((c = null != (f = "function" ===
                    typeof this.getOrganization ? this.getOrganization() : void 0) ? f : "function" === typeof this.getBoard ? this.getBoard() : void 0) && c.isDeactivated(this.model)) b.isDeactivated = !0, b.showStatus = !1;
                c && c.isUnconfirmed(this.model) && (b.showStatus = !1)
            } else b = {
                deleted: !0
            };
            this.$el.html(v.fill("member", b));
            this.model.isFeatureEnabled("crown") && this.$el.addClass("has-crown");
            this.enablePopupMenu || this.$el.addClass("member-no-menu");
            b.isDeactivated && this.$el.addClass("member-deactivated");
            b.isGhost && this.$el.addClass("member-virtual");
            this.$el.data("id", null != (h = this.model) ? h.id : void 0);
            return this
        };
        b.prototype.showMenu = function(b) {
            var c;
            if ((this.doClicks() && this.enablePopupMenu || this.goToBoardProfile) && this.model) {
                l.stop(b);
                if (this.goToBoardProfile && (c = this.getBoard())) {
                    this.model.viewBoardProfile(this.getBoard());
                    return
                }
                this.options.goToProfile ? B.memberProfileView(this.model.get("username")) : (b = $(b.target).closest(".member"), x.toggle({
                    elem: b,
                    top: b.hasClass("member") ? 35 : 16,
                    view: this.getMenuView()
                }))
            }
        };
        b.prototype.doClicks = function() {
            return !K.sorting
        };
        return b
    }(A);
    Oc = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            return this.model.ond("change", this.render)
        };
        b.prototype.getViewTitle = function() {
            return this.model.getMemberViewTitle()
        };
        b.prototype.displayType = "miniprofile";
        b.prototype.delegateEvents = function(d) {
            return b.__super__.delegateEvents.call(this, _.extend({
                "click .js-profile": "showProfile",
                "click .js-edit-profile": "editProfile",
                "click .js-view-large": "viewLarge",
                "click .js-change-av": "changeAvatar"
            }, d || this.events))
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            b.isMe = y.isMe(this.model);
            b.showEmail = null != b.email && !b.isMe;
            null == b.email && ("ghost" === this.model.get("memberType") && !this.loaded) && this.loadEmail();
            this.$el.html(v.fill("mini_profile", b, {}, {
                member: v.member
            }));
            this.renderMenu();
            return this
        };
        b.prototype.loadEmail = function() {
            return O["for"](this.modelCache).loadMemberEmail(this.model.id, function(b) {
                return function(c,
                    g) {
                    return b.loaded = !0
                }
            }(this))
        };
        b.prototype.showProfile = function() {
            t("Mini Profile", "Click Profile")
        };
        b.prototype.editProfile = function(b) {
            t("Mini Profile", "Click Edit Profile");
            x.pushView({
                view: this.model.getView($d)
            })
        };
        b.prototype.viewLarge = function(b) {
            t("Mini Profile", "View Large Avatar");
            x.pushView({
                view: this.model.getView(Xh)
            })
        };
        b.prototype.changeAvatar = function(b) {
            t("Mini Profile", "Change Avatar");
            x.pushView({
                view: this.model.getView(Jc)
            })
        };
        return b
    }(A);
    Xh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Avatar"
        };
        b.prototype.displayType = "avdetail";
        b.prototype.events = {
            "click .js-profile": "showProfile"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            this.$el.html(v.fill("member_large_avatar", b));
            _.delay(function(b) {
                return function() {
                    return x.calcPos()
                }
            }(this), 150);
            return this
        };
        b.prototype.showProfile = function() {
            t("Mini Profile", "Large Avatar - Click Profile")
        };
        return b
    }(A);
    (function(c) {
        function b() {
            this.getMenuView = k(this.getMenuView,
                this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getMenuView = function() {
            return this.model.getView(Ub, this.model.cid)
        };
        return b
    })(me);
    Ub = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.renderMenu = function() {};
        return b
    }(Oc);
    wg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-remove-member": "removeMember"
        };
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this,
                arguments);
            this.card = this.options.card
        };
        b.prototype.renderMenu = function() {
            this.$el.append(v.fillMenu("member_on_card_menu", this.model.toJSON(), {
                editable: this.card.editable()
            }));
            return this
        };
        b.prototype.removeMember = function(b) {
            x.hide();
            this.card.removeMember(this.model.id)
        };
        return b
    }(Oc);
    Yh = function(c) {
        function b() {
            this.getMenuView = k(this.getMenuView, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.showBoardAdmin = !0;
        b.prototype.getBoard = function() {
            return this.options.parent
        };
        b.prototype.getMenuView = function() {
            return new Ec({
                board: this.options.parent,
                model: this.model,
                modelCache: this.modelCache
            })
        };
        return b
    }(me);
    Ec = function(c) {
        function b() {
            this.removeMember = k(this.removeMember, this);
            this.changeRole = k(this.changeRole, this);
            this.renderMenu = k(this.renderMenu, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "board-member-menu";
        b.prototype.initialize = function() {
            this.board = this.options.board;
            this.listenTo(this.board, "change:prefs", this.render);
            return b.__super__.initialize.apply(this, arguments)
        };
        b.prototype.events = {
            "click .js-remove-member": "removeMember",
            "click .js-change-role": "changeRole"
        };
        b.prototype.renderMenu = function() {
            var b, c, g;
            b = _.extend(this.model.toJSON(), "function" === typeof(c = this.board).premiumFeatures ? c.premiumFeatures() : void 0, this.model.getMembershipData(this.board));
            b.boardProfileUrl = B.getMemberBoardProfileUrl(this.model.get("username"), this.board.id);
            b.type = null;
            b.memberIsVirtual ? (b.type = "Virtual", b.isGhost = !0) : this.board.isDeactivated(this.model) ?
                (b.type = "Deactivated", b.canChangeRole = !1) : null != (g = this.board.getOrganization()) && g.isPremOrgAdmin(this.model) ? (b.type = "Admin", b.canChangeRole = !1) : b.memberIsAdmin ? b.type = "Admin" : b.memberIsNormal ? b.type = "Normal" : b.memberIsObserver && (b.type = "Observer");
            this.$el.append(v.fillMenu("member_on_board_menu", b, {
                editable: this.board.editable(),
                owned: this.board.owned()
            }));
            return this
        };
        b.prototype.changeRole = function(b) {
            x.pushView({
                view: this.model.getView(Zd, "", {
                    parent: this.board
                })
            })
        };
        b.prototype.removeMember =
            function(b, c) {
                l.stop(b);
                pa.pushView(_.extend(this.model.removeMembershipConfirmation(this.board), {
                    fxConfirm: function(b) {
                        return function(c) {
                            b.board.removeMember(b.model);
                            return x.hide()
                        }
                    }(this)
                }))
            };
        return b
    }(Oc);
    var gg, Dc, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b =
                0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        },
        D = [].slice;
    gg = function(c) {
        function b(c, e) {
            this.board = c;
            this._resetNewCards = k(this._resetNewCards, this);
            b.__super__.constructor.call(this, null, e);
            this.board.onId(function(b) {
                return function(c) {
                    b.set({
                        id: "boardCardFilterSettings-" + c
                    });
                    b.fetch();
                    return b._resetNewCards()
                }
            }(this));
            this.dueMap = {
                day: 1,
                week: 7,
                month: 28,
                overdue: 0
            };
            this.newCardsWithoutIds = [];
            this.ond("change:title change:labels change:idMembers change:due", this._resetNewCards);
            this.ond("change", function(b) {
                return function() {
                    return b.trigger("changeAny")
                }
            }(this))
        }
        n(b, c);
        b.prototype["default"] = function() {
            return {
                idMembers: [],
                labels: [],
                title: null,
                due: null,
                limitMembers: !0,
                newCards: []
            }
        };
        b.prototype.clear = function() {
            return this.save(this["default"]())
        };
        b.prototype.getBoard = function() {
            return this.board
        };
        b.prototype._resetNewCards = function() {
            this.newCardsWithoutIds = [];
            return this.save("newCards", [])
        };
        b.prototype.toggleQuietMode = function() {
            var b, c, g, f;
            b = y.myId();
            if (null != b) {
                g = this["default"]();
                g.idMembers = [b];
                b = !0;
                for (c in g) f = g[c], b && (b = _.isEqual(this.get(c), f));
                return b ? this.clear() : this.save(g)
            }
        };
        b.prototype.toggleLabel = function(b) {
            return this.toggle("labels", b)
        };
        b.prototype.toggleMember = function(b) {
            return this.toggle("idMembers", b)
        };
        b.prototype.isFiltering = function() {
            var b;
            return _.some([!_.isEmpty(this.get("idMembers")), !_.isEmpty(this.get("labels")), null != (b = this.get("title")) ? b.trim() : void 0, null != this.get("due")])
        };
        b.prototype.satisfiesFilter = function(b) {
            var c, g, f, h, k, l, s, w;
            if (null ==
                b) return !1;
            if (b.get("closed") || (g = b.id, 0 <= F.call(null != (f = this.get("newCards")) ? f : [], g)) || 0 <= F.call(this.newCardsWithoutIds, b)) return !0;
            w = ["labels", "idMembers"];
            f = 0;
            for (s = w.length; f < s; f++)
                if (g = w[f], !_.isEmpty(this.get(g)) && _.isEmpty(_.intersection(this.get(g), b.get(g)))) return !1;
            if (null != this.get("due")) {
                g = b.get("due");
                if (null == g) return !1;
                f = new Date;
                switch (this.get("due")) {
                    case "overdue":
                        if (M.parse(g) >= f) return !1;
                        break;
                    default:
                        if (!(f <= (k = M.parse(g)) && k <= f.addDays(this.dueMap[this.get("due")]))) return !1
                }
            }
            k =
                this.get("title");
            if (null != k && (g = function(b) {
                return _.compact(b.toLowerCase().split(/[\s\x21\x22\x24-\x26\x28-\x2C\x2F\x3A-\x3F\x5B-\x60\x7B-\x7F]+/))
            }, k = g(k), !_.isEmpty(k) && (f = null != b.get("idShort") ? g(null != (c = b.get("idShort")) ? c.toString() : void 0) : [], b = _.flatten([g(b.get("name")), f]), c = 2 <= k.length ? D.call(k, 0, l = k.length - 1) : (l = 0, []), h = k[l++], _.isEmpty(c) || _.isEmpty(_.intersection(c, b)))))
                if (l = function(b) {
                    return b.substring(0, h.length) === h
                }, !_.any(b, l)) return !1;
            return !0
        };
        b.prototype.addNewCard = function(b) {
            this.newCardsWithoutIds.push(b);
            return b.onId(function(c) {
                return function(g) {
                    c.newCardsWithoutIds = _.without(c.newCardsWithoutIds, b);
                    return c.addToSet("newCards", g)
                }
            }(this))
        };
        b.prototype.toJSON = function(c) {
            var e, g, f, h, k, q, s, w, n, t;
            f = null != c ? c : {};
            e = f.board;
            f = f.expanded;
            h = b.__super__.toJSON.apply(this, arguments);
            e && (h.board = this.board.toJSON());
            f && (w = null != (t = this.get("title")) ? t : "", q = RegExp("^" + l.escapeForRegex(w), "i"), k = this.board.toJSON({
                    labelNames: !0
                }).labelNames, h.labels = function() {
                    var b, c, d, e;
                    d = l.labelNames;
                    e = [];
                    b = 0;
                    for (c = d.length; b <
                        c; b++) g = d[b], e.push({
                        labelName: k[g],
                        color: g,
                        isActive: 0 <= F.call(this.get("labels"), g),
                        matchesFilter: "" !== w && (q.test(g) || q.test(k[g]))
                    });
                    return e
                }.call(this), h.members = function() {
                    var b, c, d, e, f, g;
                    d = this.board.memberList.models;
                    g = [];
                    b = 0;
                    for (c = d.length; b < c; b++) s = d[b], g.push(_.extend(s.toJSON(), {
                        isActive: (e = s.id, 0 <= F.call(null != (f = this.get("idMembers")) ? f : [], e)),
                        matchesFilter: "" !== w && ("me" === w && y.isMe(s) || _.any(l.getMemNameArray(this.modelCache, s.id), function(b) {
                            return q.test(b)
                        }))
                    }));
                    return g
                }.call(this),
                h.members = l.sortMembers(h.members), h.dueOptions = function() {
                    var b, c, d, e;
                    d = _.keys(this.dueMap);
                    e = [];
                    b = 0;
                    for (c = d.length; b < c; b++) n = d[b], e.push({
                        time: n,
                        desc: "overdue" === n ? "Overdue" : "Due in the next " + n,
                        isActive: n === this.get("due")
                    });
                    return e
                }.call(this));
            return h
        };
        return b
    }(ub);
    Dc = function(c) {
        function b() {
            this.selectFirstItem = k(this.selectFirstItem, this);
            this.hoverSelect = k(this.hoverSelect, this);
            this.clearAllSelected = k(this.clearAllSelected, this);
            this.clearFilter = k(this.clearFilter, this);
            this.toggleDateFilter =
                k(this.toggleDateFilter, this);
            this.toggleMemberFilter = k(this.toggleMemberFilter, this);
            this.toggleLabelFilter = k(this.toggleLabelFilter, this);
            this._clearAndFocusInput = k(this._clearAndFocusInput, this);
            this.showAllMembers = k(this.showAllMembers, this);
            this.keyUpEvent = k(this.keyUpEvent, this);
            this.keyDownEvent = k(this.keyDownEvent, this);
            this.renderFilterOptions = k(this.renderFilterOptions, this);
            this.render = k(this.render, this);
            this.initialize = k(this.initialize, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Filter Cards"
        };
        b.viewName = "CardFilterView";
        b.prototype.className = "board-widgets-content fancy-scrollbar";
        b.prototype.initialize = function() {
            this.listenTo(this.model.board, "change:labelNames change:memberships", this.renderFilterOptions);
            return this.listenTo(this.model, "change", this.renderFilterOptions)
        };
        b.prototype.events = {
            "click .js-toggle-label-filter": "toggleLabelFilter",
            "click .js-select-member": "toggleMemberFilter",
            "click .js-show-all-members": "showAllMembers",
            "click .js-clear-all": "clearFilter",
            "click .js-due-filter": "toggleDateFilter",
            "mouseenter .item": "hoverSelect",
            "mouseenter .js-clear-all": "clearAllSelected",
            "mouseenter .js-show-all-members": "clearAllSelected",
            "keydown .js-input": "keyDownEvent",
            "keyup .js-input": "keyUpEvent"
        };
        b.prototype.render = function() {
            var b;
            this.isFiltering = !1;
            b = this.model.toJSON();
            this.$el.html(v.fill("filter_cards", b));
            this.renderFilterOptions();
            return this
        };
        b.prototype.renderFilterOptions = function() {
            var b, c, g, f, h, k, l, s, w, n;
            c = this.model.toJSON({
                board: !0,
                expanded: !0
            });
            f = _.any(c.labels, function(b) {
                return b.matchesFilter
            });
            h = _.any(c.members, function(b) {
                return b.matchesFilter
            });
            g = this.model.get("title") && (f || h);
            if (null != (b = this.model.get("limitMembers")) ? b : 1) {
                k = b = 0;
                n = c.members;
                l = s = 0;
                for (w = n.length; s < w; l = ++s)
                    if (l = n[l], !g || g && l.matchesFilter) b++, 6 < b && (l.exceedsLimit = !0, k++)
            }
            c.remainingMemsCount = k;
            c.limitMembers = 0 < k;
            _.extend(c, {
                filtering: g,
                showHelper: !g,
                showClearAll: !g,
                showLabels: !g || f,
                showMembers: !g || h,
                showDueTimes: !g
            });
            c.isFiltering =
                this.model.isFiltering();
            this.$(".js-filter-search-results").html(v.fill("filter_cards_search_results", c, {}, {
                member: v.member,
                select_member: v.select_member
            }));
            g && this.selectFirstItem();
            null === this.model.get("title") && this.$(".js-input").val("");
            return this
        };
        b.prototype.keyDownEvent = function(b) {
            var c, g, f;
            c = this.$(".item.selected").first();
            0 === c.length && (g = this.$(".item.matches-filter"), 1 === g.length && (c = g));
            27 !== b.keyCode && (13 === b.keyCode ? c.find("a").click() : (38 === (f = b.keyCode) || 40 === f) && l.navMenuList(c.parent(),
                ".item", b.keyCode))
        };
        b.prototype.keyUpEvent = function(b) {
            var c;
            if (!(27 === (c = b.keyCode) || 13 === c || 38 === c || 40 === c)) return this.model.save({
                title: this.$(".js-input").val(),
                limitMembers: !0
            })
        };
        b.prototype.showAllMembers = function(b) {
            this.model.save("limitMembers", !1)
        };
        b.prototype._clearAndFocusInput = function() {
            this.model.save({
                title: ""
            });
            return this.$(".js-input").val("").focus()
        };
        b.prototype.toggleLabelFilter = function(b) {
            var c;
            c = this.model.toJSON({
                expanded: !0
            });
            _.any(c.labels, function(b) {
                    return b.matchesFilter
                }) &&
                this._clearAndFocusInput();
            return this.model.toggleLabel($(b.target).closest("a").attr("name"))
        };
        b.prototype.toggleMemberFilter = function(b) {
            var c;
            c = this.model.toJSON({
                expanded: !0
            });
            _.any(c.members, function(b) {
                return b.matchesFilter
            }) && this._clearAndFocusInput();
            l.stop(b);
            return this.model.toggleMember($(b.target).closest("a").attr("idMember"))
        };
        b.prototype.toggleDateFilter = function(b) {
            b = $(b.target).closest("a").attr("time");
            return this.model.get("due") === b ? this.model.save("due", null) : this.model.save("due",
                b)
        };
        b.prototype.clearFilter = function(b) {
            return this.model.clear()
        };
        b.prototype.clearAllSelected = function() {
            return this.$("li").removeClass("selected")
        };
        b.prototype.hoverSelect = function(b, c) {
            this.clearAllSelected();
            return l.selectMenuItem($(b.target).closest("ul"), ".item", $(b.target).closest(".item"))
        };
        b.prototype.selectFirstItem = function() {
            return l.selectMenuItem(this.$(".js-filter-search-results ul:visible:first"), ".item:visible", $(".item:visible:first"))
        };
        return b
    }(A);
    var ee, dc, Jf, Xa, mh, lh, Mh, Ph,
        Nh, kh, Oh, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        },
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        };
    ee = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = ra;
        b.prototype.initialize = function() {
            this.bind("change:name",
                this.sort)
        };
        b.prototype.comparator = function(b) {
            var c;
            c = b.getOrganization();
            c = (null != c ? c.get("displayName") : void 0) || "";
            b = b.get("name") || "";
            return l.rpad(c, 64).toUpperCase() + b.toUpperCase()
        };
        return b
    }(La);
    Xa = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            this.debouncedPostRenderBoardsEvent = this.debounce(this.postRenderBoardsEvent, 150);
            this.initedSortable = !1;
            this.listenTo(this.model.boardList, "add remove reset", this.renderBoards)
        };
        b.prototype.className = "window-module";
        b.prototype.getBoards = function() {
            return []
        };
        b.prototype.hideSectionIfEmpty = function() {
            return !1
        };
        b.prototype.showOrgName = function() {
            return !1
        };
        b.prototype.getTemplateData = function() {
            return {}
        };
        b.prototype.postRenderBoardsEvent = function() {};
        b.prototype.render = function() {
            var b;
            b = this.getTemplateData();
            this.$el.html(v.fill("board_list", b));
            this.renderBoards();
            this.debouncedPostRenderBoardsEvent();
            return this
        };
        b.prototype.renderBoards = function() {
            var b, c;
            b = this.$(".js-board-list").empty();
            this.$el.removeClass("hide");
            if (0 < this.getBoards().length) {
                var g, f, h, k;
                h = this.getBoards();
                k = [];
                g = 0;
                for (f = h.length; g < f; g++) c = h[g], k.push(this.subview(dc, c, {
                    showOrgName: this.showOrgName()
                }));
                this.appendSubviews(k, b)
            } else this.hideSectionIfEmpty() ? this.$el.addClass("hide") : b.append("<p class='quiet' style='padding: 8px 12px;'>No boards.</p>");
            return this
        };
        return b
    }(A);
    lh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getBoards = function() {
            var b;
            b = function(b) {
                return function(c) {
                    var d;
                    c = null != (d = c.getOrganization()) ? d.id : void 0;
                    return null != c && 0 <= F.call(b.model.get("idOrganizations"), c)
                }
            }(this);
            return _.filter(this.model.boardList.models, function(c) {
                return !b(c) && !c.get("closed")
            })
        };
        b.prototype.getTemplateData = function() {
            return {
                title: "My Boards",
                iconClass: "member"
            }
        };
        return b
    }(Xa);
    kh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            return this.listenTo(this.model.boardStarList,
                "add remove reset change:pos", function() {
                    return this.renderBoards()
                })
        };
        b.prototype.hideSectionIfEmpty = function() {
            return !0
        };
        b.prototype.showOrgName = function() {
            return !0
        };
        b.prototype.getBoards = function() {
            return _.filter(this.model.boardStarList.getBoards(), function(b) {
                return !b.get("closed")
            })
        };
        b.prototype.getTemplateData = function() {
            return {
                title: "Starred Boards",
                iconClass: "star"
            }
        };
        b.prototype.postRenderBoardsEvent = function() {
            var b;
            if (!ha.isTouch()) {
                b = this.$(".js-board-list");
                if (this.initedSortable) return K.refreshIfInitialized(b);
                this.initedSortable = !0;
                return b.sortable({
                    containment: "#surface",
                    delay: "75",
                    distance: "7",
                    forcePlaceholderSize: !0,
                    items: "> li",
                    placeholder: "placeholder",
                    scroll: !0,
                    stop: function(b, c) {
                        _.defer(function(b) {
                            return function() {
                                return c.item.trigger("moveto", [c, b])
                            }
                        }(this))
                    },
                    tolerance: "pointer"
                })
            }
        };
        return b
    }(Xa);
    mh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            return this.listenTo(this.getOrganization(),
                "change:name change:displayName change:logoHash", this.render)
        };
        b.prototype.getBoards = function() {
            return _.filter(this.model.boardList.models, function(b) {
                return function(c) {
                    var g;
                    return (null != (g = c.getOrganization()) ? g.id : void 0) === b.getOrganization().id && !c.get("closed")
                }
            }(this))
        };
        b.prototype.getOrganization = function() {
            return this.options.organization
        };
        b.prototype.getTemplateData = function() {
            var b, c;
            c = this.getOrganization();
            b = c.toJSON();
            b.title = c.get("displayName");
            b.iconClass = "org";
            b.url = B.getOrganizationUrl(c);
            b.hasBusinessClass = c.isPremium();
            return b
        };
        return b
    }(Xa);
    Oh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getBoards = function() {
            return _.filter(this.model.boardList.models, function(b) {
                return "public" === b.getPref("permissionLevel") && !b.get("closed")
            })
        };
        b.prototype.getTemplateData = function() {
            return {
                title: "Boards",
                iconClass: "board"
            }
        };
        return b
    }(Xa);
    Mh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getBoards =
            function() {
                return _.filter(this.model.boardList.models, function(b) {
                    return function(c) {
                        return null != b.Auth.me().boardList.get(c.id) && !c.get("closed")
                    }
                }(this))
            };
        b.prototype.getTemplateData = function() {
            return {
                title: "My Org Boards",
                iconClass: "board"
            }
        };
        return b
    }(Xa);
    Nh = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getBoards = function() {
            return _.filter(this.model.boardList.models, function(b) {
                return function(c) {
                    var g;
                    return null == b.Auth.me().boardList.get(c.id) &&
                        ("org" === (g = c.getPref("permissionLevel")) || "public" === g) && !c.get("closed")
                }
            }(this))
        };
        b.prototype.getTemplateData = function() {
            return {
                title: "Other Org-Visible Boards",
                iconClass: "board"
            }
        };
        return b
    }(Xa);
    Ph = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getBoards = function() {
            return _.filter(this.model.boardList.models, function(b) {
                return function(c) {
                    return null == b.Auth.me().boardList.get(c.id) && "private" === c.getPref("permissionLevel") && !c.get("closed")
                }
            }(this))
        };
        b.prototype.getTemplateData = function() {
            return {
                title: "Other Members\u2019 Private Boards",
                iconClass: "board"
            }
        };
        return b
    }(Xa);
    dc = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.tagName = "li";
        b.prototype.initialize = function() {
            var b;
            this.model.ond("change:prefs change:name change:idOrganization change:actionsCount", this.render);
            this.listenTo(y.me().boardStarList, "add remove reset change:pos", function() {
                return this.renderStarred()
            });
            this.model.ond("change:dateLastActivity change:dateLastView", function(b) {
                return function() {
                    return b.renderUnread()
                }
            }(this));
            if (null != (b = this.options) && b.showOrgName) return this.listenTo(this.model, "change:idOrganization", function(b) {
                return function(c) {
                    c = b.Organization.get(b.model.previous("idOrganization"));
                    null != c && b.stopListening(c, "change:displayName");
                    b.listenToOrgNameChange();
                    return b.render()
                }
            }(this)), this.listenToOrgNameChange()
        };
        b.prototype.listenToOrgNameChange = function() {
            if (null != this.model.getOrganization()) return this.listenTo(this.model.getOrganization(),
                "change:displayName", this.render)
        };
        b.prototype.events = {
            "click .js-open-board": "openBoard",
            "click .js-star-board": "starBoard",
            moveto: "moveTo"
        };
        b.prototype.render = function() {
            var b, c, g, f, h;
            c = this.model.toJSON({
                prefs: !0
            });
            c.url = B.getBoardUrl(this.modelCache, this.model);
            this.model.getPref("backgroundTile") ? (c.backgroundTile = !0, c.backgroundImageThumbnail = this.model.getPref("backgroundImage")) : c.backgroundImageThumbnail = null != (b = null != (g = l.smallestPreviewBiggerThan(this.model.getPref("backgroundImageScaled"),
                400, 200)) ? g.url : void 0) ? b : this.model.getPref("backgroundImage");
            c.backgroundImageThumbnailUrl = "url('" + c.backgroundImageThumbnail + "')";
            null == c.backgroundImageThumbnail && (c.backgroundColor = this.model.getClientBackgroundColor("blue"));
            null != this.model.getPref("backgroundColor") && (b = this.model.getPref("background"), c.backgroundColor = this.model.getClientBackgroundColor(b));
            c.backgroundBrightness = this.model.getPref("backgroundBrightness");
            if (null != (f = this.options) && f.showOrgName) c.orgname = null != (h = this.model.getOrganization()) ?
                h.get("displayName") : void 0;
            this.$el.html(v.fill("board_list_item", c));
            this.renderStarred();
            this.renderUnread();
            return this
        };
        b.prototype.trackBoardClick = function() {
            return t("Member View", "Boards Page", "Opened Board")
        };
        b.prototype.openBoard = function(b) {
            _.defer(function() {
                if (!ba.getPinSidebar()) return ba.hideSidebar()
            });
            return this.trackBoardClick()
        };
        b.prototype.starBoard = function(b) {
            var c;
            l.stop(b);
            c = this.model.id;
            b = this.Auth.me().boardStarList;
            null == b.getBoardStar(c) ? b.starBoard(c) : b.unstarBoard(c)
        };
        b.prototype.renderUnread = function() {
            var b;
            b = this.model.hasUnseenActivity() && !B.onBoardView(this.model.id);
            this.$(".js-unread").toggleClass("any", b);
            this.$el.toggleClass("has-unread-activity", b);
            return this
        };
        b.prototype.moveTo = function(b, c) {
            var g;
            g = c.item.closest(".js-board-list").find("li").index(c.item);
            y.me().boardStarList.updateStarBoard(this.model.id, g)
        };
        b.prototype.renderStarred = function() {
            null != y.me().boardStarList.getBoardStar(this.model.id) ? (this.$el.addClass("starred"), this.$(".icon-star").addClass("icon-star-active")) :
                (this.$el.removeClass("starred"), this.$(".icon-star").removeClass("icon-star-active"));
            return this
        };
        return b
    }(A);
    Jf = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            mouseenter: "select",
            mouseleave: "deselect"
        };
        b.prototype.delegateEvents = function(c) {
            return b.__super__.delegateEvents.call(this, _.extend({}, dc.prototype.events, c || this.events))
        };
        b.prototype.select = function() {
            return this.$el.addClass("selected")
        };
        b.prototype.deselect = function() {
            return this.$el.removeClass("selected")
        };
        b.prototype.trackBoardClick = function() {
            return t("Search", "Select Board")
        };
        return b
    }(dc);
    var Zh, xb, $h, ne, ai, Fc, Id, db, Wa, bi, Jd, ci, oe, mg, di, ei, Wd, kg, pe, fi, Kd, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    Wa = function(c) {
        function b() {
            this.setSidebarContentHeight = k(this.setSidebarContentHeight, this);
            this.openCardFilter = k(this.openCardFilter, this);
            this.pushWidgetView = k(this.pushWidgetView, this);
            this.renderWidget = k(this.renderWidget, this);
            this.initialize = k(this.initialize, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            X.addHandler(this, {
                scope: "board_sidebar"
            })
        };
        b.prototype.events = {
            "click .js-hide-sidebar": "hideSidebar",
            "click .js-pop-widget-view": "popWidgetView",
            shortcut: "shortcut"
        };
        b.prototype.shortcut = function(b) {
            switch (b) {
                case 70:
                    return this.openCardFilter(), "F - Search and Filter Cards"
            }
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("board_sidebar"));
            this.renderWidget();
            return this
        };
        b.prototype.renderWidget = function(b) {
            var c, g, f, h, k, q, s;
            f = this.$(".board-widgets-title");
            h = f.find(".text").empty();
            g = this.$(".board-widgets-content-wrapper").empty();
            q = this.model.viewState.getCurrentSidebarView();
            this.forceIntoDom();
            this.model.viewState.setSidebarDisplayType(null !=
                (c = q.displayTypeClass) ? c : "");
            c = q.render().$el;
            null != b && c.addClass(b);
            null != q.getViewTitle ? (f.addClass("in-frame"), h.append("function" === typeof q.getViewTitle ? q.getViewTitle() : void 0)) : f.removeClass("in-frame");
            g.append(c);
            this.setSidebarContentHeight();
            null != (s = this.model.getView(db)) && s.calcActionsHeight();
            c.scrollTop(0);
            k = this.$(".js-autofocus")[0];
            if (null != k && this.model.viewState.get("showSidebar") && !ha.isTouch())
                if (null != b) $(".board-widgets-content").one("transitionend webkitTransitionEnd", function(b) {
                    return function(b) {
                        return l.setCaretAtEnd(k)
                    }
                }(this));
                else l.setCaretAtEnd(k);
            null != b && c.removeClass(b);
            q.delegateEvents();
            return this
        };
        b.prototype.pushWidgetView = function(b) {
            this.model.viewState.pushSidebarView(b);
            this.renderWidget("right-of-frame");
            x.hide()
        };
        b.prototype.popWidgetView = function() {
            this.model.viewState.popSidebarView();
            this.renderWidget("left-of-frame");
            x.hide()
        };
        b.prototype.hideSidebar = function() {
            return this.model.viewState.setShowSidebar(!1)
        };
        b.prototype.openCardFilter = function(c) {
            var e, g, f, h;
            l.stop(c);
            e = this.model.filter.getView(Dc);
            f = this.model.viewState.get("showSidebar");
            c = this.model.viewState.getCurrentSidebarView() === e;
            g = this.$(".js-autofocus")[0];
            c ? f ? f && l.setCaretAtEnd(g) : ($(".board-widgets-content").one("transitionend webkitTransitionEnd", function(b) {
                return function(b) {
                    return l.setCaretAtEnd(g)
                }
            }(this)), this.model.viewState.setShowSidebar(!0)) : (f || this.model.viewState.setShowSidebar(!0), this.model.viewState.clearSidebarViewArray(), null != (h = this.model.getView(b)) && h.pushWidgetView(e))
        };
        b.prototype.openArchivedItems = function(c) {
            var e;
            l.stop(c);
            c = this.model.getView(Ua);
            this.model.viewState.get("showSidebar") || this.model.viewState.setShowSidebar(!0);
            this.model.viewState.getCurrentSidebarView() !== c && (null != (e = this.model.getView(b)) && e.pushWidgetView(c), c.getData())
        };
        b.prototype.setSidebarContentHeight = function() {
            var b;
            b = $(window).height() - $("#header").outerHeight() - $(".board-widgets-title:visible").outerHeight() - 20;
            return 1 < this.model.viewState.get("sidebarViewArray").length ? this.$(".board-widgets-content").height(b) : this.$(".board-widgets-content").height(b +
                10)
        };
        return b
    }(A);
    db = function(c) {
        function b() {
            this.showPowerUps = k(this.showPowerUps, this);
            this.leaveConfirm = k(this.leaveConfirm, this);
            this.closeConfirm = k(this.closeConfirm, this);
            this.copyBoard = k(this.copyBoard, this);
            this.shareBoard = k(this.shareBoard, this);
            this.toggleSubscribe = k(this.toggleSubscribe, this);
            this.viewAllActivityList = k(this.viewAllActivityList, this);
            this.openAddMembers = k(this.openAddMembers, this);
            this.joinBoard = k(this.joinBoard, this);
            this.showCardFilter = k(this.showCardFilter, this);
            this.showObservers =
                k(this.showObservers, this);
            this.renderObservers = k(this.renderObservers, this);
            this.renderMembers = k(this.renderMembers, this);
            this.toggleWidgetNav = k(this.toggleWidgetNav, this);
            this.calcActionsHeight = k(this.calcActionsHeight, this);
            this.renderSubscribeState = k(this.renderSubscribeState, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.viewName = "BoardSidebarDefaultView";
        b.prototype.className = "board-widgets-content default fancy-scrollbar";
        b.prototype.initialize =
            function() {
                this.collapseWidgetNav = !0;
                this.makeDebouncedMethods("render");
                this.model.memberList.ond("change:status", this.renderMembers).onAddRemove(this.renderDebounced);
                this.model.ond("change:memberships", this.renderDebounced).ond("change:subscribed", this.renderSubscribeState).ond("change:prefs:canInvite", this.renderDebounced).on("change:prefs.selfJoin", this.renderDebounced).on("change:prefs.invitations", this.renderDebounced);
                this.actionListView = this.collectionSubview(Rb, new wb(this.Action.getListForModel(this.model), {
                    modelCache: this.modelCache
                }), {
                    renderOpts: {
                        limit: 10,
                        context: this.model,
                        compact: !0,
                        excludeTypes: ["copyCommentCard"]
                    }
                });
                return this.listenTo(this.modelCache, "add:Action:" + this.model.id + " remove:Action:" + this.model.id + " change:Action:" + this.model.id, function(b) {
                    return function() {
                        return b.actionListView.collection.reset(b.Action.getListForModel(b.model))
                    }
                }(this))
            };
        b.prototype.events = {
            "click .js-toggle-widget-nav": "toggleWidgetNav",
            "click .js-open-card-filter": "showCardFilter",
            "click .js-open-stickers": "openStickers",
            "click .js-open-settings": "openSettings",
            "click .js-open-archive": "openArchivedItems",
            "click .js-open-power-ups": "showPowerUps",
            "click .js-join-board": "joinBoard",
            "click .js-change-background": "changeBackground",
            "click .js-email": "openEmailSettings",
            "click .js-board-subscribe": "toggleSubscribe",
            "click .js-copy-board": "copyBoard",
            "click .js-share": "shareBoard",
            "click .js-close-board": "closeConfirm",
            "click .js-leave-board": "leaveConfirm",
            "click .js-open-manage-board-members": "openAddMembers",
            "click .js-show-observers": "showObservers",
            "click .js-view-all-activity-list": "viewAllActivityList"
        };
        b.prototype.render = function() {
            var b, c, g, f, h, k, q, s, w;
            this.$(".board-widgets-title").hide();
            g = y.me();
            c = this.model.toJSON();
            c.canJoin = this.model.canJoin();
            c.canInviteMembers = this.model.canInviteMembers();
            c.confirmed = g.get("confirmed");
            c.collapseWidgetNav = this.collapseWidgetNav;
            f = this.model.getOrganization();
            if (this.model.owned() || null != f && f.isFeatureEnabled("superAdmins") && null != f && f.owned()) c.canCloseBoard = !0;
            c.canLeaveBoard = ("normal" === (h = this.model.getExplicitMemberType(g)) ||
                "admin" === h || "observer" === h) && g.getMembershipData(this.model).canRemove;
            null != (null != (k = Pa[this.model.getPref("background")]) ? k.tile : void 0) ? c.backgroundImageUrl = this.model.getPref("backgroundImage") : null != this.model.getPref("backgroundImageScaled") || null != this.model.getPref("backgroundImage") ? c.backgroundImageUrl = null != (q = null != (s = null != (w = l.previewBetween(this.model.getPref("backgroundImageScaled"), 90, 60, 600, 400)) ? w.url : void 0) ? s : this.model.get("fullSizeUrl")) ? q : this.model.getPref("backgroundImage") :
                null != this.model.getPref("backgroundColor") ? c.backgroundColor = this.model.getClientBackgroundColor(this.model.getPref("background")) : c.backgroundColor = this.model.getClientBackgroundColor("blue");
            this.$el.html(v.fill("board_widget_default", c, {
                editable: this.model.editable(),
                owned: this.model.owned()
            }));
            null != (b = Mc.boardMenuAd(g, this.model)) && this.$(".js-ad").html(this.model.getView(b).render().el);
            this.actionListView.setElement(this.$(".js-sidebar-list-actions")[0]);
            this.renderMembers();
            this.renderActions();
            this.calcActionsHeight();
            this.renderSubscribeState();
            return this
        };
        b.prototype.renderSubscribeState = function() {
            var b;
            b = this.model.toJSON();
            this.$(".js-subscribed-state").html(v.fill("board_menu_subscribed_state", b))
        };
        b.prototype.calcActionsHeight = function() {
            var b, c, g, f, h, k;
            c = $("#board").height();
            if (0 !== c) {
                b = this.$(".board-widget:not(.board-widget-activity)");
                h = f = 0;
                for (k = b.length; h < k; h++) g = b[h], f += $(g).outerHeight() + 8;
                b = c - f;
                200 > b || ia.fSmall ? (this.$el.addClass("short"), b = "") : this.$el.removeClass("short");
                return this.$(".board-actions-list").css({
                    "max-height": b
                })
            }
        };
        b.prototype.toggleWidgetNav = function(b) {
            l.stop(b);
            x.hide();
            t("Board View", "Board Menu", "Toggle Widget Nav");
            b = this.$(".js-toggle-widget-nav").closest(".board-widget");
            b.hasClass("collapsed") ? (b.removeClass("collapsed"), this.collapseWidgetNav = !1) : (b.addClass("collapsed"), this.collapseWidgetNav = !0);
            this.calcActionsHeight()
        };
        b.prototype.renderMembers = function() {
            var b, c, g;
            b = this.$(".js-list-board-members").empty();
            g = function() {
                var b, d, g, k;
                g =
                    this.model.orderedVisibleMembers();
                k = [];
                b = 0;
                for (d = g.length; b < d; b++) c = g[b], k.push(this.subview(Yh, c, {
                    parent: this.model
                }));
                return k
            }.call(this);
            this.appendSubviews(g, b);
            this.renderObservers();
            _.defer(function() {
                return K.refreshDraggable()
            });
            return this
        };
        b.prototype.renderObservers = function() {
            var b, c, g;
            b = this.$(".js-list-observers");
            g = this.model.getObserverList().length;
            c = {
                count: l.formatCount(g, "Observer")
            };
            0 < g ? b.html(v.fill("board_observer_count", c)) : b.empty();
            return this
        };
        b.prototype.showObservers =
            function(b) {
                l.stop(b);
                t("Board View", "Show Observers");
                x.toggle({
                    elem: this.$(".js-show-observers"),
                    top: 30,
                    view: $f,
                    options: {
                        model: this.model
                    },
                    shown: function() {
                        return K.refreshDraggable()
                    }
                })
            };
        b.prototype.renderActions = function() {
            this.actionListView.render();
            return this
        };
        b.prototype.showCardFilter = function(b) {
            var c;
            l.stop(b);
            t("Board View", "Board Menu", "Open Card Filter Menu");
            null != (c = this.model.getView(Wa)) && c.pushWidgetView(this.model.filter.getView(Dc))
        };
        b.prototype.openStickers = function(b) {
            var c;
            l.stop(b);
            t("Board View", "Board Menu", "Open Stickers");
            null != (c = this.model.getView(Wa)) && c.pushWidgetView(this.model.getView(Kd))
        };
        b.prototype.openSettings = function(b) {
            var c;
            l.stop(b);
            t("Board View", "Board Menu", "Open Settings");
            null != (c = this.model.getView(Wa)) && c.pushWidgetView(this.model.getView(Id))
        };
        b.prototype.openArchivedItems = function(b) {
            var c;
            l.stop(b);
            t("Board View", "Board Menu", "Open Archived Items");
            b = this.model.getView(Ua);
            null != (c = this.model.getView(Wa)) && c.pushWidgetView(b);
            b.getData()
        };
        b.prototype.joinBoard = function(b) {
            t("Board View", "Join Board via Sidebar");
            l.preventDefault(b);
            this.$(".board-widget .js-join-board").closest(".board-widget").remove();
            this.model.joinBoard();
            return !1
        };
        b.prototype.openAddMembers = function(b) {
            var c;
            l.stop(b);
            t("Board View", "Add Members via Sidebar Button");
            c = new xb({
                model: this.model,
                modelCache: this.modelCache
            });
            c.getOrgData();
            x.toggle({
                elem: $(b.target).closest(".js-open-manage-board-members"),
                top: 35,
                view: c
            })
        };
        b.prototype.viewAllActivityList = function(b) {
            l.stop(b);
            t("Board View", "View All Board Activity", "From End of List");
            ka.show({
                view: new Zh({
                    model: this.model,
                    modelCache: this.modelCache
                }),
                maxWidth: 500
            })
        };
        b.prototype.toggleSubscribe = function(b) {
            l.preventDefault(b);
            $(b.target).hasClass("disabled") || (this.model.get("subscribed") ? this.model.subscribe(!1) : this.model.subscribe(!0), t("Board View", "Board Menu", "Subscribe/Unsubscribe"))
        };
        b.prototype.shareBoard = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target).closest("a"),
                top: 32,
                view: this.model.getView(cg)
            });
            t("Board View",
                "Board Menu", "Open Share, Print, and Export Menu")
        };
        b.prototype.copyBoard = function(b) {
            l.stop(b);
            $(b.target).hasClass("disabled") || (t("Board View", "Board Menu", "Open Copy Board"), x.toggle({
                elem: $(b.target).closest("a"),
                top: 32,
                view: this.model.getView(pd, "copy", {
                    copyBoard: !0
                }),
                autoPosition: !0
            }))
        };
        b.prototype.changeBackground = function(b) {
            var c;
            l.stop(b);
            t("Board View", "Board Menu", "Change Background");
            null != (c = this.model.getView(Wa)) && c.pushWidgetView(this.model.getView(Jd))
        };
        b.prototype.openEmailSettings =
            function(b) {
                l.stop(b);
                x.toggle({
                    elem: $(b.target).closest("a"),
                    top: 32,
                    view: this.model.getView(ei)
                });
                t("Board View", "Board Menu", "Open Email Settings - Menu")
            };
        b.prototype.closeConfirm = function(b) {
            l.stop(b);
            t("Board View", "Board Menu", "Open Close Menu");
            pa.toggle({
                elem: $(b.target).closest("a"),
                top: 32,
                model: this.model,
                title: "Close Board?",
                text: 'You can re-open the board by clicking the "Boards" menu from the header, selecting "View Closed Boards", finding the board and clicking "Re-open".',
                confirmText: "Close",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(c) {
                        b.model.close();
                        return t("Board", "Close Board")
                    }
                }(this)
            })
        };
        b.prototype.leaveConfirm = function(b) {
            var c;
            l.stop(b);
            t("Board View", "Board Menu", "Open Leave Menu");
            c = y.me();
            pa.toggle(_.extend(c.removeMembershipConfirmation(this.model), {
                elem: $(b.target).closest("a"),
                top: 32,
                fxConfirm: function(b) {
                    return function(d) {
                        return b.model.removeMember(c)
                    }
                }(this)
            }))
        };
        b.prototype.showPowerUps = function(b) {
            l.stop(b);
            ka.show({
                view: new td({
                    model: this.model
                }),
                maxWidth: 900
            });
            t("Board View", "Board Menu", "Open Power-Ups")
        };
        return b
    }(A);
    Kd = function(c) {
        function b() {
            this.setUploadImage = k(this.setUploadImage, this);
            this.selectSticker = k(this.selectSticker, this);
            this.renderCustomStickers = k(this.renderCustomStickers, this);
            this.renderPremiumStickers = k(this.renderPremiumStickers, this);
            this.renderStandardStickers = k(this.renderStandardStickers, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this,
                arguments);
            O["for"](this.modelCache).loadMemberCustomStickers(y.me().id);
            return this.listenTo(this.Member.get(y.myId()).customStickerList, "change add remove reset", this.renderCustomStickers)
        };
        b.prototype.getViewTitle = function() {
            return "Stickers"
        };
        b.viewName = "StickerPickerView";
        b.prototype.className = "board-widgets-content fancy-scrollbar";
        b.prototype.displayTypeClass = "sidebar-display-wide";
        b.prototype.events = {
            "click .js-sticker": "selectSticker",
            "click .js-gold-promo": "openGoldPromo",
            "click .js-bc-promo": "openBCPromo",
            "change .js-upload-image": "setUploadImage"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("sticker_select"));
            this.renderStandardStickers();
            this.renderPremiumStickers();
            this.renderCustomStickers();
            this.refreshDraggable();
            return this
        };
        b.prototype._getStickers = function(b) {
            var c, g, f;
            f = [];
            for (g in kc) c = kc[g], b(c) && f.push(new ke(_.extend({
                image: g
            }, c), {
                modelCache: this.modelCache
            }));
            return f
        };
        b.prototype._loadStickers = function(b) {
            var c;
            b.addClass("sticker-list-loading");
            c = b.find(".sticker-select-image");
            return async.forEach(c, function(b, c) {
                var d;
                d = $(b);
                d.load(function() {
                    return c()
                });
                return d.error(function() {
                    return c()
                })
            }, function(c) {
                return b.removeClass("sticker-list-loading")
            })
        };
        b.prototype.renderStandardStickers = function() {
            var b, c, g;
            b = this.$(".js-standard-sticker-list");
            c = function() {
                var b, c, d, e;
                d = this._getStickers(function(b) {
                    return "standard" === b.type
                });
                e = [];
                b = 0;
                for (c = d.length; b < c; b++) g = d[b], e.push(g.getView(Nc).render().el);
                return e
            }.call(this);
            b.append(c);
            this._loadStickers(b);
            return this
        };
        b.prototype.renderPremiumStickers = function() {
            var b, c, g, f, h, k, l, s, w, n;
            c = this.Member.get(y.myId());
            k = null != (b = this.model.getOrganization()) ? b : null;
            b = this.$(".js-premium-stickers");
            h = (null != c ? c.isFeatureEnabled("additionalStickers") : void 0) || (null != k ? k.isFeatureEnabled("additionalStickers") : void 0);
            for (l in fa) f = fa[l].displayName, c = $(v.fill("sticker_pack_selection_list", {
                    displayName: f
                })), g = c.filter(".js-sticker-list"), w = this._getStickers(function(b) {
                    return "premium" === b.type && b.pack.displayName === f
                }),
                n = function() {
                    var b, c, d;
                    d = [];
                    b = 0;
                    for (c = w.length; b < c; b++) s = w[b], d.push(s.getView(Nc, "" + f, {
                        org: k
                    }).render().el);
                    return d
                }(), g.append(n), this._loadStickers(g), b.append(c), h || g.append(v.fill("product_promo_button"));
            return this
        };
        b.prototype.renderCustomStickers = function() {
            var b, c, g, f, h, k;
            f = this.Member.get(y.myId());
            h = null != (b = this.model.getOrganization()) ? b : null;
            b = this.$(".js-custom-sticker-list").empty();
            if ((c = (null != f ? f.isFeatureEnabled("customStickers") : void 0) || (null != h ? h.isFeatureEnabled("customStickers") :
                void 0)) && null != f) k = function() {
                var b, c, d, e;
                d = f.customStickerList.models;
                e = [];
                b = 0;
                for (c = d.length; b < c; b++) g = d[b], e.push(g.getView(Rh, "custom", {
                    org: h
                }).render().el);
                return e
            }(), b.append(k);
            c || b.append(v.fill("product_promo_button"));
            b.append(v.fill("sticker_select_item_upload", {
                id: y.myId()
            }));
            _.defer(function(b) {
                return function() {
                    return b.refreshDraggable()
                }
            }(this));
            return this
        };
        b.prototype.refreshDraggable = function() {
            _.defer(function(b) {
                return function() {
                    if (!ha.isTouch()) return b.$(".js-draggable-sticker:not(.disabled)").draggable({
                        revert: "invalid",
                        revertDuration: 150,
                        appendTo: "#surface",
                        containment: "#surface",
                        zIndex: 100,
                        helper: "clone",
                        delay: "75",
                        distance: "7",
                        start: function(b, c) {
                            var d;
                            K.startSort(b, c);
                            d = (20 * Math.random() - 10) % 360;
                            $(c.helper).find(".sticker-select-fixed").css({
                                transform: "rotate(" + d + "deg)",
                                "-webkit-transform": "rotate(" + d + "deg)"
                            });
                            t("Board View", "Drag Sticker from Sidebar")
                        },
                        stop: function(b, c) {
                            l.stopPropagation(b);
                            K.endSort()
                        },
                        drag: function(b, c) {
                            _.throttle(K.getScrollListForMemberSidebarDrag(b, c), 100)
                        },
                        custom: {
                            refreshContainers: function() {
                                var b,
                                    c, d, h, k, l;
                                l = [];
                                for (c = h = k = this.containers.length - 1; 0 >= k ? 0 >= h : 0 <= h; c = 0 >= k ? ++h : --h) b = this.containers[c].element, d = $(b).closest(".list"), d.length && (b = d), d = b.offset(), this.containers[c].containerCache.left = d.left, this.containers[c].containerCache.top = d.top, this.containers[c].containerCache.width = b.outerWidth(), l.push(this.containers[c].containerCache.height = b.outerHeight());
                                return l
                            }
                        }
                    })
                }
            }(this))
        };
        b.prototype.selectSticker = function(b) {};
        b.prototype.setUploadImage = function(b) {
            l.stop(b);
            b = this.$(".js-upload-image");
            if (null == b.prop("files") && b.val()) l.uploadFile(b, function() {});
            else if (b = b[0].files, 0 < b.length) return this.uploadStickers(b)
        };
        b.prototype.uploadStickers = function(b) {
            var c, g, f, h, k, q;
            f = y.me().customStickerList;
            q = [];
            g = h = 0;
            for (k = b.length; h < k; g = ++h) c = b[g], q.push(function(b) {
                return function(b) {
                    var d;
                    b = new FileReader;
                    if (l.validFileSize(c)) return d = new FormData, d.append("token", y.myToken()), d.append("file", c), b.onload = function(b) {
                        return f.create({
                            url: b.target.result
                        }, {
                            data: d,
                            processData: !1,
                            contentType: !1,
                            error: function(b) {
                                b.set("error", "Failed");
                                return setTimeout(function() {
                                    return b.destroy()
                                }, 5E3)
                            }
                        })
                    }, b.readAsDataURL(c);
                    Q.flash("File Too Large", "error")
                }
            }(this)(g));
            return q
        };
        b.prototype.openGoldPromo = function(b) {
            return t("Board Menu", "Open Trello Gold Promo - via Sticker Picker")
        };
        b.prototype.openBCPromo = function(b) {
            return t("Board Menu", "Open Business Class Promo - via Sticker Picker")
        };
        return b
    }(A);
    Id = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Settings"
        };
        b.viewName = "BoardSettingsView";
        b.prototype.className = "board-widgets-content fancy-scrollbar";
        b.prototype.events = {
            "click .js-change-labels:not(.disabled)": "changeLabels",
            "click .js-change-org:not(.disabled)": "changeOrg",
            "click .js-toggle-covers:not(.disabled)": "toggleCovers",
            "click .js-change-comments:not(.disabled)": "changeCommentingPerms",
            "click .js-change-add-members:not(.disabled)": "changeAddMemberPerms",
            "click .js-toggle-org-mem-join:not(.disabled)": "toggleSelfJoin"
        };
        b.prototype.initialize = function() {
            this.model.ond("change", this.render)
        };
        b.prototype.render = function() {
            var b, c;
            b = this.model.toJSON({
                prefs: !0,
                url: !0,
                labels: !0
            });
            b.cardCovers = b.prefs.cardCovers;
            c = this.model.getOrganization();
            b.orgDisplayName = null != c ? c.get("displayName") : void 0;
            b.hasOrg = null != (null != c ? c.id : void 0);
            b.commentsDisplay = this.model.getDisplayCommentPerms();
            b.invitationsDisplay = this.model.getDisplayInvitePerms();
            b.canChangeOrg = (null != c ? c.owned() : void 0) || this.model.owned();
            null != c && c.owned() &&
                !this.model.owned() && (b.setOrgNull = !0);
            this.$el.html(v.fill("board_menu_settings", b, {
                editable: this.model.editable(),
                owned: this.model.owned()
            }));
            return this
        };
        b.prototype.changeLabels = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target).closest("a"),
                top: 36,
                view: Wd,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            });
            t("Board View", "Settings", "Change Labels")
        };
        b.prototype.changeOrg = function(b) {
            var c;
            l.stop(b);
            this.model.owned() ? (x.toggle({
                elem: $(b.target).closest("a"),
                top: 52,
                view: Fc,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            }), t("Board View", "Settings", "Change Org")) : (b = this.model.get("idOrganization"), null != (c = this.Organization.get(b)) && c.boardList.remove(this.model), this.model.update("idOrganization", ""), x.hide(), t("Board View", "Settings", "Remove Org"))
        };
        b.prototype.toggleCovers = function(b, c) {
            l.stop(b);
            this.model.setPref("cardCovers", !this.model.getPref("cardCovers"));
            t("Board View", "Settings", "Enable/Disable Cover Images")
        };
        b.prototype.changeCommentingPerms = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target).closest("a"),
                top: 52,
                view: this.model.getView(ci)
            });
            t("Board View", "Settings", "Open Change Commenting Permissions")
        };
        b.prototype.changeAddMemberPerms = function(b) {
            l.stop(b);
            x.toggle({
                elem: $(b.target).closest("a"),
                top: 52,
                view: this.model.getView(bi)
            });
            t("Board View", "Settings", "Open Change Add Member Permissions")
        };
        b.prototype.toggleSelfJoin = function(b) {
            l.stop(b);
            this.model.setPref("selfJoin", !this.model.getPref("selfJoin"));
            this.model.save();
            t("Board View", "Settings", "Toggle Allow Org Join")
        };
        return b
    }(A);
    Jd = function(c) {
        function b() {
            this.setUploadImage =
                k(this.setUploadImage, this);
            this.uploadBackgroundsAndAddPreviews = k(this.uploadBackgroundsAndAddPreviews, this);
            this.fillBackgroundList = k(this.fillBackgroundList, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Change Background"
        };
        b.viewName = "ChangeBoardBackgroundView";
        b.prototype.displayTypeClass = "sidebar-display-wide";
        b.prototype.className = "board-widgets-content fancy-scrollbar";
        b.prototype.events = {
            "click .js-gold-promo": "openGoldPromo",
            "click .js-bc-promo": "openBCPromo",
            "change .js-upload-image": "setUploadImage"
        };
        b.prototype.initialize = function() {
            var c;
            b.__super__.initialize.apply(this, arguments);
            this.makeDebouncedMethods("render", "renderCustomBackgrounds");
            this.listenTo(this.Auth.me().boardBackgroundList, "change add remove reset", this.renderCustomBackgroundsDebounced);
            if (y.me().isFeatureEnabled("customBoardBackgrounds") || null != (c = this.model.getOrganization()) && c.isFeatureEnabled("customBoardBackgrounds")) return O["for"](this.modelCache).loadMemberCustomBackgrounds(y.myId())
        };
        b.prototype.fillBackgroundList = function(b, c, g) {
            var f;
            null == g && (g = pe);
            b.find(".js-select-background:not(.js-uploader)").remove();
            this.appendSubviews(function() {
                var b, d, k;
                k = [];
                b = 0;
                for (d = c.length; b < d; b++) f = c[b], k.push(this.subview(g, f, {
                    board: this.model
                }));
                return k
            }.call(this), b)
        };
        b.prototype.render = function() {
            var b, c, g, f, h;
            f = this.model.toJSON();
            f.enabled_additionalBackgrounds = y.me().isFeatureEnabled("additionalBoardBackgrounds") || (null != (b = this.model.getOrganization()) ? b.isFeatureEnabled("additionalBoardBackgrounds") :
                void 0);
            f.enabled_customBoardBackgrounds = y.me().isFeatureEnabled("customBoardBackgrounds") || (null != (c = this.model.getOrganization()) ? c.isFeatureEnabled("customBoardBackgrounds") : void 0);
            f.idMember = y.myId();
            this.$el.html(v.fill("board_change_background", f));
            h = function(b) {
                return function(b, c) {
                    var d, e, f, g;
                    g = [];
                    for (e in Pa) d = Pa[e], d.type === b && ((null != (f = d.pack) ? f.name : void 0) === c && !d.discontinued) && g.push(new Nd(_.extend({
                        name: e
                    }, d)));
                    return g
                }
            }(this);
            b = this.$(".js-default-list");
            g = this.$(".js-gold-photos-list");
            c = this.$(".js-gold-patterns-list");
            this.fillBackgroundList(b, h("default"));
            this.fillBackgroundList(g, h("premium", "Photos"));
            this.fillBackgroundList(c, h("premium", "Patterns and Textures"));
            f.enabled_additionalBackgrounds || (g.append(v.fill("product_promo_button")), c.append(v.fill("product_promo_button")));
            this.renderCustomBackgrounds();
            return this
        };
        b.prototype.renderCustomBackgrounds = function() {
            var b, c;
            c = y.me().isFeatureEnabled("customBoardBackgrounds") || (null != (b = this.model.getOrganization()) ? b.isFeatureEnabled("customBoardBackgrounds") :
                void 0);
            b = this.$(".js-custom-list");
            c ? (c = this.Member.get(y.myId()), c = c.boardBackgroundList.filter(function(b) {
                return "custom" === b.get("type")
            }), this.fillBackgroundList(b, c, fi), b.find(".js-uploader").appendTo(b)) : b.append(v.fill("product_promo_button"));
            return this
        };
        b.prototype.uploadBackgroundsAndAddPreviews = function(b) {
            var c, g, f, h, k;
            k = [];
            g = f = 0;
            for (h = b.length; f < h; g = ++f) c = b[g], k.push(function(b) {
                return function(d) {
                    var f;
                    d = new FileReader;
                    if (l.validFileSize(c)) return f = new FormData, f.append("token", y.myToken()),
                        f.append("file", c), d.onload = function(c) {
                            return b.Member.get(y.myId()).boardBackgroundList.create({
                                type: "custom",
                                fullSizeUrl: c.target.result
                            }, {
                                data: f,
                                processData: !1,
                                contentType: !1,
                                error: function(b) {
                                    b.set("error", "Failed");
                                    return setTimeout(function() {
                                        return b.destroy()
                                    }, 5E3)
                                },
                                success: function(c) {
                                    var d;
                                    d = b.model;
                                    _.extend(d.attributes.prefs, {
                                        backgroundColor: c.get("color"),
                                        backgroundImage: c.get("fullSizeUrl"),
                                        backgroundImageScaled: c.get("scaled"),
                                        backgroundTile: c.get("tile"),
                                        backgroundBrightness: c.get("brightness")
                                    });
                                    return d.setPref("background", c.id)
                                }
                            })
                        }, d.readAsDataURL(c);
                    Q.flash("File Too Large", "error")
                }
            }(this)(g));
            return k
        };
        b.prototype.setUploadImage = function(b) {
            l.stop(b);
            b = this.$(".js-upload-image");
            t("Board", "Upload custom background");
            null == b.prop("files") && b.val() ? l.uploadFile(b, function() {}) : (b = b[0].files, 0 < b.length && this.uploadBackgroundsAndAddPreviews(b))
        };
        b.prototype.openGoldPromo = function(b) {
            return t("Board Menu", "Open Trello Gold Promo - via Change Background")
        };
        b.prototype.openBCPromo = function(b) {
            return t("Board Menu",
                "Open Business Class Promo - via Change Background")
        };
        return b
    }(A);
    pe = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            return this.listenTo(this.model, "change:error", this.render)
        };
        b.prototype.className = "board-background-select js-select-background";
        b.prototype.events = {
            click: "selectBackground",
            "click .js-background-attribution": "clickAttribution"
        };
        b.prototype.render = function() {
            var b, c,
                g;
            b = this.model.toJSON();
            b.pending = null == this.getId() && null == b.error;
            null == b.color && (b.backgroundImageThumbnail = null != (c = null != (g = l.previewBetween(this.model.get("scaled"), 90, 60, 600, 400)) ? g.url : void 0) ? c : this.model.get("fullSizeUrl"));
            this.$el.html(v.fill("board_background_selection", b));
            this.$el.toggleClass("board-background-still-uploading", b.pending);
            return this
        };
        b.prototype.clickAttribution = function(b) {
            b.stopPropagation();
            return t("Board Menu", "Change Background", "Clicked Attribution")
        };
        b.prototype.getId =
            function() {
                return this.model.get("name")
            };
        b.prototype.selectBackground = function(b) {
            var c, g;
            l.stop(b);
            null != this.getId() && (b = this.options.board, _.extend(b.attributes.prefs, {
                backgroundColor: this.model.get("color"),
                backgroundImage: this.model.get("fullSizeUrl"),
                backgroundImageScaled: this.model.get("scaled"),
                backgroundTile: null != (c = this.model.get("tile")) ? c : !1,
                backgroundBrightness: null != (g = this.model.get("brightness")) ? g : "unknown"
            }), b.setPref("background", this.getId()), t("Board Menu", "Change Background",
                this.getId()))
        };
        return b
    }(A);
    fi = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            return this.listenTo(this.model, "change:id", this.render)
        };
        b.prototype.events = {
            "click .js-options": "openOptions",
            click: "selectBackground"
        };
        b.prototype.openOptions = function(b) {
            l.stop(b);
            return x.toggle({
                elem: this.$(".js-options"),
                top: 30,
                view: new di({
                    model: this.model
                })
            })
        };
        b.prototype.getId = function() {
            return this.model.id
        };
        return b
    }(pe);
    di = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Background Options"
        };
        b.prototype.initialize = function() {
            return this.listenTo(this.model, "change", this.render)
        };
        b.prototype.events = {
            "click .js-delete-background": "deleteBackground",
            "click .js-select-option": "selectOption"
        };
        b.prototype.render = function() {
            var b, c;
            c = this.model.toJSON();
            c.tile = this.model.get("tile");
            b = this.model.get("brightness");
            c.brightnessLight =
                "light" === b;
            c.brightnessDark = "dark" === b;
            this.$el.html(v.fill("board_background_options", c));
            return this
        };
        b.prototype.selectOption = function(b) {
            b = $(b.target).closest(".js-select-option");
            null != b.attr("data-board-brightness") ? this.model.update("brightness", b.attr("data-board-brightness")) : null != b.attr("data-background-display-type") && (b = b.attr("data-background-display-type"), this.model.update("tile", "tile" === b))
        };
        b.prototype.deleteBackground = function(b) {
            l.stop(b);
            return pa.pushView({
                elem: $(b.target).closest(".js-delete-background"),
                top: 32,
                model: this.model,
                title: "Delete Background?",
                text: "Deleting a background is permanent. There is no undo.",
                confirmText: "Delete",
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(c) {
                        b.model.destroy();
                        b.remove();
                        return t("Board Menu", "Change Background", "Delete Uploaded Background")
                    }
                }(this)
            })
        };
        return b
    }(A);
    oe = function(c) {
        function b() {
            this.selectPerm = k(this.selectPerm, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle =
            function() {
                return "Change Permissions"
            };
        b.prototype.initialize = function() {
            this.model.ond("change", this.render)
        };
        b.prototype.events = {
            "click .js-select": "selectPerm"
        };
        b.prototype.render = function() {
            var b, c, g;
            b = this.model.toJSON({
                prefs: !0,
                url: !0
            });
            b.cardCovers = b.prefs.cardCovers;
            c = this.model.getOrganization();
            b.hasOrg = null != (null != c ? c.id : void 0);
            b.orgCanSee = b.hasOrg && ("public" === (g = this.model.getPref("permissionLevel")) || "org" === g);
            b.premium = null != c ? c.isFeatureEnabled("observers") : void 0;
            b.voting_showObservers =
                (b.premium || b.voting_observers) && b.hasOrg;
            b.comments_showObservers = (b.premium || b.comments_observers) && b.hasOrg;
            b.pLevelClass = this.model.getPermLevelIconClass();
            null != c && c.owned() ? (b.orgOwner = !0, b.orgName = c.get("displayName"), this.model.owned() || (b.setOrgNull = !0)) : this.model.owned() || (b.noEditOrg = !0);
            c = this.getTemplate();
            this.$el.html(v.fillMenu(c, b, {
                editable: this.model.editable(),
                owned: this.model.owned()
            }));
            return this
        };
        b.prototype.selectPerm = function(b) {
            var c;
            l.stop(b);
            t("Board", "Change " + this.getPerm());
            c = $(b.target).closest(".js-select");
            !c.hasClass("disabled") && !c.closest(".js-disabled").length && (b = this.getPerm(), c = c.attr("name"), this.model.setPref(b, c), this.model.save(), x.popView())
        };
        return b
    }(A);
    ci = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Commenting Permissions"
        };
        b.prototype.getTemplate = function() {
            return "board_menu_commenting"
        };
        b.prototype.getPerm = function() {
            return "comments"
        };
        return b
    }(oe);
    bi = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Add Member Permissions"
        };
        b.prototype.getTemplate = function() {
            return "board_menu_invitations"
        };
        b.prototype.getPerm = function() {
            return "invitations"
        };
        return b
    }(oe);
    mg = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return this.model.owned() ? "Change Visibility" : "Visibility"
        };
        b.prototype.tagName = "ul";
        b.prototype.initialize = function() {
            this.listenTo(this.model, "change", this.render)
        };
        b.prototype.className = "pop-over-list";
        b.prototype.events = {
            "click .js-select": "selectVis"
        };
        b.prototype.render = function() {
            var b, c, g, f, h, k;
            b = this.model.toJSON({
                prefs: !0,
                url: !0
            });
            c = this.model.getOrganization();
            b.hasOrg = null != c;
            b.disabledVis_private = !this.model.owned() || null != c && !c.canSetVisibility("private") || null == c && !this.model.getPref("canBePrivate");
            b.disabledVis_org = !this.model.owned() || null != c && !c.canSetVisibility("org") || null == c && !this.model.getPref("canBeOrg");
            b.disabledVis_public = !this.model.owned() ||
                null != c && !c.canSetVisibility("public") || null == c && !this.model.getPref("canBePublic");
            k = ["private", "org", "public"];
            f = 0;
            for (h = k.length; f < h; f++) g = k[f], b["permText_" + g] = this.model.getPermLevelAltText(g, c), b["iconClass_" + g] = this.model.getPermLevelIconClass(g, c), b["disabledVis_" + g] && (null != c && !c.canSetVisibility(g) && this.model.owned()) && (b["showVisRestriction_" + g] = !0);
            b.visRestrictionText = "Due to a restriction created by an org admin, you can not select this visibility.";
            this.$el.html(v.fill("board_menu_vis",
                b, {
                    editable: this.model.editable(),
                    owned: this.model.owned()
                }));
            return this
        };
        b.prototype.selectVis = function(b) {
            l.stop(b);
            b = $(b.target).closest(".js-select");
            !b.hasClass("disabled") && !b.closest(".js-disabled").length && (b = b.attr("name"), "org" === b && !this.model.getOrganization() ? x.pushView({
                view: ai,
                options: {
                    model: this.model,
                    disableNone: !0
                }
            }) : (this.model.setPref("permissionLevel", b), this.model.save(), t("Board", "Change Board Visibility", b), x.popView()))
        };
        return b
    }(A);
    kg = function(c) {
        function b() {
            this.rename =
                k(this.rename, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Rename Board"
        };
        b.prototype.events = {
            "click .js-rename-board": "rename",
            "submit form": "rename"
        };
        b.prototype.render = function(b) {
            b = {};
            b.boardName = this.model.get("name");
            this.$el.html(v.fill("popover_rename_board", b));
            return this
        };
        b.prototype.rename = function(b) {
            var c;
            l.stop(b);
            b = this.$(".js-board-name");
            c = b.val().trim();
            "" === c ? b.focus().select() : (t("Board",
                "Successfully Rename Board"), this.model.update("name", c), x.hide())
        };
        return b
    }(A);
    ne = function(c) {
        function b() {
            this.selectVis = k(this.selectVis, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Change Visibility"
        };
        b.prototype.tagName = "ul";
        b.prototype.events = {
            "click .js-select": "selectVis"
        };
        b.prototype.className = "pop-over-list";
        b.prototype.render = function() {
            var b, c, g, f, h, k, l, s, n;
            h = this.options.organization;
            c = ["public",
                "org", "private"
            ];
            b = h.owned() ? ["admin", "org"] : ["org"];
            f = {
                explanationText: "" + h.get("displayName") + " has restrictions on board visibility.  Please choose a setting that is allowed in that organization."
            };
            f["permissionLevel_" + this.model.get("prefs").permissionLevel] = !0;
            g = !1;
            l = 0;
            for (s = c.length; l < s; l++) k = c[l], f["permText_" + k] = ra.prototype.getPermLevelAltText(k), f["iconClass_" + k] = ra.prototype.getPermLevelIconClass(k), (n = h.get("prefs").boardVisibilityRestrict[k], 0 > F.call(b, n)) ? f["disabledVis_" + k] = !0 : g = !0;
            if (!g) return f = {
                isOrgAdmin: h.owned(),
                orgSettingsUrl: B.getOrganizationAccountUrl(h),
                organization: h.toJSON()
            }, this.$el.html(v.fill("cant_add_board_to_org", f)), this;
            this.$el.html(v.fill("board_menu_vis", f, {
                editable: this.model.editable(),
                owned: this.model.owned()
            }));
            return this
        };
        b.prototype.selectVis = function(b) {
            var c;
            l.stop(b);
            b = $(b.target).closest(".js-select");
            if (!b.hasClass("disabled") && !b.closest(".js-disabled").length) return b = b.attr("name"), this.options.idOrganizationSource && null != (c = this.Organization.get(this.options.idOrganizationSource)) &&
                c.boardList.remove(this.model), this.model.update({
                    idOrganization: this.options.organization.id,
                    "prefs/permissionLevel": b
                }), this.options.organization.boardList.add(this.model), x.hide()
        };
        return b
    }(A);
    Fc = function(c) {
        function b() {
            this.submit = k(this.submit, this);
            this.changeOrg = k(this.changeOrg, this);
            this.updateModel = k(this.updateModel, this);
            this.showOrgBoardVisPerms = k(this.showOrgBoardVisPerms, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle =
            function() {
                return "Change Organization"
            };
        b.prototype.events = {
            "click .js-submit": "submit"
        };
        b.prototype.render = function() {
            var b, c, g, f, h;
            b = this.model.toJSON({
                org: !0
            });
            g = this.model.owned() ? y.me().organizationList.models : [];
            var k;
            k = [];
            f = 0;
            for (h = g.length; f < h; f++) c = g[f], k.push(c.toJSON());
            b.orgs = k;
            b.hasOrgs = 0 !== b.orgs.length;
            if (b.idOrganization) {
                h = b.orgs;
                g = 0;
                for (f = h.length; g < f; g++) c = h[g], c.id === b.idOrganization && (c.select = !0)
            }
            this.$el.html(v.fill("popover_change_board_org", b));
            return this
        };
        b.prototype.showOrgBoardVisPerms =
            function(b, c) {
                return x.pushView({
                    view: this.model.getView(ne, b.id, {
                        organization: b,
                        idOrganizationSource: c
                    })
                })
            };
        b.prototype.updateModel = function(b) {
            return this.model.update({
                idOrganization: b
            })
        };
        b.prototype.changeOrg = function(b, c) {
            var g;
            b !== c && (c && null != (g = this.Organization.get(c)) && g.boardList.remove(this.model), this.updateModel(b), b && this.Organization.get(b).boardList.add(this.model));
            return x.hide()
        };
        b.prototype.canAddToOrg = function(b) {
            return b.canAddBoard(this.model)
        };
        b.prototype.submit = function(b) {
            var c,
                g, f, h;
            l.stop(b);
            t("Board", "Change Org");
            f = this.$(".js-org").val();
            g = this.model.get("idOrganization");
            h = this.Organization.get(f);
            c = function(b) {
                return function() {
                    return b.changeOrg(f, g)
                }
            }(this);
            return null != h && h.isFeatureEnabled("restrictVis") ? O["for"](this.modelCache).loadOrganizationMembersData(f, function(b) {
                return function(d) {
                    return null == d && null != h && !b.canAddToOrg(h) ? b.showOrgBoardVisPerms(h, g) : c()
                }
            }(this)) : c()
        };
        return b
    }(A);
    ai = function(c) {
        function b() {
            this.orgSelected = k(this.orgSelected, this);
            this.updateModel = k(this.updateModel, this);
            this.submit = k(this.submit, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-submit": "submit",
            "change .js-org": "orgSelected"
        };
        b.prototype.initialize = function(c) {
            this.disableNone = null != c ? c.disableNone : void 0;
            return b.__super__.initialize.apply(this, arguments)
        };
        b.prototype.render = function() {
            b.__super__.render.apply(this, arguments);
            this.disableNone && this.$(".js-submit").addClass("disabled").attr("disabled",
                "disabled");
            return this
        };
        b.prototype.showOrgBoardVisPerms = function(b, c) {
            return x.pushView({
                view: this.model.getView(ne, b.id, {
                    organization: b,
                    idOrganizationSource: c
                })
            })
        };
        b.prototype.submit = function(c) {
            return b.__super__.submit.apply(this, arguments)
        };
        b.prototype.canAddToOrg = function(b) {
            return !b.isFeatureEnabled("restrictVis") || b.canSetVisibility("org")
        };
        b.prototype.updateModel = function(b) {
            return this.model.update({
                idOrganization: b,
                "prefs/permissionLevel": "org"
            })
        };
        b.prototype.orgSelected = function() {
            if (this.disableNone) return "(none)" ===
                this.$(".js-org").children().filter(":selected").text() ? this.$(".js-submit").addClass("disabled").attr("disabled", "disabled") : this.$(".js-submit").removeClass("disabled").removeAttr("disabled")
        };
        return b
    }(Fc);
    xb = function(c) {
        function b() {
            this.willBePopped = k(this.willBePopped, this);
            this.willBePushedDown = k(this.willBePushedDown, this);
            this.viewMoreOrgMembers = k(this.viewMoreOrgMembers, this);
            this.addAllOrgMembers = k(this.addAllOrgMembers, this);
            this.addOrgMember = k(this.addOrgMember, this);
            this.addOtherMember =
                k(this.addOtherMember, this);
            this.addMember = k(this.addMember, this);
            this.orgMembersAvailable = k(this.orgMembersAvailable, this);
            this.sendEmailInvite = k(this.sendEmailInvite, this);
            this.canRemoveInvitation = k(this.canRemoveInvitation, this);
            this.removeInvitation = k(this.removeInvitation, this);
            this.clearSearchResults = k(this.clearSearchResults, this);
            this.createInvitation = k(this.createInvitation, this);
            this.keydownEvent = k(this.keydownEvent, this);
            this.search = k(this.search, this);
            this.searchPaste = k(this.searchPaste,
                this);
            this.showMemberMenu = k(this.showMemberMenu, this);
            this.renderEmailInviteToSearchResults = k(this.renderEmailInviteToSearchResults, this);
            this.renderOrgMembers = k(this.renderOrgMembers, this);
            this.renderBoardMembers = k(this.renderBoardMembers, this);
            this.getOrgData = k(this.getOrgData, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        ma(Dd, Kc, b);
        b.prototype.getViewTitle = function() {
            return "Members"
        };
        b.prototype.initialize = function() {
            var b;
            b = this.model.getOrganization();
            if (null != b) b.memberList.onAddRemove(this.renderOrgMembers);
            this.model.memberList.onAddRemove(this.renderOrgMembers);
            if (null != b) b.ond("change:prefs", this.render);
            this.savedSearch = ""
        };
        b.prototype.events = {
            "click .js-board-members .js-select-member": "showMemberMenu",
            "click .js-search-results .js-select-member": "addOtherMember",
            "paste .js-search-input": "searchPaste",
            "click .js-org-members .js-select-member": "addOrgMember",
            "click .js-org-members .js-add-all-org-members": "addAllOrgMembers",
            "click .js-org-members .js-more-org-members": "viewMoreOrgMembers",
            "click .js-remove-invitation": "removeInvitation",
            "click .js-send-email-invite": "sendEmailInvite",
            "submit .js-email-data": "sendEmailInvite",
            "click .js-open-option": "openOption",
            "mouseenter .js-select-member": "hoverMember"
        };
        b.prototype.render = function() {
            var b, c, g;
            c = {
                placeholder: "Search or add email address"
            };
            c.canAddMembers = this.model.canInviteMembers();
            g = this.model.getOrganization();
            null != g && (c.orgName = g.get("displayName"));
            c.canInviteMembers = c.canAddMembers && !(null != g && g.isFeatureEnabled("disableExternalMembers") &&
                g.getPref("externalMembersDisabled"));
            c.disableAddingExternalMembers = this.model.isMember(y.me()) && (null != g ? g.isFeatureEnabled("disableExternalMembers") : void 0) && g.getPref("externalMembersDisabled");
            c.isBCOrgAdmin = null != g ? g.isPremOrgAdmin(y.me()) : void 0;
            c.orgSettingsURL = null != g ? B.getOrganizationAccountUrl(g) : "";
            this.$el.html(v.fill("manage_members", c, {
                editable: this.model.editable()
            }));
            null != (b = Mc.addMemberToBoardAd(y.me(), g)) && this.$(".js-ad").html(this.model.getView(b).render().el);
            c.canAddMembers ?
                _.delay(function(b) {
                    return function() {
                        b.renderOrgMembers();
                        b.input = b.$(".js-search-input");
                        b.input.click(function(b) {
                            return l.stop(b)
                        }).keyup(_.debounce(b.search, 500)).keydown(b.keydownEvent).focus();
                        if (b.savedSearch) return b.input.val(b.savedSearch), b.search(), b.savedSearch = ""
                    }
                }(this), 10) : _.delay(function(b) {
                    return function() {
                        return b.renderBoardMembers()
                    }
                }(this), 10);
            this.lastSearch = "";
            this.loadingEl = this.$(".js-loading");
            this.helperEl = this.$(".js-helper");
            x.calcPos();
            return this
        };
        b.prototype.getOrgData =
            function() {
                var b;
                b = this.model.getOrganization();
                if (null != b && this.model.editable()) return O["for"](this.modelCache).loadOrganizationMembersMinimal(b.id, function(c) {
                    return function(g) {
                        if (null == g) return b.trigger("change:memberships"), c.renderOrgMembers()
                    }
                }(this))
            };
        b.prototype.renderBoardMembers = function() {
            var b, c, g, f, h;
            c = this.$(".js-board-members").hide();
            b = c.find(".js-list").empty();
            7 < this.model.memberList.models.length && b.addClass("collapsed");
            h = this.model.memberList.models;
            g = 0;
            for (f = h.length; g < f; g++) b =
                h[g], this.appendSubview(this.subview(Ka, b), $boardMmeberList);
            c.show();
            x.calcPos()
        };
        b.prototype.renderOrgMembers = function() {
            var b, c, g, f, h, k;
            g = this.$(".js-org-members").hide();
            c = g.find(".js-list").empty();
            b = g.find(".js-num-org-mem").empty();
            f = g.find(".js-more-org-members").addClass("hide");
            k = this.model.getOrganization();
            null != k && (h = this.orgMembersAvailable(), 0 < h.length && (7 < h.length && f.removeClass("hide"), f = h.slice(0, 7), _.each(f, function(b) {
                return function(b) {
                    var d;
                    d = b.toJSON();
                    null != k && k.isPremOrgAdmin(b) &&
                        (d.className = "no-option");
                    return c.append(v.fill("select_member", d, {}, {
                        member: v.member
                    }))
                }
            }(this)), b.html(h.length), g.show()), x.calcPos())
        };
        b.prototype.renderEmailInviteToSearchResults = function(b) {
            var c, g, f;
            c = _.compact(l.removeDomainFromEmailAddress(b.email).split(/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/)).join(" ").replace(/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/, "");
            b.fullName = l.toTitleCase(c);
            b.canAddAsObserver = null != (g = this.model.getOrganization()) ? g.isFeatureEnabled("observers") : void 0;
            c = null != (f = this.model.getOrganization()) ? f.get("prefs").externalMembersDisabled : void 0;
            this.$(".js-no-results").toggleClass("hide", !c);
            if (!c) return this.$(".js-uninvited-search-results").append(v.fill("invite_add_name", b, "", {
                member: v.member
            })).show()
        };
        b.prototype.showMemberMenu = function(b) {
            l.stop(b);
            b = $(b.target).closest(".js-select-member").attr("idMember");
            b = this.Member.get(b);
            x.pushView({
                view: b.getView(Ec, "board", {
                    board: this.model
                })
            })
        };
        b.prototype.searchPaste = function() {
            this.loadingEl.show();
            return this.input.keyup()
        };
        b.prototype.search = function(b) {
            var c, g, f;
            null != this.lastSearch && this.lastSearch === this.input.val() || (this.lastSearch = this.input.val(), c = this.input.val().toLowerCase().trim(), "" === c ? this.clearSearchResults() : (this.loadingEl.show(), S({
                url: "/1/search/members/",
                type: "get",
                data: {
                    idBoard: this.model.id,
                    query: c,
                    idOrganization: null != (g = this.model.getOrganization()) ? g.id : void 0,
                    onlyOrgMembers: null != (f = this.model.getOrganization()) ? f.getPref("externalMembersDisabled") : void 0,
                    _cache: l.newestId(this.model.get("memberships"))
                },
                dataType: "json",
                success: function(b) {
                    return function(d) {
                        return b.renderSearchResults(c, d)
                    }
                }(this)
            })))
        };
        b.prototype.keydownEvent = function(b) {
            var c, g;
            if (!(16 === (c = b.keyCode) || 18 === c || 17 === c || 39 === c || 37 === c || 27 === c))
                if (13 === b.keyCode) 0 < this.$(".js-search-results .js-list .selected .js-select-member").length ? (l.stop(b), this.$(".js-search-results .js-list .selected:first .js-select-member").click()) : 0 < this.$(".js-search-results .js-list .email-invite").length && (l.stop(b), this.$(".email-invite:first").click());
                else if (38 === (g = b.keyCode) || 40 === g) l.stop(b), l.navMenuList(this.$(".js-search-results .js-list"), "li", b.keyCode)
        };
        b.prototype.createInvitation = function(b) {
            return S(_.extend({
                url: "/1/board/" + this.model.id + "/members",
                type: "put",
                dataType: "json"
            }, b))
        };
        b.prototype.clearSearchResults = function() {
            this.helperEl.show();
            this.lastSearch = "";
            this.input.val("").focus().select();
            this.$(".js-search-results").hide();
            this.$(".js-uninvited-search-results").empty().hide();
            return this.renderOrgMembers()
        };
        b.prototype.removeInvitation =
            function(b) {
                b = $(b.currentTarget).closest(".invitation").data("id");
                fb.prototype["delete"]({
                    model: this.model,
                    idInvitation: b,
                    success: function(b) {
                        return function() {
                            t("Invitations", "Delete Board Invite");
                            return b.search
                        }
                    }(this)
                });
                l.setCaretAtEnd(this.input[0])
            };
        b.prototype.canRemoveInvitation = function(b) {
            return b.get("idMemberInviter") === y.myId() || this.model.owned()
        };
        b.prototype.sendEmailInvite = function(b) {
            var c, g;
            l.stop(b);
            c = this.$(".js-send-email-invite");
            null == c.attr("disabled") && (b = this.$(".js-email-data .js-full-name"),
                g = b.val().trim(), l.validName(g) ? (b = {
                    fullName: g,
                    email: this.$(".js-email-data .js-email").val().trim(),
                    type: "normal"
                }, this.$("#addAsObserver").is(":checked") && (b.type = "observer"), c.attr("disabled", "disabled"), S({
                    url: "/1/board/" + this.model.id + "/members",
                    type: "put",
                    dataType: "json",
                    data: b,
                    success: function(b) {
                        return function(d) {
                            new ca(d, {
                                modelCache: b.modelCache
                            });
                            b.renderOrgMembers();
                            t("Invitations", "Send Email Board Invite to New Member", "Role: " + d.type);
                            TRMixpanel.trackInvitation();
                            c.removeAttr("disabled");
                            return x.hide()
                        }
                    }(this),
                    error: function(b) {
                        return function(d, g) {
                            $(".manage-member-section.js-error").removeClass("hide").find(".error").html(d.responseText);
                            b.$(".js-uninvited-search-results").empty().hide();
                            c.removeAttr("disabled");
                            b.input.focus().select();
                            t("Invitations", "Error: " + d.responseText)
                        }
                    }(this)
                })) : (l.setCaretAtEnd(b), $(".js-name-error").show()))
        };
        b.prototype.orgMembersAvailable = function() {
            var b, c;
            c = this.model.getOrganization();
            var g, f, h, k;
            h = c.memberList.models;
            k = [];
            g = 0;
            for (f = h.length; g <
                f; g++) b = h[g], c.isDeactivated(b) || k.push(b);
            return _.difference(k, this.model.memberList.models)
        };
        b.prototype.addMember = function(b) {
            b = this.Member.get(b);
            this.model.addMember(b);
            this.renderOrgMembers()
        };
        b.prototype.addOtherMember = function(b) {
            var c, g;
            l.stop(b);
            if (!(0 < $(b.target).closest(".item.disabled").length)) return b = $(null != b ? b.target : void 0).closest(".js-select-member").attr("idMember"), this.clearSearchResults(), g = this.model.getOrganization(), (c = this.Member.get(b)) && null != g && g.isMember(c) ? t("Invitations",
                "Add Org Member to Board", "Role: Member") : t("Invitations", "Add Other Member to Board", "Role: Member"), this.addMember(b)
        };
        b.prototype.addOrgMember = function(b) {
            l.stop(b);
            t("Invitations", "Add Org Member to Board", "Role: Member");
            b = $(null != b ? b.target : void 0).closest(".js-select-member").attr("idMember");
            return this.addMember(b)
        };
        b.prototype.addAllOrgMembers = function(b) {
            var c;
            l.stop(b);
            t("Invitations", "Add All Org Members to Board");
            c = this.orgMembersAvailable();
            return pa.pushView({
                model: this.model,
                title: "Add All Organization Members?",
                text: "This will add all remaining members of the organization (" + l.formatCount(c.length, "member") + ") to this board.",
                confirmText: "Add All Members",
                confirmBtnClass: "primary",
                fxConfirm: function(b) {
                    return function(d) {
                        var h, k, l;
                        l = [];
                        h = 0;
                        for (k = c.length; h < k; h++) d = c[h], l.push(b.model.addMember(d));
                        return l
                    }
                }(this)
            })
        };
        b.prototype.viewMoreOrgMembers = function(b) {
            l.stop(b);
            t("Invitations", "View More Org Members");
            x.pushView({
                view: this.model.getView($h)
            })
        };
        b.prototype.willBePushedDown = function() {
            return this.savedSearch =
                this.input.val()
        };
        b.prototype.willBePopped = function() {
            return this.savedSearch = ""
        };
        return b
    }(A);
    $h = function(c) {
        function b() {
            this.filterAndFillMembers = k(this.filterAndFillMembers, this);
            this.keyupEvent = k(this.keyupEvent, this);
            this.render = k(this.render, this);
            this.renderOrgMembers = k(this.renderOrgMembers, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        ma(Kc, b);
        b.prototype.getViewTitle = function() {
            return "Organization Members"
        };
        b.prototype.initialize = function() {
            var b;
            if (null != (b = this.model.getOrganization())) b.memberList.onAddRemove(this.render)
        };
        b.prototype.events = {
            "click .js-board-members .js-select-member": "addOrgMember",
            "click .js-board-members .js-add-all-org-members": "addAllOrgMembers",
            keyup: "keyupEvent",
            "click .js-open-option": "openOption",
            "mouseenter .js-select-member": "hoverMember"
        };
        b.prototype.renderOrgMembers = function(b) {
            var c, g, f, h;
            b = b ? this.Member.get(b) : this.model.getView(xb).orgMembersAvailable();
            g = this.$(".js-board-members .js-list").empty().show();
            f = 0;
            for (h = b.length; f < h; f++) c = b[f], c = c.toJSON(), g.append(v.fill("select_member",
                c, {}, {
                    member: v.member
                }));
            this.$(".js-board-members .js-num-org-mem").empty().text(b.length)
        };
        b.prototype.render = function() {
            var b, c;
            b = this.model.toJSON({
                prefs: !0
            });
            b.placeholder = "Search for organization members";
            b.orgName = null != (c = this.model.getOrganization()) ? c.get("displayName") : void 0;
            b.canInvite = !0;
            this.$el.html(v.fill("manage_members", b, {
                editable: this.model.editable()
            }));
            this.renderOrgMembers();
            this.$(".js-board-members").removeClass("hide");
            this.$(".js-add-all-org-members").removeClass("hide");
            this.$(".js-enable-self-join").removeClass("hide");
            return this
        };
        b.prototype.keyupEvent = function(b) {
            var c, g, f, h;
            c = $(".js-search-input").val().trim();
            if (!(16 === (g = b.keyCode) || 18 === g || 17 === g)) 13 === b.keyCode ? (l.stop(b), 0 < this.$(".js-org-members .js-list .selected").length && (b = this.$(".js-org-members .js-list .selected:first .js-select-member").attr("idMember"), b = this.Member.get(b), this.model.addMember(b), this.$(".js-search-input").focus().select())) : 38 === (f = b.keyCode) || 40 === f ? (l.stop(b), l.navMenuList($(null !=
                (h = x.view) ? h.el : void 0).find(".js-org-members .js-list"), ".item", b.keyCode)) : 0 < c.length ? (this.filterAndFillMembers(c), $(".js-org-members .js-list").removeClass("collapsed"), $(".js-add-all-org-members").addClass("hide")) : (this.renderOrgMembers(), $(".js-org-members .js-list").addClass("collapsed"), $(".js-add-all-org-members").removeClass("hide"))
        };
        b.prototype.filterAndFillMembers = function(b) {
            var c;
            c = _.pluck(this.model.getView(xb).orgMembersAvailable(), "id");
            b = l.filterMembers(this.modelCache, b, c);
            b =
                b.slice(0, 7);
            0 < b.length ? (this.renderOrgMembers(b), b = this.$(".js-org-members .js-list .item:first"), l.selectMenuItem(this.$(".js-org-members .js-list"), ".item", b)) : this.$(".js-org-members .js-list").html("<li><p class='empty'>No matched members</p></li>")
        };
        b.prototype.addOrgMember = function(b) {
            this.model.getView(xb).addOrgMember(b);
            return this.render()
        };
        b.prototype.addAllOrgMembers = function(b) {
            return this.model.getView(xb).addAllOrgMembers(b)
        };
        return b
    }(A);
    Wd = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Label Names"
        };
        b.prototype.tagName = "form";
        b.prototype.className = "edit-labels js-edit-labels";
        b.prototype.events = {
            "submit .js-edit-labels": "saveLabels",
            "click .js-save": "saveLabels"
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON({
                labels: !0
            });
            this.$el.html(v.fill("board_labels", b));
            return this
        };
        b.prototype.saveLabels = function(b) {
            var c, g, f, h, k;
            l.stop(b);
            f = {};
            g = this.$(".js-label-title");
            h = 0;
            for (k = g.length; h < k; h++) c = g[h], b = $(c).attr("name"),
                c = $(c).val().trim(), f["labelNames/" + b] = c;
            this.model.update(f);
            x.popView();
            t("Board", "Save Label Changes")
        };
        return b
    }(A);
    ei = function(c) {
        function b() {
            this.sendAddressEmail = k(this.sendAddressEmail, this);
            this.generateAddress = k(this.generateAddress, this);
            this.updateList = k(this.updateList, this);
            this.updatePosition = k(this.updatePosition, this);
            this.updateValue = k(this.updateValue, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Add Cards via Email"
        };
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.modelCache.ond("add:List remove:List change:List:closed reset:List", this.render);
            this.model.ond("change:myPrefs", this.render);
            this.allowEmail = !0;
            if (null == this.model.getPref("emailKey")) return this.model.generateEmailKey()
        };
        b.prototype.events = {
            "change .js-select-position": "updatePosition",
            "change .js-select-list": "updateList",
            "click .js-generate-address": "generateAddress",
            "click .js-send-address": "sendAddressEmail",
            "click .js-autofocus": "focusInput"
        };
        b.prototype.render = function() {
            var b, c, g, f, h, k;
            c = this.model.getPref("idEmailList");
            h = "None";
            f = !1;
            var q, s, n, t;
            n = this.model.openLists();
            t = [];
            q = 0;
            for (s = n.length; q < s; q++) b = n[q], g = {
                id: b.id,
                name: b.get("name")
            }, b.id === c && (f = !0, g.selected = !0, h = g.name), t.push(g);
            null != c && !f && (b = this.List.get(c), null != b ? (h = c = b.get("name") + " (archived)", t.push({
                id: b.id,
                name: c,
                selected: !0
            })) : (h = "None", t.push({
                id: null,
                name: "None",
                selected: !0
            })));
            b = {
                email: null != (k = this.model.getPref("fullEmail")) ?
                    k : "",
                lists: t,
                listName: h,
                positionName: l.capitalize(this.model.getPref("emailPosition"))
            };
            b["position_" + this.model.getPref("emailPosition")] = !0;
            this.$el.html(v.fill("board_menu_email", b));
            return this
        };
        b.prototype.focusInput = function(b) {
            $(b.target).focus().select()
        };
        b.prototype.updateValue = function(b, c) {
            var g;
            g = this.$el.find(b).val();
            if (null != g && g !== this.model.getPref(c)) return this.model.setPref(c, g)
        };
        b.prototype.updatePosition = function() {
            return this.updateValue(".js-select-position", "emailPosition")
        };
        b.prototype.updateList = function() {
            this.updateValue(".js-select-list", "idEmailList");
            return this.allowEmail = !0
        };
        b.prototype.generateAddress = function(b) {
            l.stop(b);
            pa.pushView({
                model: this.model,
                title: "Generate new email address?",
                text: "The old email address will no longer work.  There is no undo.  Go ahead?",
                confirmText: "Generate new email address",
                confirmBtnClass: "negate",
                popOnClick: !0,
                fxConfirm: function(b) {
                    return function(c) {
                        b.model.set({
                            "myPrefs/emailKey": null
                        });
                        b.allowEmail = !0;
                        return b.model.generateEmailKey()
                    }
                }(this)
            })
        };
        b.prototype.sendAddressEmail = function(b) {
            l.stop(b);
            this.allowEmail && (this.allowEmail = !1, this.model.api({
                method: "emailKey/message",
                type: "post"
            }, function(b) {
                return function(b) {
                    return b ? Q.show("Could not send email - please check that the list is valid", "error", "email", 5E3) : Q.flash("Email Sent", "confirm")
                }
            }(this)))
        };
        return b
    }(A);
    Zh = ma(nc, function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-more-actions": "loadMoreActions"
        };
        b.prototype.initialize = function() {
            this.fullHistory = this.options.fullHistory;
            null == this.fullHistory && (this.fullHistory = !1);
            this.actionListView = this.collectionSubview(Rb, new wb(this.getActions(), {
                modelCache: this.modelCache
            }), {
                renderOpts: {
                    compact: !this.fullHistory,
                    key: "boardactivity",
                    context: this.model
                }
            });
            this.makeDebouncedMethods("renderMoreActionsLink");
            this.listenTo(this.modelCache, "add:Action:" + this.model.id, function(b) {
                return function() {
                    b.actionListView.collection.reset(b.getActions(), {
                        silent: !0
                    });
                    return b.renderMoreActionsLinkDebounced()
                }
            }(this));
            this.loadMoreActions()
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("board_activity", this.model.toJSON()));
            this.actionListView.setElement(this.$(".list-activity")[0]);
            this.renderActions();
            return this
        };
        b.prototype.renderActions = function() {
            this.actionListView.render();
            return this.renderMoreActionsLink()
        };
        b.prototype.renderMoreActionsLink = function() {
            this.$(".js-more-actions").toggle(this.hasMoreActions());
            return this
        };
        b.prototype.getActionsFilter =
            function() {
                return "addAttachmentToCard,addChecklistToCard,addMemberToCard,commentCard,copyCommentCard,convertToCardFromCheckItem,createCard,copyCard,deleteAttachmentFromCard,emailCard,moveCardFromBoard,moveCardToBoard,removeChecklistFromCard,removeMemberFromCard,updateCard:idList,updateCard:closed,updateCheckItemStateOnCard,addMemberToBoard,addToOrganizationBoard,copyBoard,createBoard,createList,deleteCard,disablePowerUp,enablePowerUp,makeAdminOfBoard,makeNormalMemberOfBoard,makeObserverOfBoard,moveListFromBoard,moveListToBoard,removeFromOrganizationBoard,unconfirmedBoardInvitation,unconfirmedOrganizationInvitation,updateBoard,updateList:closed"
            };
        return b
    }(A));
    H = {}.hasOwnProperty;
    n = function(c, b) {
        function d() {
            this.constructor = c
        }
        for (var e in b) H.call(b, e) && (c[e] = b[e]);
        d.prototype = b.prototype;
        c.prototype = new d;
        c.__super__ = b.prototype;
        return c
    };
    (function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName = "BoardPreference";
        return b
    })(W);
    var qe, gi, hi, ii, ec, ji, ki, ba, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype =
                new d;
            c.__super__ = b.prototype;
            return c
        },
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    ba = new(function(c) {
        function b() {
            b.__super__.constructor.call(this);
            this.set({
                id: "sidebarState-" + y.myId()
            });
            this.fetch()
        }
        n(b, c);
        b.prototype["default"] = function() {
            return {
                pinBoardsListSidebar: !1,
                showBoardsListSidebar: !1,
                idRecentBoards: [],
                collapsedDrawerSections: []
            }
        };
        b.prototype.getPinSidebar = function() {
            return this.get("pinBoardsListSidebar")
        };
        b.prototype.showPinSidebar = function() {
            return this.save("pinBoardsListSidebar", !0)
        };
        b.prototype.hidePinSidebar = function() {
            return this.save("pinBoardsListSidebar", !1)
        };
        b.prototype.getShowSidebar = function() {
            return this.get("showBoardsListSidebar")
        };
        b.prototype.showSidebar = function() {
            return this.save("showBoardsListSidebar", !0)
        };
        b.prototype.hideSidebar = function() {
            return this.save("showBoardsListSidebar", !1)
        };
        b.prototype.getRecentBoards = function() {
            return this.get("idRecentBoards")
        };
        b.prototype.pullBoard =
            function(b) {
                var c, g;
                for (g = _.clone(this.getRecentBoards()); - 1 < (c = _.indexOf(g, b));) g.splice(c, 1);
                return this.save("idRecentBoards", g)
            };
        b.prototype.pushBoard = function(b) {
            var c;
            c = _.clone(this.getRecentBoards());
            _.contains(c, b) && (c = _.without(c, b));
            c.unshift(b);
            c = c.slice(0, 16);
            return this.save("idRecentBoards", c)
        };
        b.prototype.getCollapsedSections = function() {
            var b;
            return null != (b = this.get("collapsedDrawerSections")) ? b : this["default"]().collapsedDrawerSections
        };
        b.prototype.isCollapsed = function(b) {
            return _.contains(this.getCollapsedSections(),
                b)
        };
        b.prototype.collapseSection = function(b) {
            return this.addToSet("collapsedDrawerSections", b)
        };
        b.prototype.expandSection = function(b) {
            return this.pull("collapsedDrawerSections", b)
        };
        return b
    }(ub));
    ki = function(c) {
        function b() {
            this.renderAllBoardsSection = k(this.renderAllBoardsSection, this);
            this.renderBoardsSections = k(this.renderBoardsSections, this);
            this.toggleSections = k(this.toggleSections, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.UNREAD_POLL_RATE_ACTIVE =
            l.getMs({
                minutes: 5
            });
        b.prototype.UNREAD_POLL_RATE_IDLE = l.getMs({
            minutes: 60
        });
        b.prototype.className = function() {
            return "boards-drawer"
        };
        b.prototype.initialize = function() {
            this.ready = !1;
            this.listenTo(this.model.organizationList, "add remove reset", this.renderBoards);
            this.renderSidebarState();
            this.listenTo(ba, "change:showBoardsListSidebar", function() {
                this.renderSidebarState();
                return this.ensureUnreadData()
            });
            this.listenTo(ba, "change:pinBoardsListSidebar", function() {
                this.renderSidebarState();
                this.updatePinned();
                this.updateHeight();
                return this.ensureUnreadData()
            });
            X.addHandler(this, {
                scope: "header"
            });
            this.ensureUnreadData()
        };
        b.prototype.events = {
            "mouseenter .sidebar-boards-list li": "hoverItem",
            "keyup .js-search-boards": "keyEvent",
            "click .js-pin": "pinDrawer",
            "click .js-unpin": "unpinDrawer",
            "click .js-open-closed-boards": "openClosedBoards",
            "mouseleave .sidebar-boards-list": "deselectBoards",
            shortcut: "shortcut"
        };
        b.prototype.render = function() {
            var b;
            b = {};
            b.allBoardsUrl = B.getMemberBoardsUrl();
            this.renderSidebarState();
            this.updatePinned();
            this.$el.html(v.fill("sidebar_boards_list", b));
            this.ready = !0;
            this.renderBoardsSections();
            this.updateHeight();
            this.updatePinned();
            this.debouncedResizeEvent = this.debounce(function(b) {
                return function() {
                    return b.updateHeight()
                }
            }(this), 300);
            $(window).bind("resize", this.debouncedResizeEvent);
            return this
        };
        b.prototype.ensureUnreadData = function() {
            var b;
            b = function(b) {
                return function() {
                    return "active" === Ja.getStatus() ? b.UNREAD_POLL_RATE_ACTIVE : b.UNREAD_POLL_RATE_IDLE
                }
            }(this);
            null != this._lastPoll &&
                Date.now() - this._lastPoll > 1.5 * b() && (this.refreshUnreadData(), this._lastPoll = Date.now());
            if (ba.getShowSidebar() || ba.getPinSidebar()) {
                if (null == this._unreadTimeout) return this._unreadTimeout = this.setTimeout(function(b) {
                    return function() {
                        b.refreshUnreadData();
                        b._unreadTimeout = null;
                        b._lastPoll = Date.now();
                        return b.ensureUnreadData()
                    }
                }(this), b())
            } else if (null != this._unreadTimeout) return clearTimeout(this._unreadTimeout), this._unreadTimeout = null
        };
        b.prototype.shortcut = function(b) {
            switch (b) {
                case 66:
                    return ba.getPinSidebar() ?
                        this.focusInput() : ba.getShowSidebar() ? ba.hideSidebar() : ba.showSidebar(), !0
            }
        };
        b.prototype.clearSearch = function() {
            this.$(".js-search-boards").val("");
            this.toggleSections("all")
        };
        b.prototype.focusInput = function() {
            return this.$(".js-search-boards").focus().select()
        };
        b.prototype.refreshUnreadData = function() {
            var b, c, g, f, h, k;
            O["for"](this.modelCache).loadMyBoardsUnreadData();
            c = this.Auth.me();
            h = ba.getRecentBoards();
            k = [];
            g = 0;
            for (f = h.length; g < f; g++) b = h[g], !c.boardList.get(b) && !c.boardStarList.getBoardStar(b) ?
                k.push(O["for"](this.modelCache).loadBoardData(b, Fe)) : k.push(void 0);
            return k
        };
        b.prototype.openClosedBoards = function(b) {
            l.stop(b);
            ka.show({
                view: new vf({
                    model: y.me()
                })
            });
            O["for"](this.modelCache).loadClosedBoards();
            t("Boards Drawer", "Open Closed Boards")
        };
        b.prototype.renderStarredBoardsSection = function() {
            return this.appendSubview(this.subview(ji, y.me(), {}, "starred-boards"), this.$(".js-starred-boards"))
        };
        b.prototype.renderRecentBoardsSection = function() {
            O.waitFor("boardsData", function(b) {
                return function() {
                    return b.appendSubview(b.subview(ii,
                        y.me(), {}, "recent-boards"), b.$(".js-recent-boards"))
                }
            }(this));
            return this
        };
        b.prototype.renderSidebarState = function() {
            ba.getShowSidebar() || ba.getPinSidebar() ? (this.$el.addClass("show"), x.hide(), _.defer(function(b) {
                return function() {
                    return b.focusInput()
                }
            }(this))) : (this.$el.removeClass("show"), this.clearSearch());
            x.calcPos();
            return this
        };
        b.prototype.updateHeight = function() {
            var b;
            b = ba.getPinSidebar() ? $(window).height() - 50 : $(window).height() - 64;
            return this.$(".board-drawer-content").css({
                "max-height": b
            })
        };
        b.prototype.unpinDrawer = function() {
            t("Boards Drawer", "Unpin Drawer");
            return ba.hidePinSidebar()
        };
        b.prototype.pinDrawer = function() {
            t("Boards Drawer", "Pin Drawer");
            return ba.showPinSidebar()
        };
        b.prototype.updatePinned = function() {
            this.$el.toggleClass("boards-drawer-pinned", ba.getPinSidebar());
            this.$(".js-pin").toggleClass("hide", ba.getPinSidebar());
            this.$(".js-unpin").toggleClass("hide", !ba.getPinSidebar());
            return this.updateHeight()
        };
        b.prototype.getActivityCounts = function(b) {
            return O["for"](this.modelCache).loadBoardsMenuData(b)
        };
        b.prototype.search = function() {
            var b, c, g, f, h, k, q, s, n;
            b = this.model;
            g = this.$(".js-search-boards").val().toLowerCase().trim();
            if (this.oldTerm !== g)
                if (this.oldTerm = g, "" === g) this.toggleSections("all");
                else {
                    this.toggleSections("search");
                    q = _.map(g.split(/\s+/), function(b) {
                        return RegExp("" + l.escapeForRegex(b), "i")
                    });
                    g = _.union(b.boardList.models, b.boardStarList.getBoards());
                    k = _.filter(g, function(b) {
                        return _.every(q, function(c) {
                            return c.test(b.get("name"))
                        })
                    });
                    g = function() {
                        var b, d, f;
                        f = [];
                        b = 0;
                        for (d = k.length; b <
                            d; b++) c = k[b], c.get("closed") || f.push(c);
                        return f
                    }();
                    h = this.Member.get(y.myId()).boardStarList.getBoardIds();
                    f = ba.getRecentBoards();
                    g = g.sort(function(b, c) {
                        var d, e, g, k, m, l, q, s;
                        return (d = b.id, 0 <= F.call(h, d)) && (e = c.id, 0 > F.call(h, e)) ? -1 : (g = c.id, 0 <= F.call(h, g)) && (k = b.id, 0 > F.call(h, k)) ? 1 : (m = b.id, 0 <= F.call(f, m)) && (l = c.id, 0 > F.call(f, l)) ? -1 : (q = c.id, 0 <= F.call(f, q)) && (s = b.id, 0 > F.call(f, s)) ? 1 : b.get("name") < c.get("name") ? -1 : b.get("name") > c.get("name") ? 1 : 0
                    });
                    g = g.slice(0, 7);
                    b = this.$(".js-board-results").empty();
                    if (0 <
                        g.length) {
                        s = 0;
                        for (n = g.length; s < n; s++) c = g[s], this.appendSubview(this.subview(qe, c, {
                            showOrgName: !0
                        }, "board-search-" + c.id), b);
                        l.selectMenuItem($(".sidebar-boards-list"), "li", $(".sidebar-boards-list li:first"))
                    } else b.append('<p class="empty">No Boards Found</p>');
                    return this
                }
        };
        b.prototype.toggleSections = function(b) {
            "all" === b ? (this.$(".js-boards-list-container").removeClass("hide"), this.$(".js-board-results-container").addClass("hide")) : "search" === b && (this.$(".js-boards-list-container").addClass("hide"),
                this.$(".js-board-results-container").removeClass("hide"))
        };
        b.prototype.renderBoardsSections = function() {
            this.renderStarredBoardsSection();
            this.renderRecentBoardsSection();
            this.renderAllBoardsSection();
            return this
        };
        b.prototype.renderAllBoardsSection = function() {
            var b, c, g, f, h, k, l, s;
            if (!this.ready) return this;
            f = this.model;
            g = function() {
                var b, d, g, h;
                g = f.boardList.models;
                h = [];
                b = 0;
                for (d = g.length; b < d; b++) c = g[b], c.get("closed") || h.push(c);
                return h
            }();
            b = this.$(".js-all-boards").empty();
            if (0 === g.length) b.append('<p class="empty">No Boards</p>'),
                h = function(b) {
                    return function() {
                        b.stopListening(y.me().boardList, "add reset", h);
                        return b.renderAllBoardsSection()
                    }
                }(this), this.listenTo(y.me().boardList, "add reset", h);
            else {
                this.appendSubview(this.subview(gi, y.me(), {}, "my-boards"), b);
                s = this.model.organizationList.models;
                k = 0;
                for (l = s.length; k < l; k++) g = s[k], this.appendSubview(this.subview(hi, y.me(), {
                    org: g
                }, "group-" + g.id), b)
            }
            return this
        };
        b.prototype.hoverItem = function(b) {
            b = $(b.target).closest("li");
            l.selectMenuItem($(".sidebar-boards-list"), "li", b)
        };
        b.prototype.deselectBoards =
            function(b) {
                $(".sidebar-boards-list li").removeClass("selected")
            };
        b.prototype.keyEvent = function(b) {
            var c, g, f;
            if (!(16 === (c = b.keyCode) || (17 === c || 18 === c || 37 === c || 39 === c) || (b.shiftKey || b.altKey || b.ctrlKey) && (38 === (g = b.keyCode) || 40 === g)))
                if (38 === (f = b.keyCode) || 40 === f) l.navMenuList($(".sidebar-boards-list"), "li:visible", b.keyCode);
                else if (13 === b.keyCode) b = $(".sidebar-boards-list li.selected:visible:first a"), 0 < b.length && (b.click(), x.hide(), this.focusInput());
            else return this.search()
        };
        return b
    }(A);
    ec = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.events = {
            "click .js-collapse-section": "collapseSection",
            "click .js-expand-section": "expandSection"
        };
        b.prototype.initialize = function() {
            this.debouncedRenderBoards = this.debounce(this.renderBoards, 10);
            this.debouncedPostRenderBoardsEvent = this.debounce(this.postRenderBoardsEvent, 150);
            this.sectionId = this.sectionId();
            this.initedSortable = !1;
            this.listenTo(ba, "change:collapsedDrawerSections", function() {
                return this.renderCollapsed()
            });
            return this.listenTo(this.model.boardList, "add remove reset change:closed",
                this.debouncedRenderBoards)
        };
        b.prototype.render = function() {
            var b;
            b = this.getHeaderInfo();
            b.sectionId = this.sectionId;
            this.$el.html(v.fill("boards_sidebar_section", b));
            this.renderBoards();
            this.renderCollapsed();
            return this
        };
        b.prototype.getBoards = function() {
            return []
        };
        b.prototype.getHeaderInfo = function() {
            return "Boards"
        };
        b.prototype.sectionId = function() {
            return null
        };
        b.prototype.showOrgName = function() {
            return !1
        };
        b.prototype.postRenderBoardsEvent = function() {};
        b.prototype.collapseSection = function(b) {
            return ba.collapseSection(this.sectionId)
        };
        b.prototype.expandSection = function(b) {
            return ba.expandSection(this.sectionId)
        };
        b.prototype.renderCollapsed = function() {
            var b;
            b = ba.isCollapsed(this.sectionId);
            this.$(".js-collapse-section").toggleClass("hide", b);
            this.$(".js-expand-section").toggleClass("hide", !b);
            this.$(".js-board-list").toggleClass("hide", b);
            this.$(".js-sidebar-section-header").toggleClass("bold", !b)
        };
        b.prototype.renderBoards = function() {
            var b, c, g, f, h, k;
            b = this.$(".js-board-list").empty();
            f = _.filter(this.getBoards(), function(b) {
                return !(null !=
                    b && b.get("closed"))
            });
            if (0 < f.length) {
                this.$el.removeClass("hide");
                g = [];
                h = 0;
                for (k = f.length; h < k; h++) c = f[h], g.push(this.subview(qe, c, {
                    showOrgName: this.showOrgName()
                }, "board-" + c.id));
                this.appendSubviews(g, b)
            } else this.$el.addClass("hide");
            this.debouncedPostRenderBoardsEvent();
            return this
        };
        return b
    }(A);
    ji = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            return this.listenTo(this.model.boardStarList,
                "add remove reset change:pos", function() {
                    return this.debouncedRenderBoards()
                })
        };
        b.prototype.getBoards = function() {
            return this.model.boardStarList.getBoards()
        };
        b.prototype.showOrgName = function() {
            return !0
        };
        b.prototype.sectionId = function() {
            return "starred-boards"
        };
        b.prototype.getHeaderInfo = function() {
            return {
                title: "Starred Boards",
                iconClass: "star"
            }
        };
        b.prototype.postRenderBoardsEvent = function() {
            var b;
            if (!ha.isTouch()) {
                b = this.$(".js-board-list");
                if (this.initedSortable) return K.refreshIfInitialized(b);
                this.initedSortable = !0;
                return b.sortable({
                    axis: "y",
                    containment: "#surface",
                    delay: "75",
                    distance: "7",
                    forcePlaceholderSize: !0,
                    items: "> li",
                    placeholder: "placeholder",
                    scroll: !0,
                    helper: "clone",
                    stop: function(b, c) {
                        _.defer(function(b) {
                            return function() {
                                return c.item.trigger("moveto", [c, b])
                            }
                        }(this))
                    },
                    tolerance: "pointer"
                })
            }
        };
        return b
    }(ec);
    ii = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.listenTo(ba, "change:idRecentBoards",
                function() {
                    return this.debouncedRenderBoards()
                });
            this.listenTo(this.model.boardStarList, "add remove reset", function() {
                return this.debouncedRenderBoards()
            });
            return this._idBoardsFetching = []
        };
        b.prototype.sectionId = function() {
            return "recent-boards"
        };
        b.prototype.showOrgName = function() {
            return !0
        };
        b.prototype.getBoards = function() {
            var b, c, g, f, h, k, l, s, n;
            f = _.difference(ba.getRecentBoards(), this.model.boardStarList.getBoardIds()).slice(0, 7);
            c = this.Board.get(f);
            h = [];
            g = k = 0;
            for (l = c.length; k < l; g = ++k) b = c[g], null ==
                b && (s = f[g], 0 > F.call(this._idBoardsFetching, s)) && h.push(f[g]);
            (n = this._idBoardsFetching).push.apply(n, h);
            0 < h.length && async.forEach(h, function(b) {
                return function(c, d) {
                    return O["for"](b.modelCache).loadBoardData(c, De, function(b) {
                        null != b && ba.pullBoard(c);
                        return d()
                    })
                }
            }(this), function(b) {
                return function() {
                    b._idBoardsFetching = _.difference(b._idBoardsFetching, h);
                    return b.debouncedRenderBoards()
                }
            }(this));
            return _.compact(c)
        };
        b.prototype.getHeaderInfo = function() {
            return {
                title: "Recent Boards",
                iconClass: "clock"
            }
        };
        return b
    }(ec);
    gi = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            return this.listenTo(this.model.boardList, "add remove reset change:idOrganization", this.debouncedRenderBoards)
        };
        b.prototype.getBoards = function() {
            var b, c, g, f, h, k;
            c = function(b) {
                return function(c) {
                    var d;
                    c = null != (d = c.getOrganization()) ? d.id : void 0;
                    return null != c && 0 <= F.call(b.model.get("idOrganizations"), c)
                }
            }(this);
            h = this.model.boardList.models;
            k = [];
            g = 0;
            for (f = h.length; g < f; g++) b = h[g], !c(b) && !b.get("closed") && k.push(b);
            return k
        };
        b.prototype.sectionId = function() {
            return "my-boards"
        };
        b.prototype.getHeaderInfo = function() {
            return {
                title: "My Boards",
                iconClass: "board"
            }
        };
        return b
    }(ec);
    hi = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.listenTo(this.model.boardList, "add remove reset change:idOrganization", this.debouncedRenderBoards);
            return this.listenTo(this.getOrg(), "change:name change:displayName change:logoHash", this.render)
        };
        b.prototype.getOrg = function() {
            return this.options.org
        };
        b.prototype.sectionId = function() {
            return "org-" + this.getOrg().get("id")
        };
        b.prototype.getBoards = function() {
            var b, c, g, f, h, k;
            f = this.model.boardList.models;
            k = [];
            c = 0;
            for (g = f.length; c < g; c++) b = f[c], (null != (h = b.getOrganization()) ? h.id : void 0) === this.getOrg().id && !b.get("closed") && k.push(b);
            return k
        };
        b.prototype.getHeaderInfo = function() {
            var b, c;
            b = {};
            c = this.getOrg();
            if (null != c && (b = c.toJSON(), b.isOrg = !0, b.url = B.getOrganizationUrl(c.get("name")), c = c.get("logoHash"))) b.orgLogoUrl = "" + logoDomain + "/" + c + "/30.png";
            return b
        };
        b.prototype.postRenderBoardsEvent = function() {
            this.renderBCStatus()
        };
        b.prototype.renderBCStatus = function() {
            this.$(".js-has-business-class").toggleClass("hide", !this.getOrg().isPremium())
        };
        return b
    }(ec);
    qe = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.trackBoardClick = function() {
            return t("Header", "Boards Menu",
                "Opened Board")
        };
        return b
    }(dc);
    var li, hg, Lg, fc, Pc, Qc, gc, mi, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    hg = function(c) {
        function b(c, e) {
            this.board = c;
            b.__super__.constructor.call(this, null, e);
            this.board.onId(function(b) {
                return function(c) {
                    b.set({
                        id: "boardCardComposerSettings-" +
                            c
                    });
                    return b.fetch()
                }
            }(this))
        }
        n(b, c);
        b.prototype.typeName = "CardComposer";
        b.prototype["default"] = function() {
            return {
                idList: null,
                index: null,
                idMembers: [],
                labels: [],
                pos: "bottom",
                title: null,
                vis: !1
            }
        };
        b.prototype.clear = function() {
            return this.save(this["default"]())
        };
        b.prototype.clearItems = function() {
            this.save({
                idMembers: [],
                labels: [],
                title: ""
            })
        };
        b.prototype.moveToNext = function() {
            var b;
            this.save({
                idList: this.get("idList"),
                index: (null != (b = this.get("index")) ? b : 0) + 1,
                idMembers: [],
                labels: [],
                pos: "bottom",
                title: "",
                vis: !0
            })
        };
        b.prototype.getBoard = function() {
            return this.board
        };
        b.prototype.getList = function() {
            return this.getBoard().listList.get(this.get("idList"))
        };
        b.prototype.getLabels = function() {
            var b, c, g, f, h, k;
            b = this.get("labels");
            h = l.labelNames;
            k = [];
            g = 0;
            for (f = h.length; g < f; g++) c = h[g], k.push({
                color: c,
                name: this.getBoard().getLabelName(c),
                isActive: _.include(b, c)
            });
            return k
        };
        b.prototype.editable = function() {
            return this.getBoard().editable()
        };
        b.prototype.addMember = function(b) {
            return this.addToSet("idMembers", b)
        };
        b.prototype.removeMember =
            function(b) {
                return this.pull("idMembers", b)
            };
        b.prototype.toggleLabel = function(b) {
            return this.toggle("labels", b)
        };
        b.prototype.toJSON = function(c) {
            var e, g, f;
            g = null != c ? c : {};
            e = g.board;
            f = g.list;
            g = b.__super__.toJSON.apply(this, arguments);
            e && (g.board = this.getBoard().toJSON());
            f && (g.list = this.getList().toJSON());
            return g
        };
        return b
    }(ub);
    Lg = function(c) {
        function b() {
            this.scrollIntoView = k(this.scrollIntoView, this);
            this.clearAndHide = k(this.clearAndHide, this);
            this.hide = k(this.hide, this);
            this.clearItems = k(this.clearItems,
                this);
            this.openMenu = k(this.openMenu, this);
            this.clearSelectedItems = k(this.clearSelectedItems, this);
            this.renderSelectedItems = k(this.renderSelectedItems, this);
            this.keyupEvent = k(this.keyupEvent, this);
            this.pasteEvent = k(this.pasteEvent, this);
            this.createMultipleCards = k(this.createMultipleCards, this);
            this.createCard = k(this.createCard, this);
            this.submitCard = k(this.submitCard, this);
            this.renderVisibility = k(this.renderVisibility, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "card-composer";
        b.prototype.initialize = function() {
            this.listenTo(this.model, "change:labels change:idMembers", this.renderSelectedItems);
            return this.listenTo(this.model, "change:vis", this.renderVisibility)
        };
        b.prototype.events = {
            "click .js-add-card": "submitCard",
            "click .js-cancel": "clearAndHide",
            "click .js-cc-menu": "openMenu",
            keyup: "keyupEvent",
            paste: "pasteEvent",
            keydown: "keydownEvent"
        };
        b.prototype.render = function(b, c) {
            var g;
            g = this.model.toJSON({
                board: !0
            });
            this.renderVisibility();
            this.$el.html(v.fill("card_composer_inline", g));
            this.renderSelectedItems();
            _.defer(function(b) {
                return function() {
                    l.setCaretAtEnd(b.$(".js-card-title")[0]);
                    return "function" === typeof c ? c() : void 0
                }
            }(this));
            return this
        };
        b.prototype.renderVisibility = function() {
            this.$el.toggleClass("hide", !this.model.get("vis"));
            return this
        };
        b.prototype.submitCard = function(b) {
            var c, g, f, h;
            b && l.preventDefault(b);
            x.hide();
            h = jQuery.trim(this.$(".js-card-title").val());
            "" === h ? this.$el.find(".js-card-title").focus().select() :
                (f = !0 === b.shiftKey, c = _.compact(h.split(/\r\n|\r|\n/)), g = c.length, 1 === g ? this.createCard(h, f) : 100 >= g ? pa.toggle({
                        elem: $(b.target),
                        top: 36,
                        title: "Create",
                        text: "If you want, we can create a card for every new line. That would be " + g + " cards. You can also create one card with a long title.",
                        confirmText: "Create " + g + " Cards",
                        cancelText: "Just One Card",
                        fxConfirm: function(b) {
                            return function(d) {
                                return b.createMultipleCards(c, f)
                            }
                        }(this),
                        fxCancel: function(b) {
                            return function(c) {
                                return b.createCard(h, f, !1, !0)
                            }
                        }(this)
                    }) :
                    pa.toggle({
                        elem: $(b.target),
                        top: 36,
                        title: "Too Many Cards",
                        text: "That\u2019s going to create a card for every new line. That\u2019s " + g + " cards. You can\u2019t add over 100 cards to a board at once.",
                        confirmText: "Okay\u2026",
                        fxConfirm: function(b) {
                            return function(b) {
                                return x.hide()
                            }
                        }(this)
                    }))
        };
        b.prototype.createCard = function(b, c, g, f) {
            var h, k;
            b = b.trim();
            f && (b = b.replace(/(\r\n|\n|\r)/gm, " "));
            k = _.clone(this.model.get("idMembers"));
            h = _.clone(this.model.get("labels"));
            "" !== b && (b = {
                    name: b,
                    pos: this.model.getList().calcPos(this.model.get("index")),
                    closed: !1,
                    labels: h,
                    idMembers: k,
                    dateLastActivity: Date.now()
                }, this.model.moveToNext(), f = this.model.getList().cardList.create(b, {
                    success: function(b) {
                        return function(b) {
                            0 < h.length && 0 < k.length ? t("Card Composer", "Card Added", "With Members and Labels") : 0 < k.length ? t("Card Composer", "Card Added", "With Members") : 0 < h.length ? t("Card Composer", "Card Added", "With Labels") : t("Card Composer", "Card Added", "No items included")
                        }
                    }(this),
                    modelCache: this.modelCache
                }), b = this.model.getBoard(), b.filter.addNewCard(f), g && b.viewState.selectCard(f),
                c && B.showCardDetail(f))
        };
        b.prototype.createMultipleCards = function(b, c) {
            var g, f, h, k, l;
            f = b.length;
            g = k = 0;
            for (l = b.length; k < l; g = ++k) h = b[g], b.length - 1 === g ? this.createCard(h, c, !0) : this.createCard(h);
            t("Card Composer", "Added Mulitple Cards", f)
        };
        b.prototype.pasteEvent = function() {
            this.$(".js-card-title").focus().keyup()
        };
        b.prototype.keydownEvent = function(b) {
            var c, g, f, h, k;
            c = this.$(".js-card-title");
            h = $(b.target).closest(".js-card-title").hasClass("js-card-title");
            f = $(b.target).closest(".js-add-card").hasClass("js-add-card");
            if ((h || f) && !x.isVisible && 13 === b.keyCode) l.stop(b), this.submitCard(b);
            else if (9 === (k = b.keyCode) || 13 === k) {
                c.focus();
                h = l.getWordFromCaret(c[0]);
                f = $(null != (g = x.view) ? g.el : void 0);
                g = !1;
                if (x.view instanceof Qc) f.find(".js-members-list .item.selected:first .js-select-member").first().click(), g = !0;
                else if (x.view instanceof Pc) f.find(".edit-labels-pop-over .card-label.selected").first().click(), g = !0;
                else if (x.view instanceof gc) 0 < f.find(".js-pos-results").length && (f.find(".js-pos-results li.selected:first a").first().click(),
                    g = !0);
                else {
                    if (x.view instanceof fc) {
                        l.stop(b);
                        f.find(".js-card-results .list-card").first().click();
                        this.model.set("title", "");
                        return
                    }
                    9 === b.keyCode && "" === c.val() && (l.stop(b), this.hide(), b.shiftKey ? $(this.el).closest(".list").find(".editable:first .current").click() : $(this.el).closest(".list").next().find(".editable:first .current").click())
                }
                g && (l.stop(b), l.insertSelection(c, "", h.start, h.end), this.model.set("title", c.val()));
                this.renderSelectedItems();
                x.hide()
            }
        };
        b.prototype.keyupEvent = function(b) {
            var c,
                g, f, h, k, q, s;
            c = this.$(".js-card-title");
            if (!(9 === (f = b.keyCode) || 13 === f))
                if (27 === b.keyCode && c.focus(), h = b.keyCode, 0 <= F.call(lc, h)) l.stop(b), c = $(null != (s = x.view) ? s.el : void 0), x.view instanceof Qc ? l.navMenuList(c.find(".js-members-list"), ".item", b.keyCode) : x.view instanceof Pc ? l.navMenuList(c.find(".edit-labels-pop-over"), ".card-label", b.keyCode) : x.view instanceof gc ? 0 < c.find(".js-pos-results").length && l.navMenuList(c.find(".js-pos-results"), "li", b.keyCode) : x.view instanceof fc && l.navMenuList(c.find(".js-card-results"),
                    ".list-card", b.keyCode);
                else if (!ha.isTouch() && $(b.target).closest(".js-card-title").hasClass("js-card-title"))
                if (s = l.getWordFromCaret(c[0]), k = /^@\S/.test(s.str.substring(0, 2)), h = /^\#\S/.test(s.str.substring(0, 2)), q = /^\^\S/.test(s.str.substring(0, 2)), f = /^\%\S/.test(s.str.substring(0, 2)), s = s.str.substring(1).toLowerCase(), k || h || q || f) {
                    if (!(16 === (g = b.keyCode) || 18 === g || 17 === g)) {
                        if (k) return b = new Qc({
                            model: this.model,
                            modelCache: this.modelCache
                        }), g = _.pluck(this.model.getBoard().memberList.filterDeactivated({
                                force: !0
                            }).models,
                            "id"), g = l.filterMembers(this.modelCache, s, g), 0 < g.length ? (x.load(b), b.render(g, !0), x.show({
                            elem: this.$(".js-cc-menu"),
                            top: 30,
                            view: b,
                            preloaded: !0
                        }), c.focus(), c = $(b.el).find(".js-members-list .item:first"), l.selectMenuItem($(b.el).find(".js-members-list"), ".item", c)) : x.hide();
                        if (h) return b = this.model.getView(Pc), g = this.model.getBoard().filterLabels(s), 0 < g.length ? (x.load(b), b.render(g), x.show({
                                elem: this.$(".js-cc-menu"),
                                top: 30,
                                view: b,
                                preloaded: !0
                            }), c.focus(), c = $(b.el).find(".edit-labels-pop-over .card-label:first"),
                            l.selectMenuItem($(b.el).find(".edit-labels-pop-over"), "li", c)) : x.hide();
                        if (q) return b = this.model.getView(gc), g = b.filterPos(s), g.hasData ? (x.load(b), b.renderPositionResults(g), x.show({
                            elem: this.$(".js-cc-menu"),
                            top: 30,
                            view: b,
                            preloaded: !0
                        }), c.focus(), c = $(b.el).find(".js-pos-results li:first"), l.selectMenuItem($(b.el).find(".js-pos-results"), "li", c)) : x.hide();
                        if (f) return b = this.model.getView(fc, "fromComposer", {
                                fromComposer: !0
                            }), x.load(b), b.render(), b.renderResults(s), 0 < $(".pop-over .js-card-results .list-card").length ?
                            (x.show({
                                elem: this.$(".js-cc-menu"),
                                top: 30,
                                view: b,
                                preloaded: !0
                            }), c.focus()) : x.hide()
                    }
                } else return this.model.set("title", this.$(".js-card-title").val()), x.hide()
        };
        b.prototype.renderSelectedItems = function() {
            var b, c, g, f, h, k, q, s;
            c = this.model.get("idMembers");
            f = !_.isEmpty(c);
            b = this.$(".js-list-card-composer-members").empty();
            k = this.Member.get(c);
            g = 0;
            for (h = k.length; g < h; g++) c = k[g], b.append("<div class='member js-remove-member' idMember='" + c + "'>" + v.fill("member", c.toJSON()) + "</div>");
            h = this.model.get("labels");
            g = !_.isEmpty(h);
            b = this.$(".js-list-card-composer-labels").empty();
            s = l.labelNames;
            k = 0;
            for (q = s.length; k < q; k++) c = s[k], 0 <= F.call(h, c) && b.append("<div class='card-label card-label-" + c + "' name='" + c + "'></div>");
            this.$(".js-clear-all-items").toggle(g || f)
        };
        b.prototype.clearSelectedItems = function(b) {
            this.$(".js-card-title").val("").focus().select();
            this.renderSelectedItems()
        };
        b.prototype.openMenu = function(b) {
            l.stop(b);
            t("Card Composer", "Open Selector Menu");
            return x.toggle({
                elem: b.target,
                top: 36,
                view: this.model.getView(mi)
            })
        };
        b.prototype.clearItems = function(b) {
            return this.model.clearItems()
        };
        b.prototype.hide = function(b) {
            this.model.save("vis", !1)
        };
        b.prototype.clearAndHide = function(b) {
            this.clearItems();
            return this.hide()
        };
        b.prototype.scrollIntoView = function() {
            var b;
            b = this.$el.offset().top;
            return this.$el.closest(".list-cards").scrollTop(b + this.$el.height())
        };
        return b
    }(A);
    mi = function(c) {
        function b() {
            this.openCopyFrom = k(this.openCopyFrom, this);
            this.openPosSelector = k(this.openPosSelector, this);
            this.openLabelSelector = k(this.openLabelSelector,
                this);
            this.openMemSelector = k(this.openMemSelector, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Options"
        };
        b.prototype.events = {
            "click .js-mem-selector": "openMemSelector",
            "click .js-label-selector": "openLabelSelector",
            "click .js-pos-selector": "openPosSelector",
            "click .js-copy-from": "openCopyFrom"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("popover_selector_menu"));
            return this
        };
        b.prototype.openMemSelector =
            function(b) {
                l.stop(b);
                return x.pushView({
                    view: ac,
                    options: {
                        model: this.model,
                        modelCache: this.modelCache
                    }
                })
            };
        b.prototype.openLabelSelector = function(b) {
            l.stop(b);
            return x.pushView({
                view: $b,
                options: {
                    model: this.model,
                    modelCache: this.modelCache,
                    hideEditTitles: !0
                }
            })
        };
        b.prototype.openPosSelector = function(b) {
            l.stop(b);
            return x.pushView({
                view: gc,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            })
        };
        b.prototype.openCopyFrom = function(b) {
            l.stop(b);
            return x.pushView({
                view: fc,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            })
        };
        return b
    }(A);
    Qc = function(c) {
        function b() {
            this.addOrRemoveMember = k(this.addOrRemoveMember, this);
            this.keyupEvent = k(this.keyupEvent, this);
            this.hoverMemberSelect = k(this.hoverMemberSelect, this);
            this.filterAndFillMembers = k(this.filterAndFillMembers, this);
            this.fillMems = k(this.fillMems, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Select Members"
        };
        b.prototype.events = {
            "mouseenter .item": "hoverMemberSelect",
            "click .item": "addOrRemoveMember",
            keyup: "keyupEvent"
        };
        b.prototype.render = function(b, c) {
            var g;
            b || (b = _.pluck(this.model.getBoard().memberList.filterDeactivated({
                force: !0
            }).models, "id"));
            g = {
                showSearch: !0
            };
            if (5 >= b.length || c) g.showSearch = !1;
            this.$el.html(v.fill("popover_member_searcher", g));
            this.fillMems(b);
            0 < this.$(".js-filter-emoji").length && _.delay(function(b) {
                return function() {
                    return b.$(".js-filter-emoji").focus().select()
                }
            }(this), 20);
            0 < this.$(".js-filter-members").length && _.delay(function(b) {
                    return function() {
                        return b.$(".js-filter-members").focus().select()
                    }
                }(this),
                20);
            return this
        };
        b.prototype.fillMems = function(b) {
            var c, g, f, h;
            c = this.$(".js-members-list");
            c.empty();
            h = b.slice(0, 5);
            b = 0;
            for (f = h.length; b < f; b++) g = h[b], g = this.Member.get(g), this.appendSubview(this.subview(Vd, g, {
                card: this.model
            }), c)
        };
        b.prototype.filterAndFillMembers = function(b) {
            var c;
            c = _.pluck(this.model.getBoard().memberList.models, "id");
            b = l.filterMembers(this.modelCache, b, c);
            0 < b.length ? (this.fillMems(b), b = this.$(".js-members-list .item:first"), l.selectMenuItem(this.$(".js-members-list"), ".item", b)) :
                this.$(".js-members-list").html("<li><p class='empty'>No matched members</p></li>")
        };
        b.prototype.hoverMemberSelect = function(b) {
            b = $(b.target).closest(".item");
            return l.selectMenuItem(this.$(".js-members-list"), ".item", b)
        };
        b.prototype.keyupEvent = function(b) {
            var c, g, f;
            c = $(".js-filter-members").val().trim().toLowerCase();
            9 === (g = b.keyCode) || 13 === g ? (l.stop(b), this.$(".js-members-list .item.selected:first .js-select-member").first().click()) : 38 === (f = b.keyCode) || 40 === f ? (l.stop(b), l.navMenuList(this.$(".js-members-list"),
                ".item", b.keyCode)) : this.filterAndFillMembers(c)
        };
        b.prototype.addOrRemoveMember = function(b) {
            l.stop(b);
            b = $(b.target).closest(".item");
            b.toggleClass("active");
            b.find(".username").text();
            b = b.find("[idMember]").attr("idMember");
            this.model.toggle("idMembers", b) ? t("Card Composer", "Add Member") : t("Card Composer", "Remove Member")
        };
        return b
    }(A);
    Pc = function(c) {
        function b() {
            this.addOrRemoveLabel = k(this.addOrRemoveLabel, this);
            this.hoverLabelSelect = k(this.hoverLabelSelect, this);
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Select Labels"
        };
        b.prototype.events = {
            "mouseenter .item": "hoverLabelSelect",
            "click .card-label": "addOrRemoveLabel"
        };
        b.prototype.render = function(b) {
            var c, g, f, h, k, q;
            h = [];
            b || (b = l.labelNames);
            g = this.model.get("labels");
            k = 0;
            for (q = b.length; k < q; k++) c = b[k], f = _.include(g, c), h.push({
                color: c,
                name: this.model.getBoard().getLabelName(c),
                isActive: f
            });
            this.$el.html(v.fill("popover_change_labels", {
                labels: h,
                hideEditTitles: !0
            }));
            return this
        };
        b.prototype.hoverLabelSelect = function(b) {
            b = $(b.target).closest(".card-label");
            return l.selectMenuItem(this.$(".edit-labels-pop-over"), ".card-label", b)
        };
        b.prototype.addOrRemoveLabel = function(b) {
            l.stop(b);
            b = $(b.target).closest(".card-label");
            b.toggleClass("active");
            b = b.attr("label");
            this.model.toggle("labels", b) ? t("Card Composer", "Add Label") : t("Card Composer", "Remove Label")
        };
        return b
    }(A);
    gc = function(c) {
        function b() {
            this.changePosition = k(this.changePosition, this);
            this.changeList = k(this.changeList,
                this);
            this.updatePositionList = k(this.updatePositionList, this);
            this.updateListList = k(this.updateListList, this);
            this.renderPositionResults = k(this.renderPositionResults, this);
            this.filterPos = k(this.filterPos, this);
            this.selectPosResult = k(this.selectPosResult, this);
            this.hoverPosResultsSelect = k(this.hoverPosResultsSelect, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Select Position"
        };
        b.prototype.events = {
            "change .js-select-list": "changeList",
            "change .js-select-position": "changePosition",
            "mouseenter .js-pos-results li": "hoverPosResultsSelect",
            "click .js-select-pos-keyword": "selectPosResult",
            "click .js-select-pos-pos": "selectPosResult",
            "click .js-select-pos-list": "selectPosResult"
        };
        b.prototype.render = function() {
            this.$el.html(v.fill("move_card_controls", {
                hideBoard: !0
            }));
            this.updateListList();
            return this
        };
        b.prototype.hoverPosResultsSelect = function(b) {
            b = $(b.target).closest("li");
            return l.selectMenuItem(this.$(".js-pos-results"), "li", b)
        };
        b.prototype.selectPosResult =
            function(b) {
                var c, g, f;
                l.stop(b);
                g = $(b.target).closest("a");
                f = g.attr("name");
                b = this.model.getList().cardList.openCards().length;
                c = b + 1;
                g.hasClass("js-select-pos-keyword") ? "top" === f ? (this.model.set("index", 0), t("Card Composer", "Select Position in List by Autocomplete", 'Top of List - Used "Top"')) : "bottom" === f && (this.model.set("index", c), t("Card Composer", "Select Position in List by Autocomplete", 'Bottom of List - Used "Bottom"')) : g.hasClass("js-select-pos-pos") ? (this.model.set("index", parseInt(f, 10) -
                    1), t("Card Composer", "Select Position in List by Autocomplete", "Selected Position - Used Number")) : g.hasClass("js-select-pos-list") && (c = b === this.model.get("pos"), this.model.set("idList", f), c ? (this.model.set("index", b), t("Card Composer", "Select List by Autocomplete", "Bottom")) : t("Card Composer", "Select List by Autocomplete", "Not Bottom"));
                x.hide()
            };
        b.prototype.filterPos = function(b) {
            var c, g, f, h, k, q, s, n, t, v;
            s = RegExp("^" + l.escapeForRegex(b));
            k = RegExp("^" + l.escapeForRegex(b) + "$");
            c = this.model.getList().cardList.openCards();
            b = {
                keywordList: function() {
                    var b, c, d, e;
                    d = ["top", "bottom"];
                    e = [];
                    b = 0;
                    for (c = d.length; b < c; b++) f = d[b], s.test(f) && e.push(f);
                    return e
                }(),
                indexList: function() {
                    var b, d, f;
                    f = [];
                    g = b = 1;
                    for (d = c.length + 1; 1 <= d ? b <= d : b >= d; g = 1 <= d ? ++b : --b) k.test(String(g)) && f.push(g);
                    return f
                }(),
                listList: []
            };
            v = this.model.getBoard().openLists();
            n = 0;
            for (t = v.length; n < t; n++) h = v[n], q = _.compact(h.get("name").toLowerCase().split(/\s+/)), _.find(q, function(b) {
                return s.test(b)
            }) && b.listList.push(h.toJSON());
            b.hasData = !_.isEmpty(b.keywordList) ||
                !_.isEmpty(b.indexList) || !_.isEmpty(b.listList);
            return b
        };
        b.prototype.renderPositionResults = function(b) {
            var c, g, f, h;
            c = this.model.getList();
            g = this.model.get("index") + 1;
            f = "of";
            1 !== g && g !== c.cardList.openCards().length + 1 && (l.getNaturalNumber(g), f = "in");
            c = this.model.toJSON({
                list: !0
            });
            _.extend(c, {
                indexPrep: f,
                keywordList: function() {
                    var c, e, f, g;
                    f = b.keywordList;
                    g = [];
                    c = 0;
                    for (e = f.length; c < e; c++) h = f[c], g.push({
                        value: h,
                        natural: l.capitalize(h)
                    });
                    return g
                }(),
                indexList: function() {
                    var c, e, f, h;
                    f = b.indexList;
                    h = [];
                    c =
                        0;
                    for (e = f.length; c < e; c++) g = f[c], h.push({
                        value: g,
                        natural: l.getNaturalNumber(g)
                    });
                    return h
                }(),
                listList: b.listList
            });
            this.$el.html(v.fill("popover_filter_pos_results", c))
        };
        b.prototype.updateListList = function() {
            var b, c, g, f, h, k, l, s;
            g = this.model.getList();
            f = g.id;
            g = this.model.getBoard();
            c = this.$(".js-select-list");
            c.empty();
            s = _.sortBy(g.openLists(), function(b) {
                return b.get("pos")
            });
            k = 0;
            for (l = s.length; k < l; k++) g = s[k], b = h = g.get("name"), g.id === f && (b += " (selected)"), b = $("<option value='" + g.id + "'>" + _.escape(b) +
                "</option>"), c.append(b), g.id === f && (b.attr("selected", "selected"), this.$(".js-list-value").text(h));
            return this.updatePositionList()
        };
        b.prototype.updatePositionList = function() {
            var b, c, g, f, h, k, q, s;
            c = this.$(".js-select-list");
            g = this.$(".js-select-position");
            c = c.find("option:selected").val();
            g.empty();
            h = this.model.getList();
            null != this.model.getBoard().listList.get(c) || this.model.getBoard().openLists.at(0);
            c = h.cardList.openCards();
            this.model.get("index") > c.length && this.model.set("index", c.length);
            if (0 ===
                c.length) $("<option>").val("0").text("1").appendTo(g), this.$(".js-pos-value").html(l.getNaturalNumber(1));
            else {
                f = q = 0;
                for (s = c.length; 0 <= s ? q <= s : q >= s; f = 0 <= s ? ++q : --q) b = k = String(f + 1), h = !1, 0 < c.length && (0 === f ? b += " (top)" : f === c.length && (b += " (bottom)")), f === this.model.get("index") && (h = !0), b = $("<option>").val(f).text(b).appendTo(g), h && (b.attr("selected", "selected"), this.$(".js-pos-value").html(l.getNaturalNumber(k)))
            }
        };
        b.prototype.changeList = function() {
            var b, c, g;
            c = this.model.get("pos");
            b = this.model.getList().cardList.openCards().length;
            g = b === c;
            c = this.$(".js-select-list").find("option:selected").val();
            this.model.set("idList", c);
            g ? (this.model.set("index", b), t("Card Composer", "Change Position by Click", "Change List - Bottom")) : t("Card Composer", "Change Position by Click", "Change List - Not Bottom");
            x.hide()
        };
        b.prototype.changePosition = function() {
            var b;
            b = this.$(".js-select-position");
            b = parseInt(b.find("option:selected").val(), 10);
            this.model.set("index", b);
            t("Card Composer", "Change Position by Click", "Change Position in List");
            x.hide()
        };
        return b
    }(A);
    fc = function(c) {
        function b() {
            this.chooseCard = k(this.chooseCard, this);
            this.selectCard = k(this.selectCard, this);
            this.renderResults = k(this.renderResults, this);
            this.keydownEvent = k(this.keydownEvent, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Search for Card to Copy..."
        };
        b.prototype.events = {
            "click .list-card": "chooseCard",
            "mouseenter .list-card": "selectCard"
        };
        b.prototype.render = function() {
            var b;
            b = {};
            b.showInput = !this.options.fromComposer;
            this.$el.html(v.fill("card_copy_from", b));
            this.options.fromComposer || _.delay(function(b) {
                return function() {
                    return b.$(".js-input").keydown(_.debounce(b.keydownEvent, 150))
                }
            }(this), 20);
            return this
        };
        b.prototype.keydownEvent = function(b) {
            var c;
            l.stop(b);
            13 === b.keyCode ? this.$(".list-card.selected").first().click() : 38 === (c = b.keyCode) || 40 === c ? l.navMenuList(this.$(".js-card-results"), ".list-card", b.keyCode) : "" === this.$(".js-input").val().trim() ? this.$(".js-card-results").empty() : this.renderResults()
        };
        b.prototype.renderResults =
            function(b) {
                var c, g, f, h, k, q, s, n, t, y, C, A, E, B;
                h = this.$(".js-card-results");
                t = /[\s\x21-\x22\x24-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/;
                g = /[\x21-\x22\x24-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/;
                if (b) y = RegExp("^(" + b + ")");
                else {
                    b = this.$(".js-input").val().trim().toLowerCase();
                    b = b.replace(g, "");
                    if ("" === b) return;
                    b = b.split(/\s+/);
                    y = RegExp("^(" + b.join("|") + ")")
                }
                h.empty();
                q = [];
                f = this.model.getBoard().openLists();
                C = 0;
                for (s = f.length; C < s; C++) {
                    g = f[C];
                    E = g.cardList.openCards();
                    n = 0;
                    for (A = E.length; n < A; n++) k = E[n], g = {
                            card: k
                        }, g.nameList =
                        _.compact(k.get("name").toLowerCase().split(t)), _.find(g.nameList, function(b) {
                            return y.test(b)
                        }) && q.push(g)
                }
                q = _.sortBy(q, function(c) {
                    return -_.intersection(c.nameList, b).length
                });
                if (_.isEmpty(q)) h.append("<p class='empty'>No results</p>");
                else {
                    C = q.slice(0, 8);
                    t = 0;
                    for (q = C.length; t < q; t++) {
                        g = C[t];
                        s = g.card;
                        g = s.toJSON();
                        g.url = "#";
                        g.labels = s.getActiveLabels();
                        f = v.fill("card_in_list", g, {}, {
                            label: v.label
                        });
                        g = $("<div class='list-card clearfix' cardId='" + g.id + "'>" + f + "</div>");
                        n = s.memberList.models;
                        f = g.find(".list-card-members");
                        A = 0;
                        for (E = n.length; A < E; A++) k = n[A], f.append("<div class='member'> " + v.fill("member", k.toJSON()) + " </div>");
                        c = g.find(".badges");
                        null != (B = s.badgeList) && B.forEach(function(b) {
                            b.get("isArchived") || (b = b.getView(BadgeView, "cardcopy"), c.append(b.render().el))
                        });
                        h.append(g)
                    }
                    l.selectMenuItem(h, ".list-card", h.find(".list-card").first());
                    x.calcPos()
                }
            };
        b.prototype.selectCard = function(b) {
            var c;
            c = this.$(".js-card-results");
            l.selectMenuItem(c, ".list-card", $(b.target).closest(".list-card"))
        };
        b.prototype.chooseCard =
            function(b) {
                t("Card Composer", "Select Card to Copy");
                b = $(b.target).closest(".list-card").attr("cardId");
                x.pushView({
                    view: Zb,
                    options: {
                        model: this.Card.get(b),
                        modelCache: this.modelCache
                    }
                })
            };
        return b
    }(A);
    li = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "calendar-card-composer";
        b.prototype.initialize = function() {
            return this.board = this.model.getBoard()
        };
        b.prototype.events = {
            "change .js-select-list": "updatePositionList",
            "change .js-select-position": "renderValues",
            "click .js-add-card": "addCard",
            keydown: "keydownEvent"
        };
        b.prototype.getViewTitle = function() {
            return "Add Card"
        };
        b.prototype.setDate = function(b) {
            this.date = b;
            return this.date.setHours(12)
        };
        b.prototype.remove = function() {
            var c;
            c = {
                title: this.$(".js-card-title").val(),
                idList: this.$(".js-select-list").val(),
                pos: this.$(".js-select-position").val()
            };
            this.model.set(c).save();
            return b.__super__.remove.apply(this, arguments)
        };
        b.prototype.render = function() {
            var b;
            b = {
                title: this.model.get("title")
            };
            this.$el.html(v.fill("popover_card_from_calendar",
                b));
            this.updateListList();
            this.updatePositionList();
            _.defer(function(b) {
                return function() {
                    return l.setCaretAtEnd(b.$(".js-card-title")[0])
                }
            }(this));
            return this
        };
        b.prototype.keydownEvent = function(b) {
            13 === b.keyCode && this.addCard(b)
        };
        b.prototype.addCard = function(b) {
            var c, g;
            l.stop(b);
            if (c = $.trim(this.$(".js-card-title").val())) return x.hide(), this.model.moveToNext(), b = this.selectedList(), g = parseInt(this.$(".js-select-position").val()), c = {
                closed: !1,
                dateLastActivity: new Date,
                due: this.date.toString(),
                idList: b.id,
                pos: b.calcPos(g),
                name: c
            }, b.cardList.create(c)
        };
        b.prototype.updateListList = function() {
            var b, c;
            b = this.$(".js-select-list");
            b.empty();
            c = this.board.openLists();
            _.each(c, function(c) {
                return $("<option>").val(c.id).text(c.get("name")).appendTo(b)
            });
            b.val(this.model.get("idList"));
            b.val() || b.find("option").first().prop("selected", !0);
            return this.renderValues()
        };
        b.prototype.updatePositionList = function() {
            var b, c, g, f, h;
            b = this.$(".js-select-position");
            g = this.selectedList();
            b.empty();
            f = g.cardList.length;
            c = function() {
                h = [];
                for (var b = 0; 0 <= f ? b <= f : b >= f; 0 <= f ? b++ : b--) h.push(b);
                return h
            }.apply(this);
            _.each(c, function(f) {
                var g;
                g = function() {
                    switch (f) {
                        case 0:
                            return " (Top)";
                        case c.length - 1:
                            return " (Bottom)";
                        default:
                            return ""
                    }
                }();
                return $("<option>").val(f).text(f + 1 + g).appendTo(b)
            });
            b.val(this.model.get("pos"));
            b.val() || b.find("option").last().prop("selected", !0);
            return this.renderValues()
        };
        b.prototype.selectedList = function() {
            var b;
            b = this.$(".js-select-list").val();
            return _.findWhere(this.board.listList.models, {
                id: b
            })
        };
        b.prototype.renderValues =
            function() {
                var b;
                this.$el.find(".js-list-value").text(this.selectedList().get("name"));
                b = parseInt(this.$(".js-select-position").val());
                return this.$el.find(".js-pos-value").text(b + 1)
            };
        return b
    }(A);
    var bc, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b <
                d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    bc = function(c) {
        function b() {
            this.updateDate = k(this.updateDate, this);
            this.dateKeyDown = k(this.dateKeyDown, this);
            this.removeDueDate = k(this.removeDueDate, this);
            this.submitDueDate = k(this.submitDueDate, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.getViewTitle = function() {
            return "Change Due Date"
        };
        b.prototype.tagName = "form";
        b.prototype.className = "dpicker-widget clearfix";
        b.prototype.initialize = function() {
            var b;
            b = this.model.getBoard();
            this.listenTo(b, {
                "change:powerUps": this.renderCalendar
            })
        };
        b.prototype.events = {
            "click .js-save-edit": "submitDueDate",
            "click .js-remove-date": "removeDueDate",
            "keydown .js-dpicker-date-input": "dateKeyDown",
            "blur .js-dpicker-date-input": "updateDate",
            "click .js-enable-calendar-powerup": "enableCal"
        };
        b.prototype._closeDialog = function(b) {
            l.stop(b);
            return x.hide()
        };
        b.prototype._getDate = function() {
            var b, c;
            if (this.$(".js-dpicker-date-input").is(".input-error")) return null;
            b = this.$(".js-dpicker-date-input").val();
            c = this._cleanTime(this.$(".js-dpicker-time-input").val());
            return M.parse("" + b + " " + c)
        };
        b.prototype.submitDueDate = function(c) {
            var e;
            l.stop(c);
            e = this._getDate();
            if (M.validDate(e)) return this._closeDialog(c), c = e.getTime(), b.lastDueDate = c, this.model.update("due", c)
        };
        b.prototype.removeDueDate = function(b) {
            this._closeDialog(b);
            return this.model.update("due", null)
        };
        b.prototype.dateKeyDown = function(b) {
            if (l.isSubmitKey(b)) return this.updateDate(b)
        };
        b.prototype.updateDate = function(b) {
            var c, g, f;
            c = this.$(".js-dpicker-date-input");
            b = this.$(".js-dpicker-cal");
            f = c.val().replace(/\s/g, "").replace(/[\-.]/g, "/");
            g = Date.parse(M.convertDateFormat(f));
            f = _.select(f.split("/"), function(b) {
                return 0 < b
            });
            if (!g || 2 > _.select(f, function(b) {
                return 3 > b.length && 31 >= b
            }).length) c.addClass("input-error");
            else if (c.removeClass("input-error"), 3 > f.length && g < Date.today() && g.setFullYear(g.getFullYear() + 1), this._lastCalDate.toDateString() !== g.toDateString()) return this._lastCalDate = g, b.datepicker("setDate", M.toShortString(g))
        };
        b.prototype.renderCalendar =
            function() {
                var b, c, g, f;
                g = this.model.getBoard();
                c = this.$(".js-cal-enabled").addClass("hide");
                b = this.$(".js-enable-cal").addClass("hide");
                f = 0 <= F.call(null != g ? g.get("powerUps") : void 0, "calendar");
                g = (null != g ? g.owned() : void 0) && !f;
                f ? c.removeClass("hide") : g && b.removeClass("hide");
                x.calcPos();
                return this
            };
        b.prototype.render = function() {
            var c, e, g, f, h, k, l, s, n, t, y, C, A;
            c = this.model.getBoard();
            e = null != (g = this.model.get("badges")) ? g.due : void 0;
            g = this.model.toJSON();
            g.hasDueDate = null != e;
            this.$el.html(v.fill("date_picker",
                g, {
                    owned: c.owned()
                }));
            this.renderCalendar();
            s = this.$(".js-dpicker-time-input");
            n = this.$(".js-dpicker-time-select");
            f = this.$(".js-dpicker-date-input");
            c = this.$(".js-dpicker-cal");
            e ? e = M.parse(e) : null != b.lastDueDate && (e = new Date(b.lastDueDate));
            _.isDate(e) || (e = Date.today().add({
                days: 1,
                hours: 12
            }));
            c.datepicker({
                altField: ".js-dpicker-date-input",
                defaultDate: e,
                showOtherMonths: !0,
                selectOtherMonths: !0,
                dateFormat: M.isUS ? "mm/dd/yy" : "dd/mm/yy",
                onSelect: function() {
                    return f.removeClass("input-error")
                },
                firstDay: M.isUS ?
                    0 : 1
            });
            x.calcPos();
            f.val(e.toString(M.isUS ? "MM/dd/yyyy" : "dd/MM/yyyy"));
            s.val(e.toString(M.timeFormat()));
            this._lastCalDate = e;
            k = ["AM", "PM"];
            c = [12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];
            t = 0;
            for (C = k.length; t < C; t++) {
                g = k[t];
                y = 0;
                for (A = c.length; y < A; y++) h = c[y], l = '<option value="' + h + ":00 " + g + '">' + h + ":00 " + g + "</option>", h = '<option value="' + h + ":30 " + g + '">' + h + ":30 " + g + "</option>", n.append(l, h)
            }
            e = e.toString("h:00 tt");
            n.find('option[value="' + e + '"]').attr("selected", !0);
            n.change(function() {
                var b;
                b = n.find("option:selected").val();
                return s.val(b)
            });
            ia.fSmall && (s.hide(), n.addClass("show"));
            s.keyup(function(b) {
                return function() {
                    if (b._timeOK(s.val())) return s.removeClass("input-error")
                }
            }(this));
            s.change(function(b) {
                return function() {
                    return b._timeOK(s.val()) ? s.removeClass("input-error") : s.addClass("input-error")
                }
            }(this));
            return this
        };
        b.prototype._timeOK = function(b) {
            return null != this._cleanTime(b)
        };
        b.prototype._cleanTime = function(b) {
            return M.normalizeTime(b)
        };
        b.prototype.enableCal = function(b) {
            l.stop(b);
            b = this.model.getBoard();
            null != b && b.addToSet("powerUps", "calendar");
            t("Card Menu", "Enable Calendar via Due Date Menu")
        };
        return b
    }(A);
    var rb, D = [].slice;
    rb = new(function() {
        function c() {}
        c.prototype._knownUrls = [{
            name: "Trello Board",
            match: /^https:\/\/trello\.com\/b\/([a-zA-Z0-9]{8})(?:$|\/)/,
            previewClass: "attachment-thumbnail-preview-trello-logo",
            icon: "https://d78fikflryjgj.cloudfront.net/images/services/e1b7406bd79656fdd26ca46dc8963bee/trello.png",
            text: function(b, c, e) {
                var g, f, h;
                h = b[1];
                g = function() {
                    var b;
                    return null != (b = c.get("Board",
                        IdCache.getBoardId(h))) ? b.get("name") : void 0
                };
                if (null != (f = g())) return f;
                O["for"](c).loadBoardNames([h], function(b) {
                    b = $("#" + e);
                    return null != (f = g()) ? b.text(f) : "private board"
                });
                return "board\u2026"
            }
        }, {
            name: "Trello Card",
            match: /^https:\/\/trello\.com\/c\/([a-zA-Z0-9]{8})(?:$|\/)/,
            previewClass: "attachment-thumbnail-preview-trello-logo",
            icon: "https://d78fikflryjgj.cloudfront.net/images/services/e1b7406bd79656fdd26ca46dc8963bee/trello.png",
            text: function(b, c, e) {
                var g, f, h;
                h = b[1];
                g = function() {
                    var b;
                    return null !=
                        (b = c.get("Card", IdCache.getCardId(h))) ? b.get("name") : void 0
                };
                if (null != (f = g())) return f;
                O["for"](c).loadCardData(h, function(b) {
                    b = $("#" + e);
                    return null != (f = g()) ? b.text(f) : "private card"
                });
                return "card\u2026"
            }
        }, {
            name: "FogBugz Case",
            match: /^https?:\/\/([^\.]+)\.fogbugz\.com\/(?:f\/cases\/|default\.asp\?)([\d]+)/,
            previewClass: "attachment-thumbnail-preview-fogbugz-logo",
            icon: "https://d78fikflryjgj.cloudfront.net/images/services/a1385c9ce999f8389ec7dc43c1b24b2c/fogbugz.png",
            text: function(b) {
                return "Case " +
                    b[2]
            }
        }, {
            name: "Kiln Commit",
            match: /^https?:\/\/([^\.]+)\.(?:fogbugz\.com\/kiln|kilnhg\.com)\/Code\/([^\/]+)\/([^\/]+)\/([^\/]+)\/History\/([^\/]+)/,
            previewClass: "attachment-thumbnail-preview-kiln-logo",
            icon: "https://d78fikflryjgj.cloudfront.net/images/services/6c1d65d72873b01d740adfbb9de22234/kiln.png",
            text: function(b) {
                var c, e, g;
                e = b[2];
                g = b[3];
                c = b[4];
                b = b[5];
                return "Group" === g ? "" + e + " \u00bb " + c + ": " + b : "" + e + " \u00bb " + g + " \u00bb " + c + ": " + b
            },
            dataUrl: function(b) {
                return b.replace(/\/Code\//, "/trello/Code/")
            },
            _processJSON: function(b, c) {
                var e, g, f, h;
                if (null != c.reviews) {
                    h = c.reviews;
                    e = 0;
                    for (f = h.length; e < f; e++) g = h[e], g.status = function() {
                        switch (g.sStatus) {
                            case "active":
                                return "In Review";
                            case "rejected":
                                return "Review Rejected";
                            case "needswork":
                                return "Review Needs Work";
                            case "abandoned":
                                return "Review Abandoned";
                            case "approved":
                                return "Review Approved"
                        }
                    }(), g.url = b.replace(/\/Code\/.*$/, "/Review/" + g.sReview)
                }
                c.sAuthor && (c.author = c.sAuthor.replace(/\s<.*$/, ""));
                c.hash && (c.shortHash = c.hash.substr(0, 6));
                c.sDescription &&
                    (e = new Ha({
                        restrict: {
                            block: ["paragraph", "newline"],
                            inline: ["break", "email", "emoji", "url"]
                        }
                    }), c.shortCommitMessage = c.sDescription.split("\n")[0], c.commitMessageHtml = e.format(c.sDescription).output);
                c.url = b;
                return c
            },
            previewHtml: function(b, c) {
                return v.fill("kiln_changeset_preview", this._processJSON(b, c))
            },
            previewHtmlError: function(b, c) {
                var e;
                return /unable to access/i.test(c) ? (b = null != (e = /^https?:\/\/[-a-z0-9\.]+(\/kiln)?/.exec(b)) ? e[0] : void 0, {
                    login: 'You may be able to see more about this changeset by\n<a href="' +
                        b + '" target="kiln">logging into Kiln</a>.'
                }) : null
            },
            thumbnailHtml: function(b, c, e) {
                return v.fill("kiln_changeset_thumbnail", _.extend({}, this._processJSON(b, c), e))
            }
        }, {
            name: "Kiln Code Review",
            match: /^https?:\/\/([^\.]+)\.(?:fogbugz\.com\/kiln|kilnhg\.com)\/Review\/(K[^\/]+)/,
            previewClass: "attachment-thumbnail-preview-kiln-logo",
            icon: "https://d78fikflryjgj.cloudfront.net/images/services/6c1d65d72873b01d740adfbb9de22234/kiln.png",
            text: function(b) {
                return "Review " + b[2]
            }
        }, {
            name: "GitHub Commit",
            match: /^https?:\/\/github\.com\/([^\/]+)\/([^\/]+)\/commit\/([^\/]{40})$/,
            previewClass: "attachment-thumbnail-preview-github-logo",
            icon: "https://d78fikflryjgj.cloudfront.net/images/services/8cab38550d1f23032facde191031d024/github.png",
            text: function(b) {
                return "" + b[1] + "/" + b[2] + ": " + b[3].substr(0, 8)
            }
        }, {
            name: "GitHub Issue",
            match: /^https?:\/\/github\.com\/([^\/]+)\/([^\/]+)\/issues\/(\d+)$/,
            previewClass: "attachment-thumbnail-preview-github-logo",
            icon: "https://d78fikflryjgj.cloudfront.net/images/services/8cab38550d1f23032facde191031d024/github.png",
            text: function(b) {
                return "" + b[1] +
                    "/" + b[2] + ": #" + b[3]
            }
        }, {
            name: "GitHub Pull Request",
            match: /^https?:\/\/github\.com\/([^\/]+)\/([^\/]+)\/pull\/(\d+)$/,
            previewClass: "attachment-thumbnail-preview-github-logo",
            icon: "https://d78fikflryjgj.cloudfront.net/images/services/8cab38550d1f23032facde191031d024/github.png",
            text: function(b) {
                return "" + b[1] + "/" + b[2] + ": Pull Request #" + b[3]
            }
        }];
        c.prototype.interpret = function(b, c) {
            var e, g, f, h, k, l, s, n, t;
            t = this._knownUrls;
            s = 0;
            for (n = t.length; s < n; s++)
                if (l = t[s], h = l.name, f = l.match, k = l.previewClass, e = l.icon,
                    l = l.text, null != (f = f.exec(b))) try {
                    return g = _.uniqueId("known"), {
                        id: g,
                        name: h,
                        previewClass: k,
                        icon: e,
                        text: l(f, c, g)
                    }
                } catch (v) {}
                return null
        };
        c.prototype._runHandler = function() {
            var b, c, e, g, f, h, k, l;
            g = arguments[0];
            h = arguments[1];
            b = 4 <= arguments.length ? D.call(arguments, 2, c = arguments.length - 1) : (c = 2, []);
            f = arguments[c++];
            l = this._knownUrls;
            c = 0;
            for (k = l.length; c < k; c++)
                if (e = l[c], e.match.test(h) && null != e[g]) {
                    c = e.dataUrl;
                    $.ajax({
                        url: c(h),
                        xhrFields: {
                            withCredentials: !0
                        },
                        headers: {
                            "X-Trello": "Is it me you're looking for?"
                        },
                        success: function(c) {
                            return f(null, e[g].apply(e, [h, c].concat(D.call(b))))
                        },
                        error: function(c, d, k) {
                            c = "" + g + "Error";
                            k = "function" === typeof e[c] ? e[c].apply(e, [h, k].concat(D.call(b))) : void 0;
                            return f(null != k ? k : "could not load")
                        }
                    });
                    return
                }
            f()
        };
        c.prototype.previewHtml = function(b, c) {
            return this._runHandler("previewHtml", b, c)
        };
        c.prototype.thumbnailHtml = function(b, c, e) {
            return this._runHandler("thumbnailHtml", b, c, e)
        };
        return c
    }());
    var ni, ug, yg, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        D = [].slice,
        k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        };
    ni = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.typeName = "Attachment";
        b.prototype.urlRoot = function() {
            return "" + this.getCard().url() + "/attachments"
        };
        b.prototype.getCard = function() {
            return this.collection.sourceModel
        };
        b.prototype.editable = function() {
            return this.getCard().editable()
        };
        b.prototype.smallestPreviewBiggerThan = function(b) {
            return l.smallestPreviewBiggerThan(this.get("previews"), b)
        };
        b.prototype.previewBetween = function(b, c, g, f) {
            return l.previewBetween.apply(l, [this.get("previews")].concat(D.call(arguments)))
        };
        b.prototype.biggestPreview = function() {
            return l.biggestPreview(this.get("previews"))
        };
        b.prototype.smallestPreview = function() {
            return l.smallestPreview(this.get("previews"))
        };
        b.prototype.getType = function() {
            var b, c;
            b = l.getAttachmentData(this);
            null != b.ext ? c = b.ext : null !=
                b.meta && (c = b.meta);
            return c
        };
        return b
    }(W);
    ug = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.model = ni;
        b.prototype.comparator = function(b) {
            return -M.parse(b.get("date")) || 0
        };
        b.prototype.initialize = function(b, c) {
            this.options = c
        };
        return b
    }(Va);
    yg = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "attachment-thumbnail";
        b.prototype.events = {
            "click .js-open-viewer": "openViewer",
            "click .js-download": "download",
            "click .js-make-cover": "makeCover",
            "click .js-remove-cover": "removeCover",
            "click .js-confirm-delete": "confirmDelete"
        };
        b.prototype.render = function() {
            var b, c, g, f, h, k, q;
            f = l.getAttachmentData(this.model, this.modelCache);
            null == f.canUseViewer && (f.canUseViewer = !0);
            h = this.model.smallestPreviewBiggerThan(110);
            ha.isHighDPI() && (c = this.model.smallestPreviewBiggerThan(220), h = null != c ? c : h);
            null != h ? (f.isImage = !0, g = this.model.getCard(), c = g.getBoard(), f.cardCovers = null != c ? null != (k = c.get("prefs")) ?
                k.cardCovers : void 0 : void 0, f.isCover = f.cardCovers && g.get("idAttachmentCover") === this.model.id, f.imgSrc = h.url, f.edgeColor = null != (q = f.edgeColor) ? q : "transparent", f.ext = null) : null == f.ext || 6 < f.ext.length ? (f.ext = null, f.canUseViewer = !1) : l.isViewerable(f.ext) || (f.canUseViewer = !1);
            ha.isTouch() && (f.canUseViewer = !1);
            this.$el.html(v.fill("attachment_thumb", f, {
                editable: this.model.editable()
            }));
            this.renderCoverState();
            M.update(this.el);
            f.isKnownService && (b = this.$(".js-attachment-thumbnail-details"), rb.thumbnailHtml(f.url,
                f, function(c, e) {
                    if (null == c && null != e) return b.html(e), M.update(b)
                }));
            return this
        };
        b.prototype.openViewer = function(b) {
            !b.metaKey && !b.ctrlKey && (l.stop(b), (new Cc({
                model: this.model.getCard(),
                modelCache: this.modelCache,
                attachmentModel: this.model
            })).render(), t("Attachment", "Open Attachment Viewer", this.model.getType()))
        };
        b.prototype.renderCoverState = function() {
            var b, c, g, f, h;
            g = null != (b = this.model.getCard()) ? null != (c = b.getBoard()) ? c.getPref("cardCovers") : void 0 : void 0;
            b = this.$(".js-make-cover").addClass("hide");
            c = this.$(".js-remove-cover").addClass("hide");
            if (0 < (null != (f = this.model.get("previews")) ? f.length : void 0) && g) g = (null != (h = this.model.getCard()) ? h.get("idAttachmentCover") : void 0) === this.model.id, b.toggleClass("hide", g), c.toggleClass("hide", !g)
        };
        b.prototype.download = function(b) {
            l.stopPropagation(b);
            t("Attachment", "Attachment Thumbnail", "Download")
        };
        b.prototype.makeCover = function(b) {
            l.stop(b);
            x.hide();
            this.model.getCard().makeCover(this.model);
            t("Attachment", "Attachment Thumbnail", "Make Cover")
        };
        b.prototype.removeCover =
            function(b) {
                l.stop(b);
                x.hide();
                this.model.getCard().removeCover(null);
                t("Attachment", "Attachment Thumbnail", "Remove Cover")
            };
        b.prototype.confirmDelete = function(b) {
            var c;
            l.stop(b);
            b = l.getAttachmentData(this.model, this.modelCache);
            c = "Deleting an attachment is permanent. There is no undo.";
            b.isExternal && (c = "Remove this " + b.serviceName + " file? There is no undo.");
            pa.toggle({
                elem: this.$(".js-confirm-delete"),
                top: 20,
                model: this.model,
                title: "" + b.removeText + " Attachment?",
                text: c,
                confirmText: b.removeText,
                confirmBtnClass: "negate",
                fxConfirm: function(b) {
                    return function(c) {
                        b.model.destroy();
                        return t("Attachment", "Delete Attachment", b.model.getType())
                    }
                }(this)
            });
            t("Attachment", "Attachment Thumbnail", "Confirm Delete")
        };
        return b
    }(A);
    var Cc, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b <
                d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        };
    Cc = function(c) {
        function b() {
            this["delete"] = k(this["delete"], this);
            this.closeDeleteConfirm = k(this.closeDeleteConfirm, this);
            this.openDeleteConfirm = k(this.openDeleteConfirm, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "attachment-viewer";
        b.prototype.initialize = function() {
            var b, c;
            x.hide();
            this.allowsCardCovers = null != (c = this.model.getBoard()) ? c.getPref("cardCovers") : void 0;
            this.currentAttachment = this.options.attachmentModel;
            b = this.options.idAttachment;
            if (null != b) return this.currentAttachment = this.model.attachmentList.find(function(c) {
                return c.id === b
            })
        };
        b.prototype.events = {
            "click .js-show-next-frame": "showNextFrame",
            "click .js-show-prev-frame": "showPrevFrame",
            "mouseenter .js-show-next-frame": "hintNextFrame",
            "mouseenter .js-show-prev-frame": "hintPrevFrame",
            "mouseleave .js-show-next-frame": "clearHint",
            "mouseleave .js-show-prev-frame": "clearHint",
            "click .js-stop": "stop",
            "click .js-close-viewer": "close",
            "click .js-open-delete-confirm": "openDeleteConfirm",
            "click .js-close-delete-confirm": "closeDeleteConfirm",
            "click .js-delete": "delete",
            "click .js-make-cover": "makeCover",
            "click .js-remove-cover": "removeCover",
            shortcut: "shortcut"
        };
        b.prototype.shortcut = function(b) {
            switch (b) {
                case 27:
                    return this.close(), ["Esc - Close Attachment Viewer", "Attachment Viewer"];
                case 39:
                    return this.showNextFrame(), ["Right Arrow - Next Attachment", "Attachment Viewer"];
                case 37:
                    return this.showPrevFrame(), ["Left Arrow - Previous Attachment", "Attachment Viewer"]
            }
        };
        b.prototype.getAttachmentModels =
            function() {
                return this.model.attachmentList.models
            };
        b.prototype.getAttachmentModelsLength = function() {
            return this.getAttachmentModels().length
        };
        b.prototype.getCurrentAttachmentIndex = function() {
            return _.indexOf(this.getAttachmentModels(), this.currentAttachment)
        };
        b.prototype.getNextAttachmentIndex = function() {
            var b;
            b = this.getCurrentAttachmentIndex() + 1;
            return b >= this.getAttachmentModelsLength() ? null : b
        };
        b.prototype.getNextModel = function() {
            var b;
            b = this.getNextAttachmentIndex();
            return null != b ? this.getAttachmentModels()[b] :
                null
        };
        b.prototype.getPrevAttachmentIndex = function() {
            var b;
            b = this.getCurrentAttachmentIndex() - 1;
            return 0 > b ? null : b
        };
        b.prototype.getPrevModel = function() {
            var b;
            b = this.getPrevAttachmentIndex();
            return null != b ? this.getAttachmentModels()[b] : null
        };
        b.prototype.render = function() {
            var b;
            b = this.model.toJSON();
            b.numAttachments = this.getAttachmentModelsLength();
            this.$el.html(v.fill("attachment_viewer", b));
            this.addNewFrame(this.currentAttachment, "center");
            b = this.getNextModel();
            null != b && this.addNewFrame(b, "right");
            b = this.getPrevModel();
            null != b && this.addNewFrame(b, "left");
            this.setDetailsAndControls();
            $("body").append(this.$el);
            "undefined" !== typeof X && null !== X && X.addHandler(this, {
                scope: "attachment_viewer",
                modal: !0,
                top: !0
            });
            return this
        };
        b.prototype.setDetailsAndControls = function() {
            var b, c;
            b = l.getAttachmentData(this.currentAttachment, this.modelCache);
            b.canMakeCover = this.allowsCardCovers && 0 < (null != (c = b.previews) ? c.length : void 0);
            b.isCover = this.allowsCardCovers && this.model.get("idAttachmentCover") === this.currentAttachment.id;
            this.$(".js-display-frame-details").empty().append(v.fill("attachment_viewer_frame_details", b, {
                editable: this.model.editable()
            }));
            this.$(".js-show-prev-frame").toggleClass("hide", null == this.getPrevAttachmentIndex());
            this.$(".js-show-next-frame").toggleClass("hide", null == this.getNextAttachmentIndex());
            M.update(this.el)
        };
        b.prototype.addNewFrame = function(b, c) {
            var g, f, h, k, q, s, n, t;
            g = l.getAttachmentData(b, this.modelCache);
            null != c && (g.directionClass = "attachment-viewer-frame-" + c);
            q = (f = g.ext, 0 <= F.call(l.imageExts(),
                f)) || 0 < (null != (n = g.previews) ? n.length : void 0);
            f = (s = g.ext, 0 <= F.call(l.audioExts(), s));
            s = (k = g.ext, 0 <= F.call(l.videoExts(), k));
            k = (h = g.ext, 0 <= F.call(l.iFrameableExts(), h));
            h = (t = g.ext, 0 <= F.call(l.googleViewerableExts(), t));
            g.isExternal ? g.isPlaceholder = !0 : q ? g.isImage = !0 : f ? g.isAudio = !0 : s ? g.isVideo = !0 : k ? g.isIFrameable = !0 : h ? (g.isIFrameable = !0, q = encodeURIComponent(g.url), g.url = "https://docs.google.com/viewer?embedded=true&url=" + q) : (g.isPlaceholder = !0, g.openText = "Download");
            this.$(".js-frames").append(v.fill("attachment_viewer_frame",
                g, {
                    editable: this.model.editable()
                }));
            _.defer(function() {
                return $(".attachment-viewer-frame").addClass("attachment-viewer-frame-loaded")
            });
            return this
        };
        b.prototype.focusFrame = function(b, c) {
            var g, f, h, k;
            this.currentAttachment = b;
            g = _.find(this.$(".attachment-viewer-frame"), function(c) {
                return function(c) {
                    return $(c).attr("data-idAttachment") === b.id
                }
            }(this));
            switch (c) {
                case "right":
                    f = this.$(".attachment-viewer-frame-left");
                    k = "attachment-viewer-frame-left";
                    h = this.getNextModel();
                    break;
                case "left":
                    f = this.$(".attachment-viewer-frame-right"),
                        k = "attachment-viewer-frame-right", h = this.getPrevModel()
            }
            this.$(".attachment-viewer-frame-center").removeClass("attachment-viewer-frame-center").addClass(k);
            $(g).removeClass("attachment-viewer-frame-left attachment-viewer-frame-right").addClass("attachment-viewer-frame-center");
            f.remove();
            null != h ? this.addNewFrame(h, c) : this.clearHint();
            this.setDetailsAndControls()
        };
        b.prototype.showNextFrame = function(b) {
            l.stop(b);
            b = this.getNextModel();
            null != b && this.focusFrame(b, "right");
            t("Attachment Viewer", "Show Next Frame")
        };
        b.prototype.showPrevFrame = function(b) {
            l.stop(b);
            b = this.getPrevModel();
            null != b && this.focusFrame(b, "left");
            t("Attachment Viewer", "Show Previous Frame")
        };
        b.prototype.hintNextFrame = function() {
            this.$el.addClass("attachment-viewer-frames-next-hint")
        };
        b.prototype.hintPrevFrame = function() {
            this.$el.addClass("attachment-viewer-frames-prev-hint")
        };
        b.prototype.clearHint = function() {
            this.$el.removeClass("attachment-viewer-frames-next-hint attachment-viewer-frames-prev-hint")
        };
        b.prototype.stop = function(b) {
            return l.stopPropagation(b)
        };
        b.prototype.openDeleteConfirm = function(b) {
            l.stop(b);
            this.$(".js-meta").addClass("hide");
            this.$(".js-confirm-delete").removeClass("hide");
            t("Attachment Viewer", "Open Delete Attachment Confirm")
        };
        b.prototype.closeDeleteConfirm = function(b) {
            l.stop(b);
            this.$(".js-meta").removeClass("hide");
            this.$(".js-confirm-delete").addClass("hide");
            t("Attachment Viewer", "Close Delete Attachment Confirm")
        };
        b.prototype["delete"] = function(b) {
            l.stop(b);
            this.currentAttachment.destroy();
            this.close();
            t("Attachment Viewer",
                "Delete Attachment")
        };
        b.prototype.renderToggleCover = function() {
            var b;
            b = this.allowsCardCovers && 0 < this.currentAttachment.get("previews").length;
            this.$(".js-cover-options").toggleClass("hide", !b);
            b = this.allowsCardCovers && this.model.get("idAttachmentCover") === this.currentAttachment.id;
            this.$(".js-make-cover-box").toggleClass("hide", b);
            this.$(".js-remove-cover-box").toggleClass("hide", !b)
        };
        b.prototype.makeCover = function() {
            this.model.makeCover(this.currentAttachment);
            this.renderToggleCover();
            t("Attachment Viewer",
                "Make Cover")
        };
        b.prototype.removeCover = function() {
            this.model.removeCover(null);
            this.renderToggleCover();
            t("Attachment Viewer", "Remove Cover")
        };
        b.prototype.close = function() {
            this.remove();
            X.removeHandler(this);
            t("Attachment Viewer", "Close Viewer")
        };
        return b
    }(A);
    var re, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    re = function(c) {
        function b() {
            this.render = k(this.render, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.render = function(b) {
            var c, g;
            c = null != (g = null != b ? b.timeInSeconds : void 0) ? g : 60;
            c = Math.floor(c / 60);
            return this.$el.html(v.fill("upgrade", {
                stopped: null != b ? b.stopped : void 0,
                timeInMinutes: c,
                plural: 1 < c
            }))
        };
        b.prototype.events = {
            "click .js-upgrade": "upgrade",
            "click .js-stop-upgrade": "stopUpgrade"
        };
        b.prototype.upgrade = function(b) {
            B.upgradeNow();
            return !1
        };
        b.prototype.stopUpgrade =
            function(b) {
                B.stopUpgrade();
                return !1
            };
        return b
    }(A);
    var Ud, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    Ud = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "quick-card-editor";
        b.open = function(c) {
            var e, g;
            this.close();
            e = c.$el;
            g = e.offset();
            e = {
                width: e.width(),
                left: g.left,
                top: g.top
            };
            return this.current = (new b({
                model: c.model,
                modelCache: c.modelCache
            })).render(e)
        };
        b.close = function() {
            var b;
            null != (b = this.current) && b.closeEditor();
            return this.current = null
        };
        b.prototype.initialize = function() {
            this.makeDebouncedMethods("renderStickers");
            this.listenTo(this.model, {
                "change:labels": this.renderLabels
            });
            this.listenTo(this.model.memberList, "add remove reset", function(b) {
                return function() {
                    return b.renderMembers()
                }
            }(this));
            return this.listenTo(this.model.stickerList, "add remove reset change sort", function() {
                return this.renderStickersDebounced()
            })
        };
        b.prototype.events = {
            "keydown .js-edit-card-title": "quickCardEditKeydown",
            "click .js-save-edits": "saveEdits",
            "click .js-stop": "stopCard",
            "click .js-edit-labels": "editLabels",
            "click .js-edit-members": "editMembers",
            "click .js-move-card": "moveCard",
            "click .js-copy-card": "copyCard",
            "click .js-edit-due-date": "editDueDate",
            "click .js-archive": "archive",
            click: "checkCloseEditor",
            "click .js-close-editor": "closeEditor"
        };
        b.prototype.showCover = function() {
            return this.model.getBoard().getPref("cardCovers") && this.model.hasCover()
        };
        b.prototype.showStickers = function() {
            return !0
        };
        b.prototype.renderCover = Fa.prototype.renderCover;
        b.prototype.renderBadges = Fa.prototype.renderBadges;
        b.prototype.renderLabels = Fa.prototype.renderLabels;
        b.prototype.renderMembers = Fa.prototype.renderMembers;
        b.prototype.getMemberOnCardHtml = Fa.prototype.getMemberOnCardHtml;
        b.prototype.shortcut = function(b) {
            switch (b) {
                case 27:
                    return this.checkCloseEditor(), ["Esc - Close Quick Card Editor", "Quick Card Editor"];
                case 13:
                    return this.save(), ["Enter - Save Quick Card Edits",
                        "Quick Card Editor"
                    ]
            }
        };
        b.prototype.render = function(b) {
            var c, g, f;
            c = this.model.toJSON();
            c.labels = this.model.getLabels();
            c.showCover = this.showCover();
            c.hasStickers = this.model.hasStickers();
            c.quickEdit = !0;
            g = {
                card: v.card_in_list
            };
            c.left = this.cLeft = b.left;
            c.top = this.cTop = b.top;
            c.width = this.cWidth = b.width;
            b = this.cWidth + this.cLeft + 160;
            $(window).height();
            f = $(window).width();
            b > f && (c.leftButtons = !0);
            this.$el.html(v.fill("quick_card_editor", c, {}, g));
            this.renderStickers().renderCover().renderLabels().renderBadges().renderMembers().checkShowCover();
            $("body").append(this.$el);
            this.calcHeight();
            this.focusInput();
            "undefined" !== typeof X && null !== X && X.addHandler(this, {
                scope: "quick_card_editor",
                modal: !0,
                top: !0
            });
            _.defer(function() {
                return this.$(".quick-card-editor-buttons").addClass("fade-in")
            });
            return this
        };
        b.prototype.calcHeight = function() {
            var b, c, g, f;
            f = $(window).height();
            $(window).width();
            b = this.$(".quick-card-editor-card").outerHeight();
            this.cTop + b > f && (b = f - b - 8, this.$(".quick-card-editor-card").css({
                top: b
            }));
            b = this.$(".quick-card-editor-buttons");
            c = b.outerHeight();
            g = b.offset();
            c + g.top > f && b.css({
                top: -36
            })
        };
        b.prototype.renderStickers = function() {
            var b, c;
            if (0 < this.$(".sticker.moving, .sticker.rotating").length) return this;
            b = this.$(".js-card-stickers").empty();
            var g, f, h, k;
            h = this.model.stickerList.models;
            k = [];
            g = 0;
            for (f = h.length; g < f; g++) c = h[g], k.push(this.subview(Sh, c));
            this.appendSubviews(k, b);
            this.$(".list-card").toggleClass("has-stickers", this.model.hasStickers());
            return this
        };
        b.prototype.checkShowCover = function() {
            this.$(".list-card").toggleClass("has-cover",
                this.showCover()).toggleClass("has-stickers", this.model.hasStickers());
            return this
        };
        b.prototype.focusInput = function() {
            return this.$(".js-edit-card-title").focus().select()
        };
        b.prototype.showPopOver = function(b, c, g) {
            l.stop(b);
            x.toggle({
                elem: $(b.target).closest("a"),
                top: 34,
                view: c,
                options: {
                    model: this.model,
                    modelCache: this.modelCache
                }
            });
            t("Quick Card Editor", g)
        };
        b.prototype.editLabels = function(b) {
            return this.showPopOver(b, $b, "Open Label Edit")
        };
        b.prototype.editMembers = function(b) {
            return this.showPopOver(b,
                ac, "Open Member Edit")
        };
        b.prototype.moveCard = function(b) {
            return this.showPopOver(b, Qd, "Open Move Card")
        };
        b.prototype.copyCard = function(b) {
            return this.showPopOver(b, Zb, "Open Copy Card")
        };
        b.prototype.editDueDate = function(b) {
            return this.showPopOver(b, bc, "Open Due Date Edit")
        };
        b.prototype.archive = function(b) {
            l.stop(b);
            this.model.close();
            this.closeEditor();
            t("Quick Card Editor", "Archive")
        };
        b.prototype.quickCardEditKeydown = function(b) {
            if (13 === b.keyCode) return this.saveEdits(b)
        };
        b.prototype.saveEdits = function(b) {
            l.stop(b);
            b = this.$(".js-edit-card-title").val().trim();
            "" !== b ? (x.hide(), this.model.update({
                name: b
            }), this.remove()) : this.$(".js-edit-card-title").focus().select();
            t("Quick Card Editor", "Save Name")
        };
        b.prototype.checkCloseEditor = function(b) {
            x.isVisible ? x.hide() : 0 < this.$(".sticker.editing").length ? this.stopEditingStickers() : this.closeEditor(b)
        };
        b.prototype.closeEditor = function(b) {
            this.remove();
            x.hide();
            t("Quick Card Editor", "Close")
        };
        b.prototype.stopEditingStickers = function() {
            var b, c, g, f;
            f = _.clone(this.model.stickerList.models);
            c = 0;
            for (g = f.length; c < g; c++) b = f[c], b.trigger("stopEditing")
        };
        b.prototype.stopCard = function(b) {
            l.stopPropagation(b);
            x.hide()
        };
        return b
    }(A);
    var va, na, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    va = new(function(c) {
        function b() {
            b.__super__.constructor.call(this);
            this.set({
                id: "memberState-" + y.myId()
            });
            this.fetch()
        }
        n(b, c);
        b.prototype["default"] = function() {
            return {
                cardsPageSortType: "board",
                processingAttachmentsLength: 0,
                idCollapsedChecklists: []
            }
        };
        b.prototype.getCardsPageSortType = function() {
            return this.get("cardsPageSortType")
        };
        b.prototype.sortCardsPageByBoard = function() {
            return this.save("cardsPageSortType", "board")
        };
        b.prototype.sortCardsPageByDate = function() {
            return this.save("cardsPageSortType", "date")
        };
        b.prototype.getCollapsedChecklists = function() {
            return this.get("idCollapsedChecklists")
        };
        b.prototype.pullCollapsedChecklist = function(b) {
            return this.pull("idCollapsedChecklists", b)
        };
        b.prototype.pushCollapsedChecklist =
            function(b) {
                this.pull("idCollapsedChecklists", b);
                this.addToSet("idCollapsedChecklists", b);
                b = this.getCollapsedChecklists();
                b = _.rest(b, Math.max(0, b.length - 256));
                return this.save("idCollapsedChecklists", b)
            };
        b.prototype.getProcessingAttachmentsLength = function() {
            return this.get("processingAttachmentsLength")
        };
        b.prototype.addProcessingAttachment = function() {
            var b;
            b = this.getProcessingAttachmentsLength() + 1;
            return this.save("processingAttachmentsLength", b)
        };
        b.prototype.removeProcessingAttachment = function() {
            var b;
            b = this.getProcessingAttachmentsLength() - 1;
            0 > b && (b = 0);
            return this.save("processingAttachmentsLength", b)
        };
        b.prototype.clearProcessingAttachments = function() {
            return this.save("processingAttachmentsLength", 0)
        };
        return b
    }(ub));
    na = new(function(c) {
        function b() {
            b.__super__.constructor.call(this);
            this.set({
                query: "",
                suggestions: [],
                suggestionSearchTerm: "",
                suggestSearchModelTypes: ""
            })
        }
        n(b, c);
        b.prototype.getQuery = function() {
            return this.get("query")
        };
        b.prototype.setQuery = function(b) {
            b !== this.getQuery() && this.set("query",
                b);
            if ("" === b) return this.clearSuggestions(), this.clearSuggestionSearchTerm(), this.clearSuggestionSearchModelTypes()
        };
        b.prototype.toggleStringInQuery = function(b) {
            var c;
            c = this.getQuery();
            return RegExp("" + l.escapeForRegex(b)).test(c) ? this.removeStringFromQuery(b) : this.addStringToQuery(b)
        };
        b.prototype.removeRegexFromQuery = function(b) {
            var c;
            c = this.getQuery();
            if (b.test(c)) return b = c.replace(b, ""), b = l.stripExtraSpaces(b), "" !== b && (b += " "), this.setQuery(b)
        };
        b.prototype.removeStringFromQuery = function(b) {
            var c;
            c = this.getQuery();
            if (RegExp("" + l.escapeForRegex(b)).test(c)) return b = c.replace(b, ""), b = l.stripExtraSpaces(b), "" !== b && (b += " "), this.setQuery(b)
        };
        b.prototype.addStringToQuery = function(b) {
            var c;
            c = this.getQuery();
            if (!RegExp("" + l.escapeForRegex(b)).test(c)) return b = l.stripExtraSpaces("" + c + " " + b) + " ", this.setQuery(b)
        };
        b.prototype.getSuggestions = function() {
            return this.get("suggestions")
        };
        b.prototype.setSuggestions = function(b) {
            return this.set("suggestions", b)
        };
        b.prototype.clearSuggestions = function() {
            return this.set("suggestions", [])
        };
        b.prototype.getSuggestionSearchTerm = function() {
            return this.get("suggestionSearchTerm")
        };
        b.prototype.setSuggestionSearchTerm = function(b) {
            return this.set("suggestionSearchTerm", b)
        };
        b.prototype.clearSuggestionSearchTerm = function() {
            return this.set("suggestionSearchTerm", "")
        };
        b.prototype.getSuggestionSearchModelTypes = function() {
            return this.get("suggestSearchModelTypes")
        };
        b.prototype.setSuggestionSearchModelTypes = function(b) {
            return this.set("suggestSearchModelTypes", b)
        };
        b.prototype.clearSuggestionSearchModelTypes =
            function() {
                return this.set("suggestSearchModelTypes", "")
            };
        return b
    }(W));
    var jg, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        };
    jg = function(c) {
        function b() {
            this.render = k(this.render, this);
            this.initialize = k(this.initialize, this);
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className =
            "version-tag";
        b.prototype.initialize = function() {
            $(Da).bind("change:serverVersion", this.render);
            b.__super__.initialize.apply(this, arguments);
            return this.render()
        };
        b.prototype.render = function() {
            this.$el.text(Da.getVersionDisplay());
            return this
        };
        return b
    }(A);
    var ng, se, oi, pi, te, qi, ri, ue, H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        D = [].slice;
    qi = function(c) {
        function b() {
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype["default"] = function() {
            return {
                mode: "month"
            }
        };
        b.prototype.getMode = function() {
            return this.get("mode")
        };
        b.prototype.setMode = function(b) {
            return this.update("mode", b)
        };
        return b
    }(ub);
    ng = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "calendar-wrapper";
        b.prototype.events = {
            "click .js-week-view": "switchToWeekViewFromMonth",
            "click .js-month-view": "switchToMonthViewFromWeek",
            "click .js-left-arrow": "navigatePrevious",
            "click .js-right-arrow": "navigateNext",
            "click .js-today": "navigateToday",
            "click .js-open-card-composer": "openComposer"
        };
        b.prototype.initialize = function() {
            this.startOfWeek = M.isUS ? "sunday" : "monday";
            this.monthView = this.subview(pi, this.model);
            this.weekView = this.subview(ue, this.model);
            this.composer = new li({
                model: this.model.composer
            });
            this.localState = new qi({
                id: "calendar" + this.model.id
            });
            this.localState.fetch();
            return this.model.viewState.clearSelectedCard()
        };
        b.prototype.render = function(b) {
            var c;
            null == b && (b = new Date);
            c = "Sun Mon Tue Wed Thu Fri Sat".split(" ");
            "monday" === this.startOfWeek && (c = l.rotateArr(c, -1));
            this.$el.html(v.fill("calendar_toolbar", {
                days: c
            }));
            this.localState.getMode() === ue.prototype.VIEWSTATE_PREF_STR ? this.showView(this.weekView, b) : this.showView(this.monthView, b);
            return this
        };
        b.prototype.remove = function() {
            this.stopSubscriptions();
            this.model.viewState.clearSelectedCard();
            return b.__super__.remove.apply(this, arguments)
        };
        b.prototype.openComposer = function(b) {
            var c;
            l.stop(b);
            c = $(b.target).closest(".day-cell, .day-column");
            c = new Date(parseInt(c.attr("name")));
            this.composer.setDate(c);
            return x.show({
                clientx: b.clientX,
                clienty: b.clientY,
                top: 35,
                view: this.composer,
                autoPosition: !0
            })
        };
        b.prototype.showView = function(b, c) {
            this.currentSubView = b;
            this.$(".calendar-header").removeClass("week-view month-view").addClass(this.currentSubView.HEADER_CLASS_NAME);
            this.$(".calendar-content").empty().append(this.currentSubView.render(c).el);
            this.model.viewState.clearSelectedCard();
            this.localState.setMode(this.currentSubView.VIEWSTATE_PREF_STR);
            this.currentSubView.delegateEvents();
            return this.currentSubView.updateRoute()
        };
        b.prototype.switchToWeekViewFromMonth = function() {
            this.showView(this.weekView, this.monthView.currentCenterWeek);
            return this.addedToDOM()
        };
        b.prototype.switchToMonthViewFromWeek = function() {
            this.showView(this.monthView, this.weekView.currentWeek);
            return this.addedToDOM()
        };
        b.prototype.setSubscriptions = function() {
            this.stopSubscriptions();
            this.currentSubView === this.monthView ? this.monthView.setSubscriptions() : ($(ia).on("windowClassChange." + this.uniqueId(), function(b) {
                return function() {
                    var c;
                    c = 1 <= arguments.length ? D.call(arguments, 0) : [];
                    return b.weekSmallWindowResizeCheck.apply(b, c)
                }
            }(this)), this.weekView.setSubscriptions())
        };
        b.prototype.stopSubscriptions = function() {
            this.weekView.stopSubscriptions();
            this.monthView.stopSubscriptions();
            return $(ia).off("." + this.uniqueId())
        };
        b.prototype.delegateEvents = function() {
            var c;
            b.__super__.delegateEvents.apply(this, arguments);
            return null != (c = this.currentSubView) ? c.delegateEvents() : void 0
        };
        b.prototype.addedToDOM = function() {
            this.setSubscriptions();
            return this.currentSubView.addedToDOM()
        };
        b.prototype.navigateToday = function() {
            return this.currentSubView.navigateToday()
        };
        b.prototype.navigatePrevious = function() {
            return this.currentSubView.navigatePrevious()
        };
        b.prototype.navigateNext = function() {
            return this.currentSubView.navigateNext()
        };
        b.prototype.weekSmallWindowResizeCheck = function(b, c) {
            if ("small-window" === c.newClass && this.currentSubView === this.weekView) return this.switchToMonthViewFromWeek()
        };
        return b
    }(A);
    te = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "fancy-scrollbar calendar-drag-area";
        b.prototype.SCROLL_ANIMATION_TIME = 400;
        b.prototype.initialize = function() {
            var b;
            b = this.listenToListChanges.bind(this);
            this.model.listList.each(b);
            return this.listenTo(this.model.listList, "add remove", b)
        };
        b.prototype.addedToDOM = function() {
            if (this.model.editable()) return _.defer(function() {
                return K.refreshCalendarCardSortable()
            })
        };
        b.prototype.delegateEvents = function() {
            var c, e, g, f, h;
            b.__super__.delegateEvents.apply(this, arguments);
            f = this.subviewsOfType(this.DAY_VIEW_TYPE);
            h = [];
            e = 0;
            for (g = f.length; e < g; e++) c = f[e], h.push(c.delegateEvents());
            return h
        };
        b.prototype.setSubscriptions = function() {
            var b, c, g, f, h;
            f = this.cardSubviews();
            h = [];
            c = 0;
            for (g = f.length; c < g; c++) b = f[c], h.push(b.listenToActiveCardChanges());
            return h
        };
        b.prototype.stopSubscriptions = function() {
            var b, c, g, f, h;
            f = this.cardSubviews();
            h = [];
            c = 0;
            for (g = f.length; c < g; c++) b = f[c], h.push(b.stopListeningToActiveCardChanges());
            return h
        };
        b.prototype.listenToListChanges = function(b) {
            this.listenTo(b.cardList, "add remove", function(b) {
                if (0 <
                    this.cardsWithDueDates([b]).length) return b = new Date(b.get("due")), this.renderCardsOnDates([b])
            });
            this.listenTo(b.cardList, "change:due", function(b, c) {
                var d, h, k;
                k = b.previousAttributes().due;
                d = b.get("due");
                h = new Date(null != k ? k : null);
                c = new Date(null != d ? d : null);
                if (!h.isSameDay(c)) {
                    var l, s;
                    l = [k, d];
                    s = [];
                    h = 0;
                    for (k = l.length; h < k; h++) d = l[h], null != d && s.push(new Date(d));
                    return this.renderCardsOnDates(s)
                }
            });
            return this.listenTo(b.cardList, "reset", function(b, c) {
                var d, h, k, l;
                k = b.models;
                l = c.previousModels;
                h = _.difference(k,
                    l).concat(_.difference(l, k));
                return this.renderCardsOnDates(function() {
                    var b, c, e;
                    e = [];
                    b = 0;
                    for (c = h.length; b < c; b++) d = h[b], e.push(new Date(d.get("due")));
                    return e
                }())
            })
        };
        b.prototype.navigateToday = function() {
            return this.scrollToDay(this.today, this.SCROLL_ANIMATION_TIME)
        };
        b.prototype.getCardView = function(b) {
            return this.subview(Od, b, b.cid)
        };
        b.prototype.cardsWithDueDates = function(b) {
            return _.filter(b, function(b) {
                return null != b.get("due")
            })
        };
        b.prototype.cardsDueOnDate = function(b, c) {
            b = this.cardsWithDueDates(b);
            return _.filter(b, function(b) {
                return c.isSameDay(new Date(b.get("due")))
            })
        };
        b.prototype.cardSubviews = function() {
            var b, c;
            c = this.subviewsOfType(this.DAY_VIEW_TYPE);
            return _.flatten(function() {
                var g, f, h;
                h = [];
                g = 0;
                for (f = c.length; g < f; g++) b = c[g], h.push(b.subviewsOfType(Od));
                return h
            }())
        };
        b.prototype.calculateFirstAndLastWeeksFromDOM = function() {
            var b;
            b = this.$(".week");
            this.firstRenderedWeek = new Date(parseInt(b.first().attr("name")));
            this.lastRenderedWeek = new Date(parseInt(b.last().attr("name")));
            return this.lastRenderedSaturday =
                M.getEndOfWeek(this.lastRenderedWeek)
        };
        b.prototype.renderCardsOnDates = function(b) {
            var c, g, f, h, k;
            if (0 < this.$(".week").length) {
                k = [];
                f = 0;
                for (h = b.length; f < h; f++) g = b[f], this.firstRenderedWeek < g && g < this.lastRenderedSaturday && (c = this.cardsDueOnDate(this.model.openCards(), g), g = M.getMidnightInt(g), g = this.existingSubview(this.DAY_VIEW_TYPE, this.model, g), g.cardsDue = c, k.push(g.renderCardsAndHeaders()));
                return k
            }
        };
        b.prototype.renderDayViews = function(b) {
            var c, g, f, h;
            h = [];
            g = 0;
            for (f = b.length; g < f; g++) c = b[g], h.push(this.getDayView(c).render().el);
            return h
        };
        b.prototype.getDayView = function(b, c) {
            var g;
            g = {
                day: b,
                cardsDueOnDate: this.cardsDueOnDate(this.model.openCards(), b)
            };
            return this.subview(this.DAY_VIEW_TYPE, this.model, _.extend({
                data: g,
                getCardView: this.getCardView.bind(this)
            }, c), M.getMidnightInt(b))
        };
        b.prototype.weekRowEl = function(b) {
            var c, g;
            g = this.renderDayViews(M.getDaysOfWeek(b));
            c = $(document.createElement(this.WEEK_WRAPPER_ELEMENT));
            c.attr("name", M.getMidnightInt(M.getStartOfWeek(b))).addClass("week").append(g);
            return c
        };
        return b
    }(A);
    ue =
        function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.prototype.className = l.extendParentClassName("calendar-week");
            b.prototype.WEEK_WRAPPER_ELEMENT = "div";
            b.prototype.VIEWSTATE_PREF_STR = "week";
            b.prototype.HEADER_CLASS_NAME = "week-view";
            b.prototype.WEEKS_KEPT_IN_DOM = 5;
            b.prototype.initialize = function() {
                b.__super__.initialize.apply(this, arguments);
                this.DAY_VIEW_TYPE = ri;
                this.today = new Date;
                return this.scrollLock = !1
            };
            b.prototype.render = function(b) {
                null == b && (b = this.today);
                this.$el.html(v.fill("calendar_week"));
                this.currentWeek = M.getStartOfWeek(b);
                this.appendWeekEl(this.currentWeek);
                this.prependWeekEl((new Date(this.currentWeek)).addDays(-7));
                this.appendWeekEl((new Date(this.currentWeek)).addDays(7));
                return this
            };
            b.prototype.addedToDOM = function() {
                b.__super__.addedToDOM.apply(this, arguments);
                this.weekWidth = $(".calendar-content").outerWidth();
                this.resizeWeekCanvas();
                this.scrollToDay(this.currentWeek);
                return this.updateToolbar()
            };
            b.prototype.updateRoute = function() {
                var b,
                    c, g;
                b = M.dateToObj(this.currentWeek);
                g = b.year;
                c = b.month;
                b = b.day;
                c = l.lpad(c, 2, "0");
                b = l.lpad(b, 2, "0");
                return B.setBoardLocation(this.model.id, "calendar", [g, c, b], {
                    replace: !0
                })
            };
            b.prototype.setSubscriptions = function() {
                b.__super__.setSubscriptions.apply(this, arguments);
                $(window).on("resize." + this.uniqueId(), function(b) {
                    return function() {
                        return b.resizeCheck()
                    }
                }(this));
                return $(".board-widgets").on("transitionend." + this.uniqueId() + " webkitTransitionEnd." + this.uniqueId(), function(b) {
                    return function() {
                        return b.resizeCheck()
                    }
                }(this))
            };
            b.prototype.stopSubscriptions = function() {
                b.__super__.stopSubscriptions.apply(this, arguments);
                $(window).off("." + this.uniqueId());
                return $(".board-widgets").off("." + this.uniqueId())
            };
            b.prototype.resizeCheck = function() {
                this.weekWidth = $(".calendar-content").outerWidth();
                this.resizeWeekCanvas();
                return this.scrollToDay(this.currentWeek)
            };
            b.prototype.resizeWeekCanvas = function() {
                var b;
                b = this.$(".week").length;
                $(".week-horizontal-canvas").width(this.weekWidth * b);
                return $(".week").width(this.weekWidth)
            };
            b.prototype.updateToolbar =
                function() {
                    var b, c;
                    c = M.getEndOfWeek(this.currentWeek);
                    b = M.isUS ? "MMMM dd, yyyy" : "dd MMMM, yyyy";
                    b = "" + this.currentWeek.toString(b) + " - " + c.toString(b);
                    $(".js-calendar-header").text(b);
                    b = $(".today-button");
                    c = this.currentWeek.isSameDay(M.getStartOfWeek(this.today));
                    return b.toggleClass("on-today", c)
                };
            b.prototype.appendWeekEl = function(b) {
                this.$(".week-horizontal-canvas").append(this.weekRowEl(b));
                this.resizeWeekCanvas();
                b = this.$(".week");
                b.length > this.WEEKS_KEPT_IN_DOM && (b.first().remove(), this.scrollLeft(-1 *
                    this.weekWidth));
                return this.calculateFirstAndLastWeeksFromDOM()
            };
            b.prototype.prependWeekEl = function(b) {
                this.$(".week-horizontal-canvas").prepend(this.weekRowEl(b));
                b = this.$(".week");
                b.length > this.WEEKS_KEPT_IN_DOM && b.last().remove();
                this.resizeWeekCanvas();
                this.scrollLeft(this.weekWidth);
                return this.calculateFirstAndLastWeeksFromDOM()
            };
            b.prototype.navigatePrevious = function() {
                return this.navigateWeek({
                    backwards: !0
                })
            };
            b.prototype.navigateNext = function() {
                return this.navigateWeek({
                    backwards: !1
                })
            };
            b.prototype.navigateWeek =
                function(b) {
                    var c, g;
                    b = (null != b ? b : {}).backwards;
                    if (!this.scrollLock) return g = b ? -7 : 7, c = b ? this.$(".week").first() : this.$(".week").last(), this.currentWeek.addDays(g), c = c.attr("name"), c = new Date(parseInt(c)), this.currentWeek.isSameDay(c) && (b ? this.prependWeekEl((new Date(this.currentWeek)).addDays(-7)) : this.appendWeekEl((new Date(this.currentWeek)).addDays(7)), this.model.editable() && _.defer(function() {
                        return K.refreshCalendarCardSortable()
                    })), this.scrollToDay(this.currentWeek, this.SCROLL_ANIMATION_TIME)
                };
            b.prototype.scrollLeft = function(b, c) {
                var g;
                g = $(".calendar-week").prop("scrollLeft");
                return this.scrollLeftTo(g + b, c)
            };
            b.prototype.scrollLeftTo = function(b, c) {
                var g;
                g = $(".calendar-week");
                return c ? (this.scrollLock = !0, g.animate({
                    scrollLeft: b
                }, {
                    duration: c,
                    complete: function(b) {
                        return function() {
                            return b.completeAnimatedScroll()
                        }
                    }(this)
                })) : g.scrollLeft(b)
            };
            b.prototype.scrollToDay = function(b, c) {
                var g, f;
                this.firstRenderedWeek < b && b < this.lastRenderedSaturday ? (f = M.getMidnightInt(M.getStartOfWeek(b)), g = this.$(".week[name='" +
                    f + "']"), g = g.prop("offsetLeft"), this.scrollLeftTo(g, c), this.currentWeek = new Date(f), this.updateToolbar()) : (this.render(b), this.addedToDOM(), this.delegateEvents());
                return this.updateRoute()
            };
            b.prototype.completeAnimatedScroll = function() {
                return this.scrollLock = !1
            };
            return b
        }(te);
    pi = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = l.extendParentClassName("calendar-month");
        b.prototype.WEEK_WRAPPER_ELEMENT = "tr";
        b.prototype.VIEWSTATE_PREF_STR = "month";
        b.prototype.HEADER_CLASS_NAME = "month-view";
        b.prototype.WEEKS_FROM_EDGE_BEFORE_RENDER_NEW_DAYS = 5;
        b.prototype.WEEKS_TO_RENDER_UPON_SCROLL_THRESHHOLD = 5;
        b.prototype.MINIMUM_WEEKS_KEPT_IN_DOM = 20;
        b.prototype.initialize = function() {
            b.__super__.initialize.apply(this, arguments);
            this.DAY_VIEW_TYPE = oi;
            this.today = new Date;
            this.currentMonthCells = [];
            this.scrollLock = !1;
            this.weeksKeptInDOM = this.MINIMUM_WEEKS_KEPT_IN_DOM;
            return this.makeDebouncedMethods("shadeDaysUpdateHeader")
        };
        b.prototype.render = function(b) {
            null ==
                b && (b = this.today);
            this.$el.html(v.fill("calendar_month"));
            this.renderBaseWeek(b);
            this.currentCenterWeek = b;
            this.currentMonth = M.getFirstOfMonth(b);
            b = Math.floor(this.weeksKeptInDOM / 2);
            this.renderWeeks(b);
            this.renderWeeks(-1 * b);
            this.shadeDays();
            this.setSubscriptions();
            return this
        };
        b.prototype.getDayView = function(c, e) {
            return b.__super__.getDayView.call(this, c, _.extend({
                scrollIntoView: this.scrollIntoView.bind(this)
            }, e))
        };
        b.prototype.addedToDOM = function() {
            b.__super__.addedToDOM.apply(this, arguments);
            this.calculateVariables();
            this.windowResizeCheck();
            this.updateHeader();
            return this.scrollToDay(this.currentCenterWeek)
        };
        b.prototype.updateRoute = function() {
            var b, c;
            b = M.dateToObj(this.currentMonth);
            c = b.year;
            b = b.month;
            b = l.lpad(b, 2, "0");
            return B.setBoardLocation(this.model.id, "calendar", [c, b], {
                replace: !0
            })
        };
        b.prototype.setSubscriptions = function() {
            this.stopSubscriptions();
            b.__super__.setSubscriptions.apply(this, arguments);
            $(ia).on("windowClassChange." + this.uniqueId(), function(b) {
                return function() {
                    return b.windowClassChangeCheck()
                }
            }(this));
            $(window).on("resize." + this.uniqueId(), function(b) {
                return function() {
                    return b.windowResizeCheck()
                }
            }(this));
            return $(".calendar-month").on("scroll." + this.uniqueId() + " ", function(b) {
                return function() {
                    return b.scrollCheck()
                }
            }(this))
        };
        b.prototype.stopSubscriptions = function() {
            b.__super__.stopSubscriptions.apply(this, arguments);
            $(ia).off("." + this.uniqueId());
            $(window).off("." + this.uniqueId());
            return $(".calendar-month").off("." + this.uniqueId())
        };
        b.prototype.windowClassChangeCheck = function(b, c) {
            var g;
            if ("small-window" ===
                c.newClass || "small-window" === c.oldClass) return $(".calendar-day.active").removeClass("active"), g = new Date(this.currentCenterWeek), this.calculateVariables(), this.windowResizeCheck(), this.scrollCheck(), this.scrollToDay(g)
        };
        b.prototype.calculateVariables = function() {
            var b;
            this.tableSpacing = null != (b = parseInt(this.$(".calendar-table").css("border-spacing"))) ? b : 5;
            return this.dayCellHeight = this.$(".day-cell").prop("clientHeight") + this.tableSpacing
        };
        b.prototype.windowResizeCheck = function() {
            var b, c, g, f;
            f = $(window).outerHeight();
            g = $("#header").outerHeight();
            b = $("#board-header").outerHeight();
            c = $(".calendar-header").outerHeight();
            this.calendarContentHeight = f - (g + b + c);
            b = Math.ceil(this.calendarContentHeight / this.dayCellHeight);
            this.weeksKeptInDOM = Math.max(5 * b, this.MINIMUM_WEEKS_KEPT_IN_DOM)
        };
        b.prototype.updateHeader = function() {
            var b;
            b = "" + this.currentMonth.toString("MMMM yyyy");
            return $(".js-calendar-header").text(b)
        };
        b.prototype.renderBaseWeek = function(b) {
            b = this.weekRowEl(b);
            $(".calendar-month").off("." + this.uniqueId());
            this.$(".calendar-table").append(b);
            return this.calculateFirstAndLastWeeksFromDOM()
        };
        b.prototype.renderWeeks = function(b) {
            var c;
            0 < b && (c = (new Date(this.lastRenderedSaturday)).addDays(7 * b), this.renderUpToDay(c));
            if (0 > b) return b = (new Date(this.firstRenderedWeek)).addDays(7 * b), this.renderUpToDay(b)
        };
        b.prototype.renderUpToDay = function(b) {
            var c, g, f;
            c = this.$(".calendar-table");
            g = M.getEndOfWeek(b);
            for (f = []; this.lastRenderedSaturday < g;) this.lastRenderedSaturday.addDays(7), f.push(this.weekRowEl(this.lastRenderedSaturday));
            c.append(f);
            b = M.getStartOfWeek(b);
            for (g = []; this.firstRenderedWeek > b;) this.firstRenderedWeek.addDays(-7), g.unshift(this.weekRowEl(this.firstRenderedWeek));
            c.prepend(g);
            this.scroll(this.dayCellHeight * g.length);
            this.deleteExcessWeeks();
            return this.calculateFirstAndLastWeeksFromDOM()
        };
        b.prototype.deleteExcessWeeks = function() {
            var b, c, g, f, h, k;
            b = $(".week");
            if (b.length > this.weeksKeptInDOM) {
                c = this.$(".calendar-table").outerHeight();
                g = $(".calendar-month").prop("scrollTop");
                if (g < c / 2) {
                    k = [];
                    g = c = f = b.length - 1;
                    for (h = this.weeksKeptInDOM; f <= h ? c <= h :
                        c >= h; g = f <= h ? ++c : --c) k.push($(b[g]).remove());
                    return k
                }
                c = b.length - this.weeksKeptInDOM;
                this.scroll(-1 * this.dayCellHeight * c);
                h = [];
                for (g = f = 0; 0 <= c ? f < c : f > c; g = 0 <= c ? ++f : --f) h.push($(b[g]).remove());
                return h
            }
        };
        b.prototype.scrollToDay = function(b, c) {
            var g, f, h;
            if (!this.scrollLock) return f = this.calendarContentHeight / 2 / this.dayCellHeight, h = M.getStartOfWeek(b), g = (new Date(h)).addWeeks(-1 * Math.ceil(f)), h = (new Date(h)).addWeeks(Math.ceil(f)), this.firstRenderedWeek <= g && this.lastRenderedWeek >= h ? (g = M.getStartOfWeek(b).addWeeks(-1 *
                Math.floor(f)), g = M.getMidnightInt(g), g = this.$("[name='" + g + "']"), g = g.prop("offsetTop"), this.scrollTo(g - this.tableSpacing + 1, c)) : (this.render(b), this.addedToDOM(), this.delegateEvents()), this.updateRoute()
        };
        b.prototype.completeAnimatedScroll = function() {
            return this.enableRenderNewDays()
        };
        b.prototype.scrollIntoView = function(b) {
            var c, g, f;
            f = b.top;
            b = f + b.height;
            c = $(".calendar-month");
            g = c.scrollTop();
            c = g + c.height();
            if (f < g) return this.scroll(f - g - this.tableSpacing + 1, this.SCROLL_ANIMATION_TIME);
            if (b > c) return this.scroll(b -
                c + this.tableSpacing + 1, this.SCROLL_ANIMATION_TIME)
        };
        b.prototype.scroll = function(b, c) {
            var g;
            g = $(".calendar-month").prop("scrollTop");
            return this.scrollTo(g + b, c)
        };
        b.prototype.scrollTo = function(b, c) {
            var g;
            g = $(".calendar-month");
            return c ? (this.scrollLock = !0, g.animate({
                scrollTop: b
            }, {
                duration: c,
                complete: function(b) {
                    return function() {
                        return b.completeAnimatedScroll()
                    }
                }(this)
            })) : g.scrollTop(b)
        };
        b.prototype.navigatePrevious = function() {
            return this.scrollMonth(-1)
        };
        b.prototype.navigateNext = function() {
            return this.scrollMonth(1)
        };
        b.prototype.scrollMonth = function(b) {
            if (!this.scrollLock) return b = (new Date(this.currentMonth)).addMonths(b), b = M.getFirstOfMonth(b).addDays(15), this.scrollToDay(b, this.SCROLL_ANIMATION_TIME)
        };
        b.prototype.enableRenderNewDays = function() {
            this.checkRenderDays();
            return this.scrollLock = !1
        };
        b.prototype.scrollCheck = function() {
            var b, c, g, f;
            x.hide();
            b = $(".calendar-month");
            c = b.outerHeight();
            b = b.prop("scrollTop");
            this.scrollLock || this.checkRenderDays();
            c /= 2;
            g = (new Date(this.firstRenderedWeek)).addWeeks(Math.floor((b +
                c) / this.dayCellHeight));
            if (!this.currentCenterWeek.isSameDay(g)) {
                this.currentCenterWeek = g;
                g = M.getEndOfWeek(this.currentCenterWeek);
                if (this.currentMonth.getMonth() !== this.currentCenterWeek.getMonth() || this.currentMonth.getMonth() !== g) g.getMonth() === this.today.getMonth() ? this.currentMonth = M.getFirstOfMonth(g) : this.currentMonth = M.getFirstOfMonth(this.currentCenterWeek), this.shadeDaysUpdateHeaderDebounced();
                this.updateRoute()
            }
            g = M.getMidnightInt(this.today);
            g = this.$("[name='" + g + "']").prop("offsetTop");
            b = g < (f = c + b) && f < g + this.dayCellHeight;
            return $(".today-button").toggleClass("on-today", b)
        };
        b.prototype.shadeDaysUpdateHeader = function() {
            this.updateHeader();
            return this.shadeDays()
        };
        b.prototype.checkRenderDays = function() {
            var b, c, g, f;
            b = $(".calendar-month");
            c = b.outerHeight();
            b = b.prop("scrollTop");
            c = this.$(".calendar-table").outerHeight() - c - b;
            f = this.dayCellHeight * this.WEEKS_FROM_EDGE_BEFORE_RENDER_NEW_DAYS;
            c < f && (g = !0, this.renderWeeks(this.WEEKS_TO_RENDER_UPON_SCROLL_THRESHHOLD));
            b < f && (g = !0, this.renderWeeks(-1 *
                this.WEEKS_TO_RENDER_UPON_SCROLL_THRESHHOLD));
            if (g && this.model.editable()) return _.defer(function() {
                return K.refreshCalendarCardSortable()
            })
        };
        b.prototype.shadeDays = function() {
            var b, c, g, f, h;
            b = this.$(".day-cell");
            h = this.currentMonthCells;
            g = 0;
            for (f = h.length; g < f; g++) c = h[g], $(c).removeClass("current-month");
            f = this.currentMonthCells = _.filter(b, this.cellInCurrentMonth, this);
            h = [];
            b = 0;
            for (g = f.length; b < g; b++) c = f[b], h.push($(c).addClass("current-month"));
            return h
        };
        b.prototype.cellInCurrentMonth = function(b) {
            b =
                parseInt($(b).attr("name"));
            return (new Date(b)).getMonth() === this.currentMonth.getMonth()
        };
        return b
    }(te);
    se = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.events = {
            sortreceive: "sortReceive",
            sortstop: "sortStop",
            "click .js-expand-day:not(.active)": "expand",
            "click .js-toggle-day": "clickToggleDay"
        };
        b.prototype.initialize = function(b) {
            this.data = b.data;
            this.getCardView = b.getCardView;
            this.$el.attr("name", M.getMidnightInt(this.data.day));
            return this.cardsDue =
                this.data.cardsDueOnDate
        };
        b.prototype.remove = function() {
            delete this.getCardView;
            return b.__super__.remove.apply(this, arguments)
        };
        b.prototype.render = function(b) {
            var c, g;
            null == b && (b = {});
            c = (new Date(this.data.day)).moveToLastDayOfMonth();
            c = 1 === this.data.day.getDate() || this.data.day.isSameDay(c);
            g = this.data.day.toString("MMM");
            c = {
                date: this.data.day.getDate(),
                month: c ? g : "",
                fullMonth: this.data.day.toString("MMMM"),
                isToday: (new Date).isSameDay(this.data.day)
            };
            _.extend(b, c);
            this.$el.html(v.fill("calendar_day",
                b, {
                    editable: this.model.editable()
                }));
            this.renderCardsAndHeaders();
            return this
        };
        b.prototype.renderCardsAndHeaders = function() {
            this.updateHeader();
            return this.renderCardsAndListHeaders()
        };
        b.prototype.cardListMap = function() {
            return _.groupBy(this.cardsDue, function(b) {
                return b.getList().id
            })
        };
        b.prototype.updateHeader = function() {
            var b;
            b = this.cardsDue.length;
            this.$(".day-number-header, .day-cards-header").empty();
            if (0 < b) return this.$(".day-number-header").text(b), this.$(".day-cards-header").text(l.formatNoun(b,
                "card"))
        };
        b.prototype.renderCardsAndListHeaders = function() {
            var b, c, g, f, h, k, l, s, n, t;
            b = this.$(".calendar-day-list");
            b.empty();
            k = [];
            t = this.cardListMap();
            for (l in t)
                if (H.call(t, l)) {
                    h = t[l];
                    c = {
                        listID: l,
                        listName: this.model.getList(l).get("name")
                    };
                    c = v.fill("calendar_day_list_header", c);
                    k.push(c);
                    s = 0;
                    for (n = h.length; s < n; s++) c = h[s], g = this.getCardView(c), g.$el.hasClass("ui-sortable-helper") || (f = g.render().el, $(f).attr("name", c.cid), g.delegateEvents(), k.push(f))
                }
            b.append(k);
            if (this.model.editable()) return K.refreshIfInitialized(this.$(".js-calendar-sortable"))
        };
        b.prototype.sortReceive = function(b, c) {
            if (this.validCardDragDrop(c.position.left, c.position.top)) return c.item.trigger("moveToCalendarDay", [c, this]);
            K.abort();
            return K.refreshIfInitialized(this.$(".js-calendar-sortable"))
        };
        b.prototype.sortStop = function(b, c) {
            return c.item.trigger("moveInCalendarDay", [c, this])
        };
        b.prototype.clickToggleDay = function(b) {
            return this.$(".calendar-day").hasClass("active") ? this.contract(b) : this.expand(b)
        };
        b.prototype.expand = function(b) {
            l.stop(b);
            if (!K.sorting) return $(".calendar-day.active").removeClass("active"),
                this.$(".calendar-day").addClass("active"), x.hide()
        };
        b.prototype.contract = function(b) {
            l.stop(b);
            this.$(".calendar-day").removeClass("active");
            return x.hide()
        };
        return b
    }(A);
    oi = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.tagName = "td";
        b.prototype.className = "day-cell";
        b.prototype.initialize = function(c) {
            this.scrollIntoView = c.scrollIntoView;
            return b.__super__.initialize.apply(this, arguments)
        };
        b.prototype.render = function() {
            return b.__super__.render.call(this, {
                monthView: !0
            })
        };
        b.prototype.expand = function() {
            var c;
            b.__super__.expand.apply(this, arguments);
            c = this.$(".calendar-day");
            return this.scrollIntoView({
                top: this.$el.prop("offsetTop"),
                height: c.outerHeight()
            })
        };
        b.prototype.validCardDragDrop = function(b, c) {
            return 0 <= c && c <= $(".calendar-content").outerHeight()
        };
        return b
    }(se);
    ri = function(c) {
        function b() {
            return b.__super__.constructor.apply(this, arguments)
        }
        n(b, c);
        b.prototype.className = "day-column";
        b.prototype.validCardDragDrop = function(b, c) {
            return 0 <= b && b <= $(".calendar-content").outerWidth()
        };
        return b
    }(se);
    var Rc, Sc, Tc, ve, ia, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    ve = {
        width: 0,
        className: "small-window"
    };
    Tc = {
        width: 750,
        className: "medium-window"
    };
    Sc = {
        width: 900,
        className: "large-window"
    };
    Rc = {
        width: 1280,
        className: "extra-large-window"
    };
    ia = new(function() {
        function c() {
            this.ensureRun = k(this.ensureRun, this);
            this.calc = k(this.calc, this)
        }
        c.prototype.calc = function() {
            var b, c, e, g, f, h;
            "undefined" !== typeof Aa && null !== Aa && Aa.time("WindowSize.calc");
            this.ranCalc = !0;
            c = this.className;
            b = $(window).width();
            $("#surface").height("initial");
            this.fExtraLarge = this.fLarge = this.fMedium = this.fSmall = !1;
            b > Rc.width ? (this.className = Rc.className, this.fExtraLarge = !0) : b > Sc.width ? (this.className = Sc.className, this.fLarge = !0) : b > Tc.width ? (this.className = Tc.className, this.fMedium = !0) : ($("#surface").height($(window).height()), this.className = ve.className, this.fSmall = !0);
            b = "unknown-window";
            g = [Rc, Sc, Tc, ve];
            f = 0;
            for (h = g.length; f < h; f++) e = g[f], b = b + " " + e.className;
            c !== this.className && ($("body").removeClass(b).addClass(this.className),
                $(this).triggerHandler("windowClassChange", {
                    newClass: this.className,
                    oldClass: c
                }));
            return "undefined" !== typeof Aa && null !== Aa ? Aa.timeEnd("WindowSize.calc") : void 0
        };
        c.prototype.ensureRun = function() {
            if (!this.ranCalc) return this.calc()
        };
        return c
    }());
    var sa, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    sa = new(function() {
        function c() {
            this.isEditing = k(this.isEditing, this);
            this.cancelEdits = k(this.cancelEdits, this)
        }
        c.prototype.cancelEdits = function(b) {
            $(".edit-controls:not(.keep)").remove();
            $(".editing").removeClass("editing");
            $(".checklist-new-item").removeClass("focus");
            $("input").not(b || "none").blur();
            $("textarea").not(b || "none").blur();
            b = $(".editable");
            if (0 < b.length) return b.each(function(b) {
                var c, g, f, h;
                c = $(".editable")[b];
                h = $(c).find(".edits-warning:first");
                b = $(c).find(".current:first");
                g = $(c).find(".field:first");
                c = g.data("draftKey");
                if ((null != (f = b.data("unmarkeddown")) ? f !== g.val() : g.val() !== b.text()) && "" !== g.val() && null != c) return da.set(c, g.val()), h.show()
            })
        };
        c.prototype.isEditing =
            function() {
                return 0 < $(".editing").length + $(".checklist-new-item.focus").length
            };
        c.prototype.setSurfaceHeight = function() {
            return $("#surface").css({
                "min-height": $(window).height()
            })
        };
        return c
    }());
    var K, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    K = new(function() {
        function c() {
            this.scrollWhileSorting = k(this.scrollWhileSorting, this);
            this.getScrollListForCardSort = k(this.getScrollListForCardSort, this);
            this.getScrollListForMemberSidebarDrag = k(this.getScrollListForMemberSidebarDrag, this);
            this.refresh = k(this.refresh, this);
            this.refreshDraggable = k(this.refreshDraggable, this);
            this.refreshListCardSortable = k(this.refreshListCardSortable, this);
            this.refreshCalendarCardSortable = k(this.refreshCalendarCardSortable, this);
            this.refreshCardSortable = k(this.refreshCardSortable, this);
            this.refreshListSortable = k(this.refreshListSortable, this);
            this.getBoardMeasurements = k(this.getBoardMeasurements, this);
            this.detachMousePos = k(this.detachMousePos, this);
            this.attachMousePos = k(this.attachMousePos, this);
            this.resetMouse =
                k(this.resetMouse, this);
            this.endSort = k(this.endSort, this);
            this.startSort = k(this.startSort, this)
        }
        c.prototype.startSort = function(b, c, e) {
            c = B.getCurrentModelCache();
            this._lockIndex = null != c ? c.lock("DragSort.startSort") : void 0;
            this.target = b.target;
            K.sorting = !0;
            K.resetMouse();
            K.getBoardMeasurements(e);
            K.attachMousePos();
            ba.hideSidebar();
            this.scrollSetTimeoutId = setInterval(K.scrollWhileSorting, 16);
            1 > $(b.target).closest(".pop-over").length && x.hide()
        };
        c.prototype.endSort = function() {
            var b;
            b = B.getCurrentModelCache();
            null != b && b.unlock(this._lockIndex);
            K.scrollList = null;
            K.detachMousePos();
            K.resetMouse();
            this.target = null;
            b = B.getCurrentBoard();
            b.viewState.get("archiveSidebarDropzoneVisible") && b.viewState.setArchiveSidebarDropzone(!1);
            clearInterval(this.scrollSetTimeoutId);
            _.defer(function() {
                return K.sorting = !1
            })
        };
        c.prototype.abort = function() {
            var b, c;
            b = $(".ui-sortable-helper");
            if (b.length && this.target) return b.data("dragCancel", !0), "function" === typeof(c = $(this.target)).sortable && c.sortable("cancel"), b.removeData("dragCancel")
        };
        c.prototype.resetMouse = function() {
            this.mouseX = this.mouseY = null;
            return this.hasMousedLeft = this.hasMousedRight = !1
        };
        c.prototype.attachMousePos = function() {
            var b, c;
            $(window).height();
            b = $(".board-canvas").width();
            c = B.getCurrentBoard().viewState.get("archiveSidebarDropzoneVisible");
            $(document).on("mousemove.dragsort", function(e) {
                return function(g) {
                    c && e.mouseX > b ? (K.isInSidebarArchiveDropzone = !0, $(".list-card.placeholder").addClass("hide"), $(".js-sidebar-archive-dropzone").addClass("hover-state")) : (K.isInSidebarArchiveDropzone = !1, $(".list-card.placeholder").removeClass("hide"), $(".js-sidebar-archive-dropzone").removeClass("hover-state"));
                    null != e.mouseX && null != e.mouseY && (g.pageX < e.mouseX - 40 ? e.hasMousedLeft = !0 : g.pageX > e.mouseX + 40 && (e.hasMousedRight = !0));
                    e.mouseX = g.pageX;
                    return e.mouseY = g.pageY
                }
            }(this))
        };
        c.prototype.detachMousePos = function() {
            return $(document).off("mousemove.dragsort")
        };
        c.prototype.getBoardMeasurements = function(b) {
            var c;
            this.pxBoardBorder = 200;
            this.pxListBorder = 170;
            this.pxMemberBoardBorder = 40;
            this.$listArea =
                $("#board")[0];
            this.scrollFactor = 0.1;
            c = $(".board-canvas");
            this.boardWidth = c.outerWidth();
            this.boardOffset = c.offset();
            this.boardHeight = c.height();
            null != b && b.isMemberDrag ? (this.leftEdge = this.boardOffset.left + this.pxMemberBoardBorder, this.rightEdge = this.boardOffset.left + this.boardWidth - this.pxMemberBoardBorder) : (this.leftEdge = this.boardOffset.left + this.pxBoardBorder, this.rightEdge = this.boardOffset.left + this.boardWidth - this.pxBoardBorder);
            this.cardAreaWidth = $("#board").outerWidth();
            this.topEdge = this.boardOffset.top +
                this.pxListBorder;
            this.bottomEdge = this.boardOffset.top + this.boardHeight - this.pxListBorder
        };
        c.prototype.refreshListSortable = function() {
            return Qa.enqueue("refreshListSortable", function() {
                if (!ha.isTouch()) return $(".js-list-sortable").sortable({
                    handle: ".list-header",
                    tolerance: "pointer",
                    placeholder: "list placeholder",
                    scroll: !1,
                    delay: "75",
                    distance: "7",
                    items: ".list:not(.add-list)",
                    start: function(b, c) {
                        var e, g;
                        K.startSort(b, c);
                        $(c.helper).appendTo("body");
                        "function" === typeof(e = $(".js-list-sortable")).sortable &&
                            e.sortable("refreshPositions", !0);
                        g = $(c.helper).width();
                        e = $(c.helper).height();
                        $(c.placeholder).width(g).height(e);
                        $(".list.add-list").addClass("fade");
                        $(".list.add-list").one("transitionend webkitTransitionEnd", function(b) {
                            return $(this).addClass("hide")
                        })
                    },
                    stop: function(b, c) {
                        l.stopPropagation(b);
                        K.endSort();
                        $(".list.add-list").removeClass("hide").removeClass("fade").off("transitionend webkitTransitionEnd")
                    }
                })
            })
        };
        c.prototype.refreshCardSortable = function() {
            return Qa.enqueue("refreshCardSortable",
                function(b) {
                    return function() {
                        var c;
                        c = B.getCurrentBoardView();
                        return B.showingCalendar(c) ? b.refreshCalendarCardSortable() : b.refreshListCardSortable()
                    }
                }(this))
        };
        c.prototype.refreshCalendarCardSortable = function() {
            return Qa.enqueue("refreshCalendarCardSortable", function(b) {
                return function() {
                    if (!ha.isTouch()) return $(".js-calendar-sortable, .js-archived-cards").sortable({
                        connectWith: ".js-calendar-sortable",
                        placeholder: "list-card placeholder-none",
                        scroll: !1,
                        distance: "7",
                        delay: "75",
                        items: ".list-card:not('.placeholder-none,.hide,.js-composer')",
                        start: function(b, c) {
                            var g, f;
                            $(c.helper).appendTo(".calendar-drag-area");
                            null != (f = $(".js-calendar-sortable, .js-archived-cards")) && "function" === typeof f.sortable && f.sortable("refreshPositions", !0);
                            g = B.getCurrentBoard();
                            _.defer(function() {
                                null != g && g.viewState.get("showSidebar") && (null != g ? g.viewState.getCurrentSidebarView() : void 0) instanceof Ua && g.viewState.setArchiveSidebarDropzone(!0);
                                return K.startSort(b, c)
                            })
                        },
                        stop: function(b, c) {
                            var g;
                            l.stopPropagation(b);
                            K.endSort();
                            g = B.getCurrentBoard();
                            if (null !=
                                g && g.viewState.get("showSidebar") && (null != g ? g.viewState.getCurrentSidebarView() : void 0) instanceof Ua && K.isInSidebarArchiveDropzone) g.viewState.setArchiveSidebarDropzone(!1), _.defer(function() {
                                return g.viewState.getCurrentSidebarView().renderArchivedCards()
                            })
                        },
                        over: function(b, c) {
                            return $(this).parents(".calendar-day").addClass("drop")
                        },
                        out: function(b, c) {
                            return $(this).parents(".calendar-day").removeClass("drop")
                        }
                    })
                }
            }(this))
        };
        c.prototype.refreshListCardSortable = function() {
            return Qa.enqueue("refreshListCardSortable",
                function() {
                    if (!ha.isTouch()) return $(".js-sortable, .js-archived-cards").sortable({
                        connectWith: ".js-sortable",
                        placeholder: "list-card placeholder",
                        scroll: !1,
                        delay: "75",
                        distance: "7",
                        items: ".list-card:not('.placeholder,.hide,.js-composer')",
                        start: function(b, c) {
                            var e;
                            K.draggedCardList = $(b.target).closest(".js-sortable");
                            K.getScrollListForCardSort(c);
                            $(c.helper).appendTo("body");
                            null != (e = $(".js-sortable, .js-archived-cards")) && "function" === typeof e.sortable && e.sortable("refreshPositions", !0);
                            e = B.getCurrentBoard();
                            null != e && e.viewState.get("showSidebar") && (null != e ? e.viewState.getCurrentSidebarView() : void 0) instanceof Ua && e.viewState.setArchiveSidebarDropzone(!0);
                            K.startSort(b, c);
                            e = $(c.helper).height() + 1;
                            $(c.placeholder).height(e)
                        },
                        stop: function(b, c) {
                            var e;
                            l.stopPropagation(b);
                            K.endSort();
                            e = B.getCurrentBoard();
                            null != e && e.viewState.get("showSidebar") && ((null != e ? e.viewState.getCurrentSidebarView() : void 0) instanceof Ua && K.isInSidebarArchiveDropzone) && _.defer(function() {
                                return e.viewState.getCurrentSidebarView().renderArchivedCards()
                            })
                        },
                        over: function(b, c) {
                            K.getScrollListForCardSort(c)
                        },
                        custom: {
                            refreshContainers: function() {
                                var b, c, e, g, f, h;
                                h = [];
                                for (c = g = f = this.containers.length - 1; 0 >= f ? 0 >= g : 0 <= g; c = 0 >= f ? ++g : --g) b = this.containers[c].element, e = $(b).closest(".list"), e.length && (b = e), e = b.offset(), this.containers[c].containerCache.left = e.left, this.containers[c].containerCache.top = e.top, this.containers[c].containerCache.width = b.outerWidth(), h.push(this.containers[c].containerCache.height = b.outerHeight());
                                return h
                            }
                        }
                    })
                })
        };
        c.prototype.refreshDraggable =
            function() {
                return Qa.enqueue("refreshDraggable", function() {
                    if (!ha.isTouch()) return $(".js-list-draggable-board-members .member:not(.deactivated)").draggable({
                        revert: "invalid",
                        revertDuration: 150,
                        appendTo: "#surface",
                        containment: "#surface",
                        zIndex: 100,
                        helper: "clone",
                        delay: "75",
                        distance: "7",
                        start: function(b, c) {
                            t("Board View", "Drag Member from Sidebar");
                            $(".list-card.active-card").removeClass("active-card");
                            K.startSort(b, c, {
                                isMemberDrag: !0
                            });
                            K.getScrollListForMemberSidebarDrag(b, c);
                            1 > $(b.target).closest(".pop-over").length &&
                                x.hide()
                        },
                        stop: function(b, c) {
                            l.stopPropagation(b);
                            K.endSort()
                        },
                        drag: function(b, c) {
                            _.throttle(K.getScrollListForMemberSidebarDrag(b, c), 100)
                        },
                        custom: {
                            refreshContainers: function() {
                                var b, c, e, g, f, h;
                                h = [];
                                for (c = g = f = this.containers.length - 1; 0 >= f ? 0 >= g : 0 <= g; c = 0 >= f ? ++g : --g) b = this.containers[c].element, e = $(b).closest(".list"), e.length && (b = e), e = b.offset(), this.containers[c].containerCache.left = e.left, this.containers[c].containerCache.top = e.top, this.containers[c].containerCache.width = b.outerWidth(), h.push(this.containers[c].containerCache.height =
                                    b.outerHeight());
                                return h
                            }
                        }
                    })
                })
            };
        c.prototype.refresh = function() {
            this.refreshListSortable();
            this.refreshCardSortable();
            this.refreshDraggable()
        };
        c.prototype.getScrollListForMemberSidebarDrag = function(b, c) {
            var e, g;
            e = $(".list");
            g = !1;
            e.each(function(b) {
                return function(c) {
                    if (!g && (c = $(e[c]), b.mouseX < c.offset().left + c.width())) return K.scrollList = c.find(".list-cards")[0], g = !0
                }
            }(this))
        };
        c.prototype.getScrollListForCardSort = function(b) {
            var c;
            K.scrollList = null != b ? null != (c = b.placeholder) ? c.parents(".list-cards")[0] :
                void 0 : void 0
        };
        c.prototype.throttledSortableRefreshPosition = _.throttle(function() {
            var b;
            return null != (b = K.draggedCardList) ? "function" === typeof b.sortable ? b.sortable("refreshPositions") : void 0 : void 0
        }, 100);
        c.prototype.throttledSortableRefresh = _.throttle(function() {
            return K.refreshIfInitialized(K.draggedCardList)
        }, 350);
        c.prototype.debounceArchivedCardsRefresh = _.debounce(function() {
            return K.refreshIfInitialized($(".js-archived-cards"))
        }, 250);
        c.prototype.scrollWhileSorting = function() {
            var b, c;
            if (this.sorting) {
                if (!K.isInBottomArchiveDropzone &&
                    !K.isInSidebarArchiveDropzone && (b = this.$listArea.scrollLeft, this.mouseX < this.leftEdge && this.hasMousedLeft ? (b -= 1.8 * Math.sqrt(this.leftEdge - this.mouseX), this.$listArea.scrollLeft = b, this.throttledSortableRefreshPosition()) : this.mouseX > this.rightEdge && this.hasMousedRight && (b += 1.8 * Math.sqrt(this.mouseX - this.rightEdge), this.$listArea.scrollLeft = b, this.throttledSortableRefreshPosition()), null != (null != (c = this.scrollList) ? c.scrollTop : void 0))) return this.mouseY < this.topEdge ? (c = 1.7 * Math.sqrt(this.topEdge - this.mouseY),
                    this.scrollList.scrollTop -= c) : this.mouseY > this.bottomEdge && (c = 1.7 * Math.sqrt(this.mouseY - this.bottomEdge), this.scrollList.scrollTop += c), this.throttledSortableRefreshPosition()
            } else K.endSort()
        };
        c.prototype.refreshIfInitialized = function(b) {
            if (null != b && b.hasClass("ui-sortable")) return b.sortable("refresh")
        };
        return c
    }());
    var x, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    x = new(function() {
        function c() {
            this.clearDisplayTypes = k(this.clearDisplayTypes, this);
            this.hide = k(this.hide, this);
            this.toggle = k(this.toggle, this);
            this.popView = k(this.popView, this);
            this.pushView = k(this.pushView, this);
            this.checkPosition = k(this.checkPosition, this);
            this.show = k(this.show, this);
            this.load = k(this.load, this);
            this.calcPos = k(this.calcPos, this);
            this.viewStack = [];
            this.el_width = 1;
            this.el_top = this.el_left = "";
            this.view = null;
            this.args = {};
            this.isVisible = !1;
            $(function(c) {
                return function() {
                    b = $(".pop-over").removeClass("fancy-scrollbar");
                    e = $(".pop-over .header");
                    d = $(".pop-over .content").addClass("fancy-scrollbar");
                    d.addClass("js-tab-parent");
                    g = b.find(".js-back-view");
                    g.click(function(b) {
                        return c.popView()
                    });
                    return b.find(".js-close-popover").click(function(b) {
                        l.stop(b);
                        return c.hide()
                    })
                }
            }(this))
        }
        var b, d, e, g, f;
        f = g = d = e = b = null;
        c.prototype.shortcut = function(b) {
            switch (b) {
                case 27:
                    return this.popView(), ["Esc - Pop Pop-over View", "Pop Over"]
            }
        };
        c.prototype.calcPos = function(c) {
            var f, g, k, l, n, t, v, x, y, A, B, D, F;
            if (this.isVisible || !(null != c && c.notNew)) {
                x = $(window).width();
                v = $(window).height();
                null != (t = this.view) && t.maxWidth ?
                    this.view.maxWidth > x ? b.width(x) : b.width(this.view.maxWidth) : b.width("");
                t = b.outerWidth();
                c && !c.notNew && (this.args = c);
                c = null != (null != (g = this.args) ? g.clientx : void 0) && null != (null != (k = this.args) ? k.clienty : void 0);
                $(null != (y = this.args) ? y.elem : void 0).is(":visible") ? (this.args.elem.el && (this.elem = this.args.elem.el), this.el_width = $(this.args.elem).outerWidth(), this.el_left = $(this.args.elem).offset().left, this.el_top = $(this.args.elem).offset().top + (_.isNumber(this.args.top) ? this.args.top : 28)) : c && (this.el_left =
                    this.args.clientx, this.el_top = this.args.clienty);
                f = null != (A = this.view) && A.hideHeader && (ia.fMedium || ia.fLarge || ia.fExtraLarge) ? v - 68 : ia.fMedium || ia.fLarge || ia.fExtraLarge ? v - e.outerHeight() - 68 : "";
                if (!(null != (B = this.args) && B.clientx) || !(null != (D = this.args) && D.clienty))
                    if (!_.include(["block", "inline-block", "inline"], $(null != (F = this.args) ? F.elem : void 0).css("display"))) return;
                n = 0 < this.el_top ? this.el_top : 5;
                k = b.outerHeight();
                g = n + k;
                if (ia.fLarge || ia.fExtraLarge) v += $(window).scrollTop(), g > v && (n = v - k - 8), k > v - 44 &&
                    (n = 44);
                l = 0 < this.el_left ? this.el_left : 5;
                l + t + 16 > x && (l = x - (t + 5));
                this.isVisible || b.css({
                    left: -1E4,
                    top: -1E4
                }).show();
                _.defer(function(c) {
                    return function() {
                        b.css({
                            left: l,
                            top: n
                        });
                        return d.css({
                            maxHeight: f
                        })
                    }
                }(this))
            }
        };
        c.prototype.load = function(c, f, g) {
            var k;
            _.isFunction(c) ? (null == f && (f = {}), null == f.modelCache && (f.modelCache = B.getCurrentModelCache()), this.view = new c(f)) : (this.view = c, g = f);
            this.clearDisplayTypes();
            b.addClass(this.view.displayType);
            "function" === typeof(k = this.view).getData && k.getData();
            e.find(".header-title").text(this.view.getViewTitle());
            g ? d.empty().append(this.view.el) : d.empty().append(this.view.render().el);
            this.view.delegateEvents();
            g || "undefined" !== typeof X && null !== X && X.addHandler(this.view, {
                scope: "popover_view",
                modal: !0
            });
            return this.view
        };
        c.prototype.show = function(c) {
            c.keepEdits || sa.cancelEdits(c.elActive);
            c.preloaded || (this.hide(), c.view = this.load(c.view, c.options));
            this.viewStack.push(c.view);
            this.calcPos(c);
            _.defer(function(c) {
                return function() {
                    if (0 < b.find(".js-autofocus").length && (!ha.isTouch() || !b.find(".js-autofocus:first").hasClass("js-no-touch-autofocus"))) return b.find(".js-autofocus:first").focus().select()
                }
            }(this));
            this.isVisible = !0;
            "function" === typeof c.shown && c.shown(b);
            f = c.hidden;
            null != c && c.autoPosition ? this.positionInterval = setInterval(this.checkPosition, 250) : clearInterval(this.checkPosition);
            "undefined" !== typeof X && null !== X && X.addHandler(this, {
                scope: "popover",
                modal: !0
            })
        };
        c.prototype.checkPosition = function() {
            var c, d, e, f;
            if (this.isVisible) {
                if (d = b.offset().top, f = $(window).scrollTop(), d !== f)
                    if (e = $(window).height(), c = b.outerHeight(), d < f && c <= e) b.css({
                        top: f
                    });
                    else if (d + c > f + e && (c = f + Math.max(0, e - c), c !== d)) return b.css({
                    top: c
                })
            } else this.clearInterval(this.positionInterval)
        };
        c.prototype.pushView = function(c) {
            var d;
            d = _.last(this.viewStack);
            null != d && "function" === typeof d.willBePushedDown && d.willBePushedDown();
            c.view = this.load(c.view, c.options);
            this.viewStack.push(c.view);
            g.show();
            if (0 < b.find(".js-autofocus").length) {
                if (ha.isTouch() && b.find(".js-autofocus:first").hasClass("js-no-touch-autofocus")) return;
                _.delay(function(c) {
                    return function() {
                        return b.find(".js-autofocus:first").focus().select()
                    }
                }(this), 10)
            }
            return this.calcPos()
        };
        c.prototype.popView = function() {
            var c;
            c = _.last(this.viewStack);
            null != c && ("function" === typeof c.willBePopped && c.willBePopped(), X.removeHandler(c), c.remove());
            this.viewStack.pop();
            if (c = _.last(this.viewStack)) {
                this.load(c, !0);
                1 === this.viewStack.length && g.hide();
                if (0 < b.find(".js-autofocus").length) {
                    if (ha.isTouch() && b.find(".js-autofocus:first").hasClass("js-no-touch-autofocus")) return;
                    _.delay(function(c) {
                        return function() {
                            return b.find(".js-autofocus:first").focus().select()
                        }
                    }(this), 10)
                }
                return this.calcPos()
            }
            x.hide()
        };
        c.prototype.toggle = function(b) {
            var c, d;
            return (this.args &&
                (null != (c = this.args.elem) ? c[0] : void 0)) === (null != (d = b.elem) ? d[0] : void 0) ? this.hide() : this.show(b)
        };
        c.prototype.hide = function() {
            var c, e, k, l;
            clearInterval(this.positionInterval);
            b.hide();
            l = this.viewStack.reverse();
            e = 0;
            for (k = l.length; e < k; e++) c = l[e], "function" === typeof c.willBePopped && c.willBePopped(), c.remove();
            d.empty();
            g.hide();
            this.clearDisplayTypes();
            "undefined" !== typeof X && null !== X && X.removeHandlerScope("popover_view");
            "undefined" !== typeof X && null !== X && X.removeHandler(this);
            this.viewStack = [];
            this.args =
                this.view = null;
            this.isVisible = !1;
            "function" === typeof f && f(b);
            return f = null
        };
        c.prototype.clearDisplayTypes = function() {
            return b.removeClass("miniprofile avdetail woof search-over popover-notifications")
        };
        return c
    }());
    var ka, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    ka = new(function() {
        function c() {
            this.init = k(this.init, this)
        }
        var b, d, e;
        e = d = b = null;
        c.prototype.shortcut = function(b) {
            switch (b) {
                case 27:
                    return this.hide(), ["Esc - Hide Dialog", "Dialog"]
            }
        };
        c.prototype.init = function() {
            b = $(".window");
            d = b.find(".window-wrapper");
            d.addClass("js-tab-parent");
            this.scrolltop = 0;
            this.isVisible = !1
        };
        c.prototype.calcPos = function(c) {
            var d;
            ia.fSmall && ($("#surface").height($(window).height()), c = "auto");
            b.css({
                width: c
            });
            null != (null != (d = this.view) ? d.forceUpdateSidebarPos : void 0) && ka.isVisible && this.view.forceUpdateSidebarPos();
            ka.isVisible || b.show()
        };
        c.prototype.show = function(c) {
            var f;
            this.isVisible && this.hide(c.isNavigating);
            sa.cancelEdits();
            x.hide();
            this.clear();
            e = c.hide;
            this.scrolltop = $(window).scrollTop();
            $("body").addClass("window-up");
            null != (f = B.getCurrentBoard()) && f.composer.save("vis", !1);
            $("body").find(".js-disable-on-dialog:not([disabled])").addClass("disabled-for-dialog").attr("disabled", "disabled");
            null != c.displayType && b.addClass(c.displayType);
            d.empty().append(v.fill("dialog_close_button"));
            c.view ? (this.view = c.view, d.append(this.view.render().el), this.view.delegateEvents(), "undefined" !== typeof X && null !== X && X.addHandler(this.view, {
                scope: "dialog_view",
                modal: !0
            })) : c.html && (this.view = null, d.append(c.html));
            null != c.maxWidth ? this.calcPos(c.maxWidth) : this.calcPos("");
            this.isVisible = !0;
            _.defer(function(b) {
                return function() {
                    $(".window").css({
                        height: 1E5
                    });
                    $(".window-overlay").scrollTop(1);
                    $(".window-overlay").scrollTop(0);
                    return $(".window").css({
                        height: ""
                    })
                }
            }(this));
            b.find(".js-autofocus:first,.focus-dummy").focus().select();
            b.find(".js-submit-okay").click(function() {
                var d, e, f, k, l;
                e = b.find("form:first");
                l = e.find(".non-empty");
                f = 0;
                for (k = l.length; f < k; f++)
                    if (d = l[f], /^\s*$/.test($(d).val())) return;
                ka.hide();
                "function" === typeof c.okay && c.okay({
                    form: e
                })
            });
            b.find(".js-submit-cancel").click(function() {
                ka.hide();
                "function" === typeof c.cancel && c.cancel()
            });
            b.find("input[type=submit]").click(function(b) {
                l.preventDefault(b)
            });
            b.find(".js-close-window").click(function(b) {
                l.stop(b);
                ka.hide(null, !0)
            });
            "undefined" !== typeof X && null !== X && X.addHandler(this, {
                scope: "dialog",
                modal: !0
            })
        };
        c.prototype.hide = function(c, d) {
            if (this.isVisible && !sa.isEditing() && !$(".new-comment").hasClass("focus") || d) "function" === typeof e && e(c),
                e = null, null != this.view && ("undefined" !== typeof X && null !== X && X.removeHandler(this.view), this.view.remove(), this.view = null), "undefined" !== typeof X && null !== X && X.removeHandler(this), b.hide(), $("body").removeClass("window-up"), _.defer(function(b) {
                    return function() {
                        $(window).scrollTop(b.scrolltop);
                        return b.scrolltop = 0
                    }
                }(this)), this.isVisible = !1, $(".window-overlay").off("scroll.fixSidebar"), $(".disabled-for-dialog").removeAttr("disabled"), x.hide()
        };
        c.prototype.clear = function() {
            d.width("");
            d.empty()
        };
        return c
    }());
    $(ka.init);
    var Qa, D = [].slice;
    Qa = new(function() {
        function c() {
            this.holding = !1;
            this.fxs = {};
            this._unnamed = 0
        }
        c.prototype.hold = function() {
            return this.holding = !0
        };
        c.prototype.enqueue = function() {
            var b, c;
            c = 2 <= arguments.length ? D.call(arguments, 0, b = arguments.length - 1) : (b = 0, []);
            b = arguments[b++];
            c = c[0];
            null == c && (c = "unnamed_" + this._unnamed++);
            this.holding ? this.fxs[c] = b : b()
        };
        c.prototype.release = function() {
            var b;
            this.holding = !1;
            b = this.fxs;
            this.fxs = {};
            _.defer(function() {
                var c, e;
                for (e in b) c = b[e], c()
            })
        };
        return c
    }());
    var si, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        H = {}.hasOwnProperty,
        n = function(c, b) {
            function d() {
                this.constructor = c
            }
            for (var e in b) H.call(b, e) && (c[e] = b[e]);
            d.prototype = b.prototype;
            c.prototype = new d;
            c.__super__ = b.prototype;
            return c
        },
        F = [].indexOf || function(c) {
            for (var b = 0, d = this.length; b < d; b++)
                if (b in this && this[b] === c) return b;
            return -1
        },
        D = [].slice;
    si = function(c) {
        function b() {
            this.syncError = k(this.syncError, this);
            this.stopUpgrade = k(this.stopUpgrade, this);
            this.upgradeNow = k(this.upgradeNow,
                this);
            this.upgradeClient = k(this.upgradeClient, this);
            this.advertiseUpgrade = k(this.advertiseUpgrade, this);
            this.getMemberBillingCardProductUrl = k(this.getMemberBillingCardProductUrl, this);
            this.getMemberBillingCardUrl = k(this.getMemberBillingCardUrl, this);
            this.getMemberBillingUrl = k(this.getMemberBillingUrl, this);
            this._memUrl = k(this._memUrl, this);
            this.getOrganizationMembersUrl = k(this.getOrganizationMembersUrl, this);
            this.getOrganizationExportUrl = k(this.getOrganizationExportUrl, this);
            this.getOrganizationPlansUrl =
                k(this.getOrganizationPlansUrl, this);
            this.getOrganizationBillingCardProductUrl = k(this.getOrganizationBillingCardProductUrl, this);
            this.getOrganizationBillingCardUrl = k(this.getOrganizationBillingCardUrl, this);
            this.getOrganizationBillingUrl = k(this.getOrganizationBillingUrl, this);
            this.getOrganizationAccountUrl = k(this.getOrganizationAccountUrl, this);
            this.getOrganizationMemberCardsUrl = k(this.getOrganizationMemberCardsUrl, this);
            this._orgUrl = k(this._orgUrl, this);
            return b.__super__.constructor.apply(this,
                arguments)
        }
        n(b, c);
        b.prototype.initialize = function() {
            this._savedTitle = "";
            O["for"]("header").loadHeaderData(function(b) {
                return function(b, c) {
                    var d, h, k, l;
                    if (null != c)
                        for (h in k = ModelCacheCache._caches, k) d = k[h], (l = d.getCacheType(), 0 <= F.call(Ra.fullCacheTypes, l)) && d.enqueueDelta("Member", c);
                    return O.triggerWaits("headerData")
                }
            }(this));
            return _.delay(function() {
                return O["for"]("header").loadBoardsMenuData(function(b) {
                    return function(b, c) {
                        var d, h, k, l;
                        if (null != c)
                            for (h in k = ModelCacheCache._caches, k) d = k[h], (l = d.getCacheType(), 0 <= F.call(Ra.fullCacheTypes, l)) && d.enqueueDelta("Member", c);
                        return O.triggerWaits("boardsData")
                    }
                }(this))
            }, 500)
        };
        b.prototype.routes = {
            "": "memberBoardsView",
            "search(?*query)": "searchView",
            "select-org-to-upgrade": "businessClassSelectOrgView",
            "api/generateToken": "generateTokenView",
            "board/*path": "oldBoardView",
            "b/:shortLink(/*path)": "boardView",
            shortcuts: "shortcutsView",
            blank: "blankView",
            "org/:id": "organizationById",
            "card/board/(:slug/):idBoard/:idCard": "oldCardView",
            "card/(:slug/):idBoard/:idCard": "oldCardView",
            "c/:id(/*path)": "cardView",
            ":username/boards": "memberBoardsView",
            ":username/notifications": "memberNotificationsView",
            ":username/cards": "memberCardsView",
            ":name/account": "userOrOrgAccountView",
            ":name/billing": "userOrOrgBillingView",
            ":name/billing/card": "userOrOrgBillingCardView",
            ":name/billing/card/:product": "userOrOrgBillingCardView",
            ":name/members": "organizationMembersView",
            ":name/:username/cards": "organizationMemberCardsView",
            ":name/export": "organizationExportView",
            ":name/plans": "organizationPlansView",
            ":name(/)": "userOrOrgProfileView",
            "*splat": "displayErrorPage"
        };
        b.prototype.viewType = "none";
        b.prototype.topLevelView = function(b, c, g) {
            null == this.applicationView && (this.applicationView = new Uh);
            null == g && (g = {});
            null == g.modelCache && (g.modelCache = this.getCurrentModelCache());
            return this.applicationView.subview(b, c, g)
        };
        b.prototype.title = function(b) {
            var c, g;
            null != b && (this._savedTitle = b);
            b = (c = vb.unreadCount(ModelCacheCache["for"]("header"))) ? "(" + c + ") " : "";
            if (0 < (null != (g = this._savedTitle) ? g.length : void 0)) b +=
                "" + this._savedTitle + " | ";
            b += "Trello";
            if (null != (g = window.fluid)) g.dockBadge = c ? c : null;
            Tb.setNotifications(0 < c);
            return document.title = b
        };
        b.prototype.setLocation = function(b) {
            var c, g;
            g = b.title;
            c = b.location;
            b = b.options;
            null != g && this.title(g);
            c && (/^#/.test(c) && (c = c.substr(1)), this.navigate(c, b), this.location = c)
        };
        b.prototype.load = function(b) {
            return this.setLocation({
                location: b
            })
        };
        b.prototype.getSearchUrl = function(b) {
            return "/search?q=" + encodeURIComponent(b)
        };
        b.prototype.getPermanentOrganizationUrl = function(b) {
            return "/org/" +
                b
        };
        b.prototype.getOrganizationUrl = function(b) {
            return "/" + (_.isString(b) ? b : b.get("name"))
        };
        b.prototype._orgUrl = function(b, c) {
            return "" + this.getOrganizationUrl(b) + c
        };
        b.prototype.getOrganizationMemberCardsUrl = function(b, c) {
            return this._orgUrl(b, "/" + c + "/cards")
        };
        b.prototype.getOrganizationAccountUrl = function(b) {
            return this._orgUrl(b, "/account")
        };
        b.prototype.getOrganizationBillingUrl = function(b) {
            return this._orgUrl(b, "/billing")
        };
        b.prototype.getOrganizationBillingCardUrl = function(b) {
            return this._orgUrl(b,
                "/billing/card")
        };
        b.prototype.getOrganizationBillingCardProductUrl = function(b, c) {
            return null != c ? this._orgUrl(b, "/billing/card/" + c) : this.getOrganizationBillingCardUrl(b)
        };
        b.prototype.getOrganizationPlansUrl = function(b) {
            return this._orgUrl(b, "/plans")
        };
        b.prototype.getOrganizationExportUrl = function(b) {
            return this._orgUrl(b, "/export")
        };
        b.prototype.getOrganizationMembersUrl = function(b) {
            return this._orgUrl(b, "/members")
        };
        b.prototype.showingCalendar = function(b) {
            return 0 < (null != b ? b.$(".calendar-wrapper").length :
                void 0)
        };
        b.prototype.getBoardUrl = function(b, c, g, f) {
            var h;
            null == f && (f = []);
            if (null != (null != c ? c.id : void 0)) c = c.id;
            b = b.get("Board", c);
            c = null != (h = null != b ? b.get("url") : void 0) ? l.relativeUrl(h) : (b = null != b ? b.get("name") : void 0) ? "/board/" + l.makeSlug(b) + "/" + c : "/board/" + c;
            g && (c += "/" + g);
            b = 0;
            for (h = f.length; b < h; b++) g = f[b], c += "/" + g;
            return c
        };
        b.prototype.getBoardShortUrl = function(b, c, g) {
            if (null != (null != c ? c.id : void 0)) c = c.id;
            b = ra.get(b, c);
            null != (null != b ? b.get("shortUrl") : void 0) ? b = l.relativeUrl(shortUrl) : (b = null !=
                b ? b.get("shortLink") : void 0, b = "/b/" + b);
            g && (b += "/" + g);
            return b
        };
        b.prototype.getMemberBoardProfileUrl = function(b, c) {
            return "" + this.getBoardUrl(this.getCurrentModelCache(), c) + "/member/" + b
        };
        b.prototype.setBoardLocation = function(b, c, g, f) {
            var h;
            null == c && (c = "");
            null == g && (g = []);
            h = ra.get("board_" + b, b).get("name");
            this.setLocation({
                title: h,
                location: this.getBoardUrl(this.getCurrentModelCache(), b, c, g),
                options: f
            })
        };
        b.prototype._memUrl = function(b, c) {
            return "" + this.getMemberUrl(b) + c
        };
        b.prototype.getMemberProfileUrl =
            function(b) {
                null == b && (b = y.myUsername());
                return "/" + b
            };
        b.prototype.getMemberNotificationsUrl = function(b) {
            null == b && (b = y.myUsername());
            return "/" + b + "/notifications"
        };
        b.prototype.getMemberBoardsUrl = function(b) {
            null == b && (b = y.myUsername());
            return b === y.myUsername() ? "/" : "/" + b + "/boards"
        };
        b.prototype.getMemberCardsUrl = function(b) {
            null == b && (b = y.myUsername());
            return "/" + b + "/cards"
        };
        b.prototype.getMemberAccountUrl = function(b) {
            null == b && (b = y.myUsername());
            return "/" + b + "/account"
        };
        b.prototype.getMemberBillingUrl = function(b) {
            null ==
                b && (b = y.myUsername());
            return "/" + b + "/billing"
        };
        b.prototype.getMemberBillingCardUrl = function(b) {
            null == b && (b = y.myUsername());
            return "/" + b + "/billing/card"
        };
        b.prototype.getMemberBillingCardProductUrl = function(b, c) {
            null == b && (b = y.myUsername());
            return null != c ? "/" + b + "/billing/card/" + c : this.getMemberBillingCardUrl(b)
        };
        b.prototype.getPermanentCardUrl = function(b, c, g) {
            return g ? "/card/" + g.get("username") + "/" + b + "/" + c : "/card/board/" + b + "/" + c
        };
        b.prototype.getCardUrl = function(b) {
            var c, g;
            if (null != (c = b.get("url"))) return l.relativeUrl(c);
            c = b.get("name");
            return this.getCardUrlWithoutModels(b.get("idBoard"), null != (g = b.get("idShort")) ? g : b.id, c)
        };
        b.prototype.getCardUrlWithoutModels = function(b, c, g) {
            return null == c ? null : l.isShortId(c) ? "/card/" + l.makeSlug(g) + "/" + b + "/" + c : "/card/board/" + l.makeSlug(g) + "/" + b + "/" + c
        };
        b.prototype.saveMemberBoardProfileLocation = function(b, c) {
            var g;
            g = b.get("fullName");
            return this.setLocation({
                title: "" + g,
                location: this.getMemberBoardProfileUrl(b.get("username"), c)
            })
        };
        b.prototype.onMemberView = function() {
            return "member" ===
                this.viewType
        };
        b.prototype.onAnyOrganizationView = function() {
            return "organization" === this.viewType
        };
        b.prototype.onOrganizationView = function(b) {
            return this.onAnyOrganizationView() && this.idModel === b
        };
        b.prototype.onAnyBoardView = function() {
            return "board" === this.viewType
        };
        b.prototype.onBoardView = function(b) {
            var c;
            if (this.onAnyBoardView()) {
                if (l.checkId(b)) return this.idModel === b;
                if (l.isShortLink(b)) return (null != (c = ra.get(this.getCurrentModelCache(), this.idModel)) ? c.get("shortLink") : void 0) === b
            }
            return !1
        };
        b.prototype.onBrowseView =
            function() {
                return "browse" === this.viewType
            };
        b.prototype.onErrorView = function() {
            return "error" === this.viewType
        };
        b.prototype.getCurrentBoardView = function() {
            var b;
            return null != (b = this.applicationView) ? b.existingSubviewOrUndefined(Vb, this.getCurrentBoard()) : void 0
        };
        b.prototype.getCurrentBoard = function() {
            return !this.onAnyBoardView() ? null : ra.get(this.getCurrentModelCache(), this.idModel)
        };
        b.prototype.getModelCache = function(b, c, g) {
            switch (b) {
                case "board":
                    return ModelCacheCache["for"]("board_" + g);
                case "member":
                    return ModelCacheCache["for"]("member_" +
                        g);
                case "organization":
                    return ModelCacheCache["for"]("organization_" + g);
                case "none":
                    break;
                default:
                    return ModelCacheCache["for"]("other_" + b + "_" + c + "_" + g)
            }
        };
        b.prototype.getCurrentModelCache = function() {
            return this.getModelCache(this.viewType, this.subViewType, this.idModel)
        };
        b.prototype.cleanModelCacheCache = function() {
            var b, c, g, f, h, k, l, s, n;
            f = this.getCurrentModelCache();
            k = {
                organization: 0,
                board: 5
            };
            g = {
                organization: [],
                board: []
            };
            n = ModelCacheCache._caches;
            for (h in n)
                if (b = n[h], h !== f.name) switch (s = b.getCacheType(),
                    s) {
                    case "organization":
                    case "board":
                        g[s].push(b);
                        break;
                    case "header":
                        null;
                        break;
                    default:
                        ModelCacheCache.dropCache(b)
                }
                b = [];
            for (s in g) c = g[s], l = k[s], c.length <= l || (_.sortBy(c, "lastUsed"), b.push(function() {
                var b;
                for (b = []; c.length > l;) b.push(ModelCacheCache.dropCache(c.shift()));
                return b
            }()));
            return b
        };
        b.prototype.saveBoardsView = function() {
            if (!this.overBoardsPage) return this.overBoardsPage = !0, this._idBoard = this.idModel, this._boardPath = /\/b\/[^\/]*\/(.*)/.exec(this.location)[1]
        };
        b.prototype.loadBoardsView =
            function() {
                this.overBoardsPage = !1;
                this.setViewType("board", null, this._idBoard);
                this.boardView(this._idBoard, this._boardPath);
                delete this._idBoard;
                return delete this._boardPath
            };
        b.prototype.clearPreviousView = function() {
            var b;
            this.overBoardsPage && (this.overBoardsPage = !1);
            na.setQuery("");
            null != (b = this.applicationView) && b.removeQueued();
            delete this.applicationView;
            x.hide();
            ka.isVisible && ka.hide(!0);
            $("#content").html("");
            $("#surface").height("");
            $("body").scrollTop("0").removeClass("single-column tabbed-page search-page body-board-view body-custom-board-background body-custom-board-background-tiled body-light-board-background body-dark-board-background").css({
                "background-image": "",
                "background-color": ""
            });
            $("#edit-sticker").hide();
            $(".attachment-viewer").remove();
            va.clearProcessingAttachments();
            if (!this.onAnyBoardView()) return Tb.setBackground({
                color: Pa.blue.color
            })
        };
        b.prototype.setViewType = function(b, c, g) {
            ab.markCurrentBoardAsViewed();
            this.viewType = b;
            this.viewSubType = c;
            this.idModel = g;
            ab.markCurrentBoardAsViewed();
            return this.cleanModelCacheCache()
        };
        b.prototype.boardView = function(b, c, g) {
            var f, h, k;
            null == c && (c = "");
            f = c.split("/");
            h = f[1];
            k = f[2];
            c = f[3];
            f = f[4];
            b = {
                idBoard: b,
                section: h
            };
            "calendar" === h && (null != k && null != c) && (_.extend(b, {
                year: k,
                month: c
            }), null != f && _.extend(b, {
                day: f
            }));
            "member" === h && null != k && (b.usernameBoardProfile = k);
            return this.displayBoard(b, g)
        };
        b.prototype.oldBoardView = function(b, c) {
            var g, f;
            f = {};
            g = b.split("/");
            f.idBoard = 1 === g.length ? g[0] : g[1];
            3 === g.length ? f.section = g[2] : 4 === g.length && (f.usernameBoardProfile = g[3]);
            this.displayBoard(f, c)
        };
        b.prototype.showCardDetail = function(b, c, g) {
            var f, h, k;
            if (null != b)
                if (!this.onBoardView(null != (h = b.getBoard()) ? h.id : void 0) || b.modelCache !==
                    this.getCurrentModelCache()) this.navigate(this.getCardUrl(b), {
                    trigger: !0
                });
                else if (b.markRelatedNotificationsRead(), ModelCacheCache["for"]("header").off("add:Notification", b.markRelatedNotificationsRead, b), ModelCacheCache["for"]("header").on("add:Notification", b.markRelatedNotificationsRead, b), t("Card Front", "Open Card Detail"), h = new qg({
                    modelCache: this.getCurrentModelCache(),
                    model: b
                }), f = b.getBoard(), k = this.showingCalendar(b.getBoard() && this.applicationView.existingSubviewOrUndefined(Vb, b.getBoard())),
                ka.show({
                    view: h,
                    hide: function(c) {
                        return function(e) {
                            ModelCacheCache["for"]("header").off("add:Notification", b.markRelatedNotificationsRead);
                            b.unbindMarkRead();
                            $(".attachment-viewer").remove();
                            if (!e) return c.setBoardLocation(f.id, k ? "calendar" : void 0), c.title(f.get("name"))
                        }
                    }(this),
                    isNavigating: g
                }), b.onId(function(c) {
                    return function() {
                        c.title("" + b.get("name") + " on " + b.getBoard().get("name"));
                        return c.navigate(c.getCardUrl(b))
                    }
                }(this)), null != c) h[c]()
        };
        b.prototype.displayBoard = function(b, c) {
            var g, f, h,
                k, q, s, n, t, v;
            P("controller", ["boardView", b.idBoard]);
            t = function(b) {
                return function(c) {
                    return null != c && c.match("Confirm to view") && y.isLoggedIn() ? ca.waitFor("header", y.myId(), function() {
                        return b.displayErrorPage(_.extend({
                            errorType: "unconfirmedNotFound",
                            modelType: "board"
                        }, y.me().toJSON()))
                    }) : null != c && c.match("no card") ? b.displayErrorPage({
                        errorType: "cardNotFound"
                    }) : b.displayErrorPage({
                        errorType: "boardNotFound"
                    })
                }
            }(this);
            q = b.idBoard || (null != (h = b.board) ? h.id : void 0);
            if ((s = b.idCard) && null == q) {
                if (!l.checkId(s) &&
                    !l.isShortLink(s)) return t("no card");
                q = IdCache.getBoardIdForCard(s)
            }
            if (null == q && null == s) return t("no board id");
            k = this.spinnerUntil(c);
            v = function(c) {
                return function(e, f) {
                    var h, l, s, n, t, w;
                    if (g) ka.isVisible && ka.hide(!0);
                    else {
                        c.setViewType("board", null, e.id);
                        c.clearPreviousView();
                        c.showHeader();
                        w = [e, ra.get("header", e.id)];
                        s = 0;
                        for (t = w.length; s < t; s++) h = w[s], null != h && h.set("dateLastView", (new Date).toISOString());
                        $("#content").html(c.topLevelView(Vb, e, {
                            modelCache: ModelCacheCache["for"]("board_" + e.id)
                        }).render().el);
                        $("body").addClass("body-board-view")
                    }
                    ba.pushBoard(e.id);
                    h = c.topLevelView(Vb, e, {
                        modelCache: ModelCacheCache["for"]("board_" + e.id)
                    });
                    b.idCard ? (n = function(b) {
                        return b ? c.showCardDetail(b) : c.setBoardLocation(e.id)
                    }, (l = e.getCard(b.idCard)) ? n(l) : O["for"](c.getCurrentModelCache()).loadCardData(b.idBoard, b.idCard, function(f) {
                        if (null != f) Q.show("Card does not exist on this board", "warning", "doesnotexist", 5E3), c.setBoardLocation(e.id);
                        else return n(e.getCard(b.idCard))
                    })) : b.usernameBoardProfile ? null != (l = ca.find(c.getCurrentModelCache(),
                        "username", b.usernameBoardProfile)[0]) && l.viewBoardProfile(e.id) : "calendar" === b.section ? (s = [b.year, b.month], b.day && s.push(b.day), 0 <= F.call(e.get("powerUps"), "calendar") && !c.showingCalendar(h) && (b.day || (b.day = 15), l = M.objToDate(b), M.validDate(l) ? h.showCalendar(l) : h.showCalendar()), c.setBoardLocation(e.id, "calendar", s)) : (c.showingCalendar(h) && h.closeCalendar(), e.onId(function() {
                        c.setBoardLocation(e.id)
                    }));
                    "function" === typeof k && k(window.boardView);
                    f || _.defer(function() {
                        O.loadBoardActions(q, O.cacheCallback(function(b) {
                            return "board_" +
                                b.id
                        }, "Board"));
                        return O.loadBoardChecklists(q, O.cacheCallback(function(b) {
                            return "board_" + b.id
                        }, "Board"))
                    })
                }
            }(this);
            if (b.board) v(b.board);
            else if (null != q) {
                if (!l.checkId(q) && !l.isShortLink(q)) return t("no board");
                n = IdCache.getBoardId(q);
                if (l.checkId(n) && ModelCacheCache.hasCache("board_" + n) && (h = ModelCacheCache["for"]("board_" + n), f = h.get("Board", n), g = this.onBoardView(n), null != f)) {
                    v(f, !0);
                    return
                }
                Aa.time("Load Board Data: " + q);
                O.loadCurrentBoardData(q, function(b) {
                    return function(b, c) {
                        Aa.timeEnd("Load Board Data: " +
                            q);
                        return null != b ? t(b) : ModelCacheCache["for"]("board_" + c.id).enqueueDelta("Board", c, function() {
                            f = ra.get("board_" + c.id, q);
                            if (!f) return t("no board");
                            Aa.time("Render Board: " + c.name);
                            Qa.hold();
                            v(f);
                            Qa.release();
                            Aa.timeEnd("Render Board: " + c.name, {
                                reportToServer: !0,
                                serverName: "renderBoard",
                                data: {
                                    idBoard: f.id
                                }
                            })
                        })
                    }
                }(this))
            } else null != s ? (Aa.time("Load Card Data: " + s), O.loadCardData(s, function(b) {
                return function(b, c) {
                    Aa.timeEnd("Load Card Data: " + s);
                    if (null != b || null == c) return t("no card");
                    q = c.idBoard;
                    Aa.time("Load Board Data: " +
                        q);
                    return O["for"]("board_" + q).loadCurrentBoardData(q, function(b, c) {
                        Aa.timeEnd("Load Board Data: " + q);
                        if (null != b) return t(b);
                        f = ra.get("board_" + c.id, q);
                        if (!f) return t("no board");
                        Aa.time("RenderBoard w/ Card: " + c.name);
                        v(f);
                        Aa.timeEnd("RenderBoard w/ Card: " + c.name, {
                            reportToServer: !0,
                            serverName: "renderBoardCard",
                            data: {
                                idCard: s,
                                idBoard: f.id
                            }
                        })
                    })
                }
            }(this))) : t("no board or id")
        };
        b.prototype.businessClassSelectOrgView = function() {
            var b;
            if (y.isLoggedIn()) return b = this.spinnerUntil(function() {}), O.loadMyOrganizations(function(c) {
                return function(g,
                    f) {
                    var h, k;
                    c.setViewType("select-org");
                    c.getCurrentModelCache().enqueueDelta("Member", f);
                    h = !g && null != f ? ca.get(c.getCurrentModelCache(), null != (k = f.id) ? k : f.idMember) : null;
                    k = _.filter(h.organizationList.models, function(b) {
                        return !b.isPremium()
                    });
                    if (1 === k.length) c.navigate("/" + k[0].get("name") + "/plans", {
                        trigger: !0
                    });
                    else return c.setLocation({
                            title: "Select Organization To Upgrade To Business Class",
                            location: "/select-org-to-upgrade"
                        }), c.clearPreviousView(), h = c.topLevelView(qh, h), c.showHeader(), $("#content").html(h.render().el),
                        b()
                }
            }(this));
            window.location = "/login?returnUrl=/select-org-to-upgrade"
        };
        b.prototype.searchView = function(b) {
            var c;
            P("controller", ["searchView"]);
            c = this.spinnerUntil(b);
            O.waitFor("headerData", function(b) {
                return function() {
                    var d, h, k, q;
                    b.setViewType("search");
                    b.clearPreviousView();
                    k = y.me();
                    d = ModelCacheCache["for"]("header");
                    q = l.getQueryParameter("q", "");
                    h = b.topLevelView(Fd, k, {
                        modelCache: d
                    });
                    d = h.getResultsView();
                    na.setQuery(q);
                    d.update();
                    b.showHeader({
                        noSearch: !0
                    });
                    $("body").addClass("search-page");
                    $("#content").append(h.render().el).append(d.render().el);
                    _.defer(function() {
                        return h.focusInput()
                    });
                    return "function" === typeof c ? c(d) : void 0
                }
            }(this))
        };
        b.prototype.organizationById = function(b, c) {
            O.loadOrgNameById(b, function(g) {
                return function(f, h) {
                    return null != f || null == h ? g.displayErrorPage() : g.organizationBoardsView(h, b, c)
                }
            }(this))
        };
        b.prototype.organizationBoardsView = function(b, c, g) {
            this.displayOrganizationPage({
                orgname: b,
                loadFn: "loadOrganizationBoardsData",
                additionalFns: {
                    members: "loadOrganizationMemberGhost"
                },
                viewClass: zh,
                getLocation: this.getOrganizationUrl,
                idOrganization: c,
                callback: g
            })
        };
        b.prototype.organizationMembersView = function(b, c) {
            this.displayOrganizationPage({
                orgname: b,
                loadFn: "loadOrganizationMembersData",
                viewClass: Gh,
                getLocation: this.getOrganizationMembersUrl,
                callback: c
            })
        };
        b.prototype.organizationMemberCardsView = function(b, c, g) {
            this.displayOrganizationPage({
                orgname: b,
                username: c,
                loadFn: "loadOrganizationMinimal",
                additionalFns: {
                    cards: "loadOrgMemberCardData",
                    members: "loadOrganizationMemberMinimal"
                },
                viewClass: Eh,
                getLocation: this.getOrganizationMemberCardsUrl,
                callback: g
            })
        };
        b.prototype.organizationAccountView = function(b, c, g) {
            this.displayOrganizationPage({
                orgname: b,
                loadFn: "loadOrganizationData",
                viewClass: vh,
                getLocation: this.getOrganizationAccountUrl,
                idOrganization: c,
                callback: g,
                adminOnly: !0
            })
        };
        b.prototype.organizationExportView = function(b, c) {
            this.orgView(b, function(b) {
                    return function(c, d, e) {
                        return b.displayOrganizationPage({
                            orgname: c,
                            loadFn: "loadOrganizationExportData",
                            viewClass: Bh,
                            getLocation: b.getOrganizationExportUrl,
                            idOrganization: d,
                            callback: e,
                            adminOnly: !0
                        })
                    }
                }(this),
                c)
        };
        b.prototype.organizationPlansView = function(b, c) {
            this.orgView(b, function(b) {
                return function(c, d, e) {
                    return b.displayOrganizationPage({
                        orgname: c,
                        loadFn: "loadOrganizationData",
                        viewClass: Hh,
                        getLocation: b.getOrganizationPlansUrl,
                        idOrganization: d,
                        callback: e,
                        membersOnly: !0
                    })
                }
            }(this), c)
        };
        b.prototype.organizationBillingView = function(b, c) {
            this.orgView(b, function(b) {
                return function(c, d, e) {
                    return b.displayOrganizationPage({
                        orgname: c,
                        loadFn: "loadOrganizationData",
                        viewClass: ie,
                        getLocation: b.getOrganizationBillingUrl,
                        idOrganization: d,
                        callback: e,
                        adminOnly: !0
                    })
                }
            }(this), c)
        };
        b.prototype.organizationBillingCardView = function(b, c, g) {
            this.orgView(b, function(b) {
                return function(d, g, k) {
                    return b.displayOrganizationPage({
                        orgname: d,
                        product: c,
                        loadFn: "loadOrganizationData",
                        viewClass: xh,
                        getLocation: b.getOrganizationBillingCardProductUrl,
                        idOrganization: g,
                        callback: k,
                        adminOnly: !0
                    })
                }
            }(this), g)
        };
        b.prototype.orgView = function(b, c, g) {
            return this.getViewData(b, function(f) {
                return function(h, k) {
                    return null != k && k.id && "organization" === (null !=
                        k ? k.type : void 0) ? c(b, k.id, g) : f.displayErrorPage({
                        callback: g
                    })
                }
            }(this))
        };
        b.prototype.userOrOrgProfileView = function(b, c) {
            null == b && (b = "me");
            this.userOrOrgView(b, this.memberProfileView, this.organizationBoardsView, c)
        };
        b.prototype.userOrOrgAccountView = function(b, c) {
            null == b && (b = "me");
            this.userOrOrgView(b, this.memberAccountView, this.organizationAccountView, c)
        };
        b.prototype.userOrOrgBillingView = function(b, c) {
            null == b && (b = "me");
            this.userOrOrgView(b, this.memberBillingView, this.organizationBillingView, c)
        };
        b.prototype.userOrOrgBillingCardViewTMP =
            function(b, c) {
                null == b && (b = "me");
                this.userOrOrgView(b, this.memberBillingCardView, this.organizationBillingCardView, c)
            };
        b.prototype.userOrOrgBillingCardView = function() {
            var b, c, g, f, h;
            c = arguments[0];
            f = 3 <= arguments.length ? D.call(arguments, 1, h = arguments.length - 1) : (h = 1, []);
            b = arguments[h++];
            null == c && (c = "me");
            g = f[0];
            this.getViewData(c, function(f) {
                return function(h, k) {
                    switch (null != k ? k.type : void 0) {
                        case "member":
                            return f.memberBillingCardView.call(f, c, g, b);
                        case "organization":
                            return f.organizationBillingCardView.call(f,
                                c, g, k.id, b);
                        default:
                            return f.displayErrorPage({
                                callback: b
                            })
                    }
                }
            }(this))
        };
        b.prototype.getViewData = function(b, c) {
            var g, f, h, k;
            h = window.sessionStorage;
            f = "userOrOrg_" + b;
            return null != (k = null != h ? h.getItem(f) : void 0) ? (g = k.split("|"), k = g[0], g = g[1], c(null, {
                type: k,
                id: g
            })) : async.waterfall([
                function(c) {
                    return $.get("/1/types/" + b).done(function(b) {
                        return c(null, b)
                    }).fail(function() {
                        return c("notFound")
                    })
                },
                function(b, c) {
                    null != (null != b ? b.type : void 0) && null != (null != b ? b.id : void 0) && null != h && h.setItem(f, "" + b.type + "|" +
                        b.id);
                    return c(null, b)
                }
            ], c)
        };
        b.prototype.userOrOrgView = function(b, c, g, f) {
            return this.getViewData(b, function(h) {
                return function(k, l) {
                    switch (null != l ? l.type : void 0) {
                        case "member":
                            return c.call(h, b, f);
                        case "organization":
                            return g.call(h, b, l.id, f);
                        default:
                            return h.displayErrorPage({
                                callback: f
                            })
                    }
                }
            }(this))
        };
        b.prototype.displayOrganizationPage = function(b) {
            var c, g, f, h, k;
            null == b.idOrganization ? this.getViewData(b.orgname, function(c) {
                return function(e, f) {
                    return "organization" === (null != f ? f.type : void 0) ? (b.idOrganization =
                        f.id, c.displayOrganizationPage(b)) : c.displayErrorPage({
                        callback: b.callback
                    })
                }
            }(this)) : (f = b.orgname, k = b.username, h = b.product, g = this.onAnyBoardView() && b.inDialogIfOnBoard || this.overBoardsPage, P("controller", ["organization"]), c = this.spinnerUntil(b.callback), async.auto({
                organization: function(c) {
                    return O[b.loadFn](f, function(b) {
                        return function(b, d) {
                            return null != b || null == d ? c(b || "Organization not found", d) : ModelCacheCache["for"]("organization_" + d.id).enqueueDelta("Organization", d, function(b) {
                                return c(b,
                                    d)
                            })
                        }
                    }(this))
                },
                additional: ["organization",
                    function(c, e) {
                        var f, g, h;
                        g = e.organization;
                        f = {};
                        return async.forEach(_.keys(null != (h = b.additionalFns) ? h : {}), function(c, e) {
                            return O["for"]("organization_" + g.id)[b.additionalFns[c]](g.id, k, function(b, d) {
                                f[c] = d;
                                return e()
                            }, e)
                        }, function(b) {
                            return c(b, f)
                        })
                    }
                ],
                results: ["organization", "additional",
                    function(l) {
                        return function(s, n) {
                            var t, v, x, A;
                            A = n.organization;
                            t = _.extend(A, n.additional);
                            A = Sa.get("organization_" + A.id, null != (v = t.id) ? v : t.idOrganization);
                            t = ca.findOne("organization_" +
                                A.id, "username", k);
                            !A.owned() && b.adminOnly || !A.isMember(y.me()) && b.membersOnly || null != b.businessClass && !A.isFeatureEnabled(b.businessClass) ? l.organizationBoardsView(f, b.idOrganization) : (g ? l.saveBoardsView() : l.clearPreviousView(), l.setViewType("organization", null, b.idOrganization), x = {}, t && (x.member = t), null != h && (x.product = h), x.modelCache = l.getCurrentModelCache(), g ? (v = null, null != b.maxDialogWidth && (v = b.maxDialogWidth), x = new b.viewClass(_.extend({
                                model: A
                            }, x)), ka.show({
                                isNavigating: !0,
                                view: x,
                                maxWidth: v,
                                hide: function(b) {
                                    if (!b) return l.loadBoardsView()
                                }
                            })) : (x = l.topLevelView(b.viewClass, A, x), l.showHeader(), $("body").addClass("tabbed-page"), $("#content").html(x.render().el)), v = "" + A.get("displayName") + " (" + A.get("name") + ")", t = t ? b.getLocation(A.get("name"), t.get("username")) : h ? b.getLocation(A.get("name"), h) : b.getLocation(A.get("name")), l.setLocation({
                                title: v,
                                location: t
                            }), "function" === typeof c && c(A))
                        }
                    }(this)
                ]
            }, function(b) {
                return function(c) {
                    if (null != c) return c.match("Confirm to view") && y.isLoggedIn() ?
                        ca.waitFor("header", y.myId(), function() {
                            return b.displayErrorPage(_.extend({
                                errorType: "unconfirmedNotFound",
                                modelType: "organization"
                            }, y.me().toJSON()))
                        }) : b.displayErrorPage()
                }
            }(this)))
        };
        b.prototype.memberBoardsView = function(b, c, g) {
            null == b && (b = "me");
            this.displayMemberPage(_.extend({
                username: b,
                loadFn: "loadMemberBoardsData",
                viewClass: Sg,
                getLocation: function(b) {
                    return function(c) {
                        return b.getMemberBoardsUrl(c)
                    }
                }(this),
                callback: function() {
                    ti();
                    return null != g ? g.apply(this, arguments) : void 0
                }
            }, c))
        };
        b.prototype.memberNotificationsView =
            function(b, c) {
                null == b && (b = "me");
                if (!y.isLoggedIn()) return this.displayErrorPage({
                    callback: c
                });
                this.displayMemberPage({
                    username: "me",
                    loadFn: "loadNotificationData",
                    viewClass: $g,
                    inDialogIfOnBoard: !0,
                    maxDialogWidth: 530,
                    getLocation: function(b) {
                        return function(c) {
                            return b.getMemberNotificationsUrl(c)
                        }
                    }(this),
                    callback: c
                })
            };
        b.prototype.memberProfileView = function(b, c) {
            null == b && (b = "me");
            this.displayMemberPage({
                username: b,
                loadFn: "loadMemberProfileData",
                viewClass: ah,
                getLocation: function(b) {
                    return function(c) {
                        return b.getMemberProfileUrl(c)
                    }
                }(this),
                callback: c
            })
        };
        b.prototype.memberCardsView = function(b, c, g) {
            null == b && (b = "me");
            this.displayMemberPage(_.extend({
                username: b,
                loadFn: "loadMemberCardsData",
                viewClass: Xg,
                getLocation: function(b) {
                    return function(c) {
                        return b.getMemberCardsUrl(c)
                    }
                }(this),
                callback: g
            }, c))
        };
        b.prototype.memberIsGold = function(b) {
            return b.isGold()
        };
        b.prototype.memberAccountView = function(b, c) {
            this.displayMemberPage({
                username: "me",
                loadFn: "loadMemberAccountData",
                viewClass: Og,
                getLocation: function(b) {
                    return function(c) {
                        return b.getMemberAccountUrl(c)
                    }
                }(this),
                callback: c
            })
        };
        b.prototype.memberBillingView = function(b, c) {
            this.displayMemberPage({
                username: "me",
                loadFn: "loadMemberAccountData",
                viewClass: ae,
                getLocation: function(b) {
                    return function(c) {
                        return b.getMemberBillingUrl(c)
                    }
                }(this),
                callback: c
            })
        };
        b.prototype.memberBillingCardView = function(b, c, g) {
            this.displayMemberPage({
                username: "me",
                product: c,
                loadFn: "loadMemberAccountData",
                viewClass: Qg,
                getLocation: function(b) {
                    return function(c, d) {
                        return b.getMemberBillingCardProductUrl(c, d)
                    }
                }(this),
                callback: g
            })
        };
        b.prototype.displayMemberPage =
            function(b) {
                var c, g, f, h, k, l, n, t, v, x, A;
                x = b.username;
                n = b.loadFn;
                A = b.viewClass;
                k = b.getLocation;
                g = b.callback;
                t = b.message;
                c = b.bodyClass;
                l = b.inDialogIfOnBoard;
                v = b.product;
                h = b.fxIsValid;
                null == x && (x = y.myUsername());
                f = this.onAnyBoardView() && l || this.overBoardsPage;
                P("controller", ["memberBoardsView"]);
                g = this.spinnerUntil(g);
                O[n](x, function(l) {
                    return function(q, n) {
                        var s;
                        f && l.saveBoardsView();
                        l.setViewType("member", "boardsView", n.id);
                        f || l.clearPreviousView();
                        s = l.getModelCache("member", "boardsView", n.id);
                        return ModelCacheCache["for"](s).enqueueDelta("Member",
                            n, function() {
                                var x, B, D;
                                B = !q && null != n ? ca.get(s, n.id) : null;
                                q || !B || null != h && !h(B) ? l.displayErrorPage() : (x = {
                                        isMore: n.isMore,
                                        data: n,
                                        product: v,
                                        modelCache: s
                                    }, f ? (D = new A(_.extend({
                                        model: B
                                    }, x)), x = null, null != b.maxDialogWidth && (x = b.maxDialogWidth), ka.show({
                                        isNavigating: !0,
                                        view: D,
                                        maxWidth: x,
                                        hide: function(b) {
                                            if (!b) return l.loadBoardsView()
                                        }
                                    })) : (D = l.topLevelView(A, B, x), l.showHeader(), c ? $("body").addClass(c) : $("body").addClass("tabbed-page"), $("#content").html(D.render().el)), x = y.isMe(B) ? "" : "" + B.get("fullName") +
                                    " (" + B.get("username") + ")", l.setLocation({
                                        title: x,
                                        location: k(B.get("username"), v)
                                    }), "function" === typeof g && g(B), null != t && Q.flash(t.text, "confirm", "member"))
                            })
                    }
                }(this))
            };
        b.prototype.cardView = function(b, c, g) {
            return this.displayBoard({
                idCard: b
            }, g)
        };
        b.prototype.oldCardView = function(b, c, g, f) {
            this.displayBoard({
                idBoard: c,
                idCard: g
            }, f)
        };
        b.prototype.blankView = function(b) {
            var c;
            c = this.spinnerUntil(b);
            return O.waitFor("headerData", function(b) {
                return function() {
                    b.setViewType("blank");
                    b.clearPreviousView();
                    b.showHeader();
                    return "function" === typeof c ? c() : void 0
                }
            }(this))
        };
        b.prototype.shortcutsView = function(b) {
            var c;
            c = function(b, c) {
                var d;
                d = v.fill("shortcuts");
                return c(d)
            };
            this.onAnyBoardView() || this.overBoardsPage ? (this.saveBoardsView(), c("board", function(b) {
                return function(c) {
                    return ka.show({
                        html: c,
                        maxWidth: 550,
                        hide: function(c) {
                            if (!c) return b.loadBoardsView()
                        }
                    })
                }
            }(this)), this.setLocation("Keyboard Shortcuts", "shortcuts")) : this.staticView({
                title: "Keyboard Shortcuts",
                location: "shortcuts",
                template: function(b) {
                    return c("static",
                        b)
                },
                bodyClass: "single-column"
            }, b)
        };
        b.prototype.staticView = function(b, c) {
            var g, f, h, k, l, n, t, x, A;
            x = b.title;
            k = b.location;
            l = b.template;
            n = b.templateData;
            t = b.templatePartials;
            g = b.bodyClass;
            A = b.viewType;
            h = b.headerOpts;
            P("controller", [k + "View"]);
            f = this.spinnerUntil(c);
            O.waitFor("headerData", function(b) {
                return function() {
                    var c;
                    b.setViewType(null != A ? A : k);
                    b.clearPreviousView();
                    b.showHeader(h);
                    null == n && (n = {});
                    n.loggedIn = y.isLoggedIn();
                    c = function(c) {
                        $("body").addClass(g);
                        $("#content").html(c);
                        b.setLocation({
                            title: x,
                            location: k
                        });
                        return "function" === typeof f ? f() : void 0
                    };
                    _.isFunction(l) ? l(c) : c(v.fill(l, n, null, t))
                }
            }(this))
        };
        b.prototype.showHeader = function(b) {
            var c, g;
            null == b && (b = {});
            $("#header .header-user").remove();
            $("#header .header-boards-button").remove();
            $("#header #header-search").parent().remove();
            $("#header-search").empty();
            $(".header-banner").remove();
            $("#header nav").remove();
            $("#boards-drawer").empty();
            g = y.me();
            c = ModelCacheCache["for"]("header");
            $("#header").empty().prepend(v.fill("header_logo"));
            b.promo ?
                $("#header").append(v.fill("header_promo_nav")) : y.isLoggedIn() ? ($("#header").append(this.topLevelView(gf, g, {
                    modelCache: c
                }).render().el), b.noSearch || $("#header").append(this.topLevelView(Fd, g, {
                    modelCache: c
                }).render().el), $("#header .header-woof").parent().remove(), $("#header").append(this.topLevelView(mf, g, {
                    modelCache: c
                }).render().el), $("#boards-drawer").append(this.topLevelView(ki, g, {
                    modelCache: c
                }).render().el)) : $("#header").append(v.fill("header_promo_nav"));
            $("#header").append(this.topLevelView(kf,
                g, {
                    modelCache: c
                }).render(b.promo).el);
            l.hasValidInviteTokenFor(this.getCurrentModelCache(), this.idModel) ? (b = {
                modelCache: this.getCurrentModelCache()
            }, this.onAnyBoardView() ? b.idBoard = this.idModel : this.onAnyOrganizationView() && (b.idOrganization = this.idModel), $("#header").after(this.topLevelView(nf, g, b, this.idModel).render().el)) : y.isLoggedIn() && !y.confirmed() ? $("#header").after(this.topLevelView(ef, g, {
                modelCache: c
            }).render().el) : y.isLoggedIn() && !y.canLogIn() ? $("#header").after(this.topLevelView(rf, g, {
                modelCache: c
            }).render().el) : !y.isLoggedIn() && B.onAnyBoardView() && (b = ra.get(this.getCurrentModelCache(), this.idModel), null != b && b.isPublic() && $("#header").after(this.topLevelView(qf, b, {
                modelCache: this.getCurrentModelCache()
            }).render().el));
            g.checkColorBlindMode()
        };
        b.prototype.displayErrorPage = function(b) {
            var c;
            c = b = _.extend({
                errorType: "notFound"
            }, b);
            null != b && b.errorType && (c[b.errorType] = !0, c.url = location.pathname);
            this.staticView({
                title: "Error",
                template: "error",
                templateData: b,
                viewType: "error"
            }, b.callback)
        };
        b.prototype.showSpinner = function() {
            return $(".header-logo").addClass("throb")
        };
        b.prototype.hideSpinner = function() {
            return $(".header-logo").removeClass("throb")
        };
        b.prototype.spinnerUntil = function(b) {
            this.showSpinner();
            return function(c) {
                return function(g) {
                    c.hideSpinner();
                    return "function" === typeof b ? b(g) : void 0
                }
            }(this)
        };
        b.prototype.advertiseUpgrade = function() {
            return Da.advertiseUpgrade()
        };
        b.prototype.upgradeClient = function() {
            var b;
            if (!this.upgrading) return this.upgrading = !0, b = l.randomWait(360, 1800),
                "active" === Ja.getStatus() && (b = l.randomWait(60, 300)), Q.showHtml((new re).render({
                    timeInSeconds: b
                }), "confirm", "upgrade"), setTimeout(function(b) {
                    return function() {
                        if (b.upgrading) return b.upgradeNow()
                    }
                }(this), 1E3 * b)
        };
        b.prototype.upgradeNow = function() {
            Q.hideAll();
            return window.location.reload()
        };
        b.prototype.stopUpgrade = function() {
            this.upgrading = !1;
            return Q.showHtml((new re).render({
                stopped: !0
            }), "confirm", "upgrade")
        };
        b.prototype.syncError = function() {
            return Q.showHtml(v.fill("sync_error"), "error", "modelSync")
        };
        return b
    }(Backbone.Router);
    (function() {
        var c;
        c = Backbone.History.prototype.navigate;
        return _.extend(Backbone.History.prototype, {
            navigate: function(b, d) {
                c.call(this, b, d);
                this.trackPageview(b)
            },
            trackPageview: function(b) {
                "" === b && (b = y.isLoggedIn() ? "boards" : "landing");
                return "function" === typeof ga ? ga("send", "pageview", "/" + b) : void 0
            }
        })
    })();
    var Q, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    Q = new(function() {
        function c() {
            this.hideAll = k(this.hideAll, this);
            this.hide = k(this.hide, this);
            this.showHtml =
                k(this.showHtml, this);
            this.show = k(this.show, this);
            this._showHideContainer = k(this._showHideContainer, this);
            this._show = k(this._show, this);
            this._hide = k(this._hide, this);
            var b, c, e;
            e = null;
            b = function(b) {
                return function() {
                    clearTimeout(e);
                    b.hide("connection");
                    return b.showHtml(v.fill("connect_failed", {
                        msg: "Could not connect to Trello."
                    }), "error", "connectionDead")
                }
            }(this);
            $(rpc).bind("connect_failed", b);
            $(rpc).bind("reconnect_failed", b);
            c = function(b) {
                return function() {
                    clearTimeout(e);
                    return b.hide("connection")
                }
            }(this);
            b = function(b) {
                return function() {
                    clearTimeout(e);
                    return e = setTimeout(function() {
                        e = null;
                        return b.show("Attempting to restore connection.  Changes made now may not be saved.", "error", "connection")
                    }, 500)
                }
            }(this);
            $(rpc).bind("reconnect", c);
            $(rpc).bind("connecting", b)
        }
        c.prototype._alerts = {};
        c.prototype._hide = function(b) {
            var c;
            c = this._alerts[b];
            null != c && c.timeout && clearTimeout(c.timeout);
            delete this._alerts[b];
            $("#notification_" + b).remove();
            return this._showHideContainer()
        };
        c.prototype._show = function(b,
            c, e, g, f) {
            var h;
            P("alerts", "show", b, c, e, g, f);
            this._hide(g);
            f && (h = setTimeout(function(b) {
                return function() {
                    return b.hide(g)
                }
            }(this), f));
            this._alerts[g] = {
                timeout: h
            };
            e = $("<div>").attr("id", "notification_" + g).addClass(e).appendTo("#notification");
            c ? e.html(b) : e.text(b);
            return this._showHideContainer()
        };
        c.prototype._showHideContainer = function() {
            return $("#notification").toggle(!_.isEmpty(this._alerts))
        };
        c.prototype.show = function(b, c, e, g) {
            return this._show(b, !1, c, e, g)
        };
        c.prototype.showHtml = function(b, c, e,
            g) {
            return this._show(b, !0, c, e, g)
        };
        c.prototype.flash = function(b, c, e) {
            return this._show(b, !1, c, e, 2E3)
        };
        c.prototype.hide = function(b) {
            P("alerts", "hide", b);
            return this._hide(b)
        };
        c.prototype.hideAll = function() {
            var b, c;
            c = [];
            for (b in this._alerts) c.push(this.hide(b));
            return c
        };
        return c
    }());
    window.cdnErr = function() {
        if (ua.inTest("trellocdn_warning")) return window.Alerts = Q, Q.showHtml('Your browser can\'t reach our new CDN, trellocdn.com.<br />\n<a href="http://help.trello.com/customer/portal/articles/1339289">Fix it</a>\n<a href="#" onclick="window.Alerts.hide(\'cdnErr\')">Dismiss</a>',
            "warning", "cdnErr")
    };
    var Fb, k = function(c, b) {
        return function() {
            return c.apply(b, arguments)
        }
    };
    Fb = function() {
        function c(d) {
            this.model = d;
            this.localNotification = k(this.localNotification, this);
            this.clickHandler = k(this.clickHandler, this);
            this.show = k(this.show, this);
            (c.enabled() || window.fluid) && this.model.get("unread") && (this.localNotification() ? this.show() : _.delay(this.show, b))
        }
        var b;
        c.__proto__ = window.Notification;
        b = 1E3;
        c.enabled = function() {
            return "granted" === this.permission
        };
        c.denied = function() {
            return "denied" ===
                this.permission
        };
        c.notEnabled = function() {
            return "default" === this.permission
        };
        c.prototype.show = function() {
            return this.getLock(function(b) {
                return function() {
                    var c, g, f, h, k;
                    h = b.render();
                    k = h.title;
                    c = h.body;
                    g = h.icon;
                    h = h.tag;
                    if (window.fluid) return window.fluid.showGrowlNotification({
                        title: k,
                        priority: 1,
                        sticky: !1,
                        description: c,
                        icon: g
                    });
                    f = new window.Notification(k, {
                        body: c,
                        icon: g,
                        tag: h
                    });
                    f.model = b.model;
                    f.addEventListener("click", b.clickHandler);
                    return _.delay(function() {
                        return f.close()
                    }, 1E4)
                }
            }(this))
        };
        c.prototype.render =
            function() {
                var b, c, g, f, h;
                c = this.model.getTemplateData({
                    useHTML: !0,
                    truncate: null
                });
                c.isDesktopNotification = !0;
                f = v.fill("text_notification", c, {}, {
                    text_entity: v.notification_title
                }).replace(/\s+/g, " ").trim();
                b = "";
                g = _.last(c.entities);
                g.commentType && (b = g.text);
                g = "/favicon.ico";
                if (null != (h = c.member) && h.avatarHash) g = "" + avatarDomain + "/" + c.member.avatarHash + "/50.png";
                return {
                    title: f,
                    body: b,
                    icon: g,
                    tag: this.model.id
                }
            };
        c.prototype.clickHandler = function(b) {
            var c;
            this.model.get("data");
            this.model.markRead();
            b.target.close();
            if (this.localNotification()) return this.model.navigateToView() || B.memberNotificationsView(), window.focus();
            c = this.model.getUrlOfTarget();
            b = window.open(c);
            return null != b ? b.focus() : window.location = c
        };
        c.prototype.localNotification = function() {
            var b;
            b = this.model.get("data");
            return _.any(_.invoke([
                    function() {
                        var c;
                        return B.onBoardView(null != (c = b.board) ? c.id : void 0)
                    },
                    function() {
                        var c;
                        return B.onOrganizationView(null != (c = b.organization) ? c.id : void 0)
                    },
                    function() {
                        return 0 === location.pathname.indexOf(B.getMemberNotificationsUrl())
                    }
                ],
                "call"))
        };
        c.prototype.getLock = function(b) {
            var c, g;
            c = "notification_lock_" + this.model.id;
            if (!da.get(c)) return g = Math.random(), da.set(c, g), _.delay(function(f) {
                return function() {
                    if (da.get(c) === g) return b()
                }
            }(this), 100), _.delay(function(b) {
                return function() {
                    return da.unset(c)
                }
            }(this), 1E4)
        };
        return c
    }();
    var X, k = function(c, b) {
            return function() {
                return c.apply(b, arguments)
            }
        },
        D = [].slice;
    X = new(function() {
        function c() {
            this._track = k(this._track, this);
            this.paste = k(this.paste, this);
            this.keydown = k(this.keydown, this);
            this._isKeyEligible = k(this._isKeyEligible, this);
            var b, c, e, g;
            this._handlers = {};
            this.clear();
            g = ["keydown", "paste"];
            c = 0;
            for (e = g.length; c < e; c++) b = g[c], $(document).bind(b, this[b])
        }
        c.prototype.precedence = {
            global: 0,
            "default": 1,
            header: 2,
            board: 3,
            board_sidebar: 3,
            card: 4,
            search_box: 5,
            dialog_view: 10,
            dialog: 12,
            attachment_viewer: 20,
            quick_card_editor: 20,
            popover_view: 30,
            popover: 32
        };
        c.prototype._isKeyEligible = function(b) {
            return !(ha.isTouch() || 27 !== b.which && $(b.target).is("input:visible,textarea:visible,select:visible") ||
                b.ctrlKey || b.altKey || b.metaKey)
        };
        c.prototype.addHandler = function(b, c) {
            var e, g, f, h, k;
            f = c.scope;
            g = c.precedence;
            e = c.modal;
            h = c.top;
            null == g && (g = this.precedence[f]);
            null == g && (P("userinput", "Missing precedence for " + f), g = this.precedence["default"]);
            null == e && (e = !1);
            if (null == (k = this._handlers)[f]) k[f] = {};
            this._handlers[f] = {
                target: b,
                scope: f,
                precedence: g,
                modal: e,
                top: h
            };
            return P("userinput", "Adding handler for " + f)
        };
        c.prototype.removeHandlerScope = function(b) {
            var c, e;
            e = [];
            for (c in this._handlers) c === b && (P("userinput",
                "Removing handlers for " + c), e.push(delete this._handlers[c]));
            return e
        };
        c.prototype.removeHandler = function(b) {
            var c, e, g, f;
            g = this._handlers;
            f = [];
            for (e in g) c = g[e].target, b === c && (P("userinput", "Removing handler for " + e), f.push(delete this._handlers[e]));
            return f
        };
        c.prototype.clear = function() {
            var b, c;
            P("userinput", "Removing all non-global handlers");
            c = [];
            for (b in this._handlers) "global" !== b && (P("userinput", "Removing handler for " + b), c.push(delete this._handlers[b]));
            return c
        };
        c.prototype._sortedHandlers =
            function() {
                var b;
                b = _.sortBy(_.values(this._handlers), function(b) {
                    return -b.precedence
                });
                _.any(b, function(b) {
                    return b.modal
                }) && (b = _.filter(b, function(b) {
                    return b.modal
                }));
                _.any(b, function(b) {
                    return b.top
                }) && (b = _.filter(b, function(b) {
                    return b.top
                }));
                return b
            };
        c.prototype._triggerOnTargets = function() {
            var b, c, e, g, f, h;
            c = arguments[0];
            b = 2 <= arguments.length ? D.call(arguments, 1) : [];
            h = this._sortedHandlers();
            g = 0;
            for (f = h.length; g < f; g++)
                if (e = h[g].target, e = null != (null != e ? e[c] : void 0) ? e[c].apply(e, b) : null != (null !=
                    e ? e.triggerHandler : void 0) ? e.triggerHandler(c, b) : void 0) return (_.isString(e) || _.isArray(e)) && this._track(e), !0;
            return !1
        };
        c.prototype.keydown = function(b) {
            27 === b.which && l.stop(b);
            this._isKeyEligible(b) && this._triggerOnTargets("shortcut", b.which, b.shiftKey) && l.stop(b)
        };
        c.prototype.paste = function(b) {
            var c, e, g, f, h, k, q, n, v;
            c = null != (g = b.originalEvent) ? g.clipboardData : void 0;
            f = null != (h = null != c ? c.items : void 0) ? h : [];
            g = function(b) {
                return _.find(f, function(c) {
                    return c.type === b
                })
            };
            if (g("text/plain")) b = null != (e =
                null != c ? "function" === typeof c.getData ? c.getData("text/plain") : void 0 : void 0) ? e : null != (k = window.clipboardData) ? k.get("Text") : void 0, this._triggerOnTargets("paste", "text", b);
            else if (e = g("image/png"), null != e && (e = e.getAsFile(), null != e))
                if (l.validCardUpload(e)) {
                    if (t("Keyboard Shortcuts", "Paste - Upload Image From Clipboard"), this._triggerOnTargets("paste", "image", e)) return l.stop(b)
                } else return null != (q = y.me()) && q.isFeatureEnabled("largeAttachments") || null != (n = this.model.getBoard()) && null != (v = n.getOrganization()) &&
                    v.isFeatureEnabled("largeAttachments") ? Q.show("File size exceeds 250MB limit", "error", "upload", 5E3) : Q.show("File size exceeds 10MB limit", "error", "upload", 5E3)
        };
        c.prototype._track = function(b) {
            if (null != b) return _.isArray(b) || (b = [b]), t.apply(null, ["Keyboard Shortcuts"].concat(D.call(b)))
        };
        return c
    }());
    X.addHandler({
        shortcut: function(c, b) {
            if (63 === c || 191 === c && b) return B.navigate("shortcuts"), B.shortcutsView(), "Shortcuts page"
        }
    }, {
        scope: "global"
    });
    var B;
    if (!window.unsupported) {
        B = null;
        $(function() {
            var c,
                b, d;
            "Production" === Da.server.environment && "trello.com" !== location.hostname && _.defer(function() {
                throw Error("Site proxied as " + location.hostname);
            });
            d = Da.version;
            c = d.head;
            d = d.version;
            ga("create", "UA-53826304-2", "trello.com");
            ga("set", "dimension1", c);
            ga("set", "dimension2", d);
            B = new si;
            Backbone.history.start({
                pushState: !0
            });
            ia.ensureRun();
            b = function(b) {
                var c, d, h, k, l, n;
                b = b.replace(/[\?\#].*$/, "");
                if (/\.[a-z]+$/i.test(b)) return !1;
                if (/^([bc]|board|card|org)\//.test(b) || /^search(\/|$)/.test(b) || null != y.me() &&
                    (RegExp("^" + y.myUsername() + "(/|$)").test(b) || "/" === b)) return !0;
                b = null != (c = /^[^\/]+/.exec(b)) ? c[0] : void 0;
                if ("me" === b || "my" === b || "you" === b || "your" === b || "username" === b) return !0;
                if (/^[a-z0-9_]{3,}$/.test(b)) {
                    k = ModelCacheCache.all();
                    d = 0;
                    for (h = k.length; d < h; d++)
                        if (c = k[d], null != c.bound && (null != (null != (l = c.bound.Member) ? l.findOne("username", b) : void 0) || null != (null != (n = c.bound.Organization) ? n.findOne("name", b) : void 0))) return !0
                }
                return !1
            };
            $("body").delegate("a[href^='/'],a[href^='" + siteDomain + "/']", "click",
                function(c) {
                    var d, f;
                    if (!c.ctrlKey && (!c.metaKey && !c.shiftKey) && (f = $(this).attr("href").replace(RegExp("^" + siteDomain), "").replace(/^\/(?=.)/, ""), (d = f !== location.pathname.slice(1)) && x.hide(), b(f) && (l.preventDefault(c), d))) return B.navigate(f, {
                        trigger: !0
                    })
                });
            return $("#surface").append(v.fill("surface_base"))
        });
        (function() {
            var c;
            c = y.updateToken();
            return setInterval(function() {
                var b;
                b = y.updateToken();
                b !== c && window.location.reload();
                return c = b
            }, 3E3)
        })();
        $(document).ready(function() {
            var c, b, d, e, g;
            c = 0;
            d = ["ms", "moz", "webkit", "o"];
            e = 0;
            for (g = d.length; e < g; e++) b = d[e], window.requestAnimationFrame || (window.requestAnimationFrame = window["" + b + "RequestAnimationFrame"], window.cancelAnimationFrame = window["" + b + "CancelAnimationFrame"] || window["" + b + "CancelRequestAnimationFrame"]);
            window.requestAnimationFrame || (window.requestAnimationFrame = function(b, d) {
                var e, g, k;
                e = (new Date).getTime();
                k = Math.max(0, 16 - (e - c));
                g = window.setTimeout(function() {
                    return b(e + k)
                }, k);
                c = e + k;
                return g
            });
            window.cancelAnimationFrame || (window.cancelAnimationFrame =
                function(b) {
                    return clearTimeout(b)
                });
            window.orientationchange = ka.calcPos;
            ha.detectCustomWebkitScrollbars();
            jQuery.event.props.push("dataTransfer");
            "placeholder" in document.createElement("input") || $('input[placeholder]:not(".js-no-ie-placeholder"), textarea[placeholder]:not(".js-no-ie-placeholder")').delegate({
                focus: function(b) {
                    b = $(this);
                    if (b.hasClass("placeholder")) return b.removeClass("placeholder").val("")
                },
                blur: function(b) {
                    b = $(this);
                    if ("" === b.val().trim()) return b.addClass("placeholder").val(b.attr("placeholder"))
                }
            });
            b = function(b, c, d, e) {
                return $(document).on("click", b, function(b) {
                    var f, g, k, l, n;
                    l = [c, d, e];
                    n = [];
                    g = 0;
                    for (k = l.length; g < k; g++) f = l[g], null != f && (_.isFunction(f) ? n.push(f.call(this, b)) : n.push(f));
                    return t.apply(null, n)
                })
            };
            b(".js-home-via-logo", "Header", "Logo", "Home");
            b(".header-signup", "Header", "Sign Up");
            $(document).on("click", ".js-resend-confirmation-email", _.throttle(function(b) {
                return function() {
                    return S({
                        type: "POST",
                        url: "/resendValidate",
                        data: {
                            email: y.me().get("email")
                        },
                        success: function() {
                            return Q.flash("Email Sent",
                                "confirm")
                        }
                    })
                }
            }(this), 6E4));
            $(document).on("click", ".js-add-this-businessClass", function(b) {
                var c;
                l.stop(b);
                t("Business Class Promo Page", "Clicked 'Add This'");
                b = $(b.target).closest(".js-add-this-businessClass");
                c = b.attr("name");
                x.toggle({
                    elem: b,
                    top: 44,
                    view: y.me().getView(ph, "", {
                        product: c
                    })
                })
            });
            $(".window-overlay").click(function(b) {
                0 < b.button || ($(b.target).is("a") && "#" !== $(b.target).attr("href") ? l.stopPropagation(b) : !$(b.target).is("a.focus-dummy") && !$(b.target).hasClass("checkbox") && (x.isVisible ?
                    x.hide() : $(".new-comment").hasClass("focus") ? $(".new-comment").removeClass("focus").find("textarea").blur() : sa.isEditing() ? sa.cancelEdits() : 0 < $(b.target).closest(".window-wrapper").length || ka.hide()))
            });
            $("#surface").click(function(b) {
                var c, d;
                if (!(0 < $(b.target).closest(".boards-drawer").length))
                    if ($(b.target).is("input") || $(b.target).is("textarea")) l.stopPropagation(b);
                    else return d = (c = B.getCurrentBoard()) && B.getCurrentBoardView(), x.isVisible ? x.hide() : ba.getShowSidebar() && !ba.getPinSidebar() ? ba.hideSidebar() :
                        $(".new-comment").hasClass("focus") ? $(".new-comment").removeClass("focus").find("textarea").blur() : null != c && c.viewState.get("listComposerOpen") ? null != c ? c.viewState.set("listComposerOpen", !1) : void 0 : null != c && c.composer.get("vis") && 0 < !$(b.target).closest(".card-composer").length ? c.composer.save("vis", !1) : sa.isEditing() ? sa.cancelEdits() : B.showingCalendar(d) && 0 === $(b.target).closest(".calendar-day").length ? $(".calendar-day.active").removeClass("active") : $("input, textarea").blur()
            });
            $(document).on("click",
                "a[href=#]", function(b) {
                    return l.preventDefault(b)
                });
            $(document).keyup(function(b) {
                if (27 === b.keyCode) {
                    b.preventDefault();
                    B.getCurrentBoard();
                    if (ba.getShowSidebar() && !ba.getPinSidebar()) return ba.hideSidebar();
                    if (sa.isEditing()) return sa.cancelEdits();
                    if ($(".new-comment").hasClass("focus")) return $(".new-comment").removeClass("focus").find("textarea").blur();
                    $("input").blur();
                    return $("textarea").blur()
                }
            });
            $(document).bind("dragstart", function(b) {
                return 0 < $(b.target).closest(".ui-draggable").length
            });
            t("Trello Version", Da.version.toString());
            null != window.fluid && t("FluidApp");
            TRMixpanel.setReferralCookie();
            return TRMixpanel.trackLoginOrSignUp()
        });
        $.fn.fixPlaceholder = function() {
            if ("placeholder" in document.createElement("input")) return this;
            this.filter('input[placeholder]:not(".js-no-ie-placeholder"), textarea[placeholder]:not(".js-no-ie-placeholder")').each(function() {
                var c;
                c = $(this);
                return c.addClass("placeholder").val(c.attr("placeholder"))
            });
            return this
        };
        var yc;
        yc = new(function() {
            function c() {}
            c.prototype.delta = da.get("serverTimeDelta");
            c.prototype.updateServerTime = function(b) {
                this.delta = new Date(b) - new Date;
                da.set("serverTimeDelta", this.delta);
                return P("time", "delta", this.delta)
            };
            c.prototype.serverToClient = function(b) {
                return new Date(new Date(b) - this.delta)
            };
            return c
        }());
        var M;
        M = new(function() {
            function c() {
                _.extend(this, Backbone.Events);
                this.startOfWeekOffset = this.DAY_TABLE[this.isUS ? "sunday" : "monday"]
            }
            var b, d, e;
            e = "";
            c.prototype.DAY_TABLE = {
                sunday: 0,
                monday: 1,
                tuesday: 2,
                wednesday: 3,
                thursday: 4,
                friday: 5,
                saturday: 6
            };
            c.prototype.objToDate = function(b, c, d) {
                _.isObject(b) && (d = b, b = d.year, c = d.month, d = d.day);
                return new Date(b, c - 1, d)
            };
            c.prototype.dateToObj = function(b) {
                return {
                    year: b.getFullYear(),
                    month: b.getMonth() + 1,
                    day: b.getDate()
                }
            };
            c.prototype.setStartOfWeek = function(b) {
                return this.startOfWeekOffset = this.DAY_TABLE[b]
            };
            c.prototype.getStartOfWeek = function(b) {
                return (new Date(b)).addDays(this.startOfWeekOffset - b.getDay())
            };
            c.prototype.getEndOfWeek = function(b) {
                return (new Date(b)).addDays(6 - b.getDay())
            };
            c.prototype.getDaysOfWeek = function(b) {
                var c, d, e;
                e = [];
                for (c = d = 0; 6 >= d; c = ++d) e.push((new Date(this.getStartOfWeek(b))).addDays(c));
                return e
            };
            c.prototype.getMidnightInt = function(b) {
                return (new Date(b)).setHours(0, 0, 0, 0)
            };
            c.prototype.getFirstOfMonth = function(b) {
                return (new Date(b)).moveToFirstDayOfMonth(b)
            };
            c.prototype.getDateWithSpecificTime = function(b, c) {
                return new Date(c.getFullYear(), c.getMonth(), c.getDate(), b.getHours(), b.getMinutes(), b.getSeconds())
            };
            b = function() {
                var b;
                b = $(this).data("date");
                null ==
                    b && (b = M.parse($(this).attr("dt")), b = yc.serverToClient(b), $(this).data("date", b));
                $(this).text(function() {
                    return Ab(b.getTime(), e, {
                        timeFormat: M.timeFormat()
                    })
                });
                $(this).is("[title]") || $(this).attr("title", "" + b.toLocaleDateString() + " " + b.toLocaleTimeString())
            };
            d = function() {
                var b, c, d;
                b = M.parse($(this).attr("dt"));
                c = null != (d = $(this).attr("text")) ? d : "";
                $(this).text(function() {
                    return "" + (b > e ? "is" : "was") + " " + c + " " + Ab(b.getTime(), e)
                })
            };
            c.prototype.isUS = /en-us/i.test($.cookie("lang") || navigator.language || navigator.browserLanguage);
            c.prototype.timeFormat = function() {
                return this.isUS ? "h:mm tt" : "HH:mm"
            };
            c.prototype.updateRel = function(b) {
                e = new Date;
                return $(b).find(".rel-date[dt]").each(d)
            };
            c.prototype.update = function(c) {
                e = new Date;
                $(c).find(".date[dt]").each(b)
            };
            c.prototype.convertDateFormat = function(b) {
                null == b && (b = "");
                return this.isUS ? b : b.replace(/(?:^|\s)(\d{1,2})[\/-](\d{1,2})(?:[\/-](\d\d{2,4}))?(?:$|\s)/g, function(b, c, d, e) {
                    return 12 >= d ? e ? "" + d + "/" + c + "/" + e + " " : "" + d + "/" + c + " " : b
                })
            };
            c.prototype.parse = function(b) {
                var c;
                null == b &&
                    (b = "");
                if (_.isDate(b) || _.isNumber(b)) return new Date(b);
                b = this.convertDateFormat(b);
                c = new Date(b);
                return isNaN(c) ? new Date(b.replace(/-/g, "/").replace(/T|Z|\.\d+/g, " ") + " GMT") : c
            };
            c.prototype.toShortString = function(b) {
                return this.isUS ? b.toString("MM/dd/yyyy") : b.toString("dd/MM/yyyy")
            };
            c.prototype.toDateString = function(b, c) {
                var d, k;
                d = (null != c ? c : {}).smartYear;
                e = new Date;
                null == d && (d = !1);
                d = d && (b.getYear() === e.getYear() || l.getMs({
                    months: -3
                }) < (k = b - e) && k < l.getMs({
                    months: 3
                }));
                return b.toString(d ? "MMM d" :
                    "MMM d, yyyy")
            };
            c.prototype.toLongString = function(b) {
                var c;
                c = Date.today();
                return c.getYear() === b.getYear() && c.getMonth() === b.getMonth() && c.getDate() === b.getDate() ? "Today at " + b.toString(this.timeFormat()) : "" + this.toDateString(b, {
                    smartYear: !0
                }) + " at " + b.toString(this.timeFormat())
            };
            c.prototype.toLongDateString = function(b) {
                if (null != b) return b = new Date(b), "" + (this.monthMap[b.getMonth()] + b.toString(" d, yyyy"))
            };
            c.prototype.normalizeTime = function(b) {
                var c, d, e, k, l;
                e = null != b ? "function" === typeof b.match ?
                    b.match(/^(\d\d)(\d\d)/) : void 0 : void 0;
                null == e && (e = null != b ? "function" === typeof b.match ? b.match(/(\d+)(?::(\d\d))?\s*([aApP]?)/) : void 0 : void 0);
                if (!e) return null;
                b = parseInt(e[1], 10);
                d = "p" === (c = e[3]) || "P" === c;
                c = "a" === (l = e[3]) || "A" === l;
                24 === b ? b = 0 : d ? 12 !== b && (b += 12) : c && 12 === b && (b = 0);
                e = parseInt(null != (k = e[2]) ? k : 0, 10);
                if (!(0 <= b && 23 >= b) || !(0 <= e && 59 >= e)) return null;
                k = function(b) {
                    return 10 > b ? "0" + b : b
                };
                return "" + k(b) + ":" + k(e)
            };
            c.prototype.monthMap = {
                0: "January",
                1: "February",
                2: "March",
                3: "April",
                4: "May",
                5: "June",
                6: "July",
                7: "August",
                8: "September",
                9: "October",
                10: "November",
                11: "December"
            };
            c.prototype.validDate = function(b) {
                return _.isDate(b) && !isNaN(b.getTime())
            };
            return c
        }());
        $(function() {
            return setInterval(function() {
                M.update("body");
                M.updateRel("body");
                M.trigger("renderInterval")
            }, 1E4)
        });
        var ti;
        ti = function() {
            var c, b, d, e, g, f, h, k, l, n, t, v;
            if (y.isLoggedIn()) {
                g = y.me();
                k = function(b) {
                    var c;
                    c = b + "";
                    if (c = c.match(/\(([^\)]+)\)$/) || c.match(/([A-Z]+|UTC[+-]\d{4}) [\d]{4}$/)) {
                        c = c[1];
                        /\s/.test(c) && (c = c.replace(/(\S)\S*/g,
                            function(b, c) {
                                return c
                            }));
                        for (c = c.match(/[A-Z]/g).join(""); 2 > c.length;) c += "?"
                    } else b = b.getTimezoneOffset(), c = "UTC" + (0 > b ? "+" : "-") + ("00" + Math.floor(Math.abs(b) / 60)).substr(-2) + ":" + ("00" + Math.abs(b) % 60).substr(-2);
                    return c
                };
                n = t = d = null;
                b = new Date;
                n = b.getTimezoneOffset();
                v = k(b);
                for (f = 0; 12 >= f; ++f)
                    if (b.addDays(30), b.getTimezoneOffset() !== n) {
                        d = b;
                        break
                    }
                if (null != d) {
                    t = d.getTimezoneOffset();
                    f = (new Date).getTime();
                    b = d.getTime();
                    for (c = 0; b > f + 3E4 && 30 > c;)
                        if (c++, h = Math.floor((f + b) / 2), l = (new Date(h)).getTimezoneOffset(),
                            l === n) f = h;
                        else if (l === t) b = h;
                    else break;
                    c = k(d);
                    d = (new Date(6E4 * Math.floor(b / 6E4))).toISOString()
                }
                k = {};
                n = {
                    offsetCurrent: n,
                    timezoneCurrent: v,
                    offsetNext: t,
                    timezoneNext: c,
                    dateNext: d
                };
                for (e in n) d = n[e], null != d && (k[e] = d);
                e = g.getPref("timezoneInfo");
                if (!_.isEqual(k, e)) return g.run("timezoneInfo", k)
            }
        };
        var dg;
        dg = new(function() {
            function c() {
                this.value = "";
                $(document).keydown(function(b) {
                    return function(c) {
                        var e, g;
                        if (b.value && (c.ctrlKey || c.metaKey) && !$(c.target).is("input:visible,textarea:visible") && !("function" ===
                            typeof window.getSelection && null != (e = window.getSelection()) && e.toString()))
                            if (!(null != (g = document.selection) && g.createRange().text)) return _.defer(function() {
                                var c;
                                c = $("#clipboard-container");
                                c.empty().show();
                                return $("<textarea id='clipboard'></textarea>").val(b.value).appendTo(c).focus().select()
                            })
                    }
                }(this));
                $(document).keyup(function(b) {
                    if ($(b.target).is("#clipboard")) return $("#clipboard-container").empty().hide()
                })
            }
            c.prototype.set = function(b) {
                this.value = b
            };
            return c
        }());
        window.TRMixpanel = new(function() {
            function c() {
                this.signUpCookieName =
                    "just_signed_up";
                this.loginCookieName = "just_logged_in";
                this.referralTypeCookieName = "referral_type";
                this.referralSourceCookieName = "referral_source";
                this.publicBoardPathCookieName = "public_board_path"
            }
            c.prototype.setCookie = function(b, c) {
                return $.cookie(b, c, {
                    expires: 1,
                    path: "/"
                })
            };
            c.prototype.setReferralCookie = function() {
                var b, c, e, g, f, h, k;
                if (!$.cookie(this.referralTypeCookieName)) return h = function() {
                        return 0 <= window.location.pathname.indexOf("/b/")
                    }, k = function() {
                        return 0 <= window.location.pathname.indexOf("/recommend")
                    },
                    b = function() {
                        return 0 < $("#board").length
                    }, g = function() {
                        var b, c;
                        return null != (b = document.referrer) ? null != (c = b.match(/:\/\/(.[^/]+)/)) ? c[1] : void 0 : void 0
                    }, c = function() {
                        return 0 < ("undefined" !== typeof l && null !== l ? "function" === typeof l.invitationTokens ? l.invitationTokens().length : void 0 : void 0)
                    }, e = function() {
                        return window.location.pathname
                    }, f = function(f) {
                        return function() {
                            var l, n;
                            c() ? n = h() ? "board invitation" : "org invitation" : (l = g(), k() ? n = "recommend" : b() ? (n = "public board", TRMixpanel.setCookie(f.publicBoardPathCookieName,
                                e())) : n = "direct");
                            TRMixpanel.setCookie(f.referralTypeCookieName, n);
                            l && TRMixpanel.setCookie(f.referralSourceCookieName, l)
                        }
                    }(this), setTimeout(f, 3E3)
            };
            c.prototype.justSignedUp = function() {
                return TRMixpanel.setCookie(this.signUpCookieName, !0)
            };
            c.prototype.justLoggedIn = function() {
                return TRMixpanel.setCookie(this.loginCookieName, !0)
            };
            c.prototype.trackEmailCampaign = function(b, c, e) {
                return mixpanel.track("email campaign", {
                    "email name": b,
                    "email action": c,
                    "email template slug": e
                })
            };
            c.prototype.trackLoginOrSignUp =
                function() {
                    if (y.isLoggedIn()) {
                        if ($.cookie(this.signUpCookieName)) return TRMixpanel.trackSignup(), $.cookie(this.signUpCookieName, null);
                        if ($.cookie(this.loginCookieName)) return TRMixpanel.trackLogin(), $.cookie(this.loginCookieName, null)
                    }
                };
            c.prototype.trackSignup = function() {
                var b;
                mixpanel.alias(y.myId());
                b = {};
                $.cookie(this.referralTypeCookieName) && (b["signup type"] = $.cookie(this.referralTypeCookieName), $.cookie(this.referralTypeCookieName, null));
                $.cookie(this.referralSourceCookieName) && (b["signup referrer"] =
                    $.cookie(this.referralSourceCookieName), $.cookie(this.referralSourceCookieName, null));
                $.cookie(this.publicBoardPathCookieName) && (b["public board path"] = $.cookie(this.publicBoardPathCookieName), $.cookie(this.publicBoardPathCookieName, null));
                return mixpanel.track("signup", b)
            };
            c.prototype.trackLogin = function() {
                return mixpanel.identify(y.myId())
            };
            c.prototype.trackInvitation = function(b) {
                null == b && (b = "board");
                mixpanel.track("invitation sent", {
                    invitation_type: b
                });
                return mixpanel.people.increment("invitations sent")
            };
            c.prototype.trackPageView = function(b, c) {
                return mixpanel.track("page viewed", {
                    "page name": b,
                    url: c
                })
            };
            c.prototype.trackPurchase = function(b, c) {
                return mixpanel.track("purchase", {
                    "product name": b,
                    "product id": c
                })
            };
            c.prototype.trackVideoWatched = function(b, c, e) {
                return mixpanel.track("video watched", {
                    "video id": b,
                    "video name": c,
                    "video embed location": e
                })
            };
            return c
        }());
        var we, Mc, ui, vi, wi, xi, Uc, D = [].slice,
            H = {}.hasOwnProperty,
            n = function(c, b) {
                function d() {
                    this.constructor = c
                }
                for (var e in b) H.call(b, e) && (c[e] =
                    b[e]);
                d.prototype = b.prototype;
                c.prototype = new d;
                c.__super__ = b.prototype;
                return c
            };
        Mc = new(function() {
            function c() {}
            c.prototype._findAd = function() {
                var b, c, e;
                b = arguments[0];
                e = arguments[1];
                c = 3 <= arguments.length ? D.call(arguments, 2) : [];
                return _.find(b, function(b) {
                    return !e.isDismissed(b.adId) && b.isEligible.apply(b, [e].concat(D.call(c)))
                })
            };
            c.prototype.adForMember = function(b) {
                return this._findAd.apply(this, [
                    [ui]
                ].concat(D.call(arguments)))
            };
            c.prototype.addMemberToOrganizationAd = function(b, c) {
                return this._findAd.apply(this, [
                    [vi]
                ].concat(D.call(arguments)))
            };
            c.prototype.addMemberToBoardAd = function(b, c) {
                return this._findAd.apply(this, [
                    [xi]
                ].concat(D.call(arguments)))
            };
            c.prototype.boardMenuAd = function(b, c) {
                return this._findAd.apply(this, [
                    [wi]
                ].concat(D.call(arguments)))
            };
            return c
        }());
        we = function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.prototype.events = function() {
                return {
                    click: this.click,
                    "click .js-close-ad": this.close
                }
            };
            b.isEligible = function(b) {
                return !1
            };
            b.prototype.getAdId = function() {
                return this.constructor.adId
            };
            b.prototype.click = function() {
                return t("Ad", this.getAdId(), "Click")
            };
            b.prototype.close = function(b) {
                l.stop(b);
                if (null != (b = this.getAdId())) t("Ad", this.getAdId(), "Dismiss"), y.me().dismiss(b);
                return this.$el.slideUp(100)
            };
            return b
        }(A);
        ui = function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.adId = "BoardsListBC";
            b.isEligible = function(b) {
                var c, g;
                g = function(b, c) {
                    return l.idToDate(b.id) < l.dateBefore(c)
                };
                if (g(b, {
                    months: 1
                })) return c = b.organizationList, b = c.any(function(b) {
                        return b.isPremium()
                    }),
                    c = c.any(function(b) {
                        return ua.inTest("BC_boards_list_ad", b.id) && g(b, {
                            weeks: 1
                        })
                    }), !b && c
            };
            b.prototype.className = "member-boards-list-ad business-class-ad";
            b.prototype.copyHtml = function() {
                return v.fill("ad_business_class")
            };
            b.prototype.iconClass = function() {
                return "business-class-mark"
            };
            b.prototype.click = function() {
                b.__super__.click.apply(this, arguments);
                return B.navigate("/business-class", {
                    trigger: !0
                })
            };
            return b
        }(function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.prototype.className =
                "member-boards-list-ad";
            b.prototype.render = function() {
                this.$el.html(v.fill("member_boards_list_ad", {
                    copyHtml: this.copyHtml(),
                    iconClass: this.iconClass()
                }));
                return this
            };
            b.prototype.copy = function() {
                return ""
            };
            return b
        }(we));
        Uc = function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.prototype.className = "pop-over-ad business-class-ad";
            b.prototype.iconClass = function() {
                return "business-class-mark"
            };
            b.prototype.click = function() {
                b.__super__.click.apply(this, arguments);
                return B.navigate("/business-class", {
                    trigger: !0
                })
            };
            return b
        }(function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.prototype.className = "pop-over-list-ad";
            b.prototype.render = function() {
                this.$el.html(v.fill("pop_over_ad", {
                    copyHtml: this.copyHtml(),
                    iconClass: this.iconClass()
                }));
                return this
            };
            b.prototype.copyHtml = function() {
                return ""
            };
            return b
        }(we));
        vi = function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.adId = "AddOrganizationMemberBC";
            b.isEligible = function(b, c) {
                return null !=
                    c && ua.inTest("BC_google_apps_ad", c.id) && !c.isPremium()
            };
            b.prototype.copyHtml = function() {
                return v.fill("ad_business_class_google_apps")
            };
            return b
        }(Uc);
        xi = function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.adId = "AddBoardMemberBC";
            b.isEligible = function(b, c) {
                return null != c && ua.inTest("BC_observers_ad", c.id) && !c.isPremium()
            };
            b.prototype.copyHtml = function() {
                return v.fill("ad_business_class_observers")
            };
            return b
        }(Uc);
        wi = function(c) {
            function b() {
                return b.__super__.constructor.apply(this,
                    arguments)
            }
            n(b, c);
            b.adId = "BoardMenuBC";
            b.isEligible = function(b, c) {
                var g;
                g = null != c ? c.getOrganization() : void 0;
                return null != g && ua.inTest("BC_manage_boards_ad", g.id) && !g.isPremium() && !c.ownedByMember(b) && g.ownedByMember(b)
            };
            b.prototype.copyHtml = function() {
                var b;
                b = {
                    organization: this.model.getOrganization().toJSON()
                };
                return v.fill("ad_business_class_manage_any_board", b)
            };
            return b
        }(Uc);
        var Ib, H = {}.hasOwnProperty,
            n = function(c, b) {
                function d() {
                    this.constructor = c
                }
                for (var e in b) H.call(b, e) && (c[e] = b[e]);
                d.prototype =
                    b.prototype;
                c.prototype = new d;
                c.__super__ = b.prototype;
                return c
            };
        Ib = function(c) {
            function b() {
                return b.__super__.constructor.apply(this, arguments)
            }
            n(b, c);
            b.loadedAuth = function() {
                return gapi.load("auth", function() {
                    b.loaded = !0;
                    b.trigger("loaded");
                    return b.authorize(!0)
                })
            };
            b.authorize = function(c, e) {
                return b.validToken() ? "function" === typeof e ? e(null, b.oauthToken.access_token) : void 0 : gapi.auth.authorize({
                        client_id: window.googleDrive.clientId,
                        scope: "https://www.googleapis.com/auth/drive.readonly",
                        immediate: c
                    },
                    function(c) {
                        var d;
                        if (!c || c.error) return b.oauthToken = null, "function" === typeof e ? e(null != (d = null != c ? c.error : void 0) ? d : Error("Failed to request token")) : void 0;
                        b.oauthToken = c;
                        return "function" === typeof e ? e(null, b.oauthToken.access_token) : void 0
                    })
            };
            b.validToken = function() {
                var c;
                return (null != (c = b.oauthToken) ? c.access_token : void 0) && Date.now() / 1E3 < parseInt(b.oauthToken.expires_at)
            };
            return b
        }(Backbone.Events);
        $.getScript("https://apis.google.com/js/api.js", Ib.loadedAuth);
        if ("safari" === ($c = ha.browserStr)) $(document).on("keydown",
            function(c) {
                var b, d, e, g, f, h;
                9 !== c.which || (c.metaKey || c.shiftKey || c.ctrlKey) || (e = $(c.target), e.attr("tabindex") && (h = parseInt(e.attr("tabindex"), 10), e = e.closest("body,.js-tab-parent"), e = e.find("[tabindex]"), d = b = null, f = g = Infinity, e.each(function() {
                    var c;
                    c = parseInt($(this).attr("tabindex"), 10);
                    h < c && c < g && (g = c, b = $(this));
                    if (null == b && c < f) return f = c, d = $(this)
                }), null == b && (b = d), null != b && (l.stop(c), b.focus())))
            })
    }
})();